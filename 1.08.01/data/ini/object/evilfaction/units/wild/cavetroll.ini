;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Object GoblinCaveTroll
	BuildVariations =GoblinCaveTroll1 GoblinCaveTroll2 GoblinCaveTroll3 GoblinCaveTroll4	
	ButtonImage	= WOR_AttackTroll
	SelectPortrait	= UPMordor_AttackTroll

	DescriptionStrategic = 	DescriptionStrategic = CONTROLBAR:LW_ToolTip_GoblinCaveTroll
	
		Draw = W3DScriptedModelDraw ModuleTag_011
  	  	WadingParticleSys = EntRipples
	
		OkToChangeModelColor		= Yes
		ShowShadowWhileContained	= Yes
		StaticModelLODMode			= yes							;// Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone				= TRUNK01

		;DefaultModelConditionState
			;Model = MuCavTroll_SKN
			;WeaponLaunchBone = PRIMARY Firepoint
		;End
  End
	Side = Wild
	EditorSorting = UNIT

	KindOf	= PRELOAD HEAVY_MELEE_HITTER SELECTABLE CAN_CAST_REFLECTIONS TROLL_BUFF_NUGGET MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY SCARY CAN_ATTACK_WALLS ARMY_SUMMARY
	  BuildCost		= MORDOR_TROLL_BUILDCOST
    BuildTime		= CAVEWILD_TROLL_BUILDTIME
	
End


;//------------------------------------------------------------------------------
;//
Object GoblinCaveTroll1

	#include "includes\cavetrollanimations.inc"
	#include "includes\everythingbutanimations.inc"
End

Object GoblinCaveTroll2
	#include "includes\cavetroll2animations.inc"
	#include "includes\everythingbutanimations.inc"
End

Object GoblinCaveTroll3
	#include "includes\cavetroll3animations.inc"
	#include "includes\everythingbutanimations.inc"
End

Object GoblinCaveTroll4
	#include "includes\cavetroll4animations.inc"
	#include "includes\everythingbutanimations.inc"
End


;-----------------------------------------------------------------------------------------------------------------------
;
;	GoblinCaveTroll_FromTrollLair the troll that gets built from a defected troll lair.
;
;-----------------------------------------------------------------------------------------------------------------------
ChildObject GoblinCaveTroll_FromTrollLair GoblinCaveTroll

	;// They're free!
	BuildCost		= MORDOR_TROLL_BUILDCOST
	BuildTime		= MORDOR_TROLL_BUILDTIME
	
End


;------------------------------------------------------------------------------
;
;	These child objects are used in the cave troll lair.
;
ChildObject CaveTroll_Slaved GoblinCaveTroll

  	EvaEnemyObjectSightedEvent = CaveTrollCreepSighted ; Special event for cave trolls showing up. Helps distinguish the real enemies from random creeps
  	EvaEnemyObjectSightedAfterRespawnEvent = CaveTrollCreepSighted ; Event to run after the Cave Troll Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units

	; Should be the same as GoblinCaveTroll except with CREEP.
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS TROLL_BUFF_NUGGET MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS CREEP SCORE ; ; SCARY
	BuildCost		= 300 ; ;
	
	ArmorSet
		Conditions      = None
		Armor           = TrollArmorSlaved
		DamageFX        = NormalDamageFX
	End
    ; ;
	Body = DelayedDeathBody ModuleTag_02
		MaxHealth				= 3000 ; ; CAVE_TROLL_HEALTH  ;BALANCE CaveTroll Health
		MaxHealthDamaged		= 250
		MaxHealthReallyDamaged	= 100
		;;RecoveryTime			= 5000
		DoHealthCheck			= No			;// Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime		= 5000
		CanRespawn				= No			;// Unit can't get revived.
	End

	VisionRange = CREEP_VISION
	DisplayName = OBJECT:GenericCaveTroll
	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 250
		GuardWanderRange	= 80
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
	End
	; ; Need Anim Fix to work
	; ;LocomotorSet
	; ;	Locomotor = CaveTrollLocomotor
	; ;	Condition = SET_NORMAL 
	; ;	Speed     = 33
	; ;End

	// Different AIUpdateInterface so it can have different AILuaEventsList
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		AILuaEventsList				= CreepTrollFunctions		// special version of TrollFunctions that does not start with a rock
		RampageTime					= 4470
		AttackPriority				= AttackPriority_Cavalry
	End

End

ChildObject CaveTroll_Huge MordorMountainTroll

	Scale 1.75

End














