; FILE: CivilianUnit.ini //////////////////////////////////////////////////////
; This file contains only units that are not part of any specific
; game faction.  An example is an object with "behavior" that isn't
; specifically tied to any player/faction such as a random civilian
;//////////////////////////////////////////////////////////////////////////////
;#define NATUREUNITSCIV_KINDOF PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER ;NO_COLLIDE 
;------------------------------------------------------------------------------
; aka Townsman, GondorTownsman, WorkerGondor
Object GondorTownsmanA
CanPathThroughGates	= No
	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_01

		RandomTexture = GuTownsman.tga 0 GuTownsman.tga
		RandomTexture = GuTownsman_A.tga 0 GuTownsman.tga
		RandomTexture = GuTownsman_B.tga 0 GuTownsman.tga
		RandomTexture = GUTownsman_C.tga 0 GuTownsman.tga
		RandomTexture = GUTownsman_D.tga 0 GuTownsman.tga
		RandomTexture = GUTownsman_E.tga 0 GuTownsman.tga
		RandomTexture = GUTownsman_F.tga 0 GuTownsman.tga
		RandomTexture = GUTownsman_G.tga 0 GuTownsman.tga

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model               = GUTownsmn_SKN
			Skeleton            = GUTownsmn_SKL
		End

		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUTownsmn_IDLA
				AnimationMode     = ONCE
			End
		End
	
		AnimationState        = DYING DEATH_1 AFLAME
			Animation           = MFDA
				AnimationName     = GUTownsmn_MFDA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = DYING DEATH_1
			Animation           = DIEA
				AnimationName     = GUTownsmn_DIEA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = DYING DEATH_2
			Animation           = DIEB
				AnimationName     = GUTownsmn_DIEB
				AnimationMode     = ONCE
			End
		End

		AnimationState        = DYING SPLATTED
			Animation           = LNDA
				AnimationName     = GUTownsmn_LNDA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = STUNNED_FLAILING
			Animation           = FLYA
				AnimationName     = GUTownsmn_FLYA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUTownsmn_LNDA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = PASSENGER
			Animation           = FLLA
				AnimationName     = GUTownsmn_FLLA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUTownsmn_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState		= MOVING PANICKING
			Animation			= RUNA
				AnimationName	= GUTownsmn_RUNA
				AnimationMode	= ONCE
			End
			Animation			= RUNB
				AnimationName	= GUTownsmn_RUNB
				AnimationMode	= ONCE
			End
			Flags =			RESTART_ANIM_WHEN_COMPLETE
		End
		
		
		AnimationState		= MOVING EMOTION_AFRAID
			Animation			= RUNA
				AnimationName	= GUTownsmn_RUNA
				AnimationMode	= LOOP
			End
		End
		
		AnimationState        = MOVING WANDER
			Animation           = WLKA
				AnimationName     = GUTownsmn_WLKA
				AnimationMode     = LOOP
			End
;			ParticleSysBone     = None InfantryDustTrails
		End

		AnimationState        = MOVING DAMAGED
			Animation           = IWKA
				AnimationName     = GUTownsmn_IWKA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
;			ParticleSysBone     = None InfantryDustTrails
		End

		AnimationState				= MOVING
			Animation				= WLKA
				AnimationName		= GUTownsmn_WLKA
				AnimationMode		= LOOP
			End
			Flags               = RANDOMSTART
;			ParticleSysBone     = None InfantryDustTrails
		End


		AnimationState        = USER_1
			Animation           = TALK1
				AnimationName     = GUTownsmn_TLKA
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = USER_2
			Animation           = TALK2
				AnimationName     = GUTownsmn_TLKB
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = USER_3
			Animation           = TALK3
				AnimationName     = GUTownsmn_TLKC
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = USER_4
			Animation           = REACT
				AnimationName     = GUTownsmn_RCTA
				AnimationMode     = LOOP
			End
		End		
	End
	

	; ***DESIGN parameters ***
	Side = Men
	IsTrainable		= No
	EditorSorting = UNIT
	ThingClass = HORDE_UNIT

	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = HBloodDamageFX
	End
	VisionRange = 0
	DisplayName = OBJECT:GondorTownsman
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
         BountyValue = 5 ; ; 25

	; *** AUDIO Parameters ***;

       ; Tie into LargeGroupAudio system
      Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	   Key = Civilian_Male 
      End


	; *** ENGINEERING Parameters ***

	RadarPriority = NOT_ON_RADAR
        KindOf = PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER ;NO_COLLIDE  ; ; NATUREUNITS_KINDOFCIV ; ;  PRELOAD   CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT  CAN_BE_REPULSED NO_BASE_CAPTURE  IGNORE_FOR_VICTORY IGNORED_IN_GUI NOT_AUTOACQUIRABLE  ; ; INERT
	; ; IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT ; ; INERT_SHROUD_REVEALER
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Townsman Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		RepairHealthPercentPerSecond  = 2%    ; % of max health to repair each second
		BoredTime                     = 5000  ; in milliseconds
		BoredRange                    = 120   ; when bored, we look this far away to do something 
		SpecialContactPoints		   = Repair
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	350		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000		; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
 		AfraidOf			=	NONE +MordorBalrog +MordorFellBeast +MordorWitchKingOnFellBeast  +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorMumakil +MordorFellBeast +MordorWitchKingOnFellBeast;Must be SCARY kindof as well.
 		PointAt				=	NONE 
		FearScanDistance		=	150

		AddEmotion			=	Terror_Civilian
	End	

       Behavior = AnimalAIUpdate ModuleTagWanderAround
		FleeRange = 100			; how close enemies have to be before we panic
		FleeDistance = 2000      ; how far the animal will run once spooked
		WanderPercentage = 50 ; ; 5	;percentage of the time we should move
		MaxWanderDistance = 50  ;maximum distance to move at once
		MaxWanderRadius = 300 ; ; 2000  ; how far to wander on our own
		UpdateTimer = 10000		; temp disable		10     ; how often do we want to check for enemies
	End

	LocomotorSet
		Locomotor = HumanLocomotorNoBackwards
		Condition = SET_NORMAL
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotorNoBackwards
		Condition = SET_WANDER 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -CRUSHED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		DeathFlags = DEATH_1
		Sound = INITIAL CivilianManVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05b
		DeathTypes = NONE +CRUSHED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		DeathFlags = DEATH_2
		Sound = INITIAL CivilianManVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End


        Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
		MaxQueueEntries = 1 ; only allow one queued upgrade at a time
	End 

;-- CULL 
;          Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Gate
;	  	ReplaceWith =  TheodenRohanArcher  
;	  	TriggeredBy = TheodenArcher_Upgrade		
;	  End
;          
;          Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Archer
;	  	ReplaceWith =  TheodenRohanArcher  
;	  	TriggeredBy = Upgrade_Drafted 		
;	   End
;-------------

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 25
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 41 ; this far
		BounceFirstHeight = 17  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 17
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
;	Shadow = SHADOW_VOLUME ; for demo purposes
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Townswoman, GondorTownswoman, WorkerGondor
Object GondorTownsWomanA
CanPathThroughGates	= No	
	; ***ART Parameters ***
	
	Draw = W3DScriptedModelDraw ModuleTag_01  
	
		RandomTexture = GUTownWmn.tga 0 GUTownWmn.tga
		RandomTexture = GUTownWmn_A.tga 0 GUTownWmn.tga
		RandomTexture = GUTownWmn_B.tga 0 GUTownWmn.tga
		RandomTexture = GUTownWmn_C.tga 0 GUTownWmn.tga
		RandomTexture = GUTownWmn_D.tga 0 GUTownWmn.tga
		RandomTexture = GUTownWmn_E.tga 0 GUTownWmn.tga
		RandomTexture = GUTownWmn_F.tga 0 GUTownWmn.tga

		DefaultModelConditionState
			Model               = GUTownWmn_SKN
			Skeleton            = GUTownWmn_SKL
		End
		
		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUTownWmn_IDLA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = ATTACKING PREATTACK_A
			Animation           = ATKA
				AnimationName     = GUTownWmn_ATKA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = GUTownWmn_DIEA
				AnimationMode     = ONCE
			End
			Animation           = DIEB
				AnimationName     = GUTownWmn_DIEB
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUTownWmn_FLYA
				AnimationMode     = LOOP
			End
		End
		

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUTownWmn_LNDA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState				= MOVING WANDER
			Animation				= WLKA
				AnimationName		= GUTownWmn_WLKA
				AnimationMode		= LOOP
			End
;			ParticleSysBone     = None InfantryDustTrails
		End
		
		
		AnimationState				= MOVING PANICKING
			Animation				= RUNA
				AnimationName		= GUTownWmn_RUNB
				AnimationMode		= LOOP
			End
			Flags					= RANDOMSTART
		End
		
		AnimationState				= MOVING EMOTION_AFRAID
			Animation				= RUNA
				AnimationName		= GUTownWmn_RUNB
				AnimationMode		= LOOP
			End
			Flags					= RANDOMSTART
		End
		
		AnimationState				= MOVING
			Animation				= WLKA
				AnimationName		= GUTownWmn_WLKA
				AnimationMode		= LOOP
			End
			Flags					= RANDOMSTART
;			ParticleSysBone			= None InfantryDustTrails
		End
		
		AnimationState        = USER_1
			Animation           = TALK1
				AnimationName     = GUTownWmn_TLKA
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = USER_2
			Animation           = TALK2
				AnimationName     = GUTownWmn_TLKB
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = USER_3
			Animation           = TALK3
				AnimationName     = GUTownWmn_TLKC
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = USER_4
			Animation           = REACT
				AnimationName     = GUTownWmn_RCTA
				AnimationMode     = LOOP
			End
		End
	End
	
	; ***DESIGN parameters ***
	Side = Men
	EditorSorting = UNIT
	ThingClass = HORDE_UNIT			;???

	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = HBloodDamageFX
	End
	VisionRange = 0
	DisplayName = OBJECT:GondorPeasant
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
          BountyValue = 5 ; ; 25

	; *** AUDIO Parameters ***;

       ; Tie into LargeGroupAudio system
      Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	   Key = Civilian_Female
      End

	
	; *** ENGINEERING Parameters ***

	RadarPriority = NOT_ON_RADAR
        KindOf = PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER ;NO_COLLIDE  ; ; NATUREUNITS_KINDOFCIV ; ; PRELOAD   CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_BE_REPULSED  IGNORE_FOR_VICTORY NO_BASE_CAPTURE NOT_AUTOACQUIRABLE  ; ; IGNORED_IN_GUI INERT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Peasant Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		RepairHealthPercentPerSecond  = 2%    ; % of max health to repair each second
		BoredTime                     = 5000  ; in milliseconds
		BoredRange                    = 120   ; when bored, we look this far away to do something 
		SpecialContactPoints		   = Repair
	End


       Behavior = AnimalAIUpdate ModuleTagWanderAround
		FleeRange = 100			; how close enemies have to be before we panic
		FleeDistance = 2000      ; how far the animal will run once spooked
		WanderPercentage = 50 ; ; 5	;percentage of the time we should move
		MaxWanderDistance = 50 ; ; 50  ;maximum distance to move at once
		MaxWanderRadius = 300 ; ; 2000  ; how far to wander on our own
		UpdateTimer = 10000		; temp disable		10     ; how often do we want to check for enemies
	End

        LocomotorSet
		Locomotor = GondorCivilianLocomotor
		Condition = SET_NORMAL 
		Speed     = 17
	End
        LocomotorSet
		Locomotor = GondorCivilianLocomotor
		Condition = SET_PANIC
		Speed     = 49
	End
	LocomotorSet
		Locomotor = GondorCivilianWanderLocomotor
		Condition = SET_WANDER
		Speed     = 17
	End 

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
        Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
		MaxQueueEntries = 1 ; only allow one queued upgrade at a time
	End 


  
;-- CULL 
;          Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Gate
;	  	ReplaceWith =  TheodenRohanArcher  
;	  	TriggeredBy = TheodenArcher_Upgrade		
;	  End
;          
;          Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Archer
;	  	ReplaceWith =  TheodenRohanArcher  
;	  	TriggeredBy = Upgrade_Drafted 		
;	   End
;-------------


	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -EXPLODED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL CivilianWomanVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_FF
		DeathTypes = NONE +EXPLODED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL CivilianWomanVoiceDie
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	350		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000		; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
 		AfraidOf			=	NONE +MordorBalrog +MordorFellBeast +MordorWitchKingOnFellBeast  +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorMumakil +MordorFellBeast +MordorWitchKingOnFellBeast;Must be SCARY kindof as well.
 		PointAt				=	NONE 
		FearScanDistance		=	200

		AddEmotion			=	Terror_Civilian
	End	
	

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;

End

;------------------------------------------------------------------------------
; aka
Object GondorTownsPairA
CanPathThroughGates	= No
	; ***ART Parameters ***
	
	Draw = W3DScriptedModelDraw ModuleTag_01  
	
		RandomTexture = GUTownWmn_B.tga 0 GUTownWmn_B.tga
		RandomTexture = GUTownWmn.tga	0 GUTownWmn_B.tga
		RandomTexture = GUTownWmn_A.tga 0 GUTownWmn_B.tga
		RandomTexture = GUTownWmn_C.tga 0 GUTownWmn_B.tga
		RandomTexture = GUTownWmn_D.tga 0 GUTownWmn_B.tga
		RandomTexture = GUTownWmn_E.tga 0 GUTownWmn_B.tga
		RandomTexture = GUTownWmn_F.tga 0 GUTownWmn_B.tga
		
		DefaultModelConditionState
			Model               = GUTownPair_SKN
			Skeleton            = GUTownPair_SKL
		End
		
		IdleAnimationState
			StateName			= STATE_IDLA
			Animation           = IDLA
				AnimationName     = GUTownPair_IDLA
				AnimationMode     = ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				if PrevState == "STATE_RUNNING"
				then
					CurDrawableSetTransitionAnimState("TRANS_Putdown")
				end
			EndScript
		End
			
		AnimationState				= DYING
			Animation				= DIEA
				AnimationName		= GUTownPair_DIEA
				AnimationMode		= ONCE
			End
			Animation				= DIEB
				AnimationName		= GUTownPair_DIEB
				AnimationMode		= ONCE
			End
			BeginScript
				PrevState = CurDrawableTransitionAnimState()
				if PrevState == "STATE_Running" or PrevState == "TRANS_Pickup"
				then
					return "DIEB"
				else
					return "DIEA"
				end
			EndScript
		End
		
		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUTownPair_FLYA
				AnimationMode     = LOOP
			End
		End
		

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUTownPair_LNDA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState				= MOVING PANICKING
			StateName				= STATE_Running
			Animation				= RUNA
				AnimationName		= GUTownPair_RUNA
				AnimationMode		= LOOP
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				if PrevState == "STATE_IDLA" or PrevState == "STATE_WALKING"
				then
					CurDrawableSetTransitionAnimState("TRANS_Pickup")
				end				
			EndScript
		End
		
		AnimationState				= MOVING EMOTION_AFRAID
			StateName				= STATE_Running
			Animation				= RUNA
				AnimationName		= GUTownPair_RUNA
				AnimationMode		= LOOP
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				if PrevState == "STATE_IDLA"  or PrevState == "STATE_WALKING"
				then
					CurDrawableSetTransitionAnimState("TRANS_Pickup")
				end	
			EndScript
		End
		
		AnimationState				= MOVING
			StateName				= STATE_WALKING
			Animation				= WLKA
				AnimationName		= GUTownPair_WLKA
				AnimationMode		= LOOP
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				if PrevState == "STATE_RUNNING"
				then
					CurDrawableSetTransitionAnimState("TRANS_Putdown")
				end
			EndScript
		End
		
		TransitionState				= TRANS_Pickup
			Animation				= PKPA
				AnimationName		= GUTownPair_PKPA
				AnimationMode		= ONCE
			End
		End
		
		TransitionState				= TRANS_Putdown
			Animation				= STPA
				AnimationName		= GUTownPair_STPA
				AnimationMode		= ONCE
			End
		End
		
	End
	
	; ***DESIGN parameters ***
	Side = Men
	EditorSorting = UNIT
	ThingClass = HORDE_UNIT			;???

	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = HBloodDamageFX
	End
	VisionRange = 0
	DisplayName = OBJECT:GondorPeasant
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
        BountyValue = 5 ; ; 50
	
	; *** AUDIO Parameters ***;

       ; Tie into LargeGroupAudio system
      Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	   Key = Civilian_Female
      End

	
	; *** ENGINEERING Parameters ***

	RadarPriority = NOT_ON_RADAR
        KindOf = PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER ;NO_COLLIDE  ; ; NATUREUNITS_KINDOFCIV ; ; PRELOAD   CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_BE_REPULSED IGNORE_FOR_VICTORY NO_BASE_CAPTURE NOT_AUTOACQUIRABLE   ; ; IGNORED_IN_GUI INERT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Peasant Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
	End

	LocomotorSet
		Locomotor = GondorCivilianLocomotor
		Condition = SET_NORMAL 
		Speed     = 17
	End
    
	LocomotorSet
		Locomotor = GondorCivilianLocomotor
		Condition = SET_PANIC
		Speed     = 49
	End
	LocomotorSet
		Locomotor = GondorCivilianWanderLocomotor
		Condition = SET_WANDER
		Speed     = 17
	End 

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -EXPLODED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL CivilianWomanVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_FF
		DeathTypes = NONE +EXPLODED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL CivilianWomanVoiceDie
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	350		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000		; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
 		AfraidOf			=	NONE +MordorBalrog +MordorFellBeast +MordorWitchKingOnFellBeast  +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorMumakil +MordorFellBeast +MordorWitchKingOnFellBeast;Must be SCARY kindof as well.
 		PointAt				=	NONE 
		FearScanDistance		=	250

		AddEmotion			=	Terror_Civilian
	End	
	

        Behavior = AnimalAIUpdate ModuleTagWanderAround
		FleeRange = 100			; how close enemies have to be before we panic
		FleeDistance = 2000      ; how far the animal will run once spooked
		WanderPercentage = 25 ; ; 5	;percentage of the time we should move
		MaxWanderDistance = 50 ; ; 50  ;maximum distance to move at once
		MaxWanderRadius = 300 ; ; 2000  ; how far to wander on our own
		UpdateTimer = 10000		; temp disable		10     ; how often do we want to check for enemies
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;

End
 

;------------------------------------------------------------------------------
; GrazingHorse
Object HorseGrazingA 
CanPathThroughGates	= No         
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01

	RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga
  
    DefaultModelConditionState
		Model               = NUHorse_SKN
    End
   	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName       = NUHorse_SKL.NUHorse_GRZA
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		Animation = IdleB
			AnimationName       = NUHorse_SKL.NUHorse_GRZB
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
		EndScript
    End
 
; REMOVED - Ugly    
;	AnimationState			=	MOVING TURN_LEFT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNL
;			AnimationMode   =	LOOP		
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

;	AnimationState			=	MOVING TURN_RIGHT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNR
;			AnimationMode   =	LOOP	
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes		
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End	

; REMOVED - Not Used	
;	AnimationState			=	MOVING WANDER
;		StateName			=	STATE_moving
;		Animation			=	Moving
;			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
;			AnimationBlendTime	=	20
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

	AnimationState				= MOVING PANICKING
		Animation				= RUNA
			AnimationName		= NUHorse_SKL.NUHorse_RUNA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
	End    
		
	AnimationState			=	MOVING
		StateName			=	STATE_moving
		Animation			=	Moving
			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
			AnimationBlendTime	=	10
			AnimationMustCompleteBlend = yes
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
		EndScript
	End	
	
	TransitionState					=	TRANS_MovingToIdle
		Animation					=   DWNA
			AnimationName			=	NUHorse_SKL.NUHorse_DWNA
			AnimationMode			=	ONCE
		End
	End	
	
	TransitionState					=	TRANS_IdletoMoving
		Animation					=   UPA
			AnimationName			=	NUHorse_SKL.NUHorse_UPA
			AnimationMode			=	ONCE
		End
	End
	
	AnimationState        = DYING
		Animation           = DIEA
  			AnimationName     = NUHorse_SKL.NUHorse_DIEA
			AnimationMode     = ONCE
		End
	End	
 End
  
; ***DESIGN parameters ***
	Side = Men
	IsTrainable		= No
	EditorSorting = UNIT
	ThingClass = HORDE_UNIT


  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 0 ; ; 121
  DisplayName = OBJECT:Prop
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 

  ; *** AUDIO Parameters ***;

	SoundAmbient		= HorseWhinnyIdleSinglesLoop

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: HorseMoveFootstepsLoose		Animation: NUHorse_SKL.NUHorse_RUNA		Frames: 0
		AnimationSound = Sound: HorseWhinny				Animation: NUHorse_SKL.NUHorse_DIEA		Frames: 0
		AnimationSound = Sound: BodyFallGenericNoArmor		Animation: NUHorse_SKL.NUHorse_DIEA		Frames: 46
	End
  

  ; *** ENGINEERING Parameters ***
  RadarPriority = NOT_ON_RADAR
  KindOf =  PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER ;NO_COLLIDE  ; ; NATUREUNITS_KINDOFCIV ; ; IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE ; ;  INERT ; ; INERT_SHROUD_REVEALER
 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0                  
  End
 
 	Behavior = AnimalAIUpdate ModuleTagWanderAround
		FleeRange = 200			; how close enemies have to be before we panic
		FleeDistance = 800      ; how far the animal will run once spooked
		WanderPercentage = 5	;percentage of the time we should move
		MaxWanderDistance = 100  ;maximum distance to move at once
		MaxWanderRadius = 200  ; how far to wander on our own
		UpdateTimer = 10000		; temp disable		11     ; how often do we want to check for enemies
		;AfraidOfCastles = Yes ; are we afraid of entering castles/camps
	End

  LocomotorSet
	Locomotor = HorseWalkLocomotor
	Condition = SET_NORMAL 
	Speed     = 11
  End

  LocomotorSet
	Locomotor = HorseFleeLocomotor
	Condition = SET_PANIC 
	Speed     = 70
  End
      
;  LocomotorSet
;		Locomotor = HumanWanderLocomotor
;		Condition = SET_WANDER
;		Speed	  = 12
;  End

  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.70     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 55
  ShadowSizeY = 18
  ShadowTexture = ShadowI

End

;------------------------------------------------------------------------------
ObjectReskin HorseGrazing1A HorseGrazingA
CanPathThroughGates	= No
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01

	RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga
  
    DefaultModelConditionState
		Model               = NuHorse1_SKN
    End
   	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName       = NUHorse_SKL.NUHorse_GRZA
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		Animation = IdleB
			AnimationName       = NUHorse_SKL.NUHorse_GRZB
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
		EndScript
    End

; REMOVED - Ugly      
;	AnimationState			=	MOVING TURN_LEFT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNL
;			AnimationMode   =	LOOP		
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

;	AnimationState			=	MOVING TURN_RIGHT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNR
;			AnimationMode   =	LOOP	
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes		
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End	

; REMOVED - Not Used	
;	AnimationState			=	MOVING WANDER
;		StateName			=	STATE_moving
;		Animation			=	Moving
;			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
;			AnimationBlendTime	=	20
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

	AnimationState				= MOVING PANICKING
		Animation				= RUNA
			AnimationName		= NUHorse_SKL.NUHorse_RUNA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
	End    
		
	AnimationState			=	MOVING
		StateName			=	STATE_moving
		Animation			=	Moving
			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
			AnimationBlendTime	=	10
			AnimationMustCompleteBlend = yes
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
		EndScript
	End
	
	TransitionState					=	TRANS_MovingToIdle
		Animation					=   DWNA
			AnimationName			=	NUHorse_SKL.NUHorse_DWNA
			AnimationMode			=	ONCE
		End
	End	
	
	TransitionState					=	TRANS_IdletoMoving
		Animation					=   UPA
			AnimationName			=	NUHorse_SKL.NUHorse_UPA
			AnimationMode			=	ONCE
		End
	End
	
	AnimationState        = DYING
		Animation           = DIEA
  			AnimationName     = NUHorse_SKL.NUHorse_DIEA
			AnimationMode     = ONCE
		End
	End	
 End
 
End

;------------------------------------------------------------------------------
ObjectReskin HorseGrazing2A HorseGrazingA
CanPathThroughGates	= No
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01

	RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga
  
    DefaultModelConditionState
		Model               = NuHorse2_SKN
    End
   	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName       = NUHorse_SKL.NUHorse_GRZA
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		Animation = IdleB
			AnimationName       = NUHorse_SKL.NUHorse_GRZB
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
		EndScript
    End

; REMOVED - Ugly     
;	AnimationState			=	MOVING TURN_LEFT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNL
;			AnimationMode   =	LOOP		
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

;	AnimationState			=	MOVING TURN_RIGHT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNR
;			AnimationMode   =	LOOP	
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes		
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End	

; REMOVED - Not Used	
;	AnimationState			=	MOVING WANDER
;		StateName			=	STATE_moving
;		Animation			=	Moving
;			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
;			AnimationBlendTime	=	20
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

	AnimationState				= MOVING PANICKING
		Animation				= RUNA
			AnimationName		= NUHorse_SKL.NUHorse_RUNA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
	End    
		
	AnimationState			=	MOVING
		StateName			=	STATE_moving
		Animation			=	Moving
			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
			AnimationBlendTime	=	10
			AnimationMustCompleteBlend = yes
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
		EndScript
	End	
	
	TransitionState					=	TRANS_MovingToIdle
		Animation					=   DWNA
			AnimationName			=	NUHorse_SKL.NUHorse_DWNA
			AnimationMode			=	ONCE
		End
	End	
	
	TransitionState					=	TRANS_IdletoMoving
		Animation					=   UPA
			AnimationName			=	NUHorse_SKL.NUHorse_UPA
			AnimationMode			=	ONCE
		End
	End
	
	AnimationState        = DYING
		Animation           = DIEA
  			AnimationName     = NUHorse_SKL.NUHorse_DIEA
			AnimationMode     = ONCE
		End
	End	
 End
End


;------------------------------------------------------------------------------
ObjectReskin HorseGrazing3A HorseGrazingA
CanPathThroughGates	= No
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01

	;RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
	;RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
	;RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
	;RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
	;RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
	;RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga
  
    DefaultModelConditionState
		Model               = NuHorse3_SKN
    End
   	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName       = NUHorse_SKL.NUHorse_GRZA
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		Animation = IdleB
			AnimationName       = NUHorse_SKL.NUHorse_GRZB
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
		EndScript
    End

; REMOVED - Ugly      
;	AnimationState			=	MOVING TURN_LEFT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNL
;			AnimationMode   =	LOOP		
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

;	AnimationState			=	MOVING TURN_RIGHT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNR
;			AnimationMode   =	LOOP	
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes		
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End	

; REMOVED - Not Used	
;	AnimationState			=	MOVING WANDER
;		StateName			=	STATE_moving
;		Animation			=	Moving
;			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
;			AnimationBlendTime	=	20
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

	AnimationState				= MOVING PANICKING
		Animation				= RUNA
			AnimationName		= NUHorse_SKL.NUHorse_RUNA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
	End    
		
	AnimationState			=	MOVING
		StateName			=	STATE_moving
		Animation			=	Moving
			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
			AnimationBlendTime	=	10
			AnimationMustCompleteBlend = yes
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
		EndScript
	End
	
	TransitionState					=	TRANS_MovingToIdle
		Animation					=   DWNA
			AnimationName			=	NUHorse_SKL.NUHorse_DWNA
			AnimationMode			=	ONCE
		End
	End	
	
	TransitionState					=	TRANS_IdletoMoving
		Animation					=   UPA
			AnimationName			=	NUHorse_SKL.NUHorse_UPA
			AnimationMode			=	ONCE
		End
	End
	
	AnimationState        = DYING
		Animation           = DIEA
  			AnimationName     = NUHorse_SKL.NUHorse_DIEA
			AnimationMode     = ONCE
		End
	End	
 End
 
End

;------------------------------------------------------------------------------
ObjectReskin HorseGrazing4A HorseGrazingA
CanPathThroughGates	= No
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01

	RandomTexture = NUHorse01.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse02.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse03.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse04.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse05.tga 0 cuhorse_bnwta.tga
	RandomTexture = NUHorse06.tga 0 cuhorse_bnwta.tga
  
    DefaultModelConditionState
		Model               = NuHorse4_SKN
    End
   	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName       = NUHorse_SKL.NUHorse_GRZA
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		Animation = IdleB
			AnimationName       = NUHorse_SKL.NUHorse_GRZB
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
		EndScript
    End

; REMOVED - Ugly    
;	AnimationState			=	MOVING TURN_LEFT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNL
;			AnimationMode   =	LOOP		
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

;	AnimationState			=	MOVING TURN_RIGHT
;		StateName			=	STATE_moving
;		Animation
;			AnimationName	=	NUHorse_SKL.NUHorse_TRNR
;			AnimationMode   =	LOOP	
;			AnimationBlendTime	=	15	
;			AnimationMustCompleteBlend = yes		
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End	

; REMOVED - Not Used	
;	AnimationState			=	MOVING WANDER
;		StateName			=	STATE_moving
;		Animation			=	Moving
;			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
;			AnimationBlendTime	=	20
;			AnimationMustCompleteBlend = yes
;		End
;		BeginScript
;			Prev = CurDrawablePrevAnimationState()
;			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
;		EndScript
;	End

	AnimationState				= MOVING PANICKING
		Animation				= RUNA
			AnimationName		= NUHorse_SKL.NUHorse_RUNA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
	End    
		
	AnimationState			=	MOVING
		StateName			=	STATE_moving
		Animation			=	Moving
			AnimationName	=	NUHorse_SKL.NUHorse_WLKA
			AnimationBlendTime	=	10
			AnimationMustCompleteBlend = yes
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
		EndScript
	End	
	
	TransitionState					=	TRANS_MovingToIdle
		Animation					=   DWNA
			AnimationName			=	NUHorse_SKL.NUHorse_DWNA
			AnimationMode			=	ONCE
		End
	End	
	
	TransitionState					=	TRANS_IdletoMoving
		Animation					=   UPA
			AnimationName			=	NUHorse_SKL.NUHorse_UPA
			AnimationMode			=	ONCE
		End
	End
	
	AnimationState        = DYING
		Animation           = DIEA
  			AnimationName     = NUHorse_SKL.NUHorse_DIEA
			AnimationMode     = ONCE
		End
	End	
  End
End

Object Dog_PET
CanPathThroughGates	= No
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
		Model               = CUDog2_SKN
    End
    
   	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleB
			AnimationName       = CUDog2_SKL.CUDog2_IDLB ; sitting down bored idle
			AnimationPriority	= 10
			AnimationMode       = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_moving" then CurDrawableSetTransitionAnimState("TRANS_MovingToIdle") end
		EndScript
    End

	AnimationState				= MOVING WANDER
		Animation				= WLKA
			AnimationName		= CUDog2_SKL.CUDog2_WLKA
			AnimationMode		= LOOP
		End
	End

	AnimationState				= MOVING PANICKING
		Animation				= RUNA
			AnimationName		= CUDog2_SKL.CUDog2_RUNA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
	End    
	    	
	AnimationState			=	MOVING
		StateName			=	STATE_moving
		Animation			=	Moving
			AnimationName	=	CUDog2_SKL.CUDog2_WLKA
			AnimationBlendTime	=	2
			AnimationMustCompleteBlend = yes
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdletoMoving") end
		EndScript
	End
	
	TransitionState					=	TRANS_MovingToIdle
		Animation					=   SITA
			AnimationName			=	CUDog2_SKL.CUDog2_SITA
			AnimationMode			=	ONCE
		End
	End	
	
	TransitionState					=	TRANS_IdletoMoving
		Animation					=   ATNA
			AnimationName			=	CUDog2_SKL.CUDog2_ATNA
			AnimationMode			=	ONCE
		End
	End
	
;	AnimationState	= EMOTION_ALERT
;			Animation           = ALERT_1
;				AnimationName     = CUDog2_SKL.CUDog2_IDLA
;				AnimationMode     = ONCE
;			End
;			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
;	End	

	AnimationState          = DYING DEATH_1
		Animation
			AnimationName   = CUDog2_SKL.CUDog2_IDLB
			AnimationMode   = LOOP
		End
	End
	
	AnimationState        = DYING
		Animation           = CURabbit1_DIEA
  			AnimationName     = CUDog2_SKL.CUDog2_DIEA
			AnimationMode     = ONCE
		End
	End	
			
 End
 
  ; ***DESIGN parameters ***
  ;EditorSorting =     MISC_NATURAL
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 0
  DisplayName = OBJECT:Prop
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;
  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  VoiceFear = NoSound
  VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
  SoundStealthOn = NoSound
  SoundStealthOff = NoSound
  
  UnitSpecificSounds
    VoiceGarrison         = NoSound
    VoiceEnter            = NoSound
    VoiceEnterHostile     = NoSound
    VoiceGetHealed        = NoSound
  End

  ; *** ENGINEERING Parameters ***


   RadarPriority = NOT_ON_RADAR
  KindOf =   PRELOAD IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE INERT INERT_SHROUD_REVEALER ;NO_COLLIDE  ; ; NATUREUNITS_KINDOFCIV ; ; INFANTRY PATH_THROUGH_EACH_OTHER NOT_AUTOACQUIRABLE NO_BASE_CAPTURE   IGNORE_FOR_VICTORY  ; ; INERT_SHROUD_REVEALER IGNORED_IN_GUI INERT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0                  
  End

Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS STEALTHED
		StopChaseDistance				= 562
		MoodAttackCheckRate				= 500
		HoldGroundCloseRangeDistance	= 40
		CanAttackWhileContained			= Yes
		AILuaEventsList					=	RangerFunctions
		MinCowerTime					=	4000
		MaxCowerTime					=	6000
		AttackPriority					= 	AttackPriority_Archer
		BurningDeathTime				=	BURNINGDEATH_DURATION_INFANTRY
	End
              Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 100
		GuardWanderRange	= 100
		UseSlaverAsControlForEvaObjectSightedEvents = No
	End
                 
  
  LocomotorSet
	Locomotor = HorseWalkLocomotor
	Condition = SET_NORMAL 
	Speed     = 25
  End
  
  LocomotorSet
	Locomotor = HorseFleeLocomotor
	Condition = SET_PANIC 
	Speed     = 60
  End
    
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
	Behavior = SlowDeathBehavior ModuleTag_FadeoutDeath
		DeathTypes			= NONE +FADED
		DeathFlags			= DEATH_1
		FadeDelay			= 0
		FadeTime			= 3500
		DestructionDelay	= 4000
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.70     ; in Dist/Sec
		DestructionDelay = 8000
	End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL

End
