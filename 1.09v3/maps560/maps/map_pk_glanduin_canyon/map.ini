;/////////////////////////////////////////////////////////////////////////////
;///	     		Map Glanduin Canyon by Powerkartoffel     	               ///
;///////////////////////////////////////////////////////////////////////////// 

;-----------------------------------------------------------------

Weather
	HardwareFogColor = R:50 G:50 B:50
	HardwareFogEnable = Yes
	HardwareFogStart = 500
	HardwareFogEnd = 2000
	; CloudTextureSize = X:5000 Y:5000		; size in world units that one repetition of the cloud texture spans
    ; CloudOffsetPerSecond = X:-0 Y:-0	    ; offset in texture units that the cloud texture moves per second
End


AIData
	UseLowLODTrees 		= No ;;.;;
END

WaterTransparency
	ReflectionPlaneZ 	= 129.0;
	ReflectionOn 		= Yes
End

Weather

	HardwareFogColor 	= R:200 G:200 B:200
	HardwareFogEnable 	= No
	HardwareFogStart 	= 900
	HardwareFogEnd 		= 4000	

End

ChildObject DarkRockGrey17 DarkRockGrey17

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey01 DarkRockGrey01

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey06 DarkRockGrey06

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey04 DarkRockGrey04

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey02 DarkRockGrey02

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey14 DarkRockGrey14

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey13 DarkRockGrey13

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey03 DarkRockGrey03

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End

ChildObject DarkRockGrey09 DarkRockGrey09

  AddModule
	Behavior = GrantUpgradeCreate ModuleTag_GandalfWhite
		UpgradeToGrant = Upgrade_TrebuchetTurret ;Upgrade_GandalfWhite ; Upgrade given at start to easily give other initial stuff to the unit
	End 
  End

  AddModule
	Behavior = SubObjectsUpgrade Body_ReskinNightmare
		TriggeredBy			= Upgrade_TrebuchetTurret
		UpgradeTexture		= tclif_roh01.tga		0 bbmtn.tga
		RecolorHouse		= No
	End
  End
  
End


; ChildObject GondorBuildingGenericNew01 GondorBuildingGenericNew01

  ; Draw = W3DScriptedModelDraw ModuleTag_01
  ; OkToChangeModelColor = Yes
  
    ; DefaultModelConditionState
      ; Model = GBGenN01
    ; End
	
	; ModelConditionState   = REALLYDAMAGED 
		; Model               = GBGenNR04
	; End
	    
	; AnimationState = REALLYDAMAGED
		; EnteringStateFX	= FX_BuildingReallyDamaged
	; End
	
	; AnimationState = COLLAPSING
 		; EnteringStateFX	= FX_StructureMediumCollapse
		; BeginScript
			; CurDrawablePlaySound("BuildingSink")
		; EndScript
	; End	
	
	; ModelConditionState  = RUBBLE
		; Model              = GBGenRubble2_A
	; End	
	
	; ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		; Model               = GBGenN01
		; ParticleSysBone   = DUSTBONE BuildingContructDust
	; End
	; AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		; Animation           = GBGenN07
			; AnimationName     = GBGenN01
			; AnimationMode     = MANUAL
		; End
		; Flags				= START_FRAME_FIRST
		; StateName			= BeingConstructed
		; BeginScript
			; CurDrawablePlaySound("GondorBarracksBeginConstruction")
			; CurDrawableHideSubObjectPermanently("V1")
			; CurDrawableHideSubObjectPermanently("V2")
		; EndScript
	; End	
	
  ; End

	; EquivalentTo = Inn ;;.;; 
	; CommandSet          = GenericSelfRepairCommandSet
	; EditorSorting       = STRUCTURE
	; ThreatLevel = 1.0
	; BuildCost           = 500
	; BuildTime           = 45.0           ; in seconds
	; BountyValue         = 50 ;GONDOR_WORKSHOP_BOUNTY_VALUE
	; VisionRange         = 160.0          ; Shroud clearing distance
	; ShroudClearingRange = GONDOR_WORKSHOP_SHROUD_CLEAR
	; DisplayName         = OBJECT:InnTavern
	; Description 	      = OBJECT:InnTavernDescription
	; RadarPriority       = STRUCTURE
	; KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LINKED_TO_FLAG CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE NEVER_CULL_FOR_MP NOT_SELLABLE
	; KeepSelectableWhenDead = Yes
	; VoiceSelect		= CivilianInnSelect
	; SoundOnDamaged		= BuildingLightDamageStone
	; SoundOnReallyDamaged	= BuildingHeavyDamageStone
	; VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction
	; UnitSpecificSounds
		; UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	; End
	; CampnessValue = CAMPNESS_TECH_BUILDING
	; EvaOnFirstSightingEventEnemy = SawInn
	; EvaOnFirstSightingEventNonEnemy = SawInn
	; EvaEnemyObjectSightedEvent	= None   ; Don't do this, covered by "OnFirstSighting"
	; EvaEventDamagedOwner	= StructureUnderAttack 		; Eva event to trigger when building is damaged
	; EvaEnemyObjectSightedEvent	= EnemyCampSighted   ; Normal 'There's their camp' when any enemy building is seen
	; ArmorSet
		; Conditions        = None
		; Armor             = UnitProductionStructureArmor ;;-;; StructureArmor ; ;
	; End
	; GeometryIsSmall			= No
	; Shadow					= SHADOW_VOLUME
	; BuildCompletion			= PLACED_BY_PLAYER
	; GeometryContactPoint = X:-73	Y:9		Z:0			Repair
	; GeometryContactPoint = X:82		Y:9		Z:0			Repair
	; GeometryContactPoint = X:47.546		Y:36.435	Z:0
	; GeometryContactPoint = X:-32.763	Y:-46.121	Z:0
	; GeometryContactPoint = X:26.753		Y:26.753	Z:67.933	Swoop
	; RemoveModule ModuleTag_SlowDeathWithoutRubble
	; //--------------------------------------------------------------------//
 		; Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
			; UpgradeToGrant 					= Upgrade_HubIsBuilt
			; GiveOnBuildComplete				= Yes
		; End
		; Behavior = TooltipUpgrade ModuleTag_WallBannerTooltip
			; RequiresAllTriggers				= No
			; TriggeredBy						= Upgrade_HubIsBuilt Upgrade_AllHumansHaveThisUpgrade
 			; DisplayName						= OBJECT:MercenaryCamp_New
 			; Description						= OBJECT:InnTavernDescription
 		; End		
	; //--------------------------------------------------------------------//
		; Behavior = KeepObjectDie ModuleTag_IWantRubble
			; StayOnRadar				= Yes
		; End
		; Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
			; SelfBuildingLoop			= BuildingConstructionLoop ; Only played if we DON'T spawn a worker
			; SelfRepairFromDamageLoop	= NoSound         ; This doesn't cause an animation, so don't bother playing a sound
			; SelfRepairFromRubbleLoop	= BuildingConstructionLoop
			; SpawnTimer					= -1.0 ; Negative means no 'autoheal'
			; RebuildTimeSeconds			= 40
		; End
		; Body                        = StructureBody ModuleTag_05
			; MaxHealth         		    = BASIC_INN_HEALTH
			; MaxHealthDamaged  		    = BASIC_INN_HEALTH_DAMAGED
			; MaxHealthReallyDamaged 	  	= BASIC_INN_HEALTH_REALLY_DAMAGED
		; End
		; Behavior                  = BuildingBehavior BuildingModuleTag
		; End
		; Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
			; Radius = 50		; How far we try to claim ground
			; MaxIncome = 0	; If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
			; IncomeInterval = 999999	; How often (in msec) we give that much money
			; HighPriority = Yes ; A high priority claim gets to pretend it was there first.
		; End
		; Behavior = ProductionUpdate ProductionUpdateModuleTag
		; End
		; Behavior = QueueProductionExitUpdate QueueProductionModuleTag
			; UnitCreatePoint		= X:25 Y:5 Z:2 ;;-;; X:40 Y:0 Z:0.0 ;;-;; X:5.8616 Y:20.1480 Z:0.0
			; NaturalRallyPoint	= X:100.0 Y:0 Z:2.0 ;;-;; X:-0.1480 Y:-80.0 Z:0.0
			; ExitDelay			= 300
			; PlacementViewAngle	= 0
		; End
	; //--------------------------------------------------------------------//
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
			; TriggeredBy	= Upgrade_DwarfFaction
			; CommandSet	= CommandSetInnDwarvenFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
			; TriggeredBy	= Upgrade_MenFaction
			; CommandSet	= CommandSetInnMenFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
			; TriggeredBy	= Upgrade_ElfFaction
			; CommandSet	= CommandSetInnElvenFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
			; TriggeredBy	= Upgrade_IsengardFaction
			; CommandSet	= CommandSetInnIsengardFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
			; TriggeredBy	= Upgrade_MordorFaction
			; CommandSet	= CommandSetInnMordorFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
			; TriggeredBy	= Upgrade_WildFaction
			; CommandSet	= CommandSetInnWildFaction
		; End
	; //--------------------------------------------------------------------//
; End

; ChildObject GondorBuildingGenericNew07 GondorBuildingGenericNew07

  ; Draw = W3DScriptedModelDraw ModuleTag_01
  ; OkToChangeModelColor = Yes
  
    ; DefaultModelConditionState
      ; Model = GBGenN07
    ; End
	
	; ModelConditionState   = REALLYDAMAGED 
		; Model               = GBGenNR02
	; End
	    
	; AnimationState = REALLYDAMAGED
		; EnteringStateFX	= FX_BuildingReallyDamaged
	; End
	
	; AnimationState = COLLAPSING
 		; EnteringStateFX	= FX_StructureMediumCollapse
		; BeginScript
			; CurDrawablePlaySound("BuildingSink")
		; EndScript
	; End	
	
	; ModelConditionState  = RUBBLE
		; Model              = GBGenRubble2_A
	; End	



	; ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		; Model               = GBGenN07
		; ParticleSysBone   = DUSTBONE BuildingContructDust
	; End
	; AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		; Animation           = GBGenN07
			; AnimationName     = GBGenN07
			; AnimationMode     = MANUAL
		; End
		; Flags				= START_FRAME_FIRST
		; StateName			= BeingConstructed
		; BeginScript
			; CurDrawablePlaySound("GondorBarracksBeginConstruction")
			; CurDrawableHideSubObjectPermanently("V1")
			; CurDrawableHideSubObjectPermanently("V2")
		; EndScript
	; End
	
  ; End
  

  ; ; *** AUDIO Parameters ***

	; SoundOnDamaged			= BuildingLightDamageStone
	; SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; EquivalentTo = Inn ;;.;; 
	; CommandSet          = GenericSelfRepairCommandSet
	; EditorSorting       = STRUCTURE
	; ThreatLevel = 1.0
	; BuildCost           = 500
	; BuildTime           = 45.0           ; in seconds
	; BountyValue         = 50 ;GONDOR_WORKSHOP_BOUNTY_VALUE
	; VisionRange         = 160.0          ; Shroud clearing distance
	; ShroudClearingRange = GONDOR_WORKSHOP_SHROUD_CLEAR
	; DisplayName         = OBJECT:InnTavern
	; Description 	      = OBJECT:InnTavernDescription
	; RadarPriority       = STRUCTURE
	; KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LINKED_TO_FLAG CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE NEVER_CULL_FOR_MP NOT_SELLABLE
	; KeepSelectableWhenDead = Yes
	; VoiceSelect		= CivilianInnSelect
	; SoundOnDamaged		= BuildingLightDamageStone
	; SoundOnReallyDamaged	= BuildingHeavyDamageStone
	; VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction
	; UnitSpecificSounds
		; UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	; End
	; CampnessValue = CAMPNESS_TECH_BUILDING
	; EvaOnFirstSightingEventEnemy = SawInn
	; EvaOnFirstSightingEventNonEnemy = SawInn
	; EvaEnemyObjectSightedEvent	= None   ; Don't do this, covered by "OnFirstSighting"
	; EvaEventDamagedOwner	= StructureUnderAttack 		; Eva event to trigger when building is damaged
	; EvaEnemyObjectSightedEvent	= EnemyCampSighted   ; Normal 'There's their camp' when any enemy building is seen
	; ArmorSet
		; Conditions        = None
		; Armor             = UnitProductionStructureArmor ;;-;; StructureArmor ; ;
	; End
	; GeometryIsSmall			= No
	; Shadow					= SHADOW_VOLUME
	; BuildCompletion			= PLACED_BY_PLAYER
	; GeometryContactPoint = X:-73	Y:9		Z:0			Repair
	; GeometryContactPoint = X:82		Y:9		Z:0			Repair
	; GeometryContactPoint = X:47.546		Y:36.435	Z:0
	; GeometryContactPoint = X:-32.763	Y:-46.121	Z:0
	; GeometryContactPoint = X:26.753		Y:26.753	Z:67.933	Swoop
	; RemoveModule ModuleTag_SlowDeathWithoutRubble
	; //--------------------------------------------------------------------//
 		; Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
			; UpgradeToGrant 					= Upgrade_HubIsBuilt
			; GiveOnBuildComplete				= Yes
		; End
		; Behavior = TooltipUpgrade ModuleTag_WallBannerTooltip
			; RequiresAllTriggers				= No
			; TriggeredBy						= Upgrade_HubIsBuilt Upgrade_AllHumansHaveThisUpgrade
 			; DisplayName						= OBJECT:MercenaryCamp_New
 			; Description						= OBJECT:InnTavernDescription
 		; End		
	; //--------------------------------------------------------------------//
		; Behavior = KeepObjectDie ModuleTag_IWantRubble
			; StayOnRadar				= Yes
		; End
		; Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
			; SelfBuildingLoop			= BuildingConstructionLoop ; Only played if we DON'T spawn a worker
			; SelfRepairFromDamageLoop	= NoSound         ; This doesn't cause an animation, so don't bother playing a sound
			; SelfRepairFromRubbleLoop	= BuildingConstructionLoop
			; SpawnTimer					= -1.0 ; Negative means no 'autoheal'
			; RebuildTimeSeconds			= 40
		; End
		; Body                        = StructureBody ModuleTag_05
			; MaxHealth         		    = BASIC_INN_HEALTH
			; MaxHealthDamaged  		    = BASIC_INN_HEALTH_DAMAGED
			; MaxHealthReallyDamaged 	  	= BASIC_INN_HEALTH_REALLY_DAMAGED
		; End
		; Behavior                  = BuildingBehavior BuildingModuleTag
		; End
		; Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
			; Radius = 50		; How far we try to claim ground
			; MaxIncome = 0	; If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
			; IncomeInterval = 999999	; How often (in msec) we give that much money
			; HighPriority = Yes ; A high priority claim gets to pretend it was there first.
		; End
		; Behavior = ProductionUpdate ProductionUpdateModuleTag
		; End
		; Behavior = QueueProductionExitUpdate QueueProductionModuleTag
			; UnitCreatePoint		= X:22.0 Y:-51.0 Z:0.0 ;;-;; X:40 Y:0 Z:0.0 ;;-;; X:5.8616 Y:20.1480 Z:0.0
			; NaturalRallyPoint	= X:100.0 Y:-51.0 Z:0.0 ;;-;; X:-0.1480 Y:-80.0 Z:0.0
			; ExitDelay			= 300
			; PlacementViewAngle	= 0
		; End
	; //--------------------------------------------------------------------//
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
			; TriggeredBy	= Upgrade_DwarfFaction
			; CommandSet	= CommandSetInnDwarvenFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
			; TriggeredBy	= Upgrade_MenFaction
			; CommandSet	= CommandSetInnMenFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
			; TriggeredBy	= Upgrade_ElfFaction
			; CommandSet	= CommandSetInnElvenFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
			; TriggeredBy	= Upgrade_IsengardFaction
			; CommandSet	= CommandSetInnIsengardFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
			; TriggeredBy	= Upgrade_MordorFaction
			; CommandSet	= CommandSetInnMordorFaction
		; End
		; Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
			; TriggeredBy	= Upgrade_WildFaction
			; CommandSet	= CommandSetInnWildFaction
		; End
	; //--------------------------------------------------------------------//
; End

ChildObject Inn Inn

	Scale = 0.8

	RemoveModule ModuleTag_DrawFloor


	Behavior = QueueProductionExitUpdate QueueProductionModuleTag
		UnitCreatePoint    = X:4.69 Y:16.12 Z:0.0
		NaturalRallyPoint  = X:-0.118 Y:-80.0 Z:0.0
		ExitDelay = 300
		PlacementViewAngle = -90
	End

	Geometry				= BOX
    GeometryName			= Geom_Orig
  	GeometryMajorRadius		= 54.0
	GeometryMinorRadius		= 40.0
	GeometryHeight			= 54.4
	GeometryOffset			= X:3.4 Y:10.4 Z:0	
		
	AdditionalGeometry		= CYLINDER
	GeometryName			= Geom_Orig
	GeometryMajorRadius		= 12.2
	GeometryMinorRadius		= 12.2
	GeometryHeight			= 12.8
	GeometryOffset			= X:41.6 Y:47.2 Z:0	


	AdditionalGeometry		= CYLINDER
    GeometryName			= Geom_Orig
  	GeometryMajorRadius		= 13.6
	GeometryMinorRadius		= 13.6
	GeometryHeight			= 43.2
	GeometryOffset			= X:-33.6 Y:-33.6 Z:0	
		
	GeometryIsSmall			= No
	Shadow					= SHADOW_VOLUME
	BuildCompletion			= PLACED_BY_PLAYER
	
	GeometryContactPoint = X:-58.4	Y:7.2		Z:0			Repair
	GeometryContactPoint = X:65.6		Y:7.2		Z:0			Repair
	GeometryContactPoint = X:38		Y:29.15	Z:0
	GeometryContactPoint = X:-26.2	Y:-36.9	Z:0
	GeometryContactPoint = X:21.4		Y:21.4	Z:54.35	Swoop

END



CommandSet NeutralDunlandHouseCommandSet_New
	1 = Command_ConstructInnWildmanHorde
	; 1 = Command_ConstructGoblinFighterHordeFromDefectedLair
	; 2 = Command_ConstructGoblinArcherHordeFromDefectedLair
End


;------------------------------DunlandHouse.ini---------------------------
ChildObject MoriarGoblinLair MoriarGoblinLair

	SelectPortrait = None ;; BPCGoblinLair
	
	
 		Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
			UpgradeToGrant 					= Upgrade_HubIsBuilt
			GiveOnBuildComplete				= Yes
		End
		Behavior = TooltipUpgrade ModuleTag_WallBannerTooltip
			TriggeredBy						= Upgrade_HubIsBuilt
 			DisplayName						= OBJECT:DunlandHallTooltip_New
 			Description						= TOOLTIP:DunlandHallDesc_New
 		End
		Behavior = QueueProductionExitUpdate QueueProductionModuleTag
			UnitCreatePoint        = X:14.8616 Y:-0.1480 Z:0.0
			NaturalRallyPoint    = X:100.0 Y:-0.1480 Z:0.0
			ExitDelay        = STANDARD_HORDE_EXIT_DELAY
			UseReturnToFormation    = No
		End
		Behavior = SpawnBehavior ModuleTag_SpawnFighters
			SpawnNumber			= 8
			InitialBurst		= 8
			SpawnTemplateName	= MordorGoblinSwordsman_Slaved MordorGoblinArcher_Slaved
			SpawnReplaceDelay	= 60000
			CanReclaimOrphans	= Yes
		End
		; Needed for the untamed allegience spell
		Behavior = CommandSetUpgrade ModueTag_FactionCommandSet
			TriggeredBy				= Upgrade_IsengardFaction Upgrade_MordorFaction Upgrade_WildFaction Upgrade_MenFaction Upgrade_ElfFaction Upgrade_DwarfFaction
			CommandSet				= NeutralDunlandHouseCommandSet_New
			CustomAnimAndDuration	= AnimState:USER_2 AnimTime:0
		End
		//------------------------DunlandHall.Animations-------------------//
		Draw = W3DScriptedModelDraw ModuleTag_Draw
			OkToChangeModelColor = Yes
 			ModelConditionState = NONE
			  Model = WBhouse
			End
			ModelConditionState = USER_1
			  Model = WBhouse2
			End
  			ModelConditionState 			= USER_1 ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
				Model = WBhouse2 ;; GPHealstue_A
				ParticleSysBone = NONE BuildingContructDust
			End
 			ModelConditionState 			= ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
				Model = WBhouse ;; GPHealstue_A
				ParticleSysBone = NONE BuildingContructDust
			End
			AnimationState					= USER_1 ACTIVELY_BEING_CONSTRUCTED
				Animation
					AnimationName			= DBStatue_A.DBStatue_A ;; mbwlhub_askl.mbwlhub_abld
					AnimationMode			= MANUAL ;; LOOP ;; MANUAL
					;AnimationBlendTime = 90
				End
				;;Opciones Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT ;,uSEFUL but horrible.
				;;Opciones DBStatue_A.DBStatue_A 	BEST
 				;;Opciones EBStatue_A.EBStatue_A 	GUD
 				;;Opciones GPHealstue_A.GPHealstue_A 	BAD
 				;;Opciones RPHeroStat_A.RPHeroStat_A 	BAD
 				;;Opciones mbwlhub_askl.mbwlhub_abld 	BEST
 				;;Opciones mbwalln_askl.mbwalln_abld 	BEST
 				BeginScript
					CurDrawablePlaySound("GondorBarracksBeginConstruction")
				EndScript
			End
			AnimationState					= USER_1 ACTIVELY_BEING_CONSTRUCTED
				Animation
					AnimationName			= DBStatue_A.DBStatue_A ;; mbwlhub_askl.mbwlhub_abld
					AnimationMode			= MANUAL ;; LOOP ;; MANUAL
					;AnimationBlendTime = 90
				End
				;;Opciones Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT ;,uSEFUL but horrible.
				;;Opciones DBStatue_A.DBStatue_A 	BEST
 				;;Opciones EBStatue_A.EBStatue_A 	GUD
 				;;Opciones GPHealstue_A.GPHealstue_A 	BAD
 				;;Opciones RPHeroStat_A.RPHeroStat_A 	BAD
 				;;Opciones mbwlhub_askl.mbwlhub_abld 	BEST
 				;;Opciones mbwalln_askl.mbwalln_abld 	BEST
 				BeginScript
					CurDrawablePlaySound("GondorBarracksBeginConstruction")
				EndScript
			End
			AnimationState					= ACTIVELY_BEING_CONSTRUCTED
				Animation
					AnimationName			= DBStatue_A.DBStatue_A ;; mbwlhub_askl.mbwlhub_abld
					AnimationMode			= MANUAL ;; LOOP ;; MANUAL
					;AnimationBlendTime = 90
				End
				;;Opciones Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT ;,uSEFUL but horrible.
				;;Opciones DBStatue_A.DBStatue_A 	BEST
 				;;Opciones EBStatue_A.EBStatue_A 	GUD
 				;;Opciones GPHealstue_A.GPHealstue_A 	BAD
 				;;Opciones RPHeroStat_A.RPHeroStat_A 	BAD
 				;;Opciones mbwlhub_askl.mbwlhub_abld 	BEST
 				;;Opciones mbwalln_askl.mbwalln_abld 	BEST
 				BeginScript
					CurDrawablePlaySound("GondorBarracksBeginConstruction")
				EndScript
			End
 			AnimationState = DAMAGED
				EnteringStateFX    = FX_BuildingDamaged
				ParticleSysBone FireSmall01 FireBuildingLarge02 ;,;
				ParticleSysBone FireSmall01 SmokeBuildingLarge ;,;
			End
 			AnimationState = REALLYDAMAGED
 				EnteringStateFX    = FX_BuildingReallyDamaged
				ParticleSysBone FireSmall01 FireBuildingLarge03 ;,;
				ParticleSysBone FireSmall01 SmokeBuildingLarge ;,;
			End
			ModelConditionState  = RUBBLE
			  Model         = WBhouse
			  ParticleSysBone SmokeLarge01 SmokeBuildingLarge
			End
			AnimationState = RUBBLE
				EnteringStateFX	= FX_StructureMediumCollapse
				Animation				=	RubbleAnimation
						AnimationName		=	IBUrukPit_D3SK.IBUrukPit_D3AN
						AnimationMode		=	ONCE
				End
			End
 			ModelConditionState  = POST_RUBBLE
			  Model         = None
				ParticleSysBone NONE SmokeBuildingMediumRubble
			End
			AnimationState = POST_RUBBLE
			End
 			ModelConditionState  = POST_COLLAPSE
				Model         = None
				ParticleSysBone NONE SmokeBuildingMediumRubble
			End
			AnimationState = POST_COLLAPSE
			End
		End
		
		
End


Locomotor HumanLocomotor_New
	Surfaces              = GROUND RUBBLE
	TurnTime              = 500
	TurnTimeDamaged       = 500
	FastTurnRadius		= 3 ; Can turn in a 10 foot radius circle when moving.
	SlowTurnRadius		= 1 ; Turns in place from a standing start.
	Acceleration = 510  ; .5 second to accelerate to full speed.
	FormationPriority		= MELEE1 ;MELEE2

	Braking  = 510  ; .51 second to brake from full speed.
	MinTurnSpeed          = 0%
	ZAxisBehavior         = NO_Z_MOTIVE_FORCE
	Appearance            = TWO_LEGS
	StickToGround         = Yes       ; walking guys aren't allowed to catch huge (or even small) air.
	CanMoveBackwards       = Yes   ; Can move backwards when afraid.
	BackingUpSpeed		=	33%
     ChargeAvailable         = Yes     ; ;; Locomotor has defined charging attack values to use
     ChargeSpeed             = 200%
End

;------------------------------Dunland.Ini---------------------------
ChildObject MordorGoblinSwordsman_Slaved MordorGoblinSwordsman_Slaved

	DisplayName = OBJECT:IsengardWildman
  SelectPortrait  =  UPIsengard_WildmenofDunland
  ButtonImage = WOR_WildmenofDunland
	  
  	EvaEnemyObjectSightedEvent = None ;; GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
  	EvaEnemyObjectSightedAfterRespawnEvent = None ;; GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardWildmanCudgel
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = WildmanArmor ;;=;; UrukHaiArmor
		DamageFX        = NormalDamageFX
	End
  LocomotorSet
    Locomotor     = HumanLocomotor_New
    Condition     = SET_NORMAL
    Speed         = 32 ;;.;; 65 ; ;32
  End
	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= TIER_1_LAIR_GUARDMAXRANGE ;;-;;
		GuardWanderRange	= 40
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
		
		
		
		
		AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
		AttackWanderRange = 10  ;How far I'm allowed to wander from target.
		ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
		ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
	End
		VoiceAttack							= WildMenVoiceAttack
		VoiceAttackCharge					= WildMenVoiceAttackCharge
		VoiceAttackMachine					= WildMenVoiceAttack
		VoiceAttackStructure				= WildMenVoiceAttackBuilding
		VoiceCreated						= EVA:WildMenCreated
		VoiceFullyCreated 					= EVA:WildMenCreated
		VoiceGuard							= WildMenVoiceMove
		VoiceMove							= WildMenVoiceMove
		VoiceMoveToCamp						= WildMenVoiceMoveCamp
		VoiceMoveWhileAttacking				= WildMenVoiceMove
		VoicePriority						= 32
		VoiceRetreatToCastle				= WildMenVoiceMove
		VoiceSelect							= WildMenVoiceSelectMS
		VoiceSelectBattle 					= WildMenVoiceSelectBattle
	
		SoundImpact							= ImpactHorse
	
		UnitSpecificSounds
			VoiceCreatedFromInn					= EVA:WildMenCreated
			VoiceEnterUnitEvilMenTransportShip	= WildMenVoiceMoveShip
			VoiceEnterUnitMordorMumakil			= WildMenVoiceMoveGarrison
			VoiceEnterUnitSlaughterHouse		= WildMenVoiceMoveGarrison
			VoiceFullyCreatedFromInn			= EVA:WildMenCreated
			VoiceGarrison						= WildMenVoiceMoveGarrison
			VoiceInitiateCaptureBuilding		= WildMenVoiceCaptureBuilding
		End
	
		CrowdResponseKey = EvilMen1
	
		ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
			MaxUpdateRangeCap = 800
			AnimationSound = Sound:BodyFallGeneric1			Animation:IUWILDMAN_SKL.IUWILDMAN_LNDA	Frames:6
			AnimationSound = Sound:BodyFallGeneric2			Animation:IUWILDMAN_SKL.IUWILDMAN_DTHA	Frames:48
			AnimationSound = Sound:BodyFallGeneric1			Animation:IUWILDMAN_SKL.IUWILDMAN_DTHB	Frames:44
			AnimationSound = Sound:BodyFallGeneric2			Animation:IUWILDMAN_SKL.IUWILDMAN_DTHC	Frames:37
		End
	
		ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
			ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
			ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
			ModelCondition = Required:EMOTION_POINTING		Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
			ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
		End
		Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
			Key = Humanoid_Male Man Man_Male
		End
	;Keeping vanilla gob health;;	Body = ActiveBody ModuleTag_02
	;Keeping vanilla gob health;;		MaxHealth         = ISENGARD_WILDMAN_HEALTH
	;Keeping vanilla gob health;;		MaxHealthDamaged  = ISENGARD_WILDMAN_HEALTH_DAMAGED
	;Keeping vanilla gob health;;		BurningDeathBehavior = Yes
	;Keeping vanilla gob health;;		BurningDeathFX		 = FX_InfantryBurningFlame
	;Keeping vanilla gob health;;	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		AILuaEventsList			   =	IsengardWildmanFunctions ;;.;; this hides the torch subobject
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL ManEvilGenericVoiceDie
	End
	 
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		FX = INITIAL FX_WildMenUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS		
	End
	
	;;Do we want pillage module?;;	Behavior = PillageModule ModuleTag_Test1
	;;Do we want pillage module?;;		PillageAmount				= WILDMAN_PILLAGE_AMOUNT
	;;Do we want pillage module?;;		NumDamageEventsPerPillage	= WILDMAN_PILLAGE_NUM_DAMAGES
	;;Do we want pillage module?;;		PillageFilter				= WILDMAN_PILLAGE_FILTER
	;;Do we want pillage module?;;	End
	
	
		//------------------------Dunland.Animations-------------------//
	  Draw = W3DHordeModelDraw ModuleTag_01
			OkToChangeModelColor = Yes	  
			StaticModelLODMode = No ;; Yes
			; specify options for static LODs
			;LodOptions	= LOW
			;	AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			;	MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			;	MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			;	MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
			;End
			;
			;LodOptions	= MEDIUM
			;	AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			;	MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			;	MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			;	MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
			;End
			;
			;LodOptions	= HIGH
			;	AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			;	MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			;	MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			;	MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
			;End
			DefaultModelConditionState
			  Model = IUWildMan_SKN
			  Skeleton = IUWildMan_SKL
			  ;Model = IUWildMan2_SKN  ExtraMesh:Yes
			  ;Model = IUWildMan3_SKN 	ExtraMesh:Yes
			  ;Model = IUWildMan4_SKN 	ExtraMesh:Yes
			End

			IdleAnimationState
				Animation = IDLB
					AnimationName = IUWildMan_IDLB
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLC
					AnimationName = IUWildMan_IDLC
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLD
					AnimationName = IUWildMan_IDLD
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLE
					AnimationName = IUWildMan_IDLE
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLF
					AnimationName = IUWildMan_IDLF
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLG
					AnimationName = IUWildMan_IDLG
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				StateName = Idle
			End

			AnimationState			= DYING DEATH_2
				Animation
					AnimationName	= IUWildMan_IDLA
					AnimationMode	= LOOP
					AnimationBlendTime = 10
				End
			End

			AnimationState			= DYING BURNINGDEATH
				Animation
					AnimationName	= IUWildMan_DTHA
					AnimationMode	= ONCE
					AnimationBlendTime = 10
				End
				Animation
					AnimationName	= IUWildMan_DTHB
					AnimationMode	= ONCE
					AnimationBlendTime = 10
				End
				Animation
					AnimationName	= IUWildMan_DTHC
					AnimationMode	= ONCE
					AnimationBlendTime = 10
				End
			End
		AnimationState = DYING
				Animation = DyingA
					AnimationName = IUWildMan_DTHA
					AnimationMode = ONCE
					AnimationPriority = 10
				End
				Animation = DyingB
					AnimationName = IUWildMan_DTHB
					AnimationMode = ONCE
					AnimationPriority = 10
				End				
				Animation = DyingC
					AnimationName = IUWildMan_DTHC
					AnimationMode = ONCE
					AnimationPriority = 10
				End	
		End
		
			AnimationState			= BURNINGDEATH
				Animation
					AnimationName	= IUWildMan_MFDA
					AnimationMode	= LOOP
					Distance		= 90
				End
			End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= IUWildMan_IDLB
				AnimationMode				= LOOP
			End
		End

			AnimationState = GUARDING ;;.;;
				Animation = BackingUp
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
			End
			AnimationState = WANDER ;;.;;
				Animation = BackingUp
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
			End
		AnimationState = MOVING BACKING_UP
			Animation = BackingUp
				AnimationName = IUWildMan_BAKA
				AnimationMode = LOOP
			End
			Animation = BackingUpB
				AnimationName = IUWildMan_BAKB
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
		End
		
		AnimationState = MOVING EMOTION_TERROR
			Animation = Moving
				AnimationName = IUWildMan_RUNC
				AnimationMode = LOOP
			End
			Animation = MovingD
				AnimationName = IUWildMan_RUND
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End
		
		AnimationState = MOVING DAMAGED
				Animation = Moving
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
				Flags = RANDOMSTART
				ParticleSysBone = None InfantryDustTrails
		End
	 
		 ;;.;;
			AnimationState = MOVING ATTACKING
				Animation = Moving
					AnimationName = IUWildMan_RUNA
					AnimationMode = LOOP
				End
				Animation = Moving
					AnimationName = IUWildMan_RUNB
					AnimationMode = LOOP
				End			
				Flags = RANDOMSTART
				ParticleSysBone = None InfantryDustTrails
			End
	 
		 ;;.;;
			AnimationState = MOVING
				Animation = Moving
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
			End
		
		AnimationState							= RAISING_FLAG
			Animation
				AnimationName					= IUWildMan_CHRA
				AnimationMode					= ONCE
				AnimationSpeedFactorRange		= 0.9 1.1
			End
			Animation
				AnimationName					= IUWildMan_CHRB
				AnimationMode					= ONCE
				AnimationSpeedFactorRange		= 0.9 1.1
			End
			Animation
				AnimationName					= IUWildMan_CHRC
				AnimationMode					= ONCE
				AnimationSpeedFactorRange		= 0.9 1.1
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
			Animation							= FERA
				AnimationName					= IUWildMan_FERA
				AnimationMode					= LOOP
			End
			Flags = RANDOMSTART
		End
		
		AnimationState			= STUNNED_FLAILING
			Animation
				AnimationName   = IUWildMan_FLYA
				AnimationMode   = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
		End
		AnimationState			= STUNNED_STANDING_UP
			Animation
				AnimationName   = IUWildMan_GTPA
				AnimationMode   = ONCE
			End
		End
		AnimationState			= STUNNED
			Animation
				AnimationName   = IUWildMan_LNDA
				AnimationMode   = ONCE
			End
		End

		AnimationState = ATTACKING
				Animation = Attacking
					AnimationName = IUWildMan_ATKA
					AnimationMode = LOOP
					AnimationPriority = 10
				End
				Animation = Attacking
					AnimationName = IUWildMan_ATKB
					AnimationMode = LOOP
					AnimationPriority = 10
				End
				Animation = Attacking
					AnimationName = IUWildMan_ATKC
					AnimationMode = LOOP
					AnimationPriority = 10
				End
				Animation = Attacking
					AnimationName = IUWildMan_ATKD
					AnimationMode = LOOP
					AnimationPriority = 10
				End						
		End


		AnimationState = WAR_CHANT
			Animation = ChantA
				AnimationName = IUWildMan_TNTA
				AnimationMode = LOOP
				AnimationPriority = 10
			End
			Animation = ChantB
				AnimationName = IUWildMan_TNTB
				AnimationMode = LOOP
				AnimationPriority = 10
			End
			Animation = ChantC
				AnimationName = IUWildMan_TNTC
				AnimationMode = LOOP
				AnimationPriority = 10
			End		
		End

				
		;-emotions--
		
		AnimationState							= EMOTION_AFRAID
			Animation							= FERA
				AnimationName					= IUWildMan_FERA
				AnimationMode					= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState							= EMOTION_TAUNTING
			Animation = TAUNTINGA
				AnimationName = IUWildMan_TNTA
				AnimationMode = LOOP
				AnimationPriority = 10
			End
			Animation = TAUNTINGB
				AnimationName = IUWildMan_TNTB
				AnimationMode = LOOP
				AnimationPriority = 10
			End
			Animation = TAUNTINGC
				AnimationName = IUWildMan_TNTC
				AnimationMode = LOOP
				AnimationPriority = 10
			End	
		End
		
		AnimationState							= EMOTION_POINTING
			Animation							= Pointing1
				AnimationName					= IUWildMan_PNTA
				AnimationMode					= LOOP
			End
			Animation							= Pointing1
				AnimationName					= IUWildMan_PNTB
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_CELEBRATING
			Animation                           = CHRA
				AnimationName					= IUWildMan_CHRA
				AnimationMode					= LOOP
				AnimationPriority = 10
			End
			Animation                           = CHRA
				AnimationName					= IUWildMan_CHRB
				AnimationMode					= LOOP
				AnimationPriority = 10
			End
			Animation                           = CHRA
				AnimationName					= IUWildMan_CHRC
				AnimationMode					= LOOP
				AnimationPriority = 10
			End
		End
		
		AnimationState							= EMOTION_ALERT
			Animation							= ALERT
				AnimationName					= IUWildMan_IDLA
				AnimationMode					= LOOP
			End
			Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
		End
			
	  End

End




;------------------------------DunlandAxeThrower.Ini---------------------------
ChildObject MordorGoblinArcher_Slaved MordorGoblinArcher_Slaved

	DisplayName = OBJECT:IsengardWildman
  SelectPortrait  =  UPIsengard_WildmenofDunland
  ButtonImage = WOR_WildmenofDunland
	  

  	EvaEnemyObjectSightedEvent = None ;; GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
  	EvaEnemyObjectSightedAfterRespawnEvent = None ;; GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
   	WeaponSet
		Conditions			= None
		Weapon				= PRIMARY    DwarvenGuardianThrowingAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		Weapon				= QUINARY	GarrisonedWildmanTorchThrow
 		AutoChooseSources	= QUINARY FROM_PLAYER FROM_SCRIPT ; not from ai
	End
	ArmorSet
		Conditions      = None
		Armor           = WildmanArmor ;;=;; UrukHaiArmor
		DamageFX        = NormalDamageFX
	End
  LocomotorSet
    Locomotor     = HumanLocomotor_New
    Condition     = SET_NORMAL
    Speed         = 32 ;;.;; 65 ; ;32
  End

	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= TIER_1_LAIR_GUARDMAXRANGE ;;-;;
		GuardWanderRange	= 40
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
		
		
		
		
		
		AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
		AttackWanderRange = 10  ;How far I'm allowed to wander from target.
		ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
		ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
	End

	
		VoiceAttack							= WildMenVoiceAttack
		VoiceAttackCharge					= WildMenVoiceAttackCharge
		VoiceAttackMachine					= WildMenVoiceAttack
		VoiceAttackStructure				= WildMenVoiceAttackBuilding
		VoiceCreated						= EVA:WildMenCreated
		VoiceFullyCreated 					= EVA:WildMenCreated
		VoiceGuard							= WildMenVoiceMove
		VoiceMove							= WildMenVoiceMove
		VoiceMoveToCamp						= WildMenVoiceMoveCamp
		VoiceMoveWhileAttacking				= WildMenVoiceMove
		VoicePriority						= 32
		VoiceRetreatToCastle				= WildMenVoiceMove
		VoiceSelect							= WildMenVoiceSelectMS
		VoiceSelectBattle 					= WildMenVoiceSelectBattle
	
		SoundImpact							= ImpactHorse
	
		UnitSpecificSounds
			VoiceCreatedFromInn					= EVA:WildMenCreated
			VoiceEnterUnitEvilMenTransportShip	= WildMenVoiceMoveShip
			VoiceEnterUnitMordorMumakil			= WildMenVoiceMoveGarrison
			VoiceEnterUnitSlaughterHouse		= WildMenVoiceMoveGarrison
			VoiceFullyCreatedFromInn			= EVA:WildMenCreated
			VoiceGarrison						= WildMenVoiceMoveGarrison
			VoiceInitiateCaptureBuilding		= WildMenVoiceCaptureBuilding
		End
	
		CrowdResponseKey = EvilMen1
	
		ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
			MaxUpdateRangeCap = 800
			AnimationSound = Sound:BodyFallGeneric1			Animation:IUWILDMAN_SKL.IUWILDMAN_LNDA	Frames:6
			AnimationSound = Sound:BodyFallGeneric2			Animation:IUWILDMAN_SKL.IUWILDMAN_DTHA	Frames:48
			AnimationSound = Sound:BodyFallGeneric1			Animation:IUWILDMAN_SKL.IUWILDMAN_DTHB	Frames:44
			AnimationSound = Sound:BodyFallGeneric2			Animation:IUWILDMAN_SKL.IUWILDMAN_DTHC	Frames:37
		End
	
		ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
			ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
			ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
			ModelCondition = Required:EMOTION_POINTING		Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
			ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionMenEvilCompilationVoxTauntSinglesLoop
		End
		Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
			Key = Humanoid_Male Man Man_Male
		End
	;Keeping vanilla gob health;;	Body = ActiveBody ModuleTag_02
	;Keeping vanilla gob health;;		MaxHealth         = ISENGARD_WILDMAN_HEALTH
	;Keeping vanilla gob health;;		MaxHealthDamaged  = ISENGARD_WILDMAN_HEALTH_DAMAGED
	;Keeping vanilla gob health;;		BurningDeathBehavior = Yes
	;Keeping vanilla gob health;;		BurningDeathFX		 = FX_InfantryBurningFlame
	;Keeping vanilla gob health;;	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		AILuaEventsList			   =	IsengardWildmanFunctions ;;.;; this hides the torch subobject
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL ManEvilGenericVoiceDie
	End
	 
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		FX = INITIAL FX_WildMenUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS		
	End
	
	;;Do we want pillage module?;;	Behavior = PillageModule ModuleTag_Test1
	;;Do we want pillage module?;;		PillageAmount				= WILDMAN_PILLAGE_AMOUNT
	;;Do we want pillage module?;;		NumDamageEventsPerPillage	= WILDMAN_PILLAGE_NUM_DAMAGES
	;;Do we want pillage module?;;		PillageFilter				= WILDMAN_PILLAGE_FILTER
	;;Do we want pillage module?;;	End

		//-----------------------DunlandAxeThrower.Animations----------------------//
		Draw = W3DHordeModelDraw ModuleTag_01 // Don't ren.
			OkToChangeModelColor = Yes
			StaticModelLODMode = Yes
			DefaultModelConditionState
				Model = IUWildMan2_SKN
				Skeleton = IUWildMan_SKL
				WeaponLaunchBone = PRIMARY B_HandL ; B_HandR
				;ParticleSysBone     = B_HandR wildmenHandGlow_New FXTrigger:NONE Persist:HOLD PersistID:100
				;ParticleSysBone     = WEAPON_L wildmenHandGlow_New FXTrigger:NONE Persist:HOLD PersistID:100
				;ParticleSysBone     = NONE wildmenHandGlow_New
				//not posible for now //ParticleSysBone  BAT_PELVIS perdiendoTiempo_New FollowBone:Yes
				;ParticleSysBone  B_HandR wildmenHandGlow_New FollowBone:Yes
				;ParticleSysBone  B_HandL wildmenHandGlow_New FollowBone:Yes
 			End
  			;ModelConditionState = WEAPONSET_PLAYER_UPGRADE
			;	Model = IUWildMan2_SKN
			;	Skeleton = IUWildMan_SKL
			;	WeaponLaunchBone = PRIMARY B_HandR
			;
			;
			;	;ParticleSysBone     = B_HandR wildmenHandGlow_New FXTrigger:NONE Persist:HOLD PersistID:100
			;	;ParticleSysBone     = WEAPON_L wildmenHandGlow_New FXTrigger:NONE Persist:HOLD PersistID:100
			;	ParticleSysBone  BAT_RIBS BladeMaster FollowBone:Yes
 			;End

 			IdleAnimationState
				;BeginScript
				;	CurDrawableHideSubObjectPermanently("WEAPON_L") // HEHE.
 				;EndScript
				Animation = IDLB
					AnimationName = IUWildMan_IDLB
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLC
					AnimationName = IUWildMan_IDLC
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLD
					AnimationName = IUWildMan_IDLD
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLE
					AnimationName = IUWildMan_IDLE
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLF
					AnimationName = IUWildMan_IDLF
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				Animation = IDLG
					AnimationName = IUWildMan_IDLG
					AnimationMode = ONCE
					AnimationPriority = 6
				End
				StateName = Idle
			End
			AnimationState			= DYING DEATH_2
				Animation
					AnimationName	= IUWildMan_IDLA
					AnimationMode	= LOOP
					AnimationBlendTime = 10
				End
			End
			AnimationState			= DYING BURNINGDEATH
				Animation
					AnimationName	= IUWildMan_DTHA
					AnimationMode	= ONCE
					AnimationBlendTime = 10
				End
				Animation
					AnimationName	= IUWildMan_DTHB
					AnimationMode	= ONCE
					AnimationBlendTime = 10
				End
				Animation
					AnimationName	= IUWildMan_DTHC
					AnimationMode	= ONCE
					AnimationBlendTime = 10
				End
			End
			AnimationState = DYING
				Animation = DyingA
					AnimationName = IUWildMan_DTHA
					AnimationMode = ONCE
					AnimationPriority = 10
				End
				Animation = DyingB
					AnimationName = IUWildMan_DTHB
					AnimationMode = ONCE
					AnimationPriority = 10
				End
				Animation = DyingC
					AnimationName = IUWildMan_DTHC
					AnimationMode = ONCE
					AnimationPriority = 10
				End
			End
			AnimationState			= BURNINGDEATH
				Animation
					AnimationName	= IUWildMan_MFDA
					AnimationMode	= LOOP
					Distance	= 90
				End
			End
			AnimationState				= PARALYZED
				Animation
					AnimationName		= IUWildMan_IDLB
					AnimationMode		= LOOP
				End
			End
			AnimationState = GUARDING ;;.;;
				Animation = BackingUp
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
			End
			AnimationState = WANDER ;;.;;
				Animation = BackingUp
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
			End
			AnimationState = MOVING BACKING_UP
				Animation = BackingUp
					AnimationName = IUWildMan_BAKA
					AnimationMode = LOOP
				End
				Animation = BackingUpB
					AnimationName = IUWildMan_BAKB
					AnimationMode = LOOP
				End
				Flags = RANDOMSTART
			End
			AnimationState = MOVING EMOTION_TERROR
				Animation = Moving
					AnimationName = IUWildMan_RUNC
					AnimationMode = LOOP
				End
				Animation = MovingD
					AnimationName = IUWildMan_RUND
					AnimationMode = LOOP
				End
				Flags = RANDOMSTART
				ParticleSysBone = None InfantryDustTrails
			End
			AnimationState = MOVING DAMAGED
					Animation = Moving
						AnimationName = IUWildMan_WLKA
						AnimationMode = LOOP
					End
					Flags = RANDOMSTART
					ParticleSysBone = None InfantryDustTrails
			End
	 
		 ;;.;;
			AnimationState = MOVING ATTACKING
				Animation = Moving
					AnimationName = IUWildMan_RUNA
					AnimationMode = LOOP
				End
				Animation = Moving
					AnimationName = IUWildMan_RUNB
					AnimationMode = LOOP
				End			
				Flags = RANDOMSTART
				ParticleSysBone = None InfantryDustTrails
			End
	 
		 ;;.;;
			AnimationState = MOVING
				Animation = Moving
					AnimationName = IUWildMan_WLKA
					AnimationMode = LOOP
				End
			End
			
			
			AnimationState						= RAISING_FLAG
				Animation
					AnimationName				= IUWildMan_CHRA
					AnimationMode				= ONCE
					AnimationSpeedFactorRange		= 0.9 1.1
				End
				Animation
					AnimationName				= IUWildMan_CHRB
					AnimationMode				= ONCE
					AnimationSpeedFactorRange	= 0.9 1.1
				End
				Animation
					AnimationName				= IUWildMan_CHRC
					AnimationMode				= ONCE
					AnimationSpeedFactorRange	= 0.9 1.1
				End
				Flags							= RESTART_ANIM_WHEN_COMPLETE
			End
			AnimationState						= EMOTION_UNCONTROLLABLY_AFRAID
				Animation						= FERA
					AnimationName				= IUWildMan_FERA
					AnimationMode				= LOOP
				End
				Flags = RANDOMSTART
			End
			AnimationState					= STUNNED_FLAILING
				Animation
					AnimationName   		= IUWildMan_FLYA
					AnimationMode   		= LOOP
					AnimationSpeedFactorRange	= 0.4 0.6
				End
			End
			AnimationState			= STUNNED_STANDING_UP
				Animation
					AnimationName   = IUWildMan_GTPA
					AnimationMode   = ONCE
				End
			End
			AnimationState			= STUNNED
				Animation
					AnimationName   = IUWildMan_LNDA
					AnimationMode   = ONCE
				End
			End
			AnimationState = FIRING_OR_PREATTACK_A
					Animation = Attacking // last 70frames. //seconds. 2333,333333333333
						AnimationName = IUWildMan_ATKA
						AnimationMode     = ONCE
						UseWeaponTiming	  = Yes
					End
				FrameForPristineBonePositions = 20 ;;-;;
			End
			AnimationState = FIRING_OR_PREATTACK_E
					Animation = Attacking // last 70frames. //seconds. 2333,333333333333
						AnimationName = IUWildMan_ATKA
						AnimationMode     = ONCE
						UseWeaponTiming	  = Yes
					End
				FrameForPristineBonePositions = 20 ;;-;;
			End
			AnimationState = WAR_CHANT
				Animation = ChantA
					AnimationName = IUWildMan_TNTA
					AnimationMode = LOOP
					AnimationPriority = 10
				End
				Animation = ChantB
					AnimationName = IUWildMan_TNTB
					AnimationMode = LOOP
					AnimationPriority = 10
				End
				Animation = ChantC
					AnimationName = IUWildMan_TNTC
					AnimationMode = LOOP
					AnimationPriority = 10
				End
			End
			AnimationState					= EMOTION_AFRAID
				Animation				= FERA
					AnimationName			= IUWildMan_FERA
					AnimationMode			= LOOP
				End
				Flags = RANDOMSTART
			End
			AnimationState					= EMOTION_TAUNTING
				Animation = TAUNTINGA
					AnimationName 			= IUWildMan_TNTA
					AnimationMode 			= LOOP
					AnimationPriority 		= 10
				End
				Animation = TAUNTINGB
					AnimationName 			= IUWildMan_TNTB
					AnimationMode 			= LOOP
					AnimationPriority 		= 10
				End
				Animation = TAUNTINGC
					AnimationName 			= IUWildMan_TNTC
					AnimationMode 			= LOOP
					AnimationPriority 		= 10
				End
			End
			AnimationState					= EMOTION_POINTING
				Animation					= Pointing1
					AnimationName			= IUWildMan_PNTA
					AnimationMode			= LOOP
				End
				Animation					= Pointing1
					AnimationName			= IUWildMan_PNTB
					AnimationMode			= LOOP
				End
			End
			AnimationState					= EMOTION_CELEBRATING
				Animation					= CHRA
					AnimationName			= IUWildMan_CHRA
					AnimationMode			= LOOP
					AnimationPriority 		= 10
				End
				Animation					= CHRA
					AnimationName			= IUWildMan_CHRB
					AnimationMode			= LOOP
					AnimationPriority 		= 10
				End
				Animation					= CHRA
					AnimationName			= IUWildMan_CHRC
					AnimationMode			= LOOP
					AnimationPriority 		= 10
				End
			End
			AnimationState					= EMOTION_ALERT
				Animation					= ALERT
					AnimationName			= IUWildMan_IDLA
					AnimationMode			= LOOP
				End
				Flags					= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
			End
		End
		//------------------------------------------------------------//


End
