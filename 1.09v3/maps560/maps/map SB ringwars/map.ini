




;;;;;;;;;;; RING WARS EDITED BY SILVERBANE VERSION 1.1 - THIS MAP INI IS HALF MADE BY I SHOW NO MERCY, HALF BY ME SINCE I MADE A LOT OF CHANGES


SpecialPower SpecialAbilityHornOfGondor
	Enum			= SPECIAL_GENERAL_TARGETLESS
	ReloadTime		= 140000 ; ;90000
End


SpecialPower SpecialAbilityLurtzCripple
	Enum			= SPECIAL_AT_VISIBLE_OBJECT
	ReloadTime		= 100000 ; 60000
	ObjectFilter	= CRIPPLE_STRIKE_OBJECT_FILTER
End


; Good set of defaults that you can start to special case off of
DamageFX NormalDamageFX
  ThrottleTime = DEFAULT 60


  AmountForMajorFX  = DEFAULT  0.0
  MajorFX           = DEFAULT  FX_NONE

  AmountForMajorFX  = GOOD_ARROW_PIERCE 0.0
  MajorFX           = GOOD_ARROW_PIERCE FX_GoodArrowHit

  AmountForMajorFX  = EVIL_ARROW_PIERCE 0.0
  MajorFX           = EVIL_ARROW_PIERCE FX_EvilArrowHit

  AmountForMajorFX  = SWORD_SLASH  0.0
  MajorFX           = SWORD_SLASH  FX_NONE
  
  AmountForMajorFX	= WITCH_KING_MORGUL_BLADE  0.0
  MajorFX			= WITCH_KING_MORGUL_BLADE  FX_WitchKingPoison
  
  AmountForMajorFX	= REFLECTED  0.0
  MajorFX			= REFLECTED  FX_SauronMaceHit ; ; FX_WitchKingCursed
  
  AmountForMajorFX  = MAGIC  0.0
  MajorFX           = MAGIC  FX_MagicHit

  AmountForMajorFX  = BALROG_SWORD  0.0
  MajorFX           = BALROG_SWORD  FX_BalrogWeaponHit

  AmountForMajorFX  = BALROG_WHIP  0.0
  MajorFX           = BALROG_WHIP   FX_BalrogWhipHit
  
  AmountForMajorFX  = ELECTRIC  0.0
  MajorFX           = ELECTRIC   FX_ElectricityHit

  AmountForMajorFX  = BOLT  0.0
 MajorFX           = BOLT FX_BoltHit

  AmountForMajorFX  = TORNADO 0.0
  MajorFX           = TORNADO   FX_TornadoAttack
  
  AmountForMajorFX  = GIMLI_LEAP 0.0
  MajorFX           = GIMLI_LEAP   FX_GimliLeapNoVoice
  
  AmountForMajorFX	= FLOOD_HORSE 1.0
  MajorFX			= FLOOD_HORSE FX_FloodHorseCrush
  
  AmountForMajorFX  = POISON  0.0
  MajorFX           = POISON  FX_PoisonDOT
  
  AmountForMajorFX  = FIRE3 0.0
  MajorFX           = FIRE3   FX_InfantryBurningFlame ; this was actually a poison fx, lol
  
End




















Armor BalrogArmor
  Armor = DEFAULT	  1%	; Likes to have things think they can attack him
  Armor = SIEGE		 5%	; siege weapons can hurt him - reduced from 25% to 15%
  Armor = STRUCTURAL	 10%	;Structural damage (Ent rocks)
  Armor = MAGIC		50%	; Gandalf can really hurt him. - reduced from 100% to 75%
  Armor = HERO		 10%	; Other heroes can hurt him too.  Watch out for heroes Mr. Balrog!
  Armor = HERO_RANGED     4%    ; Hero bow damage - increased from 1% to 4% lol
  
End




Object MordorBalrog
RemoveModule ModuleTag_LifetimeUpdate



AddModule

	Behavior = AutoHealBehavior ModuleTag_BalrogNewHealing         - he can slowly heal now
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1200 ;1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End
End






End 

;Ranger Command Set No LongShot
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

CommandSet GondorRangerHordeCommandSet_Override
	1 	= Command_ToggleStance
	2	= Command_ArcherBombard
	3 	= Command_PurchaseUpgradeGondorFireArrows
	4 	= Command_PurchaseUpgradeGondorBasicTraining
	12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End


Object GondorRangerInnHorde
CommandSet = GondorRangerHordeCommandSet_Override
End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;All Porters Building Command Sets
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

CommandSet AllPorterCommandSet   
   1  = Command_PorterConstructMenStatue
   2  = Command_ConstructDwarvenHearth 
End

Object GondorStatue
BuildCost = 800
BuildTime = 10.0
End

Object DwarvenHearth
BuildCost = 500
BuildTime = 10.0
End


Object ElvenPorter
CommandSet = AllPorterCommandSet
End

Object DwarvenPorter
CommandSet = AllPorterCommandSet
End

Object IsengardPorter
CommandSet = AllPorterCommandSet
End

Object MordorPorter
CommandSet = AllPorterCommandSet
End

Object WildPorter
CommandSet = AllPorterCommandSet
End

Object MenPorter
CommandSet = AllPorterCommandSet
End





;Fortress Expansion Pads Command Sets
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

CommandSet AllExpansionPadCommandSet
	1 = Command_ConstructMenWallHubExpansion
	2 = Command_ConstructMenArrowTowerExpansion
	3 = Command_ConstructDwarvenEreborTowerTowerExpansion
End

Object MenArrowTowerExpansion
BuildCost = 1300
BuildTime = 1.0
End

Object DwarvenEreborTowerTowerExpansion
BuildCost = 1200
BuildTime = 1.0
End

Object IsengardFortressExpansionPadCorner
CommandSet = AllExpansionPadCommandSet
End

Object IsengardFortressExpansionPadSide
CommandSet = AllExpansionPadCommandSet
End

Object ElvenFortressExpansionPadCorner
CommandSet = AllExpansionPadCommandSet
End

Object ElvenortressExpansionPadSide
CommandSet = AllExpansionPadCommandSet
End

Object DwarvenFortressExpansionPadCorner
CommandSet = AllExpansionPadCommandSet
End

Object DwarvenFortressExpansionPadSide
CommandSet = AllExpansionPadCommandSet
End

Object MenFortressExpansionPadCorner
CommandSet = AllExpansionPadCommandSet
End

Object MenFortressExpansionPadSide
CommandSet = AllExpansionPadCommandSet
End

Object WildFortressExpansionPadCorner
CommandSet = AllExpansionPadCommandSet
End

Object WildFortressExpansionPadSide
CommandSet = AllExpansionPadCommandSet
End

Object MordorFortressExpansionPadCorner
CommandSet = AllExpansionPadCommandSet
End

Object MordorFortressExpansionPadSide
CommandSet = AllExpansionPadCommandSet
End






;;;;SILVERBANE`'s INI FROM HERE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;NOW ALL UNITS ARE RECRUITED FROM A SINGE BUILDING


Upgrade Upgrade_OrcFighter
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 800
End

Upgrade Upgrade_OrcArcher
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1400
End


Upgrade Upgrade_Guardian
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1600
End




Upgrade Upgrade_Phalanx
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2200
End


Upgrade Upgrade_AxeThrower
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1900
End



Upgrade Upgrade_CaveTroll
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2500
End


Upgrade Upgrade_Demolisher
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2500
End



Upgrade Upgrade_Easterling
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2500
End




Upgrade Upgrade_Corsair
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2700
End



Upgrade Upgrade_Mumakil
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 8000
End


Upgrade Upgrade_MirkwoodArcher
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3800
End


Upgrade Upgrade_DrummerTroll
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2250
End


Upgrade Upgrade_AttackTroll
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3500
End


Upgrade Upgrade_LorienFighter
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2100
End


Upgrade Upgrade_LorienArcher
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2000
End



Upgrade Upgrade_MithlondSentry
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1300
End



Upgrade Upgrade_BattleWagon
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3400
End


Upgrade Upgrade_WargRider
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2700
End



Upgrade Upgrade_CrossBow
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1600
End



Upgrade Upgrade_UrukFighter
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1600
End


Upgrade Upgrade_UrukPike
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2300
End


Upgrade Upgrade_Wildmen
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2000
End


Upgrade Upgrade_GondorFighter
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1500
End



Upgrade Upgrade_GondorArcher
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1200
End



Upgrade Upgrade_TowerGuard
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 2100
End




Upgrade Upgrade_Ranger
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3250
End



Upgrade Upgrade_GondorKnight
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3000
End





Upgrade Upgrade_Trebuchet
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3750
End




Upgrade Upgrade_FireDrake
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 5000
End





Upgrade Upgrade_SpiderRider
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3200
End




Upgrade Upgrade_GoblinFighter
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 1000
End

Upgrade Upgrade_Ballista
Type = PLAYER
  BuildTime          = 1.0
  BuildCost          = 3500

End



CommandButton Command_ConstructGoblinTroll
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_CaveTroll
	TextLabel			= CONTROLBAR:ConstructGoblinCaveTroll
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGoblinCaveTroll
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE
End




CommandButton Command_ConstructWildSpiderRiderHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_SpiderRider
	TextLabel			= CONTROLBAR:ConstructWildSpiderRiderHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildWildSpiderRiderHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE    
End








CommandButton Command_ConstructMordorDrummerTroll
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_DrummerTroll
	TextLabel			= CONTROLBAR:ConstructMordorDrummerTrolls
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipConstructMordorDrummerTrolls
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE
End

CommandButton Command_ConstructMordorAttackTroll
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_AttackTroll
	TextLabel			= CONTROLBAR:ConstructMordorAttackTroll
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorAttackTroll
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE
End


CommandButton Command_ConstructElvenMirkwoodArcherHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_MirkwoodArcher
	TextLabel			= CONTROLBAR:ConstructElvenMirkwoodArcherHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildElvenMirkwoodArcherHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End




CommandButton Command_ConstructDwarvenGuardianHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Guardian
	TextLabel			= CONTROLBAR:ConstructDwarvenGuardianHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildDwarvenGuardianHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE     
End

;-------------------------------------------


CommandButton Command_ConstructDwarvenPhalanxHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Phalanx
	TextLabel			= CONTROLBAR:ConstructDwarvenPhalanxHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildDwarvenPhalanxHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE    
End



CommandButton Command_ConstructDwarvenDemolisher
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Demolisher
	TextLabel			= CONTROLBAR:ConstructDwarvenDemolisher
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildDwarvenDemolisher
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End




CommandButton Command_ConstructDwarvenAxeThrowerHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_AxeThrower
	TextLabel			= CONTROLBAR:ConstructDwarvenAxeThrowerHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildDwarvenAxeThrowerHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End

CommandButton Command_ConstructMordorOrcFighterHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_OrcFighter
	TextLabel			= CONTROLBAR:ConstructMordorOrcFighterHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorOrcFighterHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE       
End

CommandButton Command_ConstructMordorOrcArcherHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_OrcArcher
	TextLabel			= CONTROLBAR:ConstructMordorOrcArcherHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorOrcArcherHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE      
End



CommandButton Command_ConstructMordorMumakil
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Mumakil
	TextLabel			= CONTROLBAR:ConstructMordorMumakil
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorMumakil
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE       
End


CommandButton Command_ConstructMordorCorsairsOfUmbarHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Corsair
	TextLabel			= CONTROLBAR:ConstructMordorCorsairsOfUmbarHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorCorsairsOfUmbarHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End

CommandButton Command_ConstructEasterlingHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Easterling
	TextLabel			= CONTROLBAR:ConstructMordorEasterlingHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorEasterlingHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE      
End




CommandButton Command_ConstructIsengardFighterHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_UrukFighter
	TextLabel			= CONTROLBAR:ConstructIsengardUrukHai
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardUrukHai
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE      
End

CommandButton Command_ConstructInnIsengardWildmanHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Wildmen
	TextLabel			= CONTROLBAR:ConstructIsengardWildmanHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardWildmanHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE       
End

CommandButton Command_ConstructIsengardUrukCrossbowHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_CrossBow
	TextLabel			= CONTROLBAR:ConstructIsengardCrossbowmen
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardCrossbowmen
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE      
End

CommandButton Command_ConstructIsengardPikemanHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_UrukPike
	TextLabel			= CONTROLBAR:ConstructIsengardPikemen
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardPikemen
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE      
End



CommandButton Command_ConstructIsengardWargRiderHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_WargRider
	TextLabel			= CONTROLBAR:ConstructIsengardWargRider
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardWargRider
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE       
End



CommandButton Command_ConstructElvenLorienWarriorHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_LorienFighter
	TextLabel			= CONTROLBAR:ConstructElvenLorienWarriorHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildElvenLorienWarriorHordeWithNoPrerequisites
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End

CommandButton Command_ConstructElvenLorienArcherHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_LorienArcher
	TextLabel			= CONTROLBAR:ConstructElvenLorienArcherHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildElvenLorienArcherHordeWithNoPrerequisites
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End


CommandButton Command_ConstructElvenMithlondSentryHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_MithlondSentry
	TextLabel			= CONTROLBAR:ConstructElvenMithlondSentryHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildElvenMithlondSentryHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE       
End
CommandButton Command_ConstructDwarvenBattleWagon
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_BattleWagon
	TextLabel			= CONTROLBAR:ConstructDwarvenBattleWagon
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildDwarvenBattleWagon
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE    
End






CommandButton Command_ConstructGondorFighterHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_GondorFighter
	TextLabel			= CONTROLBAR:ConstructGondorFighterHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGondorFighterHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End

CommandButton Command_ConstructGondorTowerShieldGuardHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_TowerGuard
	TextLabel			= CONTROLBAR:ConstructGondorShieldGuardHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGondorShieldGuardHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE      
End

CommandButton Command_ConstructGondorArcherHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_GondorArcher
	TextLabel			= CONTROLBAR:ConstructGondorArcherHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGondorArcherHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE       
End




CommandButton Command_ConstructInnGondorRangerHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Ranger
	TextLabel			= CONTROLBAR:ConstructGondorRangerSummonedHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGondorRangerSummonedHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End





CommandButton Command_ConstructGondorKnightHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_GondorKnight
	TextLabel			= CONTROLBAR:ConstructGondorKnightHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGondorKnightHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE    
End

CommandButton Command_ConstructGondorTrebuchet
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Trebuchet
	TextLabel			= CONTROLBAR:ConstructGondorTrebuchet
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGondorTrebuchet
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End




CommandButton Command_ConstructFireDrakeFromDefectedLair
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_FireDrake
	TextLabel			= CONTROLBAR:ConstructFireDrake
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildFireDrake
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End


CommandButton Command_ConstructGoblinFighterHorde
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_GoblinFighter
	TextLabel			= CONTROLBAR:ConstructGoblinFighterHorde
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildGoblinFighterHorde
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE  
End



CommandButton Command_ConstructIsengardBallista
	Command				= PLAYER_UPGRADE
	Object				= NONE
	Options				=  CANCELABLE
	NeededUpgrade		= NONE
	Upgrade				= Upgrade_Ballista
	TextLabel			= CONTROLBAR:ConstructIsengardSiegeBallista
	ButtonImage			= BMTrollCages_DrummerTroll
	ButtonBorderType	= UPGRADE 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardSiegeBallista
	Radial				= Yes
	InPalantir	   		= 	Yes
	ShowProductionCount	= No    
	NeededUpgrade			= NONE 
End


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


CommandSet ForbiddenPoolNewCommandSet
  1 = Command_ConstructDwarvenGuardianHorde
  2 = Command_ConstructDwarvenPhalanxHorde
  3 = Command_ConstructDwarvenAxeThrowerHorde
  4 = Command_ConstructIsengardBallista
  5 = Command_ConstructDwarvenDemolisher
  6 = Command_ConstructGoblinTroll
  7	= Command_ConstructMordorOrcFighterHorde
  8	= Command_ConstructMordorOrcArcherHorde
  9	= Command_ConstructEasterlingHorde
  10	= Command_ConstructMordorCorsairsOfUmbarHorde
  11     = Command_ConstructMordorMumakil
	12	= Command_ConstructElvenMirkwoodArcherHorde
	13	= Command_ConstructMordorDrummerTroll
	14	= Command_ConstructMordorAttackTroll
	15 = Command_ConstructElvenLorienWarriorHorde
	16 = Command_ConstructElvenLorienArcherHorde
	17 = Command_ConstructElvenMithlondSentryHorde
	18 = Command_ConstructDwarvenBattleWagon
	19 = Command_ConstructIsengardWargRiderHorde
  	20 = Command_ConstructIsengardFighterHorde
  	21 = Command_ConstructIsengardUrukCrossbowHorde
  	22 = Command_ConstructIsengardPikemanHorde
	23 = Command_ConstructInnIsengardWildmanHorde
  	24 = Command_ConstructGondorFighterHorde
  	25 = Command_ConstructGondorTowerShieldGuardHorde
	26 = Command_ConstructGondorArcherHorde
	27 = Command_ConstructInnGondorRangerHorde
	28 = Command_ConstructGondorKnightHorde
	29 = Command_ConstructGondorTrebuchet
	30 = Command_ConstructFireDrakeFromDefectedLair
	31 = Command_ConstructWildSpiderRiderHorde
	32 = Command_ConstructGoblinFighterHorde

End




Object GondorForbiddenPool
CommandSet = ForbiddenPoolNewCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;upgrades seccion;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; xD



Upgrade Upgrade_FireArrowsRingWars
Type = PLAYER
BuildTime = 45.0
BuildCost = 7000
DisplayName = UPGRADE:FireArrowUpgrade
End



Upgrade Upgrade_SilverthornArrowsRingWars
Type = PLAYER
BuildTime = 90.0
BuildCost = 14000
DisplayName = UPGRADE:ElvenSilverthornArrows
End



Upgrade Upgrade_HeavyArmorRingWars
Type = PLAYER
BuildTime = 45.0
BuildCost = 5000
DisplayName = UPGRADE:HeavyArmor
End

Upgrade Upgrade_ForgedBladesRingWars
Type = PLAYER
BuildTime = 60.0
BuildCost = 10000
DisplayName = UPGRADE:ForgedBlades

End


CommandButton Command_PurchaseTechnologyDwarvenFireArrows ;fire arrows for all
	Command				= PLAYER_UPGRADE
	Options				= CANCELABLE
	Upgrade				= Upgrade_FireArrowsRingWars
	NeededUpgrade		= NONE
	TextLabel			= CONTROLBAR:PurchaseTechnologyFireArrowRingWars
	ButtonImage			= BGArcheryRange_FireArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyFireArrowRingWars
	Radial				= Yes
	InPalantir			= Yes
End








CommandButton Command_PurchaseTechnologyElvenSilverthornArrows
	Command				= PLAYER_UPGRADE
	Options				= CANCELABLE
	Upgrade				= Upgrade_SilverthornArrowsRingWars
	NeededUpgrade		= NONE
	TextLabel			= CONTROLBAR:PurchaseSilverthornArrowsRingWars
	ButtonImage			= BEEregionForge_SilverthornArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseSilverthornArrowsRingWars
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackSilverthornTechnology
End




CommandButton Command_PurchaseTechnologyWildHeavyArmor
	Command				= PLAYER_UPGRADE
	Options				= CANCELABLE
	Upgrade				= Upgrade_HeavyArmorRingWars
	TextLabel			= CONTROLBAR:PurchaseTechnologyHeavyArmorRingWars
	ButtonImage			= BWTreasureTrove_ScavengedArmor
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyHeavyArmorRingWars
	Radial				= Yes
	InPalantir			= Yes
End



CommandButton Command_PurchaseTechnologyMordorForgedBlades
	Command				= PLAYER_UPGRADE
	Options				= CANCELABLE
	Upgrade				= Upgrade_ForgedBladesRingWars 
	NeededUpgrade		= NONE
	TextLabel			= CONTROLBAR:PurchaseForgedBladesRingWars
	ButtonImage			= BIArmory_ForgedBlades
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseForgedBladesRingWars
	Radial				= Yes
	InPalantir			= Yes
End


;------TESTING!!!!!!!!!!!!





Upgrade Upgrade_CraftingMaterials
	Type			= OBJECT
	BuildCost		= 1500
	BuildTime		= ELVEN_ENCHANTEDANVIL_BUILDTIME
	DisplayName	= UPGRADE:CraftingMaterials
	ResearchSound	= UpgradeElfFortressEnchantedAnvil
End







CommandButton Command_PurchaseUpgradeElvenFortressEnchantedAnvil
  	Command				= OBJECT_UPGRADE
  	Upgrade				= Upgrade_CraftingMaterials
  	Options				= CANCELABLE
  	TextLabel         	= CONTROLBAR:Anvil
  	ButtonImage       	= BEFortress_EnchantedAnvil
  	ButtonBorderType  	= UPGRADE
  	DescriptLabel     	= CONTROLBAR:ToolTipAnvil
  	Radial            	= Yes
  	InPalantir	   		= Yes
End




CommandSet  NewRingWarsUpgradesCommandset
1 = Command_PurchaseTechnologyWildHeavyArmor
2 = Command_PurchaseTechnologyMordorForgedBlades
3 = Command_PurchaseTechnologyDwarvenFireArrows
4 = Command_PurchaseTechnologyElvenSilverthornArrows
5 = Command_PurchaseUpgradeElvenFortressEnchantedAnvil
End






Object RohanArmory

CommandSet = NewRingWarsUpgradesCommandset



AddModule
	Behavior = CostModifierUpgrade ModuleTag_EnchantedAnvilUpgrades
		LabelForPalantirString	= GUI:UPGRADE_DISCOUNT
		TriggeredBy				= Upgrade_CraftingMaterials	
		UpgradeDiscount			= Yes
		ApplyToTheseUpgrades	= Upgrade_IsengardFireArrows Upgrade_IsengardForgedBlades Upgrade_IsengardHeavyArmor Upgrade_IsengardBasicTraining Upgrade_MordorForgedBlades Upgrade_MordorHeavyArmor Upgrade_MordorFireArrows Upgrade_WildForgedBlades Upgrade_WildHeavyArmor  Upgrade_WildFireArrows  Upgrade_DwarvenMithrilMail Upgrade_DwarvenForgedBlades Upgrade_DwarvenFireArrows Upgrade_GondorFireArrows Upgrade_GondorForgedBlades Upgrade_GondorHeavyArmor Upgrade_ElvenHeavyArmor Upgrade_ElvenForgedBlades Upgrade_ElvenSilverthornArrows 
		Percentage				= -40%
	
	End
End



End



;;;;;;;;;;;;;;;;;;;;;HEROES AND STUFF CHANGES;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;








Weapon WitchKingMorgulBlade
	LeechRangeWeapon = Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	;FireFX					= FX_BlackRiderMorgulBladeTempAudio		;FX_BlackRiderMorgulBlade
	DelayBetweenShots		= EVILMEN_BLACKRIDER_DELAYBETWEENSHOTS
	PreAttackDelay			= EVILMEN_BLACKRIDER_PREATTACKDELAY    ; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration			= EVILMEN_BLACKRIDER_FIRINGDURATION     ; Duration of the archer firing shot is 500ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 40
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = MAGIC
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = MAGIC
		DeathType     = NORMAL
	End

	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = 70
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 40000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	AttributeModifierNugget
		AttributeModifier        = BlackRiderMorgulBlade
		DamageFXType             = SWORD_SLASH
		SpecialObjectFilter      = MORGULBLADE_OBJECT_FILTER
	End
End



CommandButton Command_BlackRiderMorgulBlade ; morgul blade for WK
  Command                 = SPECIAL_POWER
  SpecialPower            = SpecialAbilityBlackRiderMorgulBlade
  Options                 = NEED_TARGET_ENEMY_OBJECT ; CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:BlackRiderMorgulBlade
  CursorName              = EvilAbilityObj
  InvalidCursorName       = GenericInvalid
  ButtonImage             = HSNazgulMorgulBlade
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipWitchKingMorgulBlade
  ;UnitSpecificSound       = LurtzVoiceModeCripplingStrike
  InPalantir			  = Yes
  AutoAbility			  = Yes  
End


CommandSet  WitchKingNewCommandSet
	1 	= Command_ToggleStance	
	2 	= Command_WitchKingDreadVisage
	3 	= Command_SpecialAbilityScreechWitchKing
        4       = Command_BlackRiderMorgulBlade
	5 	= Command_HourOfTheWitchKing
	13 	= Command_AttackMove
	14 	= Command_Stop
End



Object MordorWitchKing

CommandSet = WitchKingNewCommandSet


ReplaceModule ModuleTag_01


	Draw = W3DScriptedModelDraw ModuleTag_NEW_FOR_MORGUL_BLADE_ANIM
	
		OkToChangeModelColor = Yes
		  
		;GlowEnabled = Yes
		;GlowEmissive = No
		
		DefaultModelConditionState
			Model               = MUWchKng_SKN
			Skeleton			= MUWchKng_SKL
		End

		IdleAnimationState
			StateName				= Idle
			Animation
				AnimationName       = MUWchKng_IDLC
				AnimationPriority	= 1
				AnimationBlendTime	= 15
				AnimationMode       = ONCE
			End
			Animation
				AnimationName       = MUWchKng_IDLD
				AnimationPriority = 1
				AnimationBlendTime	= 15
				AnimationMode       = ONCE
			End
			Animation
				AnimationName       = MUWchKng_IDLE
				AnimationPriority = 1
				AnimationBlendTime	= 15
				AnimationMode       = ONCE
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE		
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") end
			EndScript	
		End
		
		AnimationState        = DYING BURNINGDEATH
			Animation           = DIEA
				AnimationName     = MUWchKng_DIEB
				AnimationMode     = ONCE
				AnimationBlendTime = 10
			End
		End
		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = MUWchKng_DIEB
				AnimationMode     = ONCE
			End
		End

		AnimationState        = BURNINGDEATH
			Animation           = DIEA
				AnimationName     = MUWchKng_MFDA
				AnimationMode     = LOOP
				Distance	      = 60
			End
		End


		AnimationState = FREEFALL
			Animation
				AnimationName = MUWchKng_FLYA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
		End
		
		AnimationState = STUNNED_FLAILING
			Animation
				AnimationName = MUWchKng_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags = RANDOMSTART
		End
		
		AnimationState = STUNNED_STANDING_UP
			Animation
				AnimationName = MUWchKng_GTPB
				AnimationMode = ONCE
			End
		End		
		
		AnimationState			= STUNNED 
			Animation           = LNDA
				AnimationName   = MUWchKng_LNDB
				AnimationMode   = ONCE
			End
		End


		AnimationState        =  FIRING_OR_PREATTACK_A
			;Animation           = ATA1		// removing sword anims now that he does a big meta impact attack
			;	AnimationName     = MUWchKng_ATKA
			;	AnimationMode     = ONCE
			;	UseWeaponTiming		= Yes
			;End
			Animation           = ATB1
				AnimationName     = MUWchKng_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATA1
				AnimationName     = MUWchKng_ATKC
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATB1
				AnimationName     = MUWchKng_ATKD
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			Animation           = RUNB
				AnimationName     = MUWchKng_ATRA
				AnimationMode     = LOOP
			End
			Flags = RESTART_ANIM_WHEN_COMPLETE
		End
				
				
;		AnimationState        = BETWEEN_FIRING_SHOTS_A
;			Animation           = ALERT_1
;				AnimationName     = MUWchKng_IDLC
;				AnimationMode     = LOOP
;				AnimationPriority = 10
;			End
;		End

;--------------------------------------MORGUL BLADE----------------------
           AnimationState        = SPECIAL_WEAPON_ONE
			Animation           = ATA1		// sword anim for wk while stabbing with morgul blade
				AnimationName     = MUWchKng_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
                  End



;------------------------------------------------------------------------

		AnimationState        = MOVING
			Animation           = RUNB
				AnimationName     = MUWchKng_RUNB
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		AnimationState = LEVELED
			Animation = Hit_Level_1_a
				AnimationName = MUWchKng_LVLA
				AnimationMode = ONCE
			End
		End		
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = MUWchKng_HITA
				AnimationMode = ONCE
			End
		End

		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = MUWchKng_IDLC
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End
		
		AnimationState = RAISING_FLAG
			Animation
				AnimationName = MUWchKng_CHRA
				AnimationMode = LOOP
			End
		End
								
		AnimationState = SELECTED
			Animation
				AnimationName = MUWchKng_ATNB
				AnimationMode = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript			
		End
				
		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = MUWchKng_ATNA
				AnimationMode     = ONCE
			End
		End
		
		TransitionState       = TRANS_SelectedToIdle
			Animation           = ATNA
				AnimationName     = MUWchKng_ATNC
				AnimationMode     = ONCE
			End
			Flags = START_FRAME_LAST
		End
		
;		TransitionState       = TRANS_SelectedToMace
;			Animation           = ATNA
;				AnimationName     = MUWchKng_STHA
;				AnimationMode     = ONCE
;				AnimationSpeedFactorRange = 0.7 1.3
;			End
;			BeginScript
;					CurDrawableShowSubObject("MACE")
;			EndScript
;		End
		
;		TransitionState       = TRANS_MaceToSelected
;			Animation           = ATNA
;				AnimationName     = MUWchKng_STHB
;				AnimationMode     = ONCE
;				AnimationSpeedFactorRange = 0.7 1.3
;			End
;			BeginScript
;				CurDrawableShowSubObject("MACE")
;			EndScript
;		End
		
;		AnimationState = WAR_CHANT
;			Animation = Chant
;				AnimationName = MUWchKng_CHRA
;				AnimationMode = LOOP
;			End
;			BeginScript
;				CurDrawableHideSubObject("MACE")
;			EndScript
;		End

	End
End

;---------------------------------------------------------------------------------------------------------------
	DisplayName			= OBJECT:MordorWitchKingOnFellBeast
	DisplayNameStrategic = OBJECT:MordorWitchKingOnFellBeast
	RecruitText			= CONTROLBAR:MordorWitchKingOnFellBeastRecruit
	ReviveText			= CONTROLBAR:MordorWitchKingOnFellBeastRevive
	Hotkey				= CONTROLBAR:MordorWitchKingOnFellBeastHotkey
    
;---------------------------------------------------------------------------------------------------------------


ReplaceModule ModuleTag_RespawnUpdate
	Behavior = RespawnUpdate ModuleTag_RespawnUpdateNew
		DeathAnim					= USER_1				;Model condition to play when killed-to-respawn
		DeathFX						= FX_WitchKingDeath		;FXList to play when killed-to-respawn
		DeathAnimationTime			= 5133					;How long DeathAnim will take.
		RespawnAnim					= LEVELED				;Animation to play when respawning.
		InitialSpawnFX				= FX_WitchKingInitialSpawn
		RespawnFX					= FX_WitchKingRespawn		;FXList to play when respawning.
		RespawnAnimationTime		= 2000					;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIWitchKing_res
		RespawnAsTemplate			= MordorWitchKing
		
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =	AutoSpawn:No		Cost:2500		Time:115000		Health:100%		;DEFAULT VALUES
		RespawnEntry =	Level:2				Cost:2500		Time:115000						; ;50% cost, 1x buildtime ;For other levels, only override what is different.
		RespawnEntry =	Level:3				Cost:2500		Time:115000
		RespawnEntry =	Level:4				Cost:2500		Time:115000
		RespawnEntry =	Level:5				Cost:3250		Time:230000						; ;65% cost, 2x buildtime
		RespawnEntry =	Level:6				Cost:3250		Time:230000
		RespawnEntry =	Level:7				Cost:3250		Time:230000
		RespawnEntry =	Level:8				Cost:4000		Time:345000 					; ;80% cost, 3x buildtime
		RespawnEntry =	Level:9				Cost:4000		Time:345000 
		RespawnEntry =	Level:10			Cost:4000		Time:345000 
	End
End


	;--------- MORGUL BLADE -----------------------------------------------------------------------------------
	

AddModule
      Behavior = UnpauseSpecialPowerUpgrade ModuleTag_BlackRiderMorgulBlade
		SpecialPowerTemplate = SpecialAbilityBlackRiderMorgulBlade
		TriggeredBy = Upgrade_Screech
	End
End

AddModule
	Behavior = SpecialPowerModule ModuleTag_BlackRiderMorgulBladeStarter
		SpecialPowerTemplate		= SpecialAbilityBlackRiderMorgulBlade
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= Yes
		InitiateSound				= FellBeastVoiceAttack		;LurtzVoiceAttackCripplingStrike
	End
End

AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_BlackRiderMorgulBladeUpdate
		SpecialPowerTemplate    = SpecialAbilityBlackRiderMorgulBlade
		SkipContinue			= Yes

		UnpackTime				= 250
		PreparationTime			= 1
		PersistentPrepTime		= 500
		PackTime				= 100
		
		AwardXPForTriggering	= 0		
		StartAbilityRange		= 15.0
		
		SpecialWeapon			= WitchKingMorgulBlade
		WhichSpecialWeapon		= 1
	End
End

AddModule
	Behavior = AutoAbilityBehavior ModuleTag_MorgulBladeAutoAbility
		SpecialAbility	= SpecialAbilityBlackRiderMorgulBlade
		ForbiddenStatus = INSIDE_GARRISON
		AllowSelf		= No
		Query			= 1 MORGULBLADE_OBJECT_FILTER
	End
End


END

  

;increased money income for lurtz


ModifierList LurtzPassiveOutlawLeadership
	Category = WEAPON
	Modifier = BOUNTY_PERCENTAGE 400.0% ; 100.0%	// Percentage of victim bounty value to build granted to slaying member's player.
	Duration = 3000						// ms
End





;;;;;;;;;;;;;;;;;;;;;;FARAMIR new skill;;;;;;;;;;;;;;;;;;;;;;;;;;;







Weapon FaramirBarbedArrowWarhead

	ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 500
		DamageScalar  = 90% NONE +STRUCTURE +MordorCatapult +IsengardBallista +GondorTrebuchet +GondorTrebuchetWall 
		DamageScalar  = 200% NONE +GondorGwaihir
		DamageScalar  = 150% NONE +MordorMountainTroll +MordorCaveTroll +MordorDrummerTroll
		DamageScalar  = 90% NONE +Drogoth
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = MAGIC
		DeathType     = BURNED
	End
; ;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 150
		Radius        = 15.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = MAGIC ; ;
		DeathType     = BURNED
	End


	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = 150
                DamageScalar  = 200% NONE +MordorWitchKing -HERO -Drogoth
                DamageScalar  = 85% NONE +HERO -MordorWitchKing -Drogoth
                DamageScalar  = 45% NONE +Drogoth -HERO -MordorWitchKing ; this was owning drogoth
		AcceptDamageAdd = No
		Radius        = 10.0
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FIRE3
		DeathType     = BURNED
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = ALL -STRUCTURE -SHIP -MordorSauron  -MordorRingWraith -MordorRingWraithNoGlow -BarrowWight -RohanOathbreaker -IsengardDeployedExplosiveMine -MordorBalrog
	End




	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = 45
		AcceptDamageAdd = No
		Radius        = 40.0
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FIRE3
		DeathType     = BURNED
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = ALL -STRUCTURE -SHIP -MordorSauron  -MordorRingWraith -MordorRingWraithNoGlow -BarrowWight -RohanOathbreaker -IsengardDeployedExplosiveMine -MordorBalrog
	End



  MetaImpactNugget          ; A Nugget that throws things back with force
    ShockWaveAmount   		= 76.0
    ShockWaveRadius   		= 25.0
    ShockWaveTaperOff 		= 1.1
    ShockWaveArc      		= 180
    ShockWaveZMult    		= 1.20
  End



End






Object HobbitRockProjectile

ReplaceModule ModuleTag_Draw
  Draw = W3DScriptedModelDraw ModuleTag_DrawNew
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone     = NONE FireBombFire
    End
  End
End


ReplaceModule ModuleTag_Draw2
  Draw = W3DStreakDraw ModuleTag_Draw2New
	Length		= 15
	Width		= 3
	NumSegments	= 1				; number of segements in the streak, increase for smoother line
	Color		= R:255 G:255 B:255
	Texture		= EXArrowStreakFire.tga
  End
End





AddModule
  Draw = W3DStreakDraw ModuleTag_Draw3
	Length = 50
	Width = 1
	NumSegments = 3				; number of segements in the streak, increase for smoother line
	Color = R:128 G:64 B:64
	Texture = EXLightStreaks2.tga
  End
End



AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    StartsActive = Yes
    DeathWeapon = FaramirBarbedArrowWarhead
  End
End



END







Weapon HobbitRockThrow  ; BALANCE Hobbit Weapon Rock 
	AttackRange				= FARAMIR_WOUNDING_ARROW_RANGE
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX					= FX_ThranduilThornOfVengeance	;FX_FaramirWoundingArrow
	ScaleWeaponSpeed		= Yes ; Used for lob weapons, scales speed proportional to range
	HitStoredTarget			= Yes	; Always hits initial target.
	HitPercentage			= 100		 
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:THRANDUIL_THORN_RELOADTIME_MIN Max:THRANDUIL_THORN_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= BAT_HEAD ; Likes to shoot things in their head.
	
										; A Nugget that creates an Object and sends it to the target with a Warhead

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End






SpecialPower SpecialAbilityBarbedArrowHigh
  Enum                = SPECIAL_WOUND_ARROW
  ReloadTime          = 110000 ; in milliseconds
  ObjectFilter = ALL -BASE_FOUNDATION -INERT -IGNORED_IN_GUI -WALK_ON_TOP_OF_WALL -BLOCKING_GATE -WALL_UPGRADE -UNATTACKABLE -MOVE_ONLY
End



CommandButton Command_PurchaseTechnologyMordorBarbedArrows
	Command				= SPECIAL_POWER
        SpecialPower                    = SpecialAbilityBarbedArrowHigh
	Options				= NEED_TARGET_ENEMY_OBJECT UNMOUNTED_ONLY
	Upgrade				= NONE
	TextLabel			= CONTROLBAR:BarbedArrow
	ButtonImage			= UCCommon_BarbedArrows
	ButtonBorderType	= ACTION
  CursorName              = EvilAbilityObj
  InvalidCursorName       = GenericInvalid
	DescriptLabel		= CONTROLBAR:ToolTipBarbedArrow
	Radial				= No
	InPalantir			= Yes
	LacksPrerequisiteLabel		= NONE
  DisableOnModelCondition = WEAPONSET_TOGGLE_1
        AutoAbility = Yes
End






CommandButton Command_SpecialAbilityCaptainOfGondor
  Command                 = SPECIAL_POWER
  SpecialPower            = SpecialAbilityKingsFavor
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:CaptainofGondor
  ButtonImage             = HSFaramirCaptainOfGongor
  CursorName              = Bombard
  RadiusCursorType        = CaptainOfGondorRadiusCursor
  InvalidCursorName       = GenericInvalid
  ;Upgrade                 = Upgrade_FaramirCaptainOfGondor
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipCaptainofGondorNew
  AutoAbility		  = No
  InPalantir              = Yes
 ; UnitSpecificSound       = FaramirKnightVoiceCaptain
End








CommandSet GondorFaramirCommandSetNew
	1= Command_ToggleStance
	2 = Command_ToggleFaramirWeapon
	3 = Command_SpecialAbilityWoundArrow
	4 = Command_SpecialAbilityFaramirPrinceOfIthilien09v2 ;;-;; Command_SpecialAbilityCaptainOfGondor
	5 = Command_FaramirFakeLeadershipButton
	6 = Command_PurchaseTechnologyMordorBarbedArrows
	12 = Command_CaptureBuilding
	13 = Command_AttackMove
	14 = Command_Stop
End







Object GondorFaramir


CommandSet = GondorFaramirCommandSetNew

ReplaceModule ModuleTag_KingsFavorEnabler
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KingsFavorEnablerNew
		SpecialPowerTemplate = SpecialAbilityKingsFavor
		TriggeredBy = Upgrade_FaramirWarSpeech
	End
End


AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseBarbedArrow
		SpecialPowerTemplate		= SpecialAbilityBarbedArrowHigh
		TriggeredBy					= Upgrade_ElvenForgedBlades
	End
End


AddModule
	Behavior = SpecialPowerModule ModuleTag_BarbedArrow...
		SpecialPowerTemplate		= SpecialAbilityBarbedArrowHigh
		UpdateModuleStartsAttack	= Yes
    	InitiateSound				= FaramirRangerVoiceAttack
    	StartsPaused				= Yes
	End
End



AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_BarbedArrowUpdate
		SpecialPowerTemplate		= SpecialAbilityBarbedArrowHigh
		SkipContinue				= Yes
		UnpackTime					= 2000 
		PreparationTime				= 1   
		PersistentPrepTime			= 1000 
		PackTime					= 1
		AwardXPForTriggering		= 0
		StartAbilityRange			= 320
		ApproachRequiresLOS			= Yes
		SpecialWeapon				= HobbitRockThrow
		WhichSpecialWeapon			= 1
	End
End




AddModule
	Behavior = AutoAbilityBehavior ModuleTag_BarbedArrowAutoAbility
		SpecialAbility				= SpecialAbilityBarbedArrowHigh
		MaxScanRange				= 320
		Query						= 1 ALL ENEMIES -STRUCTURE
	End
End

End








ExperienceLevel	FaramirLevel1
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	1	
	ExperienceAward					=	FARAMIR_LVL1_EXP_AWARD  
	Rank							=	1
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel2
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL2_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL2_EXP_AWARD  
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	2
	AttributeModifiers				=	HeroLevelUpDamage1
	Upgrades						=	Upgrade_ObjectLevel2
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel3
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL3_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL3_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	3
	Upgrades						=   Upgrade_FaramirKnightRangerToggle
	AttributeModifiers				=	HeroLevelUpDamage2
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel4
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL4_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL4_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	4
	AttributeModifiers				=	HeroLevelUpDamage3
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel5
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL5_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL5_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	5
	AttributeModifiers				=	HeroLevelUpDamage4
	Upgrades						=	Upgrade_FaramirWarSpeech
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel6
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL6_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL6_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	6
	Upgrades						=	Upgrade_FaramirLeadership
	AttributeModifiers				=	HeroLevelUpDamage5
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel7
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL7_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL7_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	7
	Upgrades						=   Upgrade_FaramirCaptainOfGondor
	AttributeModifiers					=	HeroLevelUpDamage6
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel8
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL8_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL8_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	8
	AttributeModifiers				=	HeroLevelUpDamage7
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel9
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL9_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL9_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	9
        Upgrades                                                = Upgrade_ElvenForgedBlades
	AttributeModifiers				=	HeroLevelUpDamage8
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

ExperienceLevel	FaramirLevel10
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL10_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL10_EXP_AWARD  	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	10
	AttributeModifiers				=	HeroLevelUpDamage9

	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	







FXList FX_BoromirRage
  Sound
   Name = BoromirVoiceHelpMe
  End

  TintDrawable
	Color				= R:180 G:0 B:0
	PreColorTime		= 10
	PostColorTime		= 10
	SustainedColorTime	= 440 ; ;880
	Frequency			= 0
	Amplitude			= 0
  End



End





;----------------------------------BOROMIR--------------------------------
;I WANT TO ADD HIM A LAST STAND POWER, LIKE TROLLS DO SOMETIMES...HE FIGHTS FOR A FEW MORE MOMENTS AFTER DEATH


Object GondorBoromir

BountyValue = 300

AddModule
	Body = DelayedDeathBody ModuleTag_DelayedDeathBody ;DelayedDeath is a variation of RespawnBody
		CheerRadius 				= EMOTION_CHEER_RADIUS
		MaxHealth				= BOROMIR_HEALTH		; BALANCE
		DelayedDeathTime			= 10000						; Amount of time spent still fighting after being killed
		;DelayedDeathPrerequisiteUpgrade		= Upgrade_BoromirLastStand	; Need this upgrade to be able to delay my death. - no longer used
		InvulnerableFX				= FX_BoromirRage
    	        ;BurningDeathBehavior	= Yes

		PermanentlyKilledByFilter		= NONE		;Who kills me permanently?
  		DodgePercent      			= HERO_DODGE_PERCENT				
	End
End



ReplaceModule ModuleTag_03
	Behavior = AIUpdateInterface ModuleTag_03New
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			= 500
                RampageTime				= 10000
		AILuaEventsList				= BoromirFunctions
	End
End




End






Object IsengardWildman
BountyValue = 7
End



Weapon IsengardWildmanCudgel  ; BALANCE
        RadiusDamageAffects     = ENEMIES  NOT_SIMILAR 
	LeechRangeWeapon	= Yes
	AttackRange			= 30.0
	MeleeWeapon			= Yes
	DelayBetweenShots	= ISENGARD_WILDMAN_DELAYBETWEENSHOTS            ; time between shots, msec
	PreAttackDelay		= ISENGARD_WILDMAN_PREATTACKDELAY             ; 433 is natural time of the stabbing animation.
	PreAttackType		= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration		= ISENGARD_WILDMAN_FIRINGDURATION            ; min 600 for anim
	FireFX				= FX_GondorSwordHit
	FireFlankFX			= FX_Flanking

End


Locomotor FiredrakeLocomotorNew
  Surfaces                        = GROUND
  SlowTurnRadius				  = 2.0 ;12.0 ;  From a standing starts, 30 foot radius.
  FastTurnRadius		          = 20.0 ;12.0 ; Once the catapult gets moving, still uses a 30 foot radius to turn.
  TurnTime						  = 600
  TurnTimeDamaged				  = 800
  Acceleration = 500  ; 1 second to accelerate to full speed.
  FormationPriority				  = MELEE1 ;ARTILLERY2

  Braking  = 500  ; 1 second to brake from full speed.
  MinTurnSpeed                    = 100%
  TurnPivotOffset                 = 1.0 ;-0.264   ; where to pivot when turning (-1.0 = rear, 0.0 = center, 1.0 = front)
  ZAxisBehavior                   = NO_Z_MOTIVE_FORCE
  Appearance                      = FOUR_WHEELS
                                  
  AccelerationPitchLimit          = 0      ; Angle limit how far chassis will lift or roll from acceleration.
  BounceAmount                    = 12              ;  simulates hitting random rocks.  0==smooth pavement, 200 = bumpy.
  PitchStiffness                  = 0.5             ;  stiffness of the "springs" in the suspension forward & back.
  RollStiffness                   = 0.5            ;  stiffness of the "springs" in the suspension side to side.
  PitchDamping                    = 1.0;              ;  How fast it damps.  0=perfect spring, bounces forever.  1=glued to terrain.
  RollDamping                     = 1.0;               ;  How fast it damps.  0=perfect spring, bounces forever.  1=glued to terrain.
  ForwardAccelerationPitchFactor  = 0.0  ; How much acceleration will cause the front to lift, or dip for stops.
  LateralAccelerationRollFactor   = 0.0   ;  How much cornering will cause the chassis to roll.
  UseTerrainSmoothing             = Yes         ; Smooth out the normals by multisampling
                                  
  HasSuspension                   = Yes           ; Calculate 4 wheel independent suspension info.
  CanMoveBackwards                = No        ; Can move backwards.
  MaximumWheelExtension           = -2.3  ; Maximum distance the wheels will drop on the model.
  MaximumWheelCompression         = 1.4 ; Maximum distance the wheel will move up into the chassis.
  FrontWheelTurnAngle             = 0      ; How many degrees the front wheels can turn.
End



Object WildFireDrake

	BountyValue			= 160  ;250
        ShockwaveResistance             = SHOCKWAVE_RESISTANCE_STRONG



	LocomotorSet
		Locomotor = FiredrakeLocomotorNew
		Condition = SET_NORMAL
		Speed     = 82 ; ;120
	End

 	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 80 ; ;120
	End

End






;;;;;;;;;;;;;;;;;;;;;;;;;;;;HALDIR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;



FXList FX_HaldirElectricArrow
  Sound
    Name = WizardTowerLightningStrikeBolt
  End
End



Weapon ElectricalArrowsWarhead
	ProjectileCollidesWith		= ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects			= ENEMIES NEUTRALS  NOT_SIMILAR
	HitStoredTarget				= Yes
	DamageNugget
		Damage					= 350
		Radius					= 25.0
		DelayTime				= 0
		DamageType				= HERO_RANGED
		DamageFXType			= ELECTRIC
		DeathType				= EXPLODED
	End





	DamageNugget
                SpecialObjectFilter = NONE +HERO -MordorBalrog -Drogoth
		Damage					= 150
		Radius					= 1.0
		DelayTime				= 0
		DamageType				= HERO
		DamageFXType			= MAGIC
		DeathType				= EXPLODED
	End


	DamageNugget
		Damage					= 200
                DamageScalar                            = 85% NONE +MordorBalrog
		Radius					= 0.0
		DelayTime				= 300
		DamageType				= MAGIC
		DamageFXType			= MAGIC
		DeathType				= EXPLODED
	End




	DamageNugget
		Damage					= 1
		Radius					= 0.0
		DelayTime				= 300
		DamageType				= MAGIC
		DamageSubType			= BECOME_UNDEAD
		DeathType				= EXPLODED
	End

	MetaImpactNugget
		ShockWaveAmount			= 50.0
		ShockWaveRadius			= 5.0
		ShockWaveArc			= 90
		ShockWaveTaperOff		= 1.0
		ShockWaveSpeed			= 800
		ShockWaveZMult			= 1.2
		OnlyWhenJustDied		= Yes
	End
End


Weapon DwarvenMenOfDaleBlackArrows
	AttackRange					= 450
	WeaponSpeed					= 321
	MinWeaponSpeed				= 241
	MaxWeaponSpeed				= 481
	FireFX						= FX_HaldirElectricArrow
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	HitStoredTarget				= Yes
	DelayBetweenShots			= 0
	PreAttackDelay				= ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY
	PreAttackType				= PER_POSITION
	FiringDuration				= 0

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:1600 Max:1700
	ContinuousFireOne			= 0
	ContinuousFireCoast			= THRANDUIL_RELOADTIME_MAX
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	CanBeDodged		= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = BlackArrowsProjectile
		WarheadTemplateName     = DwarvenMenOfDaleBlackArrowWarhead
	End
End


Object MordorBalrog
  KindOf          = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY SCARY BIG_MONSTER CAN_ATTACK_WALLS SUMMONED SUBMARINE
End


Object WildMarauder 
	KindOf		= PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT PIKE
End

Object IsengardPikeman
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP URUK ATTACK_NEEDS_LINE_OF_SIGHT CAN_USE_SIEGE_TOWER PIKE
End




Weapon HaldirBlade  ; BALANCE Haldir Sword Weapon
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = HALDIR_SWORD_DELAYBETWEENSHOTS   	       ; time between shots, msec
	PreAttackDelay        = HALDIR_SWORD_PREATTACKDELAY   	;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FireFX                = FX_GondorSwordHit
	FiringDuration        = HALDIR_SWORD_FIRINGDURATION   			;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	HitPercentage = 100 ; ;Always scatter
        ScatterRadius = 10.0
        ScatterIndependently	= YES




	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = #MULTIPLY( HALDIR_SWORD_DAMAGE 0.75 ) ; ;
		DamageScalar  = 2% NONE +SUBMARINE ; evil hack so we can differentiate the balrog
		Radius        = 10.0 ; ;
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End
	; ;
	DamageNugget                        ; A basic Nugget that just does damage
                SpecialObjectFilter = ANY +HERO +MONSTER +MACHINE +PIKE +CAVALRY +URUK
		Damage        = #MULTIPLY( HALDIR_SWORD_DAMAGE 3.5 )
		DamageScalar  = 25% ANY +STRUCTURE -SUBMARINE
		DamageScalar  = 70% ANY +HERO -SUBMARINE
		DamageScalar  = 0% NONE +SUBMARINE
		Radius        = 2
		DelayTime     = 200
		DamageType    = HERO
		DamageFXType  = REFLECTED ; ;
		DeathType     = EXPLODED
	End
End








FXParticleSystem ElectricArrow
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLightning03.tga
    PerParticleAttachedSystem = GandalfBeamExplosion
    Lifetime = 3 3
    SystemLifetime = 50
    Size = 3 15
    BurstDelay = 0 3
    BurstCount = 1 5
  End
  Color = DefaultColor
    Color1 = R:121 G:121 B:205 0
    Color2 = R:255 G:255 B:255 2
    Color3 = R:0 G:0 B:0 5
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.2
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
    DriftVelocity = X:0 Y:0 Z:-0.1
  End
  EmissionVelocity = OrthoEmissionVelocity
    Z = 0 -0.1
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 10
  End
  Draw = DefaultDraw
  End
End




Object BlackArrowsProjectile


ReplaceModule ModuleTag_Draw
  Draw = W3DScriptedModelDraw ModuleTag_DrawNEW
    DefaultModelConditionState     
      Model = EXBlack_AROW
      ParticleSysBone = NONE ElectricArrow FOLLOWBONE:YES
    End
  End
End

ReplaceModule ModuleTag_Draw2
    Draw = W3DStreakDraw ModuleTag_Draw2New
	    Length		= 100
	    Width		= 2
	    NumSegments	= 6				; number of segements in the streak, increase for smoother line
	    Color		= R:40 G:40 B:240
	    Texture		= EXSpearhead.tga
    End
End




ReplaceModule ModuleTag_04
 Behavior = BezierProjectileBehavior ModuleTag_04New
    ; To tweak a Bezier path
    DetonateCallsKill = Yes
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    GroundHitFX = FX_GondorArrowDeath
    CurveFlattenMinDist = 100.0
  End
End





AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    StartsActive = Yes
    DeathWeapon = ElectricalArrowsWarhead
  End
End



END








FXParticleSystem Swordmaster ; ;
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXRing01.tga
    Lifetime = 15 15
    SystemLifetime = 450 450
    SortLevel = 1
    Size = 10 15
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color2 = R:60 G:50 B:150 5 ;91 30 30 
    Color3 = R:0 G:0 B:0 15
    Color4 = R:32 G:32 B:32 0
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 10
  End
  Draw = DefaultDraw
  End
End




FXList FX_Swordmaster
  ParticleSystem
    Name = Swordmaster
    Offset = X:0.0 Y:0.0 Z:7.0
    AttachToObject = Yes
  End
End


ModifierList Swordmaster
	Category = SPELL
	Modifier = RESIST_KNOCKBACK 100%
        Modifier = ARMOR 50%
	Modifier = DAMAGE_MULT 200%		// Multiplicitive.  Damage multiplied by this, will compound in multiple bonuses
	Duration = 15000 ; ;30000
        FX       = FX_Swordmaster
End







CommandButton Command_CreateAHero_BallLightning_L1
	Command			   = SPECIAL_POWER 
	SpecialPower	   = SpecialAbilityLurtzCarnage
	Options			   = NONE
	TextLabel		   = CONTROLBAR:LightningArrows
	ButtonImage		   = HSBallLightning
	CursorName		   = NONE
	InvalidCursorName  = NONE
	ButtonBorderType   = ACTION	
	DescriptLabel	   = CONTROLBAR:ToolTipLightningArrows
	AutoAbility		   = Yes
	InPalantir		   = Yes
        EnableOnModelCondition  = WEAPONSET_TOGGLE_1
        DisableOnModelCondition = WEAPONLOCK_PRIMARY
End





CommandButton Command_SpecialAbilityGlorfindelBladeOfPurity
	Command				= SPECIAL_POWER
	SpecialPower		= SpecialAbilityGlorfindelBladeOfPurity
	Options				= NONE 
	TextLabel			= CONTROLBAR:HaldirBlademaster
	DescriptLabel		= CONTROLBAR:ToolTipHaldirBlademaster
	ButtonImage			= HSGlorfindelBladeofPurity
	ButtonBorderType	= ACTION
	InPalantir			= Yes
	AutoAbility			= Yes
	AutoDelay			= 10.0 
	UnitSpecificSound	= GlorfindelBladeOfPurityMS
        DisableOnModelCondition  = WEAPONSET_TOGGLE_1 HERO
End



CommandButton Command_ToggleHaldirWeapon
	Command				= TOGGLE_WEAPONSET
	Options				= TOGGLE_IMAGE_ON_WEAPONSET OK_FOR_MULTI_SELECT
	FlagsUsedForToggle	= WEAPONSET_TOGGLE_1
	TextLabel           = CONTROLBAR:ToggleElvenWarriorWeapons
	ButtonImage         = UCElven_Bow UCElven_Sword
	ButtonBorderType    = ACTION 
	DescriptLabel       = CONTROLBAR:ToolTipToggleElvenWarriorWeapons
	InPalantir			= Yes
	UnitSpecificSound   = HaldirVoiceModeBow HaldirVoiceModeSword
        DisableOnModelCondition = HERO	WEAPONLOCK_PRIMARY
		
End




CommandButton Command_HaldirGoldenArrow
	Command					= SPECIAL_POWER
	SpecialPower			= SpecialAbilityHaldirGoldenArrow
	Options					= NEED_TARGET_ENEMY_OBJECT NEED_TARGET_NEUTRAL_OBJECT
	TextLabel				= CONTROLBAR:HaldirGoldenArrow
	DescriptLabel			= CONTROLBAR:ToolTipHaldirGoldenArrow
	ButtonImage				= HSHaldirGoldenArrow
	ButtonBorderType		= ACTION
	InPalantir				= Yes
	AutoAbility				= Yes
	PresetRange				= HALDIR_BOW_RANGE
	CursorName				= Bombard
	InvalidCursorName		= GenericInvalid
        EnableOnModelCondition = WEAPONSET_TOGGLE_1
        DisableOnModelCondition = HERO	WEAPONLOCK_PRIMARY
End




CommandSet  NewHaldirCommandSet
	1	= Command_ToggleStance
	2	= Command_ToggleHaldirWeapon
        3       = Command_SpecialAbilityGlorfindelBladeOfPurity
	4	= Command_HaldirFakeLeadershipButton
        5       = Command_CreateAHero_BallLightning_L1    ; lightning arrow$
	6	= Command_HaldirGoldenArrow
	12	= Command_CaptureBuilding
 	13	= Command_AttackMove
	14	= Command_Stop
End



FXParticleSystem HaldirBowGlow
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXGassmoke09.tga
    Lifetime = 12 12
    SortLevel = 1
    Size = 3 5
    BurstCount = 1 1
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:26 G:27 B:75 7
    Color3 = R:0 G:0 B:0 12
    ColorScale = 2 2
  End
  Alpha = DefaultAlpha
    Alpha1 = 0 0 1
    Alpha2 = 1 1 10
    Alpha3 = 0 0 20
  End
  Update = DefaultUpdate
    SizeRateDamping = 0.8 0.8
    AngularRateZ = 2 2
    AngularDamping = 1 1
    Rotation = ROTATE_Z
    AngleXY = 45 45
    AngularRateXY = 0.1 0.3
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 0.9 0.9
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:15
    EndPoint = X:0 Y:0 Z:7
  End
  Draw = DefaultDraw
  End
End


Object ElvenHaldir

BountyValue = 300


ReplaceModule ModuleTag_DRAW
	Draw = W3DScriptedModelDraw ModuleTag_DRAWNEWFORARROWGLOW
		
		StaticModelLODMode					= yes
		OkToChangeModelColor = Yes
		
		; Sword version
		DefaultModelConditionState
			Model							= EUHaldir_SKN
			Skeleton						= EUHaldir_SKL
			WeaponLaunchBone				= PRIMARY ARROW
		End

		; Bow version
		ModelConditionState					= WEAPONSET_TOGGLE_1
			Model							= EUHaldir_SKN
			Skeleton						= EUHaldir_SKL
		End




	ModelConditionState = WEAPONSET_HERO_MODE
		ParticleSysBone = BOWBONE HaldirBowGlow FollowBone:Yes
	End


	ModelConditionState = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1
		ParticleSysBone = BOWBONE HaldirBowGlow FollowBone:Yes
	End



		AnimationState						= PASSENGER WEAPONSET_TOGGLE_1
			StateName						= STATE_Grabbed
			Animation						= Bow
				AnimationName				= EUHaldir_FLYA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= PASSENGER
			StateName						= STATE_Grabbed
			Animation						= Sword
				AnimationName				= EUHaldir_FLYB
				AnimationMode				= LOOP
			End
		End


		AnimationState						= FREEFALL WEAPONSET_TOGGLE_1
			StateName						= STATE_Falling
			Animation						= Bow
				AnimationName				= EUHaldir_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.5	0.5
			End
		End
		AnimationState						= FREEFALL
			StateName						= STATE_Falling
			Animation						= Sword
				AnimationName				= EUHaldir_FLYB
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.24 0.24
			End
		End


		AnimationState						= STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName						= STATE_Fly
			Animation
				AnimationName				= EUHaldir_FLYA
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES2
		End
		AnimationState						= STUNNED_FLAILING
			StateName						= STATE_Fly
			Animation						= Sword
				AnimationName				= EUHaldir_FLYB
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES2
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "Ready_Bow" or PrevState == "Moving_Bow" or PrevState == "Bored_Bow"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				elseif PrevState == "STATE_Fly"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End


		AnimationState						= DYING DEATH_1 SPLATTED WEAPONSET_TOGGLE_1
			StateName						= STATE_Dead
			Animation						= Bow
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
		End
		AnimationState						= DYING DEATH_1 SPLATTED
			StateName						= STATE_Dead
			Animation						= Sword
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
		End


		AnimationState						= DYING DEATH_1 WEAPONSET_TOGGLE_1
			Animation						= Bow1
				AnimationName				= EUHaldir_DIEBV5
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_DIEBV5
				AnimationMode				= ONCE
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableHideSubObject("ArrowNock")
					CurDrawableHideSubObject("arrow")
					return "WantBow"
				end
				if GetClientRandomNumberReal(0,2) < 1
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow1"
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow2"
				end
			EndScript
		End
		AnimationState						= DYING DEATH_1
			Animation						= Sword1
				AnimationName				= EUHaldir_DIESv5
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_DIESV5
				AnimationMode				= ONCE
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				end
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if GetClientRandomNumberReal(0,2) < 1
				then
					return "Sword1"
				else
					return "Sword2"
				end
			EndScript
		End


		AnimationState						= DYING DEATH_2 WEAPONSET_TOGGLE_1
			Animation						= FadeOut
				AnimationName				= EUHaldir_DIEBV5
				AnimationMode				= ONCE
			End
		End
		AnimationState						= DYING DEATH_2
			Animation						= FadeOut
				AnimationName				= EUHaldir_DIESV5
				AnimationMode				= LOOP
			End
		End


		AnimationState						= STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName						= STATE_GetUp
			Animation						= Bow
				AnimationName				= EUHaldir_GTPB
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.42 1.42

			End
			Animation						= WantBow
				AnimationName				= EUHaldir_GTPSX1
				AnimationMode				= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then	
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow"
				end
			EndScript
		End
		AnimationState						= STUNNED_STANDING_UP
			StateName						= STATE_GetUp
			Animation						= Sword
				AnimationName				= EUHaldir_GTPSX1
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.2	1.2
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_GTPB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then	
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End


		AnimationState						= STUNNED WEAPONSET_TOGGLE_1
			StateName						= STATE_Land
			Animation						= Bow
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES3
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				end
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				return "Bow"
			EndScript
		End
		AnimationState						= STUNNED
			StateName						= STATE_Land
			Animation						= Sword
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantSword" or PrevAnim == "Bow"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				Flags						= MAINTAIN_FRAME_ACROSS_STATES3
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= LOOP
			End
		End


		AnimationState						= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName						= Attacking_Bow
			Animation
				AnimationName				= EUHaldir_ATA2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
				AnimationBlendTime			= 20
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End
		AnimationState						= FIRING_OR_PREATTACK_A
			StateName						= Ready_Sword
			
			Animation						= AttackWithSwordA
				AnimationName				= EUHaldir_ATKSV2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= AttackWithSwordB
				AnimationName				= EUHaldir_ATKSV2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= AttackWithSwordD
				AnimationName				= EUHaldir_ATKSV4
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End

		AnimationState						= SPECIAL_WEAPON_ONE
			Animation
				AnimationName				= EUHaldir_SPCA
				AnimationMode				= ONCE
			End
			FrameForPristineBonePositions	= 60
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End


		AnimationState						= MOVING WEAPONSET_TOGGLE_1
			StateName						= Moving_Bow
			Animation
				AnimationName				= EUHaldir_RUNB
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Moving_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Moving") end
			EndScript
		End
		AnimationState						= MOVING
			StateName						= Moving_Sword
			Animation
				AnimationName				= EUHaldir_RUNS
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Moving_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Moving") end
			EndScript
		End


		AnimationState						= PREATTACK_A WEAPONSET_TOGGLE_1
			Animation						= ReadyToDrawn
				AnimationName				= EUHaldir_ATA1
				AnimationMode				= ONCE
				AnimationBlendTime			= 0
				UseWeaponTiming				= Yes
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End

		AnimationState						= FIRING_OR_RELOADING_A WEAPONSET_TOGGLE_1
			StateName						= STATE_Firing
			Animation
				AnimationName				= EUHaldir_ATA2
				AnimationMode				= ONCE
				AnimationBlendTime			= 30
				UseWeaponTiming				= Yes
				AnimationSpeedFactorRange	= 1.5 1.5
			End
			Flags							= START_FRAME_FIRST
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("ArrowNock")
			EndScript
		End


		AnimationState						= MOVING BACKING_UP WEAPONSET_TOGGLE_1
			StateName						= STATE_BackingUp
			Animation						= Bow
				AnimationName				= EUHaldir_BAKB
				AnimationMode				= LOOP
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_BAKS
				AnimationMode				= LOOP
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						return "WantBow"
					end
				end
				return "Bow"
			EndScript
		End
		AnimationState						= MOVING BACKING_UP
			StateName						= STATE_BackingUp
			Animation						= Sword
				AnimationName				= EUHaldir_BAKS
				AnimationMode				= LOOP
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_BAKS
				AnimationMode				= LOOP
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						return "WantSword"
					end
				end
				return "Sword"
			EndScript
		End


		AnimationState						= CONTINUOUS_FIRE_MEAN
			Animation						= HangFrameWhileCoasting
				AnimationName				= EUHaldir_ATA2
				AnimationMode				= MANUAL
				AnimationBlendTime			= 20
			End
			Flags							= START_FRAME_LAST
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
			;;;;
			;;;;	VERY IMPORTANT ARCHER INFORMATION
			;;;;	THIS WILL STOP THE JITTERS, AND BEST
			;;;;	YET, IT'S A COMPLETE HACK! Just look above.
			;;;;	We say that if we get into this state
			;;;;	from firing, just continue to fire. DONE.
			;;;;
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		End
		AnimationState						= CONTINUOUS_FIRE_SLOW
			StateName						= Ready_Bow
			Animation						= PutAwayArrow
				AnimationName				= EUHaldir_ATA3
				AnimationMode				= ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
			EndScript
		End


		AnimationState						= ATTACKING WEAPONSET_TOGGLE_1
			StateName						= Ready_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BR_Bow") end
				if Prev == "Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
				end
			EndScript
		End
		AnimationState						= ATTACKING
			StateName						= Ready_Sword
			Animation						= Alert_1
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= LOOP
			End
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BR_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
				end
			EndScript
		End


		AnimationState						= ENGAGED WEAPONSET_TOGGLE_1
			StateName						= Ready_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end
			EndScript
		End
		AnimationState						= ENGAGED
			StateName						= Ready_Sword
			Animation						= Alert_1
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= LOOP
			End
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End


		AnimationState						= EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName						= Ready_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow") end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End 
		AnimationState						= EMOTION_ALERT
			StateName						= Ready_Sword
			Animation						= Alert_1
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= LOOP
			End
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BR_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End


		AnimationState						= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")

					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")
				end
			EndScript
		End
		AnimationState						= EMOTION_CELEBRATING
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		


		AnimationState						= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow1
				AnimationName				= EUHaldir_TNTA
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_TNTA
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		AnimationState						= EMOTION_TAUNTING
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_TNTB
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_TNTB
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
					then
						CurDrawableAllowToContinue()
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End


		AnimationState						= EMOTION_POINTING WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow
				AnimationName				= EUHaldir_PNTA
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_PNTA
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		AnimationState						= EMOTION_POINTING
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_PNTB
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_PNTB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End


		AnimationState 						= HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
			StateName						= Bored_Bow
			Animation
				AnimationName				= EUHaldir_HITA
				AnimationMode 				= ONCE
				AnimationSpeedFactorRange	= .9 .9
			End
		End
		AnimationState						= HIT_REACTION HIT_LEVEL_1
			StateName						= Bored_Sword
			Animation
				AnimationName				= EUHaldir_HITE
				AnimationMode				= ONCE
			End
		End

		AnimationState						= RAISING_FLAG WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState						= SELECTED WEAPONSET_TOGGLE_1
			StateName						= Selected_Bow
			Animation						= ATNE
				AnimationName				= EUHaldir_ATNE
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelected_Bow") end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RS_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end
			EndScript
		End

		AnimationState						= RAISING_FLAG
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState						= SELECTED
			StateName						= Selected_Sword
			Animation						= ATNA
				AnimationName				= EUHaldir_ATNS
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelected_Sword") end
				if Prev == "Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_ReadyToSelected_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword" or PrevAnim == "EUHaldir_STHB"
				then
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")
				end
			EndScript
		End


		IdleAnimationState
			StateName						= Bored_Sword
			Animation						= Idle_Sword1
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
			End
			Animation						= Idle_Sword2
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
			End
			Animation						= Idle_Sword3
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
			End
			Animation						= IdleNoFidget
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
				AnimationPriority			= 20
			End
			Animation						= IdleNoFidget2
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
				AnimationPriority			= 0
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SelectedToBored_Sword" or Prev == "TRANS_RB_Sword" then return "IdleNoFidget" end
				if Prev == "Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBored_Sword") end
				if Prev == "Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_RB_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")
				end
			EndScript
		End


		AnimationState						= WEAPONSET_TOGGLE_1
			StateName						= Bored_Bow
			Animation						= IdleBowB
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
			End
			Animation						= IdleBowD
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
			End
			Animation						= IdleNoFidget
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
				AnimationPriority			= 20
			End
			Animation						= IdleNoFidget2
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
				AnimationPriority			= 10
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript	
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SelectedToBored_Bow" or Prev == "TRANS_RB_Bow" then return "IdleNoFidget" end
				if Prev == "Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBored_Bow") end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RB_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")
				end
			EndScript
		End


		; Transitions

		TransitionState						= TRANS_BoredToSelected_Bow
			Animation
				AnimationName				= EUHaldir_ATNB
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
			End
		End


		TransitionState						= TRANS_SelectedToReady_Bow
			Animation						= ATNE
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
			End
		End


		TransitionState						= TRANS_SelectedToBored_Bow
			Animation
				AnimationName				= EUHaldir_ATNB
				AnimationMode				= ONCE_BACKWARDS
			End
			Flags							= START_FRAME_LAST
		End


		TransitionState						= TRANS_RS_Bow
			Animation						= ATNF
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= ONCE_BACKWARDS
				AnimationBlendTime			= 10
			End
			Flags							= START_FRAME_LAST
		End


		TransitionState						= TRANS_BR_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= ONCE
				AnimationBlendTime			= 20
			End
		End


		TransitionState						= TRANS_RB_Bow
			Animation						= IDLD
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= ONCE
				AnimationBlendTime			= 20
			End
		End


		TransitionState					= TRANS_BoredToSelected_Sword
			Animation					= ATNA
				AnimationName			= EUHaldir_ATNA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SR_Sword
			Animation					= ATNC
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SelectedToBored_Sword
			Animation					= ATNA
				AnimationName			= EUHaldir_ATNA
				AnimationMode			= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End


		TransitionState					= TRANS_ReadyToSelected_Sword
			Animation					= ATNC
				AnimationName			= EUHaldir_IDLST1
				AnimationMode			= ONCE_BACKWARDS
				AnimationBlendTime		= 20
			End
			Flags						= START_FRAME_LAST
		End


		TransitionState					= TRANS_BR_Sword
			Animation					= ATNS
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
				AnimationBlendTime		= 20
			End
		End


		TransitionState					= TRANS_RB_Sword
			Animation					= IDLG
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
				AnimationBlendTime		= 20
			End
		End
		


		TransitionState					= TRANS_SwordToBow_Moving
			Animation					= DrawBow
				AnimationName			= EUHaldir_STHC
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_BowToSword_Moving
			Animation					= DrawSword
				AnimationName			= EUHaldir_STHD
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_BowToSword_Ready
			Animation					= DrawSwords
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SwordToBow_Ready
			Animation					= DrawBow
				AnimationName			= EUHaldir_STHB
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_BowToSword_Selected
			Animation					= DrawSwords
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SwordToBow_Selected
			Animation					= DrawBow
				AnimationName			= EUHaldir_STHB
				AnimationMode			= ONCE
			End
		End
	End
End



CommandSet = NewHaldirCommandSet




	WeaponSet
		Conditions				= WEAPONSET_TOGGLE_1 CONTAINED
		Weapon					= PRIMARY HaldirBow
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions				= CONTAINED
		Weapon					= PRIMARY HaldirBow
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions				= WEAPONSET_TOGGLE_1
		Weapon					= PRIMARY HaldirBow
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	WeaponSet
		Conditions				= None
		Weapon					= PRIMARY HaldirBlade
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End




	;;; SPECIAL CARNAGE MODE, MAKE SURE IT"S THE CARNAGE WEAPON NO MATTER WHAT ;;;
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE
		Weapon = PRIMARY    DwarvenMenOfDaleBlackArrows
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE CONTAINED
		Weapon = PRIMARY    DwarvenMenOfDaleBlackArrows
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    DwarvenMenOfDaleBlackArrows
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1 CONTAINED
		Weapon = PRIMARY    DwarvenMenOfDaleBlackArrows
	End








AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_GlorfindelBladeOfPurityEnabler
		SpecialPowerTemplate		= SpecialAbilityGlorfindelBladeOfPurity
		TriggeredBy					= Upgrade_ElvenHeavyArmor
	End
End

AddModule
	Behavior = WeaponModeSpecialPowerUpdate ModuleTag_KnifeFighterPowerUpdate
		SpecialPowerTemplate		= SpecialAbilityGlorfindelBladeOfPurity
		Duration				= 15000
		AttributeModifier			= Swordmaster
		LockWeaponSlot			= PRIMARY
		StartsPaused			= Yes
	End
End


AddModule
	Behavior = AutoAbilityBehavior ModuleTag_BladeOfPurityAutoAbility
		SpecialAbility				= SpecialAbilityGlorfindelBladeOfPurity
		MaxScanRange				= 200
		Query						= 1 ALL ENEMIES
	End
End










AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LurtzCarnage
		SpecialPowerTemplate	= SpecialAbilityLurtzCarnage
		TriggeredBy				= Upgrade_LegolasArrowWind
	End
End


AddModule
  	Behavior = SpecialPowerModule ModuleTag_LurtzCarnageStarter			; SpecialAbility is a SpecialPower, SpecialPower is anyting special
		SpecialPowerTemplate    = SpecialAbilityLurtzCarnage
		StartsPaused			= Yes
		UpdateModuleStartsAttack = Yes
	End
End


AddModule
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadeyeUpdate			; So the difference in SpecialAbility is that it takes timing from this Update, instead of simply firing.
		SpecialPowerTemplate    = SpecialAbilityLurtzCarnage
		HeroEffectDuration		= 20000										; this should sync with the auto ability delay re-fire time in commandButtons.ini
		UnpackTime              = 1											; insant unpack
		TriggerSound			= AragornBladeMaster
		PackTime				= 2500
		UnpackingVariation		= 1
                RequiredConditions		= WEAPON_TOGGLE
	End
End


End





ExperienceLevel	HaldirLevel1
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	1	
	ExperienceAward					=	HALDIR_LVL1_EXP_AWARD
	Rank							=	1
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
End	

ExperienceLevel	HaldirLevel2
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL2_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL2_EXP_AWARD
	AttributeModifiers				=	HeroLevelUpDamage1
	Rank							=	2
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel3
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL3_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL3_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage2
	Rank							=	3
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_ElvenHeavyArmor	
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%

		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel4
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL4_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL4_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage3
	Rank							=	4
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Upgrades						=	Upgrade_HaldirLeadership ; ;Upgrade_LegolasTrainArchers	
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel5
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL5_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL5_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage4
	Rank							=	5
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel6
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL6_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL6_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage5
	Rank							=	6
	LevelUpFx						=	FX:GandalfLevelUp1FX
	; ;Upgrades						=	Upgrade_HaldirLeadership
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1

	End	
END	

ExperienceLevel	HaldirLevel7
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL7_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL7_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage6
	Rank							=	7
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
        Upgrades						=	Upgrade_LegolasArrowWind
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel8
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL8_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL8_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage7
	Rank							=	8
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel9
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL9_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL9_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage8
	Rank							=	9
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_HaldirGoldenArrow ; ;
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel10
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL10_EXP_NEEDED  
	ExperienceAward					=	HALDIR_LVL10_EXP_AWARD	
  	AttributeModifiers				=	HeroLevelUpDamage9
	Rank							=	10
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	; ;Upgrades						=	Upgrade_HaldirGoldenArrow
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	





;llllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllll
;llllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllll
;END OF HALDIR







;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;START OF LURTZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;



Weapon IsengardLurtzBowPoisonWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  CanBeDodged = No
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 140
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.

    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End



	DOTNugget
  		SpecialObjectFilter = ALL -STRUCTURE
		AcceptDamageAdd		= No
		Damage				= 15 ; ;2
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= POISON
		DamageFXType		= POISON
		DeathType			= NORMAL
		DamageInterval		= 1000	; every second ...
		DamageDuration		= 15000 ; ;15000	; ... for 15 seconds
		SpecialObjectFilter	= AFFECTED_BY_POISON_OBJECTFILTER
	End


End










Object PoisonArrowProjectile



ReplaceModule ModuleTag_Draw
  Draw = W3DScriptedModelDraw ModuleTag_Drawblabla
    DefaultModelConditionState     
      Model = EXPoison_AROW
      ParticleSysBone = MESH01 PoisonArrowTrail Followbone:YES
      ParticleSysBone = MESH01 BlackArrowTrail Followbone:YES
    End
  End
End


AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07blablabla
    StartsActive = Yes
    DeathWeapon = IsengardLurtzBowPoisonWarhead
  End
End



ReplaceModule ModuleTag_04
  Behavior = BezierProjectileBehavior ModuleTag_04New
    DetonateCallsKill = Yes
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    GroundHitFX = FX_GondorArrowDeath	;FX_PoisonArrowDeath
    CurveFlattenMinDist = 100.0
  End
End


END





Weapon GoblinArcherPoisonArrows       ; BALANCE Archer Weapon ;goblin archer

	AttackRange			= LURTZ_BOW_RANGE					; 350 ; Horde member so it needs to be bigger than the horde weapon attack range.
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( LURTZ_BOW_RANGE .01 )  
	
	LeechRangeWeapon    = Yes	
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 40.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= LURTZ_BOW_DELAYBETWEENSHOTS	; time between shots, msec
	PreAttackDelay      = LURTZ_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = LURTZ_BOW_FIRINGDURATION		; Duration of the archer firing shot is 500ms.
;	RequireFollowThru	= Yes
;	IdleAfterFiringDelay = 0 ; don't set for any weapon other than rocks. 

;	HoldAfterFiringDelay = 1333 ; don't set for any weapon other than rocks. 
        CanBeDodged = No

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:LURTZ_BOW_RELOADTIME_MIN Max:LURTZ_BOW_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= LURTZ_BOW_RELOADTIME_MAX

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget
		ProjectileTemplateName	= PoisonArrowProjectile
		WarheadTemplateName		= GoblinArcherPoisonArrowsBowWarhead
	End
End

CommandButton Command_GoblinArcherPoisonArrows
	Command				= SPECIAL_POWER
	SpecialPower		= SpecialAbilityFakeLeadership2
	Options				= NONPRESSABLE
	ButtonImage			= BWTreasureTrove_PoisonArrows
	CursorName			= EvilAbilityObj
	InvalidCursorName	= GenericInvalid
	TextLabel			= CONTROLBAR:PoisonArrowsLurtz
	DescriptLabel		= CONTROLBAR:ToolTipPoisonArrowsLurtz
	InPalantir			= Yes
	ButtonBorderType    = ACTION
End


CommandSet  NewLurtzCommandset
	1	= Command_ToggleStance   
	2	= Command_ToggleLurtzWeapon
	3	= Command_SpecialAbilityLurtzCarnage ; ;
	4	= Command_LurtzCripple ; ;
	5	= Command_LurtzLeadership
	6	= Command_GoblinArcherPoisonArrows
	12	= Command_CaptureBuilding
	13	= Command_AttackMove
	14	= Command_Stop
End



Object IsengardLurtz


CommandSet = NewLurtzCommandset



	WeaponSet
		Conditions = None
		Weapon = PRIMARY    IsenguardLurtzBow
	End


	WeaponSet
		Conditions = PLAYER_UPGRADE
                Weapon = PRIMARY GoblinArcherPoisonArrows 
         End



	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1 PLAYER_UPGRADE
		Weapon = PRIMARY    LurtzWeapon
	End



	WeaponSet
		Conditions			= CONTAINED PLAYER_UPGRADE
		Weapon				= PRIMARY    GoblinArcherPoisonArrows 
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	WeaponSet
		Conditions			= CONTAINED WEAPONSET_TOGGLE_1 PLAYER_UPGRADE
		Weapon				= PRIMARY    GoblinArcherPoisonArrows 
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1 CLOSE_RANGE PLAYER_UPGRADE
		Weapon = PRIMARY    LurtzWeapon
	End





	WeaponSet
		Conditions = CLOSE_RANGE PLAYER_UPGRADE
		Weapon = PRIMARY    GoblinArcherPoisonArrows 
		Weapon = SECONDARY  IsenguardLurtzBowMelee
		OnlyAgainst = PRIMARY STRUCTURE
	End




;;;;;;;;;;;;;;;normal bow






	WeaponSet
		Conditions			= CONTAINED WEAPONSET_TOGGLE_1
		Weapon				= PRIMARY    IsenguardLurtzBow
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions			= CONTAINED
		Weapon				= PRIMARY    IsenguardLurtzBow
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1 CLOSE_RANGE
		Weapon = PRIMARY    LurtzWeapon
	End
	WeaponSet
		Conditions = CLOSE_RANGE
		Weapon = PRIMARY    IsenguardLurtzBow
		Weapon = SECONDARY  IsenguardLurtzBowMelee
		OnlyAgainst = PRIMARY STRUCTURE
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    LurtzWeapon
	End
	
	;;; SPECIAL CARNAGE MODE, MAKE SURE IT"S THE CARNAGE WEAPON NO MATTER WHAT ;;;
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE CLOSE_RANGE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    LurtzCarnageWeapon
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1 CLOSE_RANGE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End




	WeaponSet
		Conditions = WEAPONSET_HERO_MODE PLAYER_UPGRADE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End


	WeaponSet
		Conditions = WEAPONSET_HERO_MODE CLOSE_RANGE PLAYER_UPGRADE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End

	WeaponSet
		Conditions = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1 PLAYER_UPGRADE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE WEAPONSET_TOGGLE_1 CLOSE_RANGE PLAYER_UPGRADE
		Weapon = PRIMARY    LurtzCarnageWeapon
	End





AddModule 
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTagMirkwoodArcher
		TriggeredBy = Upgrade_LurtzPillage
	End
End





ReplaceModule ModuleTag_PillageAura
	Behavior = AttributeModifierAuraUpdate ModuleTag_PillageAuraNew
		StartsActive	= No										; If no, requires upgrade to turn on.
		BonusName		= LurtzPassiveOutlawLeadership
		TriggeredBy		= Upgrade_LurtzPillage
		RefreshDelay	= 2000
		Range			= 1
		AllowSelf		= No
		ObjectFilter	= NONE +PARACHUTE
	End
End


END





;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;THRANDUIL CHANGES;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;;;FOR NOW, ONLY BASIC WEAPON IMPROVEMENTS

Weapon ElvenThranduilBow
	AttackRange         = THRANDUIL_BOW_RANGE	
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( THRANDUIL_BOW_RANGE .01 )  
	LeechRangeWeapon	= Yes
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	HitStoredTarget = Yes	; Always hits initial target.
	;ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	DelayBetweenShots   = 0
	PreAttackDelay      = 300 ; ;ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	PreAttackType       = PER_POSITION
	FiringDuration      = 0

	;OverrideVoiceAttackSound		= ElvenWarriorVoiceAttackBow
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:LURTZ_BOW_RELOADTIME_MIN Max:LURTZ_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= 200 ; ; LURTZ_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= No ;Yes ;;shitty bug making thranduil ineffective vs cavalry and heroes 

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = ElvenThranduilBowWarhead
	    ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
	End

End



Armor ThranduilArmor
  Armor = DEFAULT         50%   
  Armor = SLASH           45%   ; ; 50
  Armor = PIERCE          10%   ; ; 50
  Armor = SPECIALIST     25%   
  Armor = CRUSH            50%    ; ; 1
  Armor = CAVALRY	  35% 
  Armor = SIEGE           50%   
  Armor = FLAME           40%   ; ; 25; ; 60
  Armor = MAGIC          50%   ; ; 100
  Armor = HERO            50%   
  Armor = HERO_RANGED     30%   ; ; 50
  Armor = POISON	  60% ; ; 75
  Armor = STRUCTURAL	 80%	; ; 50
    
  FlankedPenalty 	 = 50%    
  Armor = CAVALRY_RANGED   15% ; ;
  Armor = URUK   65% ; ;
End



Object ElvenThranduil

	
	WeaponSet
		Conditions = WEAPONSET_HERO_MODE
		Weapon	= PRIMARY ElvenThranduilBowDeadeye
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    ElvenThranduilBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
	
	ArmorSet
		Conditions      = None
		Armor           = ThranduilArmor
		DamageFX        = NormalDamageFX
	End

End

;------------------------------------------------------------------------------------------------------




Weapon HelmsDeepGateBoilingOilWeapon
	IdleAfterFiringDelay = 0
	RadiusDamageAffects	= ALLIES ENEMIES NEUTRALS NOT_SIMILAR ; so we will get burned if we stay there
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
        DamageDealtAtSelfPosition = Yes
        DamageType		= FLAME

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
                DamageArc     = 100.0
	End


	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 400
		Radius			= 140.0
                DamageArc     = 100.0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
                DamageScalar  		= 40% NONE +HERO ;so it doesnt really affects heroes
                DamageScalar  		= 200% NONE +MONSTER +INFANTRY +MACHINE; so it kills mumakils nd such 
	End


End







Weapon IncreaseFuelWeapon
	IdleAfterFiringDelay = 0
	RadiusDamageAffects	= ALLIES ENEMIES NEUTRALS NOT_SIMILAR ; so we will get burned if we stay there
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 1700
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
        DamageDealtAtSelfPosition = Yes


	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 40.0
 		Damage			= 200
                DamageArc     = 100.0
		MinMaxBurnRate	= 30
		MinDecay		= 1
		MaxResistance	= 1
	End




End


;------------------------------------
Object TimberPile02

ReplaceModule ModuleTag_01
  Draw = W3DScriptedModelDraw ModuleTag_01New
    DefaultModelConditionState
      Model = PTimberPile2
    End

 		ModelConditionState = AFLAME
			Model               = PTimberPile2
			ParticleSysBone     = NONE TreebeardFire FollowBone:yes FXTrigger:NONE Persist:SPAWN
  			ParticleSysBone     = NONE TreebeardSmoke FollowBone:yes FXTrigger:NONE Persist:SPAWN
                End


  End

End


	KindOf              = PRELOAD STRUCTURE UNATTACKABLE IGNORED_IN_GUI IMMOBILE SCORE CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY 

ReplaceModule ModuleTag_02
  Body            = ActiveBody ModuleTag_02New
    MaxHealth       = 99999999.0
  End
End


AddModule
	Behavior = FlammableUpdate FlammableModuleTag_15
		AflameDuration				= 99999.0																; Burn until expressly put out.  Made of wood and all.
		AflameDamageDelay			= 500															; How often do I take damage from being on fire?
		AflameDamageAmount			= 1															; How much damage to I take per delay?
		FlameDamageLimit			= 1	; How much flame damage do I need to take before starting on fire?
		FlameDamageExpiration		= 10000
		SetBurnedStatus				= No
	End
End




AddModule
	Behavior = SpecialPowerModule ModuleTag_OilStarter       
		SpecialPowerTemplate      = SpecialAbilityMenFortressBoilingOil
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = No
	End
End

AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_OilWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityMenFortressBoilingOil
		WhichSpecialWeapon		= 1

		UnpackTime              = 2600 
		PackTime                = 4600
		
		SpecialWeapon			= IncreaseFuelWeapon
	End
End



AddModule
	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
 		AutoAcquireEnemiesWhenIdle	= Yes
 		MoodAttackCheckRate			= 250
		AILuaEventsList				= GarrisonableFunctions
 	End
End

End

;---------------------------------------

;;Ecthelion 2022

ChildObject MenFortress MenFortress
	MaxSimultaneousOfType = 10 
End
ChildObject ElvenFortress ElvenFortress
	MaxSimultaneousOfType = 10 
End
ChildObject DwarvenFortress DwarvenFortress
	MaxSimultaneousOfType = 10 
End
ChildObject IsengardFortress IsengardFortress
	MaxSimultaneousOfType = 10 
End
ChildObject MordorFortress MordorFortress
	MaxSimultaneousOfType = 10 
End
ChildObject WildFortress WildFortress
	MaxSimultaneousOfType = 10 
End
	

;---------------------------------------

Object WineVat



AddModule


	Draw = W3DScriptedModelDraw ModuleTag_OilGuyDraw
		OkToChangeModelColor	= Yes
		StaticModelLODMode		= Yes // Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model           = None
		End

	


		AnimationState			= SPECIAL_WEAPON_ONE UNPACKING 
			Animation			= Pouring
				AnimationName	= NONE;GBFBOil_SKL.GBFBOil_ATKA
				AnimationMode   = ONCE
			End
			EnteringStateFX	= FX_BoilingOilAttack
			
			ParticleSysBone = None MenFortressSpray FOLLOWBONE:YES

			ParticleSysBone = None MenFortressSpray02 FOLLOWBONE:YES
			
			ParticleSysBone = None MenFortressSteam FOLLOWBONE:YES

			ParticleSysBone = None MenFortressProxy FOLLOWBONE:YES

		End


	End
End






ReplaceModule ModuleTag_02
  Body            = ActiveBody ModuleTag_02New
    MaxHealth       = 100.0
  End
End





	KindOf              = PRELOAD STRUCTURE UNATTACKABLE IGNORED_IN_GUI IMMOBILE SCORE CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE
 
  Side                = Men
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
   RadarPriority       = STRUCTURE


AddModule
	Behavior = SpecialPowerModule ModuleTag_OilStarter       
		SpecialPowerTemplate      = SpecialAbilityMenFortressBoilingOil
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = No
	End
End

AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_OilWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityMenFortressBoilingOil
		WhichSpecialWeapon		= 1

		UnpackTime              = 2600 
		PackTime                = 4600
		
		SpecialWeapon			= HelmsDeepGateBoilingOilWeapon
	End
End



AddModule
	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
 		AutoAcquireEnemiesWhenIdle	= Yes
 		MoodAttackCheckRate			= 250
		AILuaEventsList				= GarrisonableFunctions
 	End
End




End







;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;		Behaviors in System.ini								      ;
;             SPELLBOOK COMMAND SETS AND SETTINGS                                     ; 
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;





Science SCIENCE_MordorCalltheHorde
PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES
SciencePurchasePointCost = 1
SciencePurchasePointCostMP = 1
IsGrantable = Yes
End


SpecialPower SpellBookStopOrcProduction
	Enum				= SPECIAL_SPELL_BOOK_CALL_THE_HORDE
	ReloadTime      		= 1 ; cant be 0
	RequiredSciences		= SCIENCE_MordorCalltheHorde

End


CommandButton Command_SpecialAbilityTrollFindTastyOrc                  ; remove orc production
	Command				= SPELL_BOOK
	SpecialPower		= SpellBookStopOrcProduction
	Options			= CANCELABLE
	Upgrade			= NONE
	Object			= None
	NeededUpgrade		= None
	TextLabel		= CONTROLBAR:StopOrcs
	ButtonImage		= BIArmory_ForgedBlades
	ButtonBorderType   	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipStopOrcs
	InPalantir		= Yes
	Radial			= No
	ShowProductionCount	= No
	UnitSpecificSound	= Silence
End












CommandSet IsengardSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookSunflare
	12 = Command_SpellBookWatcherAlly
        13 = Command_SpecialAbilityTrollFindTastyOrc
End


CommandSet IsengardSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellSunflare
	12 = Command_PurchaseSpellWatcherAlly

End

Object IsengardSpellBook_Override


	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End





   AddModule 
	Behavior = SpecialPowerModule		ModuleTag_StopOrcs
		SpecialPowerTemplate		= SpellBookStopOrcProduction
		UpdateModuleStartsAttack	= No
		AffectAllies			= No ; Should not try to affect ally units
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic	= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
   END









	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End


AddModule
	Behavior = OCLSpecialPower ModuleTag_Sunflare
		SpecialPowerTemplate 			= SpellBookSunflare
		OCL                  			= OCL_SpecialPowerSunflare
		CreateLocation       			= CREATE_AT_LOCATION
		AvailableAtStart	 			= No
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_SUNFLARE_DURATION
		ChangeWeather					= SUNNY
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
End
	



     CommandSet = IsengardSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject IsengardChildSpellBook_Override IsengardSpellBook_Override
     CommandSet = IsengardSpellBookCommandSet_Override
End

PlayerTemplate FactionIsengard
     BuildableHeroesMP = CreateAHero ElvenThranduil GondorFaramir IsengardSaruman IsengardLurtz ElvenHaldir  GondorBoromir GondorGandalf 
     PurchaseScienceCommandSetMP = IsengardSpellStoreCommandSet_Override
     SpellBookMp = IsengardSpellBook_Override
End


CommandSet MenSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookSunflare
	12 = Command_SpellBookWatcherAlly
        13 = Command_SpecialAbilityTrollFindTastyOrc
End


CommandSet MenSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellSunflare
	12 = Command_PurchaseSpellWatcherAlly

End

Object MenSpellBook_Override


	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End



   AddModule 
	Behavior = SpecialPowerModule		ModuleTag_StopOrcs
		SpecialPowerTemplate		= SpellBookStopOrcProduction
		UpdateModuleStartsAttack	= No
		AffectAllies			= No ; Should not try to affect ally units
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic	= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
   END



	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	



AddModule
	Behavior = OCLSpecialPower ModuleTag_Sunflare
		SpecialPowerTemplate 			= SpellBookSunflare
		OCL                  			= OCL_SpecialPowerSunflare
		CreateLocation       			= CREATE_AT_LOCATION
		AvailableAtStart	 			= No
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_SUNFLARE_DURATION
		ChangeWeather					= SUNNY
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
End


	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = MenSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject MenChildSpellBook_Override MenSpellBook_Override
     CommandSet = MenSpellBookCommandSet_Override
End

PlayerTemplate FactionMen
     BuildableHeroesMP = CreateAHero ElvenThranduil GondorFaramir IsengardSaruman IsengardLurtz ElvenHaldir  GondorBoromir GondorGandalf 
     PurchaseScienceCommandSetMP = MenSpellStoreCommandSet_Override
     SpellBookMp = MenSpellBook_Override
End


CommandSet DwarvenSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookSunflare
	12 = Command_SpellBookWatcherAlly
        13 = Command_SpecialAbilityTrollFindTastyOrc
End


CommandSet DwarvenSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellSunflare
	12 = Command_PurchaseSpellWatcherAlly

End

Object DwarvenSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End


AddModule
	Behavior = OCLSpecialPower ModuleTag_Sunflare
		SpecialPowerTemplate 			= SpellBookSunflare
		OCL                  			= OCL_SpecialPowerSunflare
		CreateLocation       			= CREATE_AT_LOCATION
		AvailableAtStart	 			= No
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_SUNFLARE_DURATION
		ChangeWeather					= SUNNY
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
End



   AddModule 
	Behavior = SpecialPowerModule		ModuleTag_StopOrcs
		SpecialPowerTemplate		= SpellBookStopOrcProduction
		UpdateModuleStartsAttack	= No
		AffectAllies			= No ; Should not try to affect ally units
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic	= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
   END




	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = DwarvenSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject DwarvenChildSpellBook_Override DwarvenSpellBook_Override
     CommandSet = DwarvenSpellBookCommandSet_Override
End

PlayerTemplate FactionDwarves
     BuildableHeroesMP = CreateAHero ElvenThranduil  GondorFaramir IsengardSaruman IsengardLurtz ElvenHaldir  GondorBoromir GondorGandalf 
     PurchaseScienceCommandSetMP = DwarvenSpellStoreCommandSet_Override
     SpellBookMp = DwarvenSpellBook_Override
End


CommandSet ElvenSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookSunflare
	12 = Command_SpellBookWatcherAlly
        13 = Command_SpecialAbilityTrollFindTastyOrc
End


CommandSet ElvenSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellSunflare
	12 = Command_PurchaseSpellWatcherAlly

End

Object ElvenSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End


   AddModule 
	Behavior = SpecialPowerModule		ModuleTag_StopOrcs
		SpecialPowerTemplate		= SpellBookStopOrcProduction
		UpdateModuleStartsAttack	= No
		AffectAllies			= No ; Should not try to affect ally units
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic	= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
   END








AddModule
	Behavior = OCLSpecialPower ModuleTag_Sunflare
		SpecialPowerTemplate 			= SpellBookSunflare
		OCL                  			= OCL_SpecialPowerSunflare
		CreateLocation       			= CREATE_AT_LOCATION
		AvailableAtStart	 			= No
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_SUNFLARE_DURATION
		ChangeWeather					= SUNNY
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
End


	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = ElvenSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject ElvenChildSpellBook_Override ElvenSpellBook_Override
     CommandSet = ElvenSpellBookCommandSet_Override
End

PlayerTemplate FactionElves
     BuildableHeroesMP = CreateAHero ElvenThranduil  GondorFaramir IsengardSaruman IsengardLurtz ElvenHaldir  GondorBoromir GondorGandalf 
     PurchaseScienceCommandSetMP = ElvenSpellStoreCommandSet_Override
     SpellBookMp = ElvenSpellBook_Override
End


CommandSet MordorSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookSunflare
	12 = Command_SpellBookWatcherAlly
        13 = Command_SpecialAbilityTrollFindTastyOrc
End


CommandSet MordorSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellSunflare
	12 = Command_PurchaseSpellWatcherAlly

End

Object MordorSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End




   AddModule 
	Behavior = SpecialPowerModule		ModuleTag_StopOrcs
		SpecialPowerTemplate		= SpellBookStopOrcProduction
		UpdateModuleStartsAttack	= No
		AffectAllies			= No ; Should not try to affect ally units
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic	= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
   END











AddModule
	Behavior = OCLSpecialPower ModuleTag_Sunflare
		SpecialPowerTemplate 			= SpellBookSunflare
		OCL                  			= OCL_SpecialPowerSunflare
		CreateLocation       			= CREATE_AT_LOCATION
		AvailableAtStart	 			= No
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_SUNFLARE_DURATION
		ChangeWeather					= SUNNY
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
End


	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = MordorSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject MordorChildSpellBook_Override MordorSpellBook_Override
     CommandSet = MordorSpellBookCommandSet_Override
End

PlayerTemplate FactionMordor
     BuildableHeroesMP = CreateAHero ElvenThranduil GondorFaramir IsengardSaruman IsengardLurtz ElvenHaldir  GondorBoromir GondorGandalf 
     PurchaseScienceCommandSetMP = MordorSpellStoreCommandSet_Override
     SpellBookMp = MordorSpellBook_Override
End


CommandSet WildSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookSunflare
	12 = Command_SpellBookWatcherAlly
        13 = Command_SpecialAbilityTrollFindTastyOrc
End


CommandSet WildSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellSunflare
	12 = Command_PurchaseSpellWatcherAlly

End

Object WildSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

AddModule
	Behavior = OCLSpecialPower ModuleTag_Sunflare
		SpecialPowerTemplate 			= SpellBookSunflare
		OCL                  			= OCL_SpecialPowerSunflare
		CreateLocation       			= CREATE_AT_LOCATION
		AvailableAtStart	 			= No
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_SUNFLARE_DURATION
		ChangeWeather					= SUNNY
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
End





   AddModule 
	Behavior = SpecialPowerModule		ModuleTag_StopOrcs
		SpecialPowerTemplate		= SpellBookStopOrcProduction
		UpdateModuleStartsAttack	= No
		AffectAllies			= No ; Should not try to affect ally units
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic	= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
   END











	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = WildSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject WildChildSpellBook_Override WildSpellBook_Override
     CommandSet = WildSpellBookCommandSet_Override
End

PlayerTemplate FactionWild
     BuildableHeroesMP = CreateAHero ElvenThranduil  GondorFaramir IsengardSaruman IsengardLurtz ElvenHaldir  GondorBoromir GondorGandalf 
     PurchaseScienceCommandSetMP = WildSpellStoreCommandSet_Override
     SpellBookMp = WildSpellBook_Override
End

Science SCIENCE_Scavenger
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 1
End

Science SCIENCE_ElvenGifts
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Rebuild OR SCIENCE_DWARVES 
     SciencePurchasePointCostMP = 10
End


Science SCIENCE_Farsight
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 5
End

Science SCIENCE_Rebuild
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 5
End

Science SCIENCE_SpawnLoneTower
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Scavenger OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 10
End

Science SCIENCE_Barricade
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Rebuild OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 10
End

Science SCIENCE_WarChant
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Farsight OR SCIENCE_Scavenger OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 10
End

Science SCIENCE_Darkness
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_WarChant OR SCIENCE_SpawnLoneTower OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 15
End

Science SCIENCE_Heal
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_WarChant OR SCIENCE_Barricade OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 15
End

Science SCIENCE_CloudBreak
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Barricade OR SCIENCE_ElvenGifts OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 15
End

Science SCIENCE_Sunflare
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Darkness OR SCIENCE_Heal OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 40
End

Science SCIENCE_WatcherAlly
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_CloudBreak OR SCIENCE_Heal OR SCIENCE_DWARVES
     SciencePurchasePointCostMP = 25
End


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;            UNIT PRICES AND BUILD TIMES                                              ;
;                                                                                     ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Object DwarvenGuardianHorde
BuildCost = 1600
BuildTime = 1.0
End

Object DwarvenAxeThrowerHorde
BuildCost = 2000
BuildTime = 1.0
End

Object MordorMountainTroll
BuildCost = 2500
BuildTime = 1.0.
End

Object MordorDrummerTroll
BuildCost = 2250
BuildTime = 1.0
End

Object MordorAttackTroll
BuildCost = 3500
BuildTime = 1.0
End

Object MordorMumakil
BuildCost = 4500
BuildTime = 1.0
End

Object DwarvenBattleWagon
BuildCost = 4500
BuildTime = 1.0
End

Object MordorEasterlingHorde
BuildCost = 1900
BuildTime = 1.0
End

Object MordorFighterHorde
BuildCost = 900
BuildTime = 1.0
End

Object MordorArcherHorde
BuildCost = 1400
BuildTime = 1.0
End

Object ElvenLorienWarriorHorde
BuildCost = 1800
BuildTime = 1.0
End

Object ElvenLorienArcherHorde
BuildCost = 2000
BuildTime = 1.0
End

Object ElvenMithlondSentryHorde
BuildCost = 1800
BuildTime = 1.0
End

Object ElvenRivendellLancerHorde
BuildCost = 2500
BuildTime = 1.0
End

Object RohanGenericEnt
BuildCost = 4000
BuildTime = 1.0
End

Object RohanHobbitFriendsHordeInn
BuildCost = 3000
BuildTime = 1.0
End

Object DwarvenMenOfDaleHordeInn
BuildCost = 2400
BuildTime = 1.0
End

Object IsengardWildmanHordeInn
BuildCost = 2600
BuildTime = 1.0
End

Object GondorRangerInnHorde
BuildCost = 2500
BuildTime = 1.0


End

Object MordorCorsairsOfUmbarHordeInn
BuildCost = 2500
BuildTime = 1.0
End

Object WildFireDrake
BuildCost = 6500
BuildTime = 1.0
End

Object IsengardFighterHorde
BuildCost = 1600
BuildTime = 1.0
End

Object IsengardUrukCrossbowHorde
BuildCost = 2000
BuildTime = 1.0
End

Object IsengardWargRiderHorde
BuildCost = 2700
BuildTime = 1.0
End

Object IsengardPikemanHorde
BuildCost = 2000
BuildTime = 1.0
End

Object GondorFighterHorde
BuildCost = 1500
BuildTime = 1.0
End

Object GondorTowerShieldGuardHorde
BuildCost = 1900
BuildTime = 1.0
End

Object GondorTrebuchet
BuildCost = 4500
BuildTime = 1.0
End

Object GondorKnightHorde
BuildCost = 3000
BuildTime = 1.0
End

Object GondorArcherHorde
BuildCost = 2000
BuildTime = 1.0
End

Object GoblinFighterHorde
BuildCost = 1000
BuildTime = 1.0
End

Object GoblinArcherHorde
BuildCost = 1500
BuildTime = 1.0
End

Object WildMarauderHorde
BuildCost = 2500
BuildTime = 1.0
End

Object WildSpiderlingHorde
BuildCost = 1800
BuildTime = 1.0
End

Object DwarvenPhalanxHorde
BuildCost = 1900
BuildTime = 1.0
End
	


Object MordorFighter
	BountyValue = 1
End

Object GoblinFighter
	BountyValue = 1
End
	

Object  DwarvenDemolisher
BuildCost = 2500
BuildTime = 1
End


Object GoblinCaveTroll
BuildCost = 2700
BuildTime = 1
End