;; ---------------------------------------------------------------------------------
;;   PK Gardens of Far Harad
;; ---------------------------------------------------------------------------------









//--------------------------------------------------------------------//
;;-----file.ini----------ok. CommandSet.ini---(AndButtonTricks)-------;;
//--------------------------------------------------------------------//



CommandSet NeutralHaradCampCommandSet_New
	1 = Command_ConstructMordorHaradrimLancerHordeInn
	2 = Command_ConstructMordorHaradrimArcherHorde
End

//--------------------------------------------------------------------//
;;-----file.ini----------ok. Locomotor.ini------------loco.ini--------;;
//--------------------------------------------------------------------//

Locomotor HumanCreepLocomotor_New
	Surfaces              = GROUND RUBBLE
	TurnTime              = 500
	TurnTimeDamaged       = 500
	FastTurnRadius		= 3 ; Can turn in a 10 foot radius circle when moving.
	SlowTurnRadius		= 1 ; Turns in place from a standing start.
	Acceleration = 510  ; .5 second to accelerate to full speed.
	FormationPriority		= MELEE1 ;MELEE2

	Braking  = 510  ; .51 second to brake from full speed.
	MinTurnSpeed          = 0%
	ZAxisBehavior         = NO_Z_MOTIVE_FORCE
	Appearance            = TWO_LEGS
	StickToGround         = Yes       ; walking guys aren't allowed to catch huge (or even small) air.
	CanMoveBackwards       = Yes   ; Can move backwards when afraid.
	BackingUpSpeed		=	33%
     ChargeAvailable         = Yes     ; ;; Locomotor has defined charging attack values to use
     ChargeSpeed             = 250% ;;.;; 200%
End







//--------------------------------------------------------------------//
;;-----file.ini----------ok. OCL.ini-----------------------------;;
//--------------------------------------------------------------------//




; ------------------------------------------------------------
ObjectCreationList OCL_SpawnLairTreasureMedium_Harad ;;.;;
	CreateObject
		ObjectNames				= TreasureChest1
		Count					= 3
		SpreadFormation			= Yes
		MinDistanceAFormation	= 40 ;;.;; 50.0
		MinDistanceBFormation	= 50 ;;.;; 60.0
		MaxDistanceFormation	= 70 ;;.;; 80.0
		FadeIn					= No
		IgnoreAllObjects		= Yes
		InvulnerableTime		= 3000	; This is the amount of time before we can pick this crate up.
	End
End
; ------------------------------------------------------------


//--------------------------------------------------------------------//
;;-----file.ini----------ok. Object.ini--------------------------;;
//--------------------------------------------------------------------//






;-------------------------HaradHole.Ini---------------------------
ChildObject MoriarGoblinLairHole MoriarGoblinLairHole


	Draw = W3DScriptedModelDraw  ModuleTag_Draw
		
		DefaultModelConditionState
			Model = GBGENRUBBLE ;;.;; NBGoblinLair_R ;;.;; HI, MAKE ME LOOK LIKE A MORDOR TENT ON RUBBLE? TO PICKUP THE THE CHEST.
		End
		
	End

	Behavior = CreateObjectDie ModuleTag_MakeLoadsOfTreasure
		DeathTypes		= ALL -FADED
		CreationList	= OCL_SpawnLairTreasureMedium_Harad ;;.;; OCL_SpawnLairTreasure_Small
	End
	;;3 chests like a warg lair but a bit more clumped. tiny tent.




End

;-------------------------HaradCreep.Ini---------------------------
ChildObject MoriarGoblinLair MoriarGoblinLair

	SelectPortrait = None ;; BPCGoblinLair
		//--------------------------------------------------------------------//
 		Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
			UpgradeToGrant 					= Upgrade_HubIsBuilt
			GiveOnBuildComplete				= Yes
		End
		Behavior = TooltipUpgrade ModuleTag_WallBannerTooltip
			RequiresAllTriggers				= No
			TriggeredBy						= Upgrade_HubIsBuilt Upgrade_AllHumansHaveThisUpgrade
 			DisplayName						= OBJECT:HaradCamp_New
 			Description						= OBJECT:HaradCampDesc_New
 		End
		//--------------------------------------------------------------------//
		Behavior = RebuildHoleExposeDie ModuleTag_ExposeDie
			ExemptStatus		= SOLD
			HoleName			= MoriarGoblinLairHole
			HoleMaxHealth		= 500.0
			FadeInTimeSeconds	= 2.0
			TransferAttackers	= No
		End
		//--------------------------------------------------------------------//
		Behavior = QueueProductionExitUpdate QueueProductionModuleTag
			UnitCreatePoint        = X:14.8616 Y:-0.1480 Z:0.0
			NaturalRallyPoint    = X:100.0 Y:-0.1480 Z:0.0
			ExitDelay        = STANDARD_HORDE_EXIT_DELAY
			UseReturnToFormation    = No
		End
		Behavior = SpawnBehavior ModuleTag_SpawnFighters
			SpawnNumber			= 10 ;;.;; 8
			InitialBurst		= 10 ;;.;; 8
			SpawnTemplateName	= MordorGoblinSwordsman_Slaved MordorGoblinArcher_Slaved MinorSpider_Slaved ;;.;; 
			SpawnReplaceDelay	= 60000
			CanReclaimOrphans	= Yes
		End
		; Needed for the untamed allegience spell
		//--------------------------------------------------------------------//
		Behavior = CommandSetUpgrade ModueTag_FactionCommandSet
			TriggeredBy				= Upgrade_IsengardFaction Upgrade_MordorFaction Upgrade_WildFaction Upgrade_MenFaction Upgrade_ElfFaction Upgrade_DwarfFaction
			CommandSet				= NeutralHaradCampCommandSet_New
			CustomAnimAndDuration	= AnimState:USER_2 AnimTime:0
		End
		//------------------------HaradCreep.Animations-------------------//
		Draw = W3DScriptedModelDraw ModuleTag_Draw
			OkToChangeModelColor = Yes
 			ModelConditionState = NONE
			  Model = MUOrctent
			End
			ModelConditionState  = DAMAGED
			  Model         = MUOrctent_D
			  ParticleSysBone emberBone01 SmokeBuildingLarge
			
			End
			ModelConditionState  = REALLYDAMAGED
			  Model         = MUOrctent_D
			  ParticleSysBone emberBone01 SmokeBuildingLarge
			
			End
			ModelConditionState  = RUBBLE
			  Model         = MUOrctent_D  
			  ParticleSysBone emberBone01 CatapultDestroyDebris
			  ParticleSysBone emberBone02 SmokeBuildingLarge
			  ParticleSysBone emberBone03 PCTMediumDust
			End
			ModelConditionState  = POST_RUBBLE
				Model         = None 
				ParticleSysBone NONE SmokeBuildingMediumRubble
			End
			ModelConditionState  = POST_COLLAPSE
				Model         = None 
				ParticleSysBone NONE SmokeBuildingMediumRubble
			End
 			ModelConditionState = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
				Model = MUOrctent
				ParticleSysBone = NONE BuildingContructDust
			End
			AnimationState					= ACTIVELY_BEING_CONSTRUCTED
				Animation
					AnimationName			= DBStatue_A.DBStatue_A ;; mbwlhub_askl.mbwlhub_abld
					AnimationMode			= MANUAL ;; LOOP ;; MANUAL
					;AnimationBlendTime = 90
				End
				;;Opciones Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT ;,uSEFUL but horrible.
				;;Opciones DBStatue_A.DBStatue_A 	BEST
 				;;Opciones EBStatue_A.EBStatue_A 	GUD
 				;;Opciones GPHealstue_A.GPHealstue_A 	BAD
 				;;Opciones RPHeroStat_A.RPHeroStat_A 	BAD
 				;;Opciones mbwlhub_askl.mbwlhub_abld 	BEST
 				;;Opciones mbwalln_askl.mbwalln_abld 	BEST
 				BeginScript
					CurDrawablePlaySound("GondorBarracksBeginConstruction")
				EndScript
			End
 			AnimationState = DAMAGED
				EnteringStateFX    = FX_BuildingDamaged
				ParticleSysBone FireSmall01 FireBuildingLarge02 ;,;
				ParticleSysBone FireSmall01 SmokeBuildingLarge ;,;
			End
 			AnimationState = REALLYDAMAGED
 				EnteringStateFX    = FX_BuildingReallyDamaged
				ParticleSysBone FireSmall01 FireBuildingLarge03 ;,;
				ParticleSysBone FireSmall01 SmokeBuildingLarge ;,;
			End
			AnimationState = RUBBLE
				EnteringStateFX	= FX_StructureMediumCollapse
				Animation				=	RubbleAnimation
				AnimationName		=	IBUrukPit_D3SK.IBUrukPit_D3AN
				AnimationMode		=	ONCE
				End
			End
			AnimationState = POST_RUBBLE
			End
			AnimationState = POST_COLLAPSE
			End
		End
		
		
End




;------------------------------HaradrimPikeman.Ini---------------------------
ChildObject MordorGoblinSwordsman_Slaved MordorGoblinSwordsman_Slaved

	DisplayName = OBJECT:MordorHaradrimLancer
	SelectPortrait	= UPMordor_Haradrim ; ;SP_Haradrim
	ButtonImage		= WOR_HaradrimArcher ; ;BMHaradrimPalace_Haradrim
	  
  	EvaEnemyObjectSightedEvent = None ;; GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
  	EvaEnemyObjectSightedAfterRespawnEvent = None ;; GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    MordorLance
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = PikemenArmor ;;.;; HaradrimArmor
		DamageFX        = NormalDamageFX
	End
	LocomotorSet
		Locomotor     = HumanCreepLocomotor_New
		Condition     = SET_NORMAL
		Speed         = 20 ;;slower;; 24 ;;.;; 49	//half speed but locomotor gives 200% charge when attack.
	End
	;;Behavior = SlavedUpdate ModuleTag_Slave
	;;	GuardMaxRange		= TIER_1_LAIR_GUARDMAXRANGE ;;-;;
	;;	GuardWanderRange	= 40
	;;	UseSlaverAsControlForEvaObjectSightedEvents = Yes
	;;	AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
	;;	AttackWanderRange = 10  ;How far I'm allowed to wander from target.
	;;	ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
	;;	ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
	;;End
	Behavior = SlavedUpdate ModuleTag_Slave	// this are the settings from spiderlair.
		GuardMaxRange		= TIER_2_LAIR_GUARDMAXRANGE
		GuardWanderRange	= 75.0
		UseSlaverAsControlForEvaObjectSightedEvents = Yes ; It's a creep
	End
	
	VoiceAttack				= HaradrimVoiceAttack
	VoiceAttackAir				= HaradrimVoiceAttack
	VoiceAttackCharge			= HaradrimVoiceAttackCharge
	VoiceAttackMachine			= HaradrimVoiceAttack
	VoiceAttackStructure			= HaradrimVoiceAttackBuilding
	VoiceCreated				= CampOrcCreateHaradrim
	VoiceFullyCreated 			= CampOrcCreateHaradrim
	VoiceGuard				= HaradrimVoiceMove
	VoiceMove				= HaradrimVoiceMove
	VoiceMoveToCamp				= HaradrimVoiceMoveCamp
	VoicePriority				= 34
	VoiceRetreatToCastle			= HaradrimVoiceRetreat
	VoiceSelect				= HaradrimVoiceSelectMS
	VoiceSelectBattle 			= HaradrimVoiceSelectBattle

	VoiceEnterStateAttack			= HaradrimVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= HaradrimVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure		= HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateMove			= HaradrimVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= HaradrimVoiceEnterStateMoveCamp
	VoiceEnterStateRetreatToCastle		= HaradrimVoiceEnterStateRetreat
	
	UnitSpecificSounds
		VoiceEnter				= HaradrimVoiceGarrison
		VoiceEnterHostile			= HaradrimVoiceGarrison
		VoiceGarrison			= HaradrimVoiceGarrison			
		VoiceEnterUnitMordorMumakil	= HaradrimVoiceGarrisonMumakil		
	End
	
		CrowdResponseKey = EvilMen1
					;For deaths you can respawn from, use the DeathFX

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
      	MaxUpdateRangeCap = 800
			AnimationSound = Sound:BodyFallSoldier 		Animation:MUHaraLnc_SKL.MUHaraLnc_LNDA 	Frames:3
			AnimationSound = Sound:BodyFallGeneric1 		Animation:MUHaraLnc_SKL.MUHaraLnc_DIEA 	Frames:47
	End
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Haradrim_Lancer
	End
	Body = ActiveBody ModuleTag_02
		CheerRadius       = EMOTION_CHEER_RADIUS
		MaxHealth         = MORDOR_HARADRIM_HEALTH
		MaxHealthDamaged  = MORDOR_HARADRIM_HEALTH_DAMAGED
	End
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		StopChaseDistance = 674
		CanAttackWhileContained = Yes
		AttackPriority				= 	AttackPriority_Cavalry ; ;Archer
		AILuaEventsList				=	HaradrimArcherFunctions		
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 5000
		SinkRate = 1.0     ; in Dist/Sec
		DestructionDelay = 17000
		Sound = INITIAL HaradrimVoiceDie
	End
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		FX = INITIAL FX_WildMenUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS		
	End
	//------------------------Pike.Animations-------------------//
	  Draw = W3DHordeModelDraw ModuleTag_01
			OkToChangeModelColor = No
			StaticModelLODMode = No
			DefaultModelConditionState
				Model = MUHaraLnc_SKN
				Texture = MUHaradim.tga MUHaradim_HA.tga
				WeaponLaunchBone = PRIMARY LANCEBONE
			End
		IdleAnimationState
			StateName				=	Idle
			Animation = IDLC
				AnimationName = MUHaraLnc_SKL.MUHaraLnc_IDLC
				AnimationMode = ONCE
				AnimationPriority = 25
				AnimationBlendTime	=	15
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected"  then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
				if Prev == "STATE_Emotion"; or Prev == "CloseRange" or Prev == "FarRange"
				then
					CurDrawableAllowToContinue();
				end
				CurDrawableSetTransitionAnimState("TRANS_Selected_NoHitch")		
			EndScript
			StateName = Idle
			End
			AnimationState = THROWN_PROJECTILE
					Animation = Thrown
				  AnimationName = MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode = LOOP
					End
			End
			
			AnimationState				= PASSENGER FREEFALL
				Animation				= Wiggling
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLLA
					AnimationMode		= LOOP
				End
				EnteringStateFX			= FX_ThrownRockPickUp
			 End
			 
			 AnimationState						= FREEFALL
				Animation						= Falling
					AnimationName				= MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode				= LOOP
					AnimationBlendTime			= 10
					AnimationSpeedFactorRange	= 0.4	0.4
				End
			End
			
			; --- stunned anims
			AnimationState				= STUNNED_FLAILING
				Animation				= Flying
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode		= LOOP
				End
			End
			
			AnimationState = DYING SPLATTED
				Animation = Splattered_On_Ground
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
			End
			
			AnimationState			= DYING STUNNED_FLAILING
				Animation			= Flying
					AnimationName	= MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode	= LOOP
				End
			End  

			AnimationState = DYING AFLAME
				Animation = Flaming_Death
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
					AnimationMode = ONCE
				End
				ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState = AFLAME
				Animation = Flaming_Death
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_FLLA
					AnimationMode = LOOP
				End
				ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState = DYING
				StateName			= STATE_Dying
				Animation = dead
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
					AnimationMode = MANUAL
				End
				Animation = dead_landed
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode = MANUAL
				End
				Flags = START_FRAME_LAST
				BeginScript
					CurDrawableShowSubObject("LANCE")
					Prev = CurDrawablePrevAnimation()
					if Prev == "DyingTrans"
					then
						return "dead"
					elseif Prev == "Flying"
					then
						CurDrawableSetTransitionAnimState("DIE_LAND")
					elseif Prev == "Die_Land"
					then
						return "dead_landed"
					end
					
					CurDrawableSetTransitionAnimState("DIE_TRANSITION")
					
				EndScript
			End
			TransitionState = DIE_TRANSITION
				Animation = DyingTrans
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
					AnimationMode = ONCE
				End
			End
			
			TransitionState = DIE_LAND
				Animation = Die_Land
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode = ONCE
				End
			End
			AnimationState				= MOVING CLIMBING
				Animation				= Climbing
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_CLMA
					AnimationMode		= LOOP
				End
			End
			
			AnimationState				= MOVING DAMAGED AFLAME
				ShareAnimation			= Yes
				Animation				= Moving_Damaged
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
				End
				ParticleSysBone			= BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState				= MOVING AFLAME
				ShareAnimation			= Yes
				Animation				= Moving
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
				End
				ParticleSysBone			= BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireSmall FollowBone:yes
			End
			
			AnimationState				= MOVING PANICKING
				ShareAnimation			= Yes
				Animation				= RUNM
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_MFDA
					AnimationMode		= LOOP
				End
			End
				
			AnimationState				= MOVING BACKING_UP
				ShareAnimation			= Yes
				Animation				= BackingUp
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_BAKA
					AnimationMode		= LOOP
				End
			End
			
			AnimationState				= MOVING EMOTION_TERROR
				ShareAnimation			= Yes
				Animation				= Moving
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
				End
				ParticleSysBone			= None InfantryDustTrails
			End

			AnimationState				= MOVING
				ShareAnimation			= Yes
				Animation				= Moving
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
					AnimationSpeedFactorRange = 0.8 1.2
				End
				ParticleSysBone			= None InfantryDustTrails
			End
			
			AnimationState				= PASSENGER
				Animation				= Wiggling
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLLA
					AnimationMode		= LOOP
				End
				EnteringStateFX			= FX_ThrownRockPickUp
			 End

			AnimationState				= TRANSPORT_MOVING
				Animation				= wobbling_on_transport
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_IDLC
					AnimationMode		= LOOP
				End
			End
		  
		 
			
			AnimationState				= STUNNED_STANDING_UP
				Animation				= Standing_Back_Up
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_GTPA
					AnimationMode		= ONCE
					AnimationSpeedFactorRange = 1.5 1.5

				End
			End
			
			AnimationState				= STUNNED
				Animation				= Splattered_On_Ground
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode		= ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
			End
				AnimationState							= RELOADING_A
				StateName							= STATE_Ready
				Animation							= ALERT
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode					= LOOP
					AnimationBlendTime				= 0
				End
				BeginScript
					CurDrawableAllowToContinue()
				EndScript
			End
			
			AnimationState = FIRING_OR_PREATTACK_A
				Animation = CloseAttack
					AnimationName			= MUHaraLnc_SKL.MUHaraLnc_ATKA
					AnimationMode			= ONCE
					UseWeaponTiming			= Yes
				End
			End
			AnimationState = WAR_CHANT
				Animation				= Chant
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode		= ONCE
				End
				Animation				= A
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode		= ONCE
				End
				Flags					= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
				ShareAnimation						= Yes
				StateName							= STATE_Emotion
				Animation							= FERA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End		
			
			AnimationState = ATTACKING
				Animation = IdleAllAttacksComeFrom
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode = LOOP
				End

			End
			AnimationState							= EMOTION_AFRAID
				ShareAnimation						= Yes
				StateName							= STATE_Emotion
				Animation							= FERA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End		
			
			AnimationState							= EMOTION_TAUNTING
				StateName							= STATE_Emotion
				Animation							= TNTA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode					= ONCE
				End
				Animation							= A

					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_POINTING
				StateName							= STATE_Emotion
				Animation							= Pointing1
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_PNTA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_PNTA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_CELEBRATING
				StateName							= STATE_Emotion
				Animation							= CHRA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_CHRA
					AnimationMode					= ONCE
					AnimationPriority				= 10
				End
				Animation							= CHRB
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_CHRA
					AnimationMode					= ONCE
					AnimationPriority				= 10
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE	
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_ALERT
				StateName							= STATE_Emotion
				Animation							= ALERT
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()			
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end		
				EndScript
			End
			AnimationState = HIT_REACTION HIT_LEVEL_1
				Animation = GotHit
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_HITA
					AnimationMode = ONCE
				End
			End    
			AnimationState							= SELECTED
				StateName							= STATE_Selected
				SimilarRestart						= Yes
				Animation							= AtAttention
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_ATNB
					AnimationMode					= LOOP
				End
				Animation							= BIG_BLEND_Selected
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_ATNB
					AnimationMode					= LOOP
					AnimationBlendTime				= 20
				End
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					CurDrawableShowSubObject("LANCE")
					if Prev == "Idle"  then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
					if Prev == "STATE_Emotion"; or Prev == "CloseRange" or Prev == "FarRange"
					then
						CurDrawableAllowToContinue();
					end
					if Prev == "GotHit"
					then
						return "BIG_BLEND_Selected"
					end
					return "AtAttention"
				EndScript
			End
			TransitionState					=	TRANS_Idle_to_Selected
				Animation					=	ATNA
					AnimationName			=	MUHaraLnc_SKL.MUHaraLnc_ATNA
					AnimationMode			=	ONCE
				End
			End
			
			TransitionState					=	TRANS_Selected_to_Idle
				Animation					=	ATNA
					AnimationName			=	MUHaraLnc_SKL.MUHaraLnc_ATNC
					AnimationMode			=	ONCE
				End
			End
		End
		//------------------------------------------------------------//
End



















;------------------------------HaradrimLanceThrower.Ini---------------------------
ChildObject MordorGoblinArcher_Slaved MordorGoblinArcher_Slaved

	DisplayName = OBJECT:MordorHaradrimLancer
	SelectPortrait	= UPMordor_Haradrim ; ;SP_Haradrim
	ButtonImage		= WOR_HaradrimArcher ; ;BMHaradrimPalace_Haradrim
	  

  	EvaEnemyObjectSightedEvent = None ;; GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
  	EvaEnemyObjectSightedAfterRespawnEvent = None ;; GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
   	WeaponSet
		Conditions			= None
		Weapon				= PRIMARY    MordorLanceThrown
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = HaradrimArmor
		DamageFX        = NormalDamageFX
	End
  LocomotorSet
    Locomotor     = HumanCreepLocomotor_New
    Condition     = SET_NORMAL
    Speed         = 24 ;;slower;; 30 ;;.;; 24 ;;.;; 49	//half speed but locomotor gives 200% charge when attack. // but 25% faster than pikeman.
  End
	;;Behavior = SlavedUpdate ModuleTag_Slave
	;;	GuardMaxRange		= TIER_1_LAIR_GUARDMAXRANGE ;;-;;
	;;	GuardWanderRange	= 40
	;;	UseSlaverAsControlForEvaObjectSightedEvents = Yes
	;;	AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
	;;	AttackWanderRange = 10  ;How far I'm allowed to wander from target.
	;;	ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
	;;	ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
	;;End
	Behavior = SlavedUpdate ModuleTag_Slave	// this are the settings from spiderlair.
		GuardMaxRange		= TIER_2_LAIR_GUARDMAXRANGE
		GuardWanderRange	= 75.0
		UseSlaverAsControlForEvaObjectSightedEvents = Yes ; It's a creep
	End
	
	VoiceAttack				= HaradrimVoiceAttack
	VoiceAttackAir				= HaradrimVoiceAttack
	VoiceAttackCharge			= HaradrimVoiceAttackCharge
	VoiceAttackMachine			= HaradrimVoiceAttack
	VoiceAttackStructure			= HaradrimVoiceAttackBuilding
	VoiceCreated				= CampOrcCreateHaradrim
	VoiceFullyCreated 			= CampOrcCreateHaradrim
	VoiceGuard				= HaradrimVoiceMove
	VoiceMove				= HaradrimVoiceMove
	VoiceMoveToCamp				= HaradrimVoiceMoveCamp
	VoicePriority				= 34
	VoiceRetreatToCastle			= HaradrimVoiceRetreat
	VoiceSelect				= HaradrimVoiceSelectMS
	VoiceSelectBattle 			= HaradrimVoiceSelectBattle

	VoiceEnterStateAttack			= HaradrimVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= HaradrimVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure		= HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateMove			= HaradrimVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= HaradrimVoiceEnterStateMoveCamp
	VoiceEnterStateRetreatToCastle		= HaradrimVoiceEnterStateRetreat
	
	UnitSpecificSounds
		VoiceEnter				= HaradrimVoiceGarrison
		VoiceEnterHostile			= HaradrimVoiceGarrison
		VoiceGarrison			= HaradrimVoiceGarrison			
		VoiceEnterUnitMordorMumakil	= HaradrimVoiceGarrisonMumakil		
	End
	
		CrowdResponseKey = EvilMen1
					;For deaths you can respawn from, use the DeathFX

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
      	MaxUpdateRangeCap = 800
			AnimationSound = Sound:BodyFallSoldier 		Animation:MUHaraLnc_SKL.MUHaraLnc_LNDA 	Frames:3
			AnimationSound = Sound:BodyFallGeneric1 		Animation:MUHaraLnc_SKL.MUHaraLnc_DIEA 	Frames:47
	End
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Haradrim_Lancer
	End
	Body = ActiveBody ModuleTag_02
		MaxHealth         = MORDOR_HARADRIM_ARCHER_HEALTH ;; 250
		MaxHealthDamaged  = MORDOR_HARADRIM_ARCHER_HEALTH_DAMAGED
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
   		DodgePercent      		= 50%
	End
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		StopChaseDistance = 674
		CanAttackWhileContained = Yes
		AttackPriority				= 	AttackPriority_Cavalry ; ;Archer
		AILuaEventsList				=	HaradrimArcherFunctions		
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 5000
		SinkRate = 1.0     ; in Dist/Sec
		DestructionDelay = 17000
		Sound = INITIAL HaradrimVoiceDie
	End
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		FX = INITIAL FX_WildMenUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS		
	End
	//------------------------Lancer.Animations-------------------//
	  Draw = W3DHordeModelDraw ModuleTag_01
			OkToChangeModelColor = No
			StaticModelLODMode = No
			DefaultModelConditionState
				Model = MUHaraLnc_SKN
				WeaponLaunchBone = PRIMARY LANCEBONE
			End
		IdleAnimationState
			StateName				=	Idle
			Animation = IDLC
				AnimationName = MUHaraLnc_SKL.MUHaraLnc_IDLC
				AnimationMode = ONCE
				AnimationPriority = 25
				AnimationBlendTime	=	15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected"  then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
				if Prev == "STATE_Emotion"; or Prev == "CloseRange" or Prev == "FarRange"
				then
					CurDrawableAllowToContinue();
				end
				CurDrawableSetTransitionAnimState("TRANS_Selected_NoHitch")		
			EndScript
			StateName = Idle
			End
			AnimationState = THROWN_PROJECTILE
					Animation = Thrown
				  AnimationName = MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode = LOOP
					End
			End
			
			AnimationState				= PASSENGER FREEFALL
				Animation				= Wiggling
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLLA
					AnimationMode		= LOOP
				End
				EnteringStateFX			= FX_ThrownRockPickUp
			 End
			 
			 AnimationState						= FREEFALL
				Animation						= Falling
					AnimationName				= MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode				= LOOP
					AnimationBlendTime			= 10
					AnimationSpeedFactorRange	= 0.4	0.4
				End
			End
			
			; --- stunned anims
			AnimationState				= STUNNED_FLAILING
				Animation				= Flying
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode		= LOOP
				End
			End
			
			AnimationState = DYING SPLATTED
				Animation = Splattered_On_Ground
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
			End
			
			AnimationState			= DYING STUNNED_FLAILING
				Animation			= Flying
					AnimationName	= MUHaraLnc_SKL.MUHaraLnc_FLYA
					AnimationMode	= LOOP
				End
			End  

			AnimationState = DYING AFLAME
				Animation = Flaming_Death
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
					AnimationMode = ONCE
				End
				ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState = AFLAME
				Animation = Flaming_Death
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_FLLA
					AnimationMode = LOOP
				End
				ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState = DYING
				StateName			= STATE_Dying
				Animation = dead
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
					AnimationMode = MANUAL
				End
				Animation = dead_landed
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode = MANUAL
				End
				Flags = START_FRAME_LAST
				BeginScript
					CurDrawableShowSubObject("LANCE")
					Prev = CurDrawablePrevAnimation()
					if Prev == "DyingTrans"
					then
						return "dead"
					elseif Prev == "Flying"
					then
						CurDrawableSetTransitionAnimState("DIE_LAND")
					elseif Prev == "Die_Land"
					then
						return "dead_landed"
					end
					
					CurDrawableSetTransitionAnimState("DIE_TRANSITION")
					
				EndScript
			End
			TransitionState = DIE_TRANSITION
				Animation = DyingTrans
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_DIEA
					AnimationMode = ONCE
				End
			End
			
			TransitionState = DIE_LAND
				Animation = Die_Land
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode = ONCE
				End
			End
			AnimationState				= MOVING CLIMBING
				Animation				= Climbing
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_CLMA
					AnimationMode		= LOOP
				End
			End
			
			AnimationState				= MOVING DAMAGED AFLAME
				ShareAnimation			= Yes
				Animation				= Moving_Damaged
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
				End
				ParticleSysBone			= BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState				= MOVING AFLAME
				ShareAnimation			= Yes
				Animation				= Moving
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
				End
				ParticleSysBone			= BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone			= BAT_SPINE2 FireSmall FollowBone:yes
			End
			
			AnimationState				= MOVING PANICKING
				ShareAnimation			= Yes
				Animation				= RUNM
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_MFDA
					AnimationMode		= LOOP
				End
			End
				
			AnimationState				= MOVING BACKING_UP
				ShareAnimation			= Yes
				Animation				= BackingUp
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_BAKA
					AnimationMode		= LOOP
				End
			End
			
			AnimationState				= MOVING EMOTION_TERROR
				ShareAnimation			= Yes
				Animation				= Moving
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
				End
				ParticleSysBone			= None InfantryDustTrails
			End

			AnimationState				= MOVING
				ShareAnimation			= Yes
				Animation				= Moving
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_RUNA
					AnimationMode		= LOOP
					AnimationSpeedFactorRange = 0.8 1.2
				End
				ParticleSysBone			= None InfantryDustTrails
			End
			
			AnimationState				= PASSENGER
				Animation				= Wiggling
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_FLLA
					AnimationMode		= LOOP
				End
				EnteringStateFX			= FX_ThrownRockPickUp
			 End

			AnimationState				= TRANSPORT_MOVING
				Animation				= wobbling_on_transport
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_IDLC
					AnimationMode		= LOOP
				End
			End
		  
		 
			
			AnimationState				= STUNNED_STANDING_UP
				Animation				= Standing_Back_Up
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_GTPA
					AnimationMode		= ONCE
					AnimationSpeedFactorRange = 1.5 1.5

				End
			End
			
			AnimationState				= STUNNED
				Animation				= Splattered_On_Ground
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_LNDA
					AnimationMode		= ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
			End
				AnimationState							= RELOADING_A
				StateName							= STATE_Ready
				Animation							= ALERT
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode					= LOOP
					AnimationBlendTime				= 0
				End
				BeginScript
					CurDrawableAllowToContinue()
				EndScript
			End
			AnimationState = FIRING_OR_PREATTACK_A
				StateName = FarRange
				Animation = FarAttack
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_ATKB
					AnimationMode = ONCE
				End
				Animation = BIG_BLEND_A
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_ATKB
					AnimationMode = ONCE
					AnimationBlendTime = 20
				End
				FrameForPristineBonePositions = 44
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "CloseRange"
					then
						return "BIG_BLEND_A"
					else
						return "FarAttack"
					end
				EndScript
			End    
			AnimationState = WAR_CHANT
				Animation				= Chant
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode		= ONCE
				End
				Animation				= A
					AnimationName		= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode		= ONCE
				End
				Flags					= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
				ShareAnimation						= Yes
				StateName							= STATE_Emotion
				Animation							= FERA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End		
			
			AnimationState = ATTACKING
				Animation = IdleAllAttacksComeFrom
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode = LOOP
				End

			End
			AnimationState							= EMOTION_AFRAID
				ShareAnimation						= Yes
				StateName							= STATE_Emotion
				Animation							= FERA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_FERA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End		
			
			AnimationState							= EMOTION_TAUNTING
				StateName							= STATE_Emotion
				Animation							= TNTA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode					= ONCE
				End
				Animation							= A

					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_TNTA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_POINTING
				StateName							= STATE_Emotion
				Animation							= Pointing1
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_PNTA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_PNTA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_CELEBRATING
				StateName							= STATE_Emotion
				Animation							= CHRA
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_CHRA
					AnimationMode					= ONCE
					AnimationPriority				= 10
				End
				Animation							= CHRB
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_CHRA
					AnimationMode					= ONCE
					AnimationPriority				= 10
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE	
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end
				EndScript
			End
			
			AnimationState							= EMOTION_ALERT
				StateName							= STATE_Emotion
				Animation							= ALERT
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode					= ONCE
				End
				Animation							= A
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_IDLA
					AnimationMode					= ONCE
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
				BeginScript
					Prev = CurDrawablePrevAnimationState()			
					if Prev == "STATE_Emotion"
					then
						CurDrawableAllowToContinue();
					end		
				EndScript
			End
			AnimationState = HIT_REACTION HIT_LEVEL_1
				Animation = GotHit
					AnimationName = MUHaraLnc_SKL.MUHaraLnc_HITA
					AnimationMode = ONCE
				End
			End    
			AnimationState							= SELECTED
				StateName							= STATE_Selected
				SimilarRestart						= Yes
				Animation							= AtAttention
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_ATNB
					AnimationMode					= LOOP
				End
				Animation							= BIG_BLEND_Selected
					AnimationName					= MUHaraLnc_SKL.MUHaraLnc_ATNB
					AnimationMode					= LOOP
					AnimationBlendTime				= 20
				End
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					CurDrawableShowSubObject("LANCE")
					if Prev == "Idle"  then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
					if Prev == "STATE_Emotion"; or Prev == "CloseRange" or Prev == "FarRange"
					then
						CurDrawableAllowToContinue();
					end
					if Prev == "GotHit"
					then
						return "BIG_BLEND_Selected"
					end
					return "AtAttention"
				EndScript
			End
			TransitionState					=	TRANS_Idle_to_Selected
				Animation					=	ATNA
					AnimationName			=	MUHaraLnc_SKL.MUHaraLnc_ATNA
					AnimationMode			=	ONCE
				End
			End
			
			TransitionState					=	TRANS_Selected_to_Idle
				Animation					=	ATNA
					AnimationName			=	MUHaraLnc_SKL.MUHaraLnc_ATNC
					AnimationMode			=	ONCE
				End
			End
		End
		//------------------------------------------------------------//
End
















;------------------------------HaradrimArcher.Ini---------------------------
ChildObject MinorSpider_Slaved MordorGoblinArcher_Slaved

	DisplayName			= OBJECT:MordorHaradrimArcher
	SelectPortrait	= UPMordor_Haradrim ; ;SP_Haradrim
	ButtonImage		= WOR_HaradrimArcher ; ;BMHaradrimPalace_Haradrim
	  

  	EvaEnemyObjectSightedEvent = None ;; GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
  	EvaEnemyObjectSightedAfterRespawnEvent = None ;; GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
   	WeaponSet
		Conditions			= None
		Weapon				= PRIMARY    HaradrimBow
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = HaradrimArcherArmor
		DamageFX        = NormalDamageFX
	End
	LocomotorSet
		Locomotor     = HumanCreepLocomotor_New
		Condition     = SET_NORMAL
		Speed         = 24 ;;slower;; 30 ;;.;; 60	//half speed but locomotor gives 200% charge when attack.
	End
	;;Behavior = SlavedUpdate ModuleTag_Slave
	;;	GuardMaxRange		= TIER_1_LAIR_GUARDMAXRANGE ;;-;;
	;;	GuardWanderRange	= 40
	;;	UseSlaverAsControlForEvaObjectSightedEvents = Yes
	;;	AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
	;;	AttackWanderRange = 10  ;How far I'm allowed to wander from target.
	;;	ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
	;;	ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
	;;End
	Behavior = SlavedUpdate ModuleTag_Slave	// this are the settings from spiderlair.
		GuardMaxRange		= TIER_2_LAIR_GUARDMAXRANGE
		GuardWanderRange	= 75.0
		UseSlaverAsControlForEvaObjectSightedEvents = Yes ; It's a creep
	End
	
	VoiceAttack					= HaradrimVoiceAttack
	VoiceAttackAir				= HaradrimVoiceAttack
	VoiceAttackCharge			= HaradrimVoiceAttackCharge
	VoiceAttackMachine			= HaradrimVoiceAttack
	VoiceAttackStructure		= HaradrimVoiceAttackBuilding
	VoiceCreated				= EVA:HaradrimCreated
	VoiceFullyCreated 			= EVA:HaradrimCreated
	VoiceMove					= HaradrimVoiceMove
	VoiceMoveToCamp				= HaradrimVoiceMoveCamp
	VoicePriority				= 34
	VoiceRetreatToCastle		= HaradrimVoiceRetreat
	VoiceSelect					= HaradrimVoiceSelectMS
	VoiceSelectBattle 			= HaradrimVoiceSelectBattle
	VoiceGuard					= HaradrimVoiceMove
	

	VoiceEnterStateAttack			= HaradrimVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= HaradrimVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine	= HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure	= HaradrimVoiceEnterStateAttackBuilding
	VoiceEnterStateMove				= HaradrimVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= HaradrimVoiceEnterStateMoveCamp
	VoiceEnterStateRetreatToCastle	= HaradrimVoiceEnterStateRetreat
	
	UnitSpecificSounds
		VoiceEnter							= HaradrimVoiceGarrison
		VoiceEnterHostile					= HaradrimVoiceGarrison
		VoiceGarrison						= HaradrimVoiceGarrison
		VoiceEnterUnitSlaughterHouse		= HaradrimVoiceGarrisonSlaughterHouse
		VoiceEnterUnitMordorMumakil			= HaradrimVoiceGarrisonMumakil
		VoiceEnterUnitEvilMenTransportShip	= HaradrimVoiceMove
		VoiceInitiateBarbedArrowAttack		= HaradrimVoiceAttack
		VoiceInitiateCaptureBuilding		= HaradrimVoiceCaptureBuilding
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
	      MaxUpdateRangeCap = 800
			AnimationSound = Sound:ArrowDrawBow			Animation:MUHARADIM_SKL.MUHARADIM_ATKA	Frames:34 
			AnimationSound = Sound:ArrowDrawBow 		Animation:MUHARADIM_SKL.MUHARADIM_ATKB	Frames:34
			AnimationSound = Sound:ArrowDrawBow			Animation:MUHARADIM_SKL.MUHARADIM_ATKC	Frames:34
			AnimationSound = Sound:BodyFallSoldier 		Animation:MUHaraLnc_SKL.MUHaraLnc_LNDA 	Frames:2
			AnimationSound = Sound:BodyFallGeneric1 	Animation:MUHaradim_SKL.MUHaradim_DIEA 	Frames:57
			AnimationSound = Sound:BodyFallGeneric1 	Animation:MUHaradim_SKL.MUHaradim_DIEB 	Frames:78
	End

	CrowdResponseKey = EvilMen2

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxCheerLoop	;MOVING ATTACKING 
		ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop	;MOVING ATTACKING
		ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionHaradrimVoxTauntLoop
		;pointing in LGAS
	End
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			  // Tie into LargeGroupAudio system
		Key = Humanoid_Male Man Man_Male Haradrim_Archer
	End	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = MORDOR_HARADRIM_ARCHER_HEALTH ;; 250
		MaxHealthDamaged  = MORDOR_HARADRIM_ARCHER_HEALTH_DAMAGED
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_InfantryBurningFlame
   		DodgePercent      		= 50%
	End
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		CanAttackWhileContained		= Yes
		MaxCowerTime				= 5000
		MinCowerTime				= 3000
		AttackPriority				= 	AttackPriority_Archer
		AILuaEventsList				=	HaradrimArcherFunctions		
		BurningDeathTime			=	BURNINGDEATH_DURATION_INFANTRY
	End
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
		Sound = INITIAL ManEvilGenericVoiceDie
	End
	Behavior = SlowDeathBehavior ModuleTag_07
		// Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes			= NONE +KNOCKBACK
		SinkDelay			= 3000
		SinkRate			= 0.80     // in Dist/Sec
		DestructionDelay	= 10000
		Sound				= INITIAL ManEvilGenericVoiceDie
	End
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay			= 0
		FadeTime			= 3000
		DestructionDelay	= 3000
		DeathFlags			= DEATH_2
		FX = INITIAL FX_WildMenUnsummon
		Sound = INITIAL SpellGenericUnsummonFasterMS		
	End
	RemoveModule ModuleTag_01
	//------------------------Archer.Animations-------------------//
	Draw = W3DHordeModelDraw ModuleTag_01
		StaticModelLODMode		= Yes // Will append M or L to the skin name depending on GameLOD
		OkToChangeModelColor	= Yes
		
		; specify options for static LODs
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		WadingParticleSys = WaterRipplesTrail  ; used when the unit is wading in shallow water.	  
		  
		DefaultModelConditionState
			Model = MUHaradim_SKN
			Skeleton = MUHaradim_SKL
			WeaponLaunchBone = PRIMARY ARRROW
			WeaponLaunchBone = TERTIARY ARRROW
			WeaponLaunchBone = QUINARY ARRROW
		End

		IdleAnimationState
			Animation = IDLA
				AnimationName = MUHaradim_IDLA
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
				AnimationPriority = 25
			End
			Animation = IDLB
				AnimationName = MUHaradim_IDLB
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
			End
			Animation = IDLC
				AnimationName = MUHaradim_IDLC
				AnimationMode = ONCE
	    		AnimationBlendTime = 10
			End
			StateName = Idle
			BeginScript
				CurDrawableShowSubObject("arrrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("Selected_to_Idle") end
			EndScript			
		End
	 
		AnimationState = THROWN_PROJECTILE
			Animation = Thrown
				AnimationName = MUHaradim_FLYA
				AnimationMode = LOOP
			End
			Animation = Thrown
				AnimationName = MUHaradim_FLYB
				AnimationMode = LOOP
			End
			Animation = Thrown
				AnimationName = MUHaradim_FLYC
				AnimationMode = LOOP
			End
		End

		AnimationState = STUNNED_FLAILING
 			Animation = Flying
				AnimationName = MUHaradim_FLYA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
 			Animation = Flying
				AnimationName = MUHaradim_FLYB
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
 			Animation = Flying
				AnimationName = MUHaradim_FLYC
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags = RANDOMSTART
		End

		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= MUHaradim_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUHaradim_DIEB
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUHaradim_DIEC
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End

		AnimationState = DYING SPLATTED
 				Animation = Splattered_On_Ground
					AnimationName = MUHaradim_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
		End

		AnimationState = DYING AFLAME
			Animation = Flaming_Death_1
				AnimationName = MUHaradim_DIEA
				AnimationMode = ONCE
			End
			Animation = Flaming_Death_2
				AnimationName = MUHaradim_DIEB
				AnimationMode = ONCE
			End
			Animation = Flaming_Death_2
				AnimationName = MUHaradim_DIEC
				AnimationMode = ONCE
			End
			ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
			ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
		End

		AnimationState = DYING
			Animation = Dying_1
				AnimationName = MUHaradim_DIEA
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUHaradim_DIEB
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUHaradim_DIEC
				AnimationMode = ONCE
			End
		End

		//DOESN'T EXIST
		//AnimationState = TRANSPORT_MOVING
		//	Animation = wobbling_on_transport
		//		AnimationName = MUHaradim_IDLD
		//	    AnimationMode = LOOP
		//      AnimationBlendTime  = 15
		//	End
		//End
	    
		// --- stunned anims
	    
		AnimationState = STUNNED_STANDING_UP

 				Animation = Standing_Back_Up
					AnimationName = MUHaradim_GTPA
			AnimationMode = ONCE_BACKWARDS
			AnimationSpeedFactorRange = 1.5 1.5
				End
		End
	    

		AnimationState = STUNNED
 				Animation = Splattered_On_Ground
					AnimationName = MUHaradim_LNDA
					AnimationMode = ONCE
				End
				EnteringStateFX = FX_HaradrimHitGround
		End

		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= MUHaradim_MFDA
				AnimationMode	= LOOP
				Distance		= 30
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= MUHaradim_IDLA
				AnimationMode				= LOOP
			End
		End
		; ladder climbing animations
		AnimationState = MOVING CLIMBING BACKING_UP
			Animation = Climbing_Down
				AnimationName = MUHaradim_CLMA
				AnimationMode = LOOP_BACKWARDS
				AnimationSpeedFactorRange = 2.0 2.0
			End
		End

		AnimationState = MOVING CLIMBING
			Animation = Climbing_Up
				AnimationName = MUHaradim_CLMA
				AnimationMode = LOOP
				AnimationSpeedFactorRange = 2.0 2.0
			End
		End

			AnimationState = MOVING DAMAGED AFLAME
				Animation = Moving_Damaged
					AnimationName = MUHaradim_MFDA
					AnimationMode = LOOP
				End
				Flags               = RANDOMSTART
				ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
			End

			AnimationState = MOVING AFLAME
				Animation = Moving
					AnimationName = MUHaradim_MFDA
					AnimationMode = LOOP
				End
				Flags               = RANDOMSTART
				ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
				ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
			End

		//	AnimationState = MOVING DAMAGED
		//		Animation = Moving_Damaged
		//			AnimationName = MUHaradim_IWKA
		//		    AnimationMode = LOOP
		//		End
		//		Flags               = RANDOMSTART
		//		ParticleSysBone     = None InfantryDustTrails
		//  End

			AnimationState = MOVING EMOTION_TERROR
				Animation = MovingA
					AnimationName = MUHaradim_RUNC
					AnimationMode = LOOP
				End
				Flags               = RANDOMSTART
				ParticleSysBone     = None InfantryDustTrails
			End
					
			AnimationState        = MOVING WANDER
				Animation           = WLKA
					AnimationName     = MUHaradim_WLKA
					AnimationMode     = LOOP
				End
				Animation           = WLKB
					AnimationName     = MUHaradim_WLKB
					AnimationMode     = LOOP
				End
			End
			
			AnimationState				= MOVING BACKING_UP
				Animation				= BackingUp
					AnimationName		= MUHaradim_BAKA
					AnimationMode		= LOOP
				End
				Animation				= BackingUp
					AnimationName		= MUHaradim_BAKB
					AnimationMode		= LOOP
				End
				Animation				= BackingUp
					AnimationName		= MUHaradim_BAKC
					AnimationMode		= LOOP
				End
				Flags = RANDOMSTART
			End
			
			AnimationState = ATTACKING MOVING
				Animation = MovingA
					AnimationName = MUHaradim_RUNA
					AnimationMode = LOOP
				End
				Animation = MovingB
					AnimationName = MUHaradim_RUNB
					AnimationMode = LOOP
				End
				Flags               = RANDOMSTART
				ParticleSysBone     = None InfantryDustTrails
			End
			
			AnimationState = MOVING
				Animation           = WLKA
					AnimationName     = MUHaradim_WLKA
					AnimationMode     = LOOP
				End
				Animation           = WLKB
					AnimationName     = MUHaradim_WLKB
					AnimationMode     = LOOP
				End
				;;.;;	Animation = MovingA
				;;.;;		AnimationName = MUHaradim_RUNA
				;;.;;		AnimationMode = LOOP
				;;.;;	End
				;;.;;	Animation = MovingB
				;;.;;		AnimationName = MUHaradim_RUNB
				;;.;;		AnimationMode = LOOP
				;;.;;	End
				Flags               = RANDOMSTART
				; ParticleSysBone     = None InfantryDustTrails
			End
			
			
			AnimationState					=	FIRING_OR_PREATTACK_E
				Animation
					AnimationName			=	MUHaradim_ATKA
					AnimationMode			=	ONCE
					AnimationSpeedFactorRange = 2.3 2.3
				End
			End

			AnimationState					=	FIRING_OR_PREATTACK_A AIM_HIGH
				Animation					=	ATKB
					AnimationName			=	MUHaradim_ATKC 
					AnimationMode			=	LOOP
					UseWeaponTiming			=	Yes
				End
			End

			AnimationState					=	FIRING_OR_PREATTACK_A AIM_HIGH
				Animation					=	ATKB
					AnimationName			=	MUHaradim_ATKC 
					AnimationMode			=	LOOP
					UseWeaponTiming			=	Yes
				End
			End


			AnimationState					=	FIRING_OR_PREATTACK_C
				Animation					=	ATKC
					AnimationName			=	MUHaradim_ATKB 
					AnimationMode			=	LOOP
					UseWeaponTiming			=	Yes
				End
			End
			
			AnimationState					=	 FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
				Animation					=	ATKD
					AnimationName			=	MUHaradim_ATKD 
					AnimationMode			=	ONCE
					UseWeaponTiming			=	Yes
				End
			End
		 
			AnimationState = FIRING_OR_PREATTACK_A
				Animation = Attacking
					AnimationName = MUHaradim_ATKA
					AnimationMode = LOOP
					UseWeaponTiming		= Yes
				End
				FrameForPristineBonePositions = 64
			End
			
			AnimationState = FIRING_OR_PREATTACK_C
				Animation = Attacking
					AnimationName = MUHaradim_ATKA
					AnimationMode = LOOP
					UseWeaponTiming		= Yes
				End
				FrameForPristineBonePositions = 64
			End
			
			AnimationState = PASSENGER
				Animation = Wiggling
					AnimationName = MUHaradim_FLLA
					AnimationMode = LOOP
				End
			End
		   

		   
			
			AnimationState = WAR_CHANT
				Animation = Chant
					AnimationName = MUHaradim_TNTA
					AnimationMode = LOOP
				End
				Animation = Chant
					AnimationName = MUHaradim_TNTB
					AnimationMode = LOOP
				End
				Animation = Chant
					AnimationName = MUHaradim_TNTC
					AnimationMode = LOOP
				End
			End
					
			//-emotions--
			AnimationState							= EMOTION_AFRAID
				Animation							= FERA
					AnimationName					= MUHaradim_FERA
					AnimationMode					= LOOP
				End
				Animation							= FERA
					AnimationName					= MUHaradim_FERB
					AnimationMode					= LOOP
				End
				Animation							= FERA
					AnimationName					= MUHaradim_FERC
					AnimationMode					= LOOP
				End
				Flags = RANDOMSTART
			End
			
			AnimationState							= EMOTION_TAUNTING
				Animation							= TNTA
					AnimationName					= MUHaradim_TNTA
					AnimationMode					= LOOP
				End
				Animation							= TNTA
					AnimationName					= MUHaradim_TNTB
					AnimationMode					= LOOP
				End
				Animation							= TNTA
					AnimationName					= MUHaradim_TNTC
					AnimationMode					= LOOP
				End
			End
			
			AnimationState							= EMOTION_POINTING
				Animation							= Pointing1A
					AnimationName					= MUHaradim_PNTA
					AnimationMode					= LOOP
				End
			End
			AnimationState							= EMOTION_POINTING
				Animation							= Pointing1B
					AnimationName					= MUHaradim_PNTB
					AnimationMode					= LOOP
				End
			End
			AnimationState							= EMOTION_POINTING
				Animation							= Pointing1C
					AnimationName					= MUHaradim_PNTC
					AnimationMode					= LOOP
				End
			End

			AnimationState							= EMOTION_CELEBRATING
				Animation                           = CHRA
					AnimationName					= MUHaradim_CHRA
					AnimationMode					= ONCE
				End
				Animation                           = CHRA
					AnimationName					= MUHaradim_CHRB
					AnimationMode					= ONCE
				End
				Animation                           = CHRA
					AnimationName					= MUHaradim_CHRC
					AnimationMode					= ONCE
				End
			End

			AnimationState				=	SELECTED
				SimilarRestart			=   Yes
				Animation				=	AtAttention
					AnimationName		=	MUHaradim_ATNB
					AnimationMode		=	LOOP
				End
				StateName				= Selected
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "Idle" then CurDrawableSetTransitionAnimState("Idle_to_Selected") end
				EndScript
			End		

			;------------ TRANSITION ANIMS ----------------
			
			TransitionState       = Selected_to_Idle
				Animation           = ATNE
					AnimationName		=	MUHaradim_ATNC
					AnimationMode		=	ONCE
					AnimationSpeedFactorRange	= 2.0 2.0
				End
			End
			
			TransitionState       = Idle_to_Selected

				Animation           = ATND
					AnimationName     = MUHaradim_ATNA
					AnimationMode   =	ONCE
					AnimationSpeedFactorRange	= 2.0 2.0
				End
			End
		End
		//------------------------------------------------------------//
End

















;--------------------------------------------------------------------;
ChildObject RockGrey15  RockGrey15 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End

ChildObject DarkRockGrey13  DarkRockGrey13 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End

ChildObject RockGrey13  RockGrey13 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End

ChildObject EnedwaithCliff01  EnedwaithCliff01 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End

ChildObject EnedwaithCliff02  EnedwaithCliff02 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End

ChildObject EnedwaithCliff03  EnedwaithCliff03 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End

ChildObject EnedwaithCliff04  EnedwaithCliff04 
	KindOf  = IMMOBILE IGNORED_IN_GUI UNATTACKABLE;
End
;--------------------------------Inn.ini-------------------------------;
ChildObject OrcTent2 OrcTent2
	EquivalentTo = Inn ;;.;; 
	CommandSet          = GenericSelfRepairCommandSet
	EditorSorting       = STRUCTURE
	ThreatLevel = 1.0
	BuildCost           = 500
	BuildTime           = 45.0           ; in seconds
	BountyValue         = 50 ;GONDOR_WORKSHOP_BOUNTY_VALUE
	VisionRange         = 160.0          ; Shroud clearing distance
	ShroudClearingRange = GONDOR_WORKSHOP_SHROUD_CLEAR
	DisplayName         = OBJECT:InnTavern
	Description 	      = OBJECT:InnTavernDescription
	RadarPriority       = STRUCTURE
	KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LINKED_TO_FLAG CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE NEVER_CULL_FOR_MP NOT_SELLABLE
	KeepSelectableWhenDead = Yes
	VoiceSelect		= CivilianInnSelect
	SoundOnDamaged		= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
	VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End
	CampnessValue = CAMPNESS_TECH_BUILDING
	EvaOnFirstSightingEventEnemy = SawInn
	EvaOnFirstSightingEventNonEnemy = SawInn
	EvaEnemyObjectSightedEvent	= None   ; Don't do this, covered by "OnFirstSighting"
	EvaEventDamagedOwner	= StructureUnderAttack 		; Eva event to trigger when building is damaged
	EvaEnemyObjectSightedEvent	= EnemyCampSighted   ; Normal 'There's their camp' when any enemy building is seen
	ArmorSet
		Conditions        = None
		Armor             = UnitProductionStructureArmor ;;-;; StructureArmor ; ;
	End
	GeometryIsSmall			= No
	Shadow					= SHADOW_VOLUME
	BuildCompletion			= PLACED_BY_PLAYER
	GeometryContactPoint = X:-73	Y:9		Z:0			Repair
	GeometryContactPoint = X:82		Y:9		Z:0			Repair
	GeometryContactPoint = X:47.546		Y:36.435	Z:0
	GeometryContactPoint = X:-32.763	Y:-46.121	Z:0
	GeometryContactPoint = X:26.753		Y:26.753	Z:67.933	Swoop
	RemoveModule ModuleTag_03
	RemoveModule ModuleTag_StructureCollapseUpdate
	//--------------------------------------------------------------------//
 		Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
			UpgradeToGrant 					= Upgrade_HubIsBuilt
			GiveOnBuildComplete				= Yes
		End
		Behavior = TooltipUpgrade ModuleTag_WallBannerTooltip
			RequiresAllTriggers				= No
			TriggeredBy						= Upgrade_HubIsBuilt Upgrade_AllHumansHaveThisUpgrade
 			DisplayName						= OBJECT:MercenaryCamp_New
 			Description						= OBJECT:InnTavernDescription
 		End		
	//--------------------------------------------------------------------//
		Behavior = KeepObjectDie ModuleTag_IWantRubble
			StayOnRadar				= Yes
		End
		Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
			SelfBuildingLoop			= BuildingConstructionLoop ; Only played if we DON'T spawn a worker
			SelfRepairFromDamageLoop	= NoSound         ; This doesn't cause an animation, so don't bother playing a sound
			SelfRepairFromRubbleLoop	= BuildingConstructionLoop
			SpawnTimer					= -1.0 ; Negative means no 'autoheal'
			RebuildTimeSeconds			= 40
		End
		Body                        = StructureBody ModuleTag_05
			MaxHealth         		    = BASIC_INN_HEALTH
			MaxHealthDamaged  		    = BASIC_INN_HEALTH_DAMAGED
			MaxHealthReallyDamaged 	  	= BASIC_INN_HEALTH_REALLY_DAMAGED
		End
		Behavior                  = BuildingBehavior BuildingModuleTag
		End
		Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
			Radius = 50		; How far we try to claim ground
			MaxIncome = 0	; If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
			IncomeInterval = 999999	; How often (in msec) we give that much money
			HighPriority = Yes ; A high priority claim gets to pretend it was there first.
		End
		Behavior = ProductionUpdate ProductionUpdateModuleTag
		End
		Behavior = QueueProductionExitUpdate QueueProductionModuleTag
			UnitCreatePoint		= X:5 Y:0 Z:0.0 ;;-;; X:40 Y:0 Z:0.0 ;;-;; X:5.8616 Y:20.1480 Z:0.0
			NaturalRallyPoint	= X:80.0 Y:0 Z:0.0 ;;-;; X:-0.1480 Y:-80.0 Z:0.0
			ExitDelay			= 300
			PlacementViewAngle	= 0
		End
	//--------------------------------------------------------------------//
		Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
			TriggeredBy	= Upgrade_DwarfFaction
			CommandSet	= CommandSetInnDwarvenFaction
		End
		Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
			TriggeredBy	= Upgrade_MenFaction
			CommandSet	= CommandSetInnMenFaction
		End
		Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
			TriggeredBy	= Upgrade_ElfFaction
			CommandSet	= CommandSetInnElvenFaction
		End
		Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
			TriggeredBy	= Upgrade_IsengardFaction
			CommandSet	= CommandSetInnIsengardFaction
		End
		Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
			TriggeredBy	= Upgrade_MordorFaction
			CommandSet	= CommandSetInnMordorFaction
		End
		Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
			TriggeredBy	= Upgrade_WildFaction
			CommandSet	= CommandSetInnWildFaction
		End
	//--------------------------------------------------------------------//
End
;--------------------------------------------------------------------;
ChildObject ShireFence04 ShireFence04 
  KindOf = -OPTIMIZED_PROP -CLEARED_BY_BUILD
    RemoveModule ModuleTag_01
    Draw = W3DScriptedModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        StaticModelLODMode = yes
        DefaultModelConditionState
            Model = PShireFence04
        End
    End

End
;--------------------------------------------------------------------;
ChildObject ShireFence03 ShireFence03 
  KindOf = -OPTIMIZED_PROP -CLEARED_BY_BUILD
    RemoveModule ModuleTag_01
    Draw = W3DScriptedModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        StaticModelLODMode = yes
        DefaultModelConditionState
            Model = PShireFence03
        End
    End
End

ChildObject SignalFire SignalFire

    //--------------------------------------------------------------------//
         Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
            UpgradeToGrant                     = Upgrade_HubIsBuilt
            GiveOnBuildComplete                = Yes
        End
        Behavior = TooltipUpgrade ModuleTag_WallBannerTooltip
            RequiresAllTriggers                = No
            TriggeredBy                        = Upgrade_HubIsBuilt Upgrade_AllHumansHaveThisUpgrade
             DisplayName                        = OBJECT:LF_New
			 Description 	      				= OBJECT:LF_Disc_New
         End
    //--------------------------------------------------------------------//
        Draw = W3DScriptedModelDraw ModuleTag_Draw
            OkToChangeModelColor  = Yes
            UseStandardModelNames = Yes

            DefaultModelConditionState
                Model = GBWTopWall2
            End

            ;WallBoundsMesh = P1
            ;RampMesh1 = P2
            ;RampMesh2 = P3

        End
    //--------------------------------------------------------------------//

    Geometry        = CYLINDER
      GeometryMajorRadius        = 20.0
    GeometryMinorRadius        = 20.0
    GeometryHeight            = 35
    GeometryOffset            = X:0 Y:0 Z:0

    GeometryIsSmall            = Yes
    Shadow                    = SHADOW_VOLUME
    BuildCompletion            = PLACED_BY_PLAYER

    GeometryContactPoint = X:-10.0    Y:10.0        Z:0            Repair
    GeometryContactPoint = X:10.0    Y:-10.0        Z:0            Repair
    GeometryContactPoint = X:10.0    Y:10.0        Z:0
    GeometryContactPoint = X:-10.0    Y:-10.0        Z:0
    GeometryContactPoint = X:0.0    Y:0.0        Z:35.0    Swoop


End
//--------------------------------------------------------------------//
;;-----file.in----.----------ok. AiData.ini---------------------------;;
//--------------------------------------------------------------------//


Weather

  HardwareFogColor = R:250 G:250 B:220

  HardwareFogEnable = Yes

  HardwareFogStart = 1000

  HardwareFogEnd = 3500

End

AIData

  LowLodTreeName = TreeLowLODMordor

END

WaterTransparency
  ReflectionPlaneZ = 220.0;
  ReflectionOn = Yes
End

