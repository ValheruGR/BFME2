;/////////////////////////////////////////////////////////////////////////////
;///			Map Goblinfloor 4Pl by Powerkartoffel     	   ///
;///				                            		     	           ///
;///////////////////////////////////////////////////////////////////////////// 

;-----------------------------------------------------------------


Weather
	HardwareFogColor = R:60 G:90 B:70
	HardwareFogEnable = Yes
	HardwareFogStart = 700
	HardwareFogEnd = 4500
;	CloudTextureSize = X:100 Y:100		; size in world units that one repetition of the cloud texture spans
    CloudOffsetPerSecond = X:-0.005 Y:0.009	    ; offset in texture units that the cloud texture moves per second
	
	    SnowSpeed = 160                           ; speed at which snow falls 

        SnowEnabled = Yes                         ; enable/disable snow on the map. 
        IsSnowing = yes                         ; is it snowing today? 
        SnowTexture = exraindrop.tga   ; which .tga texture is falling from the sky? 
        SnowBoxHeight = 600                     ; height from which snow falls 
        SnowSpacing = 140                          ; snow spacing -- less means more; 
        NumberTiles = 4 
 
        SnowAmplitude = 1                     ; amount of side-to-side movement.  
        SnowFrequencyScaleX = 0.01       ; speed of side-to-side wave movement. 
        SnowFrequencyScaleY = 0.005     ; speed of side-to-side wave movement.  
 
        SnowPointSize = 30                        ; scale the size of snow particles. 
        SnowMinPointSize =  20              ; min point size 
        SnowMaxPointSize = 30               ; max point size 
 
        SnowPointSprites = No             ; set to "no" for point-sprite emulation. 
        SnowQuadSize = 3                           ; scale the size of snow particles when using point-sprite emulation. 
 
        SnowSpeed = 180                           ; speed at which snow falls 

End

AIData
	UseLowLODTrees = No ;;.;;
END

WaterTransparency
	ReflectionPlaneZ = 89.0;
	ReflectionOn = No
End

;-------------------------------------------------------------------------------------------------------

;FX stuff

;		ParticleSysBone = FXBONEFIRE SignalFireNB FollowBone:Yes
		; ParticleSysBone = FXBONEFIRE SignalFirelowNB FollowBone:Yes
		; ParticleSysBone = FXBONEFIRE SignalFireEmbers FollowBone:Yes
		; ParticleSysBone = FXBONESMOKE SignalFireSmokeNB FollowBone:Yes
		; ParticleSysBone = FXBONEFIRE SignalFireHotCoals FollowBone:Yes

FXParticleSystem SignalFirelowNB
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar2.tga
    Lifetime = 30 30
    SortLevel = 1
    Size = 25 50
    BurstDelay = 1 1
    BurstCount = 2 2
  End
  Color = DefaultColor
    Color2 = R:5 G:30 B:20 15
    Color3 = R:0 G:0 B:0 30
  End
  Update = DefaultUpdate
    SizeRateDamping = 0.99 0.99
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
    Z = 1.8 1.9
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    Radius = 10
    Length = 10
    Offset = X:0 Y:0 Z:-8
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem SignalFireEmbers
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXEmbersLight.tga
    Lifetime = 80 80
    SortLevel = 1
    Size = 5 5
    BurstDelay = 2 2
    BurstCount = 1 1

  End
  Color = DefaultColor
    Color1 = R:10 G:40 B:30 0
    Color2 = R:0 G:0 B:0 80
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 3 3
    SizeRateDamping = 0.9 0.85
    AngleZ = -1 1
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
    DriftVelocity = X:0.3 Y:0 Z:0.5
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:0 Y:0 Z:-4
    EndPoint = X:0 Y:0 Z:-8
  End
  Draw = DefaultDraw
  End
  Wind = DefaultWind
    WindMotion = PingPong
    WindStrength = 0.2
    WindAngleChangeMin = 0.149924
    WindAngleChangeMax = 0.449946
    WindPingPongStartAngleMax = 0.785398
    WindPingPongEndAngleMin = 5.49779
    WindPingPongEndAngleMax = 6.28319
  End
End

FXParticleSystem SignalFireNB
  System
    Priority = VERY_LOW_OR_ABOVE
    Type = GPU_PARTICLE
    ParticleName = EXFireScroll2.tga
    Lifetime = 20 20
    SortLevel = 1
    Size = 5 12
    BurstCount = 5 5
  End
  Color = DefaultColor
    Color1 = R:5 G:10 B:0 0
    Color2 = R:8 G:10 B:5 3
    Color3 = R:3 G:5 B:0 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.15
    SizeRateDamping = 0.99 0.99
    AngularRateZ = -0.05 0.05
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.85
    DriftVelocity = X:0 Y:0 Z:0.7
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.1 -0.13
    Z = 0.1 0.2
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    Radius = 12
    Length = 15
    Offset = X:0 Y:0 Z:-12
  End
  Draw = GpuDraw
    FramesPerRow = 4
    TotalFrames = 16
    SpeedMultiplier = 1
  End
  Wind = DefaultWind
    WindMotion = PingPong
    WindStrength = 0.1
    WindAngleChangeMin = 0.149924
    WindAngleChangeMax = 0.449946
    WindPingPongStartAngleMax = 0.785398
    WindPingPongEndAngleMin = 5.49779
    WindPingPongEndAngleMax = 6.28319
  End
End


; Moria Modules


ChildObject ShireRetainingWall01 ShireRetainingWall01
   ; *** ART Parameters ***
  Draw = W3DPropDraw ModuleTag_01
     ModelName = PShireRetain01
  End

    ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ShireWall
  EditorSorting   = MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf = INERT_SHROUD_REVEALER IMMOBILE
  Shadow          = SHADOW_VOLUME

  Geometry            = CYLINDER
  GeometryIsSmall     = No
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
	
End


ChildObject MoriaModuleMineStraightB  MoriaModuleMineStraightB 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCornerA  MoriaModuleDwarvenCornerA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStairsC  MoriaModuleDwarvenCorridorStairsC 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStraightA  MoriaModuleDwarvenCorridorStraightA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStraightB  MoriaModuleDwarvenCorridorStraightB
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStraightC  MoriaModuleDwarvenCorridorStraightC 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenEntranceA  MoriaModuleDwarvenEntranceA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallCenter  MoriaModuleDwarvenGreatHallCenter 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallWall  MoriaModuleDwarvenGreatHallWall 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallColumnA  MoriaModuleDwarvenGreatHallColumnA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallColumnB  MoriaModuleDwarvenGreatHallColumnB 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallColumnC  MoriaModuleDwarvenGreatHallColumnC
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallDoorA  MoriaModuleDwarvenGreatHallDoorA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallDoorATop  MoriaModuleDwarvenGreatHallDoorATop
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenRoom3WayA  MoriaModuleDwarvenRoom3WayA
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE; ;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenRoom3WayB  MoriaModuleDwarvenRoom3WayB
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleMine3WayA  MoriaModuleMine3WayA
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridor3WayA  MoriaModuleDwarvenCorridor3WayA
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

;  Erebor Walls

ChildObject EreborCorner01  EreborCorner01
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborCorner02  EreborCorner02
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject Ereborcorner03  Ereborcorner03
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborDestructableDoor  EreborDestructableDoor
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborNiche01  EreborNiche01
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborWall01  EreborWall01 
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborWall02  EreborWall02
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

; EREBOR EDGE // Arch, Step

ChildObject EreborArch01  EreborArch01
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborStep  EreborStep
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborEdge  EreborEdge
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:step
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1
  GeometryIsSmall = Yes
End

ChildObject EreborEdgeEnd  EreborEdgeEnd 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborEdgeCorner  EreborEdgeCorner
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:step
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1
  GeometryIsSmall = Yes
End

ChildObject EreborEdgeNiche  EreborEdgeNiche
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:step
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1
  GeometryIsSmall = Yes
End


; Erebor Track Column

ChildObject EreborPropTrack  EreborPropTrack
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End


ChildObject EreborColumn01  EreborColumn01 
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborTrackMiddle  EreborTrackMiddle 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborTrackTurn  EreborTrackTurn
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

; Erebor Props

ChildObject EreborWheel2  EreborWheel2

 Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = EB_wheel2_SKN
    End
		IdleAnimationState
			Animation = IDLE
				AnimationName		=	EB_wheel2_SKL.EB_wheel2_IDLA
				AnimationMode 		=	LOOP	
			End 

			;BeginScript
			;	Prev = CurDrawablePrevAnimationState()
			;	if Prev == "BeingConstructed" then 
				    ; Don't play completed sound when canceling build-in-progress or when
				    ; destroyed halfway
			;	    if not CurDrawableModelcondition( "DYING" ) then 
			;			CurDrawablePlaySound("CampSoldierCompleteGeneric")
			;		end
			;	end
			;EndScript
		End
  End
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
	
	
End

ChildObject EreborChart03  EreborChart03
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartD  EBMineCartD
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartA  EBMineCartA
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartB  EBMineCartB
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartC  EBMineCartC
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End


;////////////  Trees  ////////////////



ChildObject TreeDead01  TreeDead01

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PREdoras11
    TextureName = predorasrocks.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PREdoras11
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PREdoras11
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PREdoras11 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject TreeDead02  TreeDead02

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PREdoras12
    TextureName = predorasrocks.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PREdoras12
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PREdoras12
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PREdoras12 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject TreeDead05  TreeDead05

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PRDarkGrey11
    TextureName = tclif_roh01.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PRDarkGrey11
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PRDarkGrey11
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PRDarkGrey11 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject TreeDead07  TreeDead07

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PREdoras12
    TextureName = tclif_roh01.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PREdoras12
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PREdoras12
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PREdoras12 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject CampOnly06 CampOnly06

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MUSpiderEgg
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Haystack
  EditorSorting   = MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE NO_COLLIDE HIDE_IF_FOGGED
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 99999.0
  End

  Geometry = BOX
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes

End

ChildObject Monument01  Monument01 

 Draw = W3DScriptedModelDraw ModuleTag_01
	OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes
		StaticModelLODMode = No ; Will append M or L to the skin name depending on GameLOD  
		DefaultModelConditionState
			Model = NBSpiderL_SKN
		End
		
	AnimationState = PHANTOM_STRUCTURE
		Animation = IdleA
			AnimationName			=	NBSpiderL_SKL.NBSpiderL_ILDA
			AnimationMode			=	ONCE 
		End
		BeginScript
   			CurDrawableHideSubObject("Spiderlair")
			CurDrawableHideSubObject("Webbing")
		EndScript
	End
    
    IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName			=	NBSpiderL_SKL.NBSpiderL_ILDA
			AnimationMode			=	ONCE 
		End

	End   
 End
  
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE 		Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade

 	Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
		UpgradeToGrant 					= Upgrade_StructureLevel1
		GiveOnBuildComplete			= Yes
	End
	
    Behavior = SubObjectsUpgrade ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		ShowSubObjects	= Shelob Shelob01
		HideSubObjects	= Spiderlair Webbing
	End
End

ChildObject SignalFire SignalFire

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor = Yes
			
		StaticModelLODMode = yes
			
		DefaultModelConditionState
			Model = BB_well
		End
		
	
		ModelConditionState = CAPTURED
		ParticleSysBone = FXBONEFIRE SignalFireNB FollowBone:Yes
		ParticleSysBone = FXBONEFIRE SignalFirelowNB FollowBone:Yes
		ParticleSysBone = FXBONEFIRE SignalFireEmbers FollowBone:Yes
		End
	
	
	
	End
   
	Draw = W3DFloorDraw ModuleTag_DrawFloor    
	End

	Geometry				= CYLINDER
  	GeometryMajorRadius		= 40.0
	GeometryMinorRadius		= 40.5
	GeometryHeight			= 30
	GeometryOffset			= X:1 Y:-4 Z:0
	
	GeometryIsSmall			= No
	Shadow					= SHADOW_VOLUME
	BuildCompletion			= PLACED_BY_PLAYER
	
	GeometryContactPoint = X:-15.0	Y:15.0		Z:0			Repair
	GeometryContactPoint = X:15.0	Y:-15.0		Z:0			Repair
	GeometryContactPoint = X:15.0	Y:15.0		Z:0
	GeometryContactPoint = X:-15.0	Y:-15.0		Z:0
	GeometryContactPoint = X:0.0	Y:0.0		Z:30.0	Swoop

End




; old 1.06 Gollum

ChildObject NeutralGollum NeutralGollum

Body = ActiveBody ModuleTag_02
        MaxHealth         =  200 ;; GOLLUM_HEALTH
    End
    LocomotorSet
        Locomotor     = HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = 45
    End

    LocomotorSet
        Locomotor     = HumanWanderLocomotor
        Condition     = SET_WANDER
        Speed         =  32
    End

End