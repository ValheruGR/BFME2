;/////////////////////////////////////////////////////////////////////////////
;///			Map Dwarvenfloor 6Pl by Powerkartoffel     	   ///
;///				                            		     	           ///
;///////////////////////////////////////////////////////////////////////////// 

;-----------------------------------------------------------------


Weather
	HardwareFogColor = R:50 G:70 B:80
	HardwareFogEnable = Yes
	HardwareFogStart = 700
	HardwareFogEnd = 4200
;	CloudTextureSize = X:100 Y:100		; size in world units that one repetition of the cloud texture spans
    CloudOffsetPerSecond = X:-0.005 Y:0.009	    ; offset in texture units that the cloud texture moves per second
End

AIData
	UseLowLODTrees = No ;;.;;
END

WaterTransparency
	ReflectionPlaneZ = 89.0;
	ReflectionOn = No
End

;-------------------------------------------------------------------------------------------------------


; Moria Modules

ChildObject MoriaModuleMineStraightB  MoriaModuleMineStraightB 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject RivendellCliff02  RivendellCliff02
	
  Geometry              = BOX
  GeometryMajorRadius   = 1
  GeometryMinorRadius   = 1
  GeometryHeight        = 1
  GeometryIsSmall       = Yes
  GeometryOffset      = X:0 Y:0 Z:0 
End

ChildObject RivendellCliff01  RivendellCliff01
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject RivendellCliff04  RivendellCliff04
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject HighPass_FallingIceTower  HighPass_FallingIceTower
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	
  Geometry              = BOX
  GeometryMajorRadius   = 1
  GeometryMinorRadius   = 1
  GeometryHeight        = 1
  GeometryIsSmall       = Yes
  GeometryOffset      = X:0 Y:0 Z:0 
End

ChildObject Ereborcatapult  Ereborcatapult
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject CelduinDockSegmentE  CelduinDockSegmentE
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject CelduinDockSegmentP  CelduinDockSegmentP
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCornerA  MoriaModuleDwarvenCornerA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStairsC  MoriaModuleDwarvenCorridorStairsC 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStraightA  MoriaModuleDwarvenCorridorStraightA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStraightB  MoriaModuleDwarvenCorridorStraightB
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorStraightC  MoriaModuleDwarvenCorridorStraightC 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenEntranceA  MoriaModuleDwarvenEntranceA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallCenter  MoriaModuleDwarvenGreatHallCenter 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallWall  MoriaModuleDwarvenGreatHallWall 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallColumnA  MoriaModuleDwarvenGreatHallColumnA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborColumn01  EreborColumn01 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallColumnB  MoriaModuleDwarvenGreatHallColumnB 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallColumnC  MoriaModuleDwarvenGreatHallColumnC
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallDoorA  MoriaModuleDwarvenGreatHallDoorA 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenGreatHallDoorATop  MoriaModuleDwarvenGreatHallDoorATop
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenThroneRoom  MoriaModuleDwarvenThroneRoom
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenThroneColumn  MoriaModuleDwarvenThroneColumn
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridorArch  MoriaModuleDwarvenCorridorArch
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenRoom3WayA  MoriaModuleDwarvenRoom3WayA
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE; ;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenRoom3WayB  MoriaModuleDwarvenRoom3WayB
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleMine3WayA  MoriaModuleMine3WayA
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject MoriaModuleDwarvenCorridor3WayA  MoriaModuleDwarvenCorridor3WayA
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

;  Erebor Walls

ChildObject EreborCorner01  EreborCorner01
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborCorner02  EreborCorner02
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject Ereborcorner03  Ereborcorner03
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborDestructableDoor  EreborDestructableDoor
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborNiche01  EreborNiche01
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborWall01  EreborWall01 
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborWall02  EreborWall02
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

; EREBOR EDGE // Arch, Step

ChildObject EreborArch01  EreborArch01
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborStep  EreborStep
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborEdge  EreborEdge
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:step
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1
  GeometryIsSmall = Yes
End

ChildObject EreborEdgeCorner  EreborEdgeCorner
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:step
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1
  GeometryIsSmall = Yes
End

ChildObject EreborEdgeNiche  EreborEdgeNiche
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:step
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE UNATTACKABLE NOT_AUTOACQUIRABLE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1
  GeometryIsSmall = Yes
End


; Erebor Track Column

ChildObject EreborPropTrack  EreborPropTrack
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborTrack  EreborTrack
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborTrackMiddle  EreborTrackMiddle 
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

ChildObject EreborTrackTurn  EreborTrackTurn
	KindOf  =  IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End

; Erebor Props

ChildObject EreborWheel2  EreborWheel2

 Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = EB_wheel2_SKN
    End
		IdleAnimationState
			Animation = IDLE
				AnimationName		=	EB_wheel2_SKL.EB_wheel2_IDLA
				AnimationMode 		=	LOOP	
			End 

			;BeginScript
			;	Prev = CurDrawablePrevAnimationState()
			;	if Prev == "BeingConstructed" then 
				    ; Don't play completed sound when canceling build-in-progress or when
				    ; destroyed halfway
			;	    if not CurDrawableModelcondition( "DYING" ) then 
			;			CurDrawablePlaySound("CampSoldierCompleteGeneric")
			;		end
			;	end
			;EndScript
		End
  End
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
	
	
End

ChildObject EreborChart03  EreborChart03
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartD  EBMineCartD
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartA  EBMineCartA
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartB  EBMineCartB
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End

ChildObject EBMineCartC  EBMineCartC
	KindOf  =   IMMOBILE INERT IGNORED_IN_GUI UNATTACKABLE MOVE_ONLY;
	RadarPriority = NOT_ON_RADAR
End


;////////////  Trees  ////////////////



ChildObject TreeDead01  TreeDead01

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PREdoras11
    TextureName = predorasrocks.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PREdoras11
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PREdoras11
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PREdoras11 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject TreeDead02  TreeDead02

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PREdoras12
    TextureName = predorasrocks.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PREdoras12
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PREdoras12
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PREdoras12 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject TreeDead05  TreeDead05

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PRDarkGrey11
    TextureName = tclif_roh01.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PRDarkGrey11
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PRDarkGrey11
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PRDarkGrey11 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject TreeDead07  TreeDead07

  Draw                  = W3DTreeDraw ModuleTag_Opt_01
    ModelName = PREdoras12
    TextureName = tclif_roh01.tga
    DoTopple         = Yes
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    KillWhenFinishedToppling = No
    SinkDistance     = 9;
    SinkTime         = DEFAULT_TREE_SINK_TIME
    TaintedTree	     = Yes
  End
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PREdoras12
    End
      
    ModelConditionState = PASSENGER CLUB
      Model = None
    End
    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_DeadTreeBecomeClub
    End

    ModelConditionState = PASSENGER
      Model             = PREdoras12
    End
    AnimationState = PASSENGER
      EnteringStateFX = FX_DeadTreePickUp
    End
    
    
    ; These are the model conditions and animation states required for trees that can burn.  
    ModelConditionState = BURNED
      Model = PREdoras12 ; use default nondeath model in place of this.
    End

    AnimationState   = AFLAME ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End

    AnimationState   = DYING BURNED ;Currently on fire
	  ParticleSysBone     = None FireTreeSmall 
	  ParticleSysBone     = None TreeEmbers 
    End
    ; End of stuff required for burn. 
    
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 3.2
  GeometryHeight      = 60
  
End

ChildObject Erebortower Erebortower
	KindOf  =  IMMOBILE IGNORED_IN_GUI UNATTACKABLE;;
	RadarPriority = NOT_ON_RADAR
	Shadow        = NONE
End



ChildObject SignalFire SignalFire

	SelectPortrait = BPCEreborBattleTower
 
 	; *** ART Parameters ***
		Draw = W3DScriptedModelDraw ModuleTag_Draw
			OkToChangeModelColor = Yes
			
			StaticModelLODMode = yes
			
			DefaultModelConditionState
				Model = EB_tower
			End
		
		;    WallBoundsMesh = GBMTWallAPTop
		
		; ---------- destruction states
    
     ModelConditionState  = DAMAGED
      Model         = EB_tower
      ParticleSysBone DUSTBONE01 FireBuildingSmall
      ParticleSysBone DUSTBONE02 FireBuildingSmall
      ParticleSysBone DUSTBONE03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
	
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = EB_tower
      ParticleSysBone DUSTBONE01 FireBuildingSmall
      ParticleSysBone DUSTBONE02 FireBuildingSmall
      ParticleSysBone DUSTBONE03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
	
    End
    
    ModelConditionState  = RUBBLE
      Model         = EB_tower
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    

		End
 
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SignalFire
  Description 	      = OBJECT:SignalFireDescription09v2 ;;-;; OBJECT:SignalFireDescription
  
  Side                = Neutral
  EditorSorting       = STRUCTURE
  ThreatLevel		  = 1.0
 
  CommandSet          = GenericSelfRepairCommandSet
  BuildCost           = 500
  BuildTime           = 45
  BountyValue         = 50
  VisionRange         = VISION_SIGNAL_FIRE
  ShroudClearingRange = VISION_SIGNAL_FIRE

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableArmor ;;=;; StructureArmor ; ;
  End


  ; *** AUDIO Parameters ***

	VoiceSelect		= CivilianSignalFireSelect

	;SoundAmbient	= SignalFireAmbientLoop		;plays even when there's no fire (hasn't been captured)

	SoundOnDamaged		= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone

;	VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:CAPTURED	Excluded:RUBBLE COLLAPSING	Sound:Amb_VillageTavernLoop
	End

	CampnessValue = CAMPNESS_TECH_BUILDING

	; Event to play when first seen. Same event regardless of owner
	EvaOnFirstSightingEventEnemy = SawSignalFire
	EvaOnFirstSightingEventNonEnemy = SawSignalFire
   	EvaEnemyObjectSightedEvent	= None   ; Don't do this, covered by "OnFirstSighting"

	; *** ENGINEERING Parameters ***

	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE NOT_AUTOACQUIRABLE LINKED_TO_FLAG NEVER_CULL_FOR_MP NOT_SELLABLE IGNORE_FOR_VICTORY ;;.;;
	KeepSelectableWhenDead	= Yes

	Body = StructureBody ModuleTag_Body
		MaxHealth = 1000
	End

	Behavior = GettingBuiltBehavior GetBuiltBehaviorTag
		SelfBuildingLoop			= BuildingBigConstructionLoop			; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound					; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= BuildingBigConstructionLoop
		SpawnTimer					= -1.0
		RebuildTimeSeconds			= 40
	End
	
	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
	Behavior = KeepObjectDie ModuleTag_IWantRubble
		StayOnRadar				= Yes
	End
	
	;;.;;
	Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
		UpgradeToGrant					= Upgrade_FortressOilIsReady
		GiveOnBuildComplete				= Yes
	End
	
	;;-;;
 	Behavior = CostModifierUpgrade ModuleTag_GUILabelFix
		LabelForPalantirString	= GUI:SpellBookRefreshReduction09v2
		TriggeredBy				= Upgrade_AllHumansHaveThisUpgrade Upgrade_FortressOilIsReady
		RequiresAllTriggers		= No
		Percentage				= -25%
		Percentage				= -35% ; ;
		Percentage				= -50%
		ObjectFilter 			= ANY +SignalFire ;;-;; 
  	End
	
	Behavior = SpellRechargeModifierUpgrade ModuleTag_MakeSpellsRefreshFaster
		LabelForPalantirString	= GUI:SpellBookRefreshReduction09v2
		TriggeredBy				= Upgrade_AllHumansHaveThisUpgrade Upgrade_FortressOilIsReady
		RequiresAllTriggers		= No
		Percentage				= -25%
		Percentage				= -35% ; ;
		Percentage				= -50%
	End
	
	Behavior                  = BuildingBehavior BuildingModuleTag
	; NightWindowName			= GBWORKSHOPN
	; FireWindowName			= WINDOW_F01
	; GlowWindowName			= WINDOW_G01
	; FireName					= FIRE01
	End
	
	Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
		Radius			= 80		;// How far we try to claim ground
		MaxIncome		= 0			;// If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
		IncomeInterval	= 999999	;// How often (in msec) we give that much money
		HighPriority	= Yes		;// A high priority claim gets to pretend it was there first.
	End

	Behavior = PassiveAreaEffectBehavior ModuleTag_SplashOfHealingWater_Ahh
		EffectRadius			= SIGNALFIRE_HEALING_RADIUS
		PingDelay				= SIGNALFIRE_HEALING_DELAY
		HealPercentPerSecond	= SIGNALFIRE_HEALING_HEAL_AMOUNT
		AllowFilter				= SIGNALFIRE_HEALING_OBJECT_FILTER
		NonStackable			= SIGNALFIRE_HEALING_OBJECT_NONSTACKABLE
		HealFX					= FX_SpellHealUnitHealBuff
	End
	
	Geometry				= CYLINDER
  	GeometryMajorRadius		= 0.1
	GeometryMinorRadius		= 0.1
	GeometryHeight			= 0.1
	GeometryOffset			= X:0 Y:0 Z:0

	AdditionalGeometry		= BOX
  	GeometryMajorRadius		= 0.1
	GeometryMinorRadius		= 0.1
	GeometryHeight			= 0.1
	GeometryOffset			= X:0 Y:0 Z:0

	AdditionalGeometry		= CYLINDER
  	GeometryMajorRadius		= 0.1
	GeometryMinorRadius		= 0.1
	GeometryHeight			= 0.1
	GeometryOffset			= X:0 Y:0 Z:0
	
	GeometryIsSmall			= Yes
	Shadow					= SHADOW_VOLUME
	BuildCompletion			= PLACED_BY_PLAYER
	
	GeometryContactPoint = X:-15.0	Y:15.0		Z:0			Repair
	GeometryContactPoint = X:15.0	Y:-15.0		Z:0			Repair
	GeometryContactPoint = X:15.0	Y:15.0		Z:0
	GeometryContactPoint = X:-15.0	Y:-15.0		Z:0
	GeometryContactPoint = X:0.0	Y:0.0		Z:20	Swoop

End



; old 1.06 Gollum

ChildObject NeutralGollum NeutralGollum

Body = ActiveBody ModuleTag_02
        MaxHealth         =  200 ;; GOLLUM_HEALTH
    End
    LocomotorSet
        Locomotor     = HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = 45
    End

    LocomotorSet
        Locomotor     = HumanWanderLocomotor
        Condition     = SET_WANDER
        Speed         =  32
    End

End