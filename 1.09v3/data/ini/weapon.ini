;//////////////////////////////////////////////////////////////////////////////
;FILE: Weapon.ini (SYSTEM) ////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////////

#define INFINITE_CLIP_SIZE 0

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

; Weapons now work with Nuggets (like ObjectCreationLists) where each type of nugget
; does one thing, instead of Weapon doing all things itself.  So here are the Nuggets,
; and their syntax.
;  DamageFieldNugget                   ; A Nugget that lays down an area of damage that persists independantly
;    WeaponTemplateName = SmallFireFieldWeapon  
;    Duration = 3000                            
;  End
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 1      ;Damage for a normal hit    
;    Radius        = 0.0    ;Radius of damage
;	 DamageScalar  = 99999% NONE +SUMMONED +HERO ; one hits a object with both kindofs. If any, one hits any hero and any summoned. = balrog
;    DelayTime     = 0      ;How long from hit till the damage is applied
;    DamageType    = SLASH  ;Used to cross reference with victim's armor to determine if hurt
;    DamageFXType  = SWORD_SLASH  ;used to cross with their DamageFX listing to determine what effect to play
;    DeathType     = NORMAL ;Used as index to their Death Modules to determine which one to play
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	 HeroResist		   = .75		;only knocks heroes down 75% of the time
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 10.0
;    ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
;    ShockWaveTaperOff = 1.0
;    ShockWaveSpeed    = 0.0
;    ShockWaveZMult    = 1.0
;    InvertShockWave = Yes			; Pull instead of push
;  End
;  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = GimliAxeProjectile
;    WarheadTemplateName = RohanGimliAxeThrownWarhead
;  End
;  WeaponOCLNugget						; A Nugget that should only be used for the rarest of super special weapons.  I better not catch a Fire Field in here.
;    WeaponOCLName = OCL_SuperComplicatedFivePartMovingDeathBlossom
;  End
;  AttributeModifierNugget
;    AttributeModifier = WitchKingMorgulBladeEffect
;    DamageFXType = SWORD_SLASH  ;used to cross with their DamageFX listing to determine what effect to play
;  End
;  StealMoneyNugget
;    AmountStolenPerAttack = 3.14
;  End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Rohan
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------

Weapon LadyOfLightOld       ; BALANCE Archer Weapon
  AttackRange			= 300
	WeaponSpeed			= 801		; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 2000		; time between shots, msec
	PreAttackDelay      = 400
	PreAttackType       = PER_SHOT	; ; Do the delay each time we attack a new target
	
	FiringDuration      = 1100
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

   ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = LadyOfLightProjectile
    WarheadTemplateName = LadyOfLightWarhead
  End
End
;-----------------------------------------------------------;
Weapon LadyOfLightNewProjectileWeapon ;;-;;
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 50
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = FLAME
    DeathType     = BURNED
	DamageScalar  = 60% ANY +STRUCTURE ;;-;;
    DamageScalar  = 50000% ANY +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
  End

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 800
    Radius        = 90.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = BIG_ROCK
	DamageScalar  = 80% ANY +STRUCTURE -COMMANDCENTER; ;
	DamageScalar  = 36% ANY +COMMANDCENTER 
	DamageScalar  = 60% ANY +HERO
	DamageScalar  = 0% ANY +PORTER
    DeathType     = EXPLODED
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force 
  
    ShockWaveAmount   = 120.0
    ShockWaveRadius   = 92.0
    ShockWaveTaperOff = 0.75
  End
End
;-----------------------------------------------------------;
Weapon GaladWordOfPower
    RadiusDamageAffects		= ENEMIES NOT_SIMILAR NEUTRALS
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	
    FireFX                = FX_GaladWOPOuter
	FiringDuration      = 1400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 2500 
		Radius			= 600 
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		CylinderAOE   = Yes
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force

		ShockWaveAmount   = 200 
		ShockWaveRadius   = 600.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
		CyclonicFactor	  = 280
	End
End
;-----------------------SauronWordOfPower------------------------------------;
Weapon SauronWordOfPowerWeaponInitial ;;-;;
    AttackRange             = 999
	;;-;;FireFX                = FX_SauronWOP_Initial
	WeaponOCLNugget
 		WeaponOCLName = OCL_SauronWordOfPowerInitial ;;-;; 
 	End
End
;-----------------------------------------------------------;
Weapon SauronWordOfPowerWeaponFinal ;;-;;
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR NEUTRALS
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	
	FireFX                = FX_SauronWOP_Final
	FiringDuration      = 1400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 2500 
		Radius			= 630
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		;CylinderAOE   = Yes
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount   = 200  
		ShockWaveRadius   = 630
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
		;CyclonicFactor	  = 280
	End
End

;-----------------------------------------------------------;
Weapon LegolasBow
	AttackRange			= LEGOLAS_BOW_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( LEGOLAS_BOW_RANGE .01 )
					
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed		= 241
	MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range

	FireFX				= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 5.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= LEGOLAS_DELAYBETWEENSHOTS     	; time between shots, msec
	PreAttackDelay      = LEGOLAS_PREATTACKDELAY  		; 1467 is the prep time for archer.
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = LEGOLAS_FIRINGDURATION     	; Duration of the archer firing shot is 500ms.

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:LEGOLAS_RELOADTIME_MIN Max:LEGOLAS_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= LEGOLAS_RELOADTIME_MAX

    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes
    CanFireWhileMoving	= Yes
    
	ProjectileNugget                    ; Default Arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = LegolasBowWarhead
	End
End

;-----------------------------------
Weapon LegolasBowWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LEGOLAS_BOW_DAMAGE
 	DamageScalar  = 90% ANY +IsengardSaruman +IsengardLurtz +IsengardWormTongue +IsengardSharku ;;-;; 
	DamageScalar  = 80% ANY +ARCHER -CAVALRY -HERO ;;-;;
	DamageScalar  = 107% ANY +GoblinSpiderRider ;;-;;
	DamageScalar  = 80% ANY +GoblinCaveTroll
	DamageScalar  = 80% ANY +CaveTroll_Slaved
	DamageScalar  = 80% ANY +DwarvenBattleWagon ;;-;; 90% ;;-;; DwarfElf
    DamageScalar  = 65% ANY +MordorMumakil ;;-;; 75% 
    DamageScalar  = 65% ANY +MordorMountainTroll ;;-;; 75% 
	DamageScalar  = 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
    DamageScalar  = 50% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ;;=;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon LegolasHawkStrike
    AttackRange = LEGOLAS_HAWKSTRIKE_RANGE
    WeaponSpeed = 321         ; dist/sec 
    MinWeaponSpeed = 241
    MaxWeaponSpeed = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
    FireFX = FX_RohanArcherBowWeapon
    ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
    HitPercentage     = 100     ;When this weapon is used it will hit exactly 75% of the time.

	LeechRangeWeapon = Yes ;;.;; //BALANCE RangedAbilitiesNotFailing_2022//
	;All these delays are controlled by the special power. Basically the special power can
	;launch whenever it's ready.
    DelayBetweenShots		= 0											; time between shots, msec
    PreAttackDelay			= 3000										; we want isntant
    PreAttackType			= PER_POSITION
    FiringDuration			= 1000										; Duration of the archer firing shot is 500ms.

    ClipSize = 1
    AutoReloadsClip = Yes
    AutoReloadWhenIdle = 1	
    ClipReloadTime = Min:1 Max:1

    AntiAirborneVehicle		= Yes
    AntiAirborneMonster		= Yes
    
	PreferredTargetBone = B_LLLID ; Likes to shoot things in their left eye.

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = LegolasSpecialArrow
		WarheadTemplateName = LegolasHawkStrikeWarhead
	End
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = LegolasSpecialArrow2ndArrow
		WarheadTemplateName = LegolasHawkStrikeWarhead
	End
End

;------------------------------
Weapon LegolasHawkStrikeWarhead
	ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = LEGOLAS_HAWKSTRIKE_DAMAGE
		DamageScalar  = 10% ANY +STRUCTURE 
		DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
		DamageScalar  = 75% ANY +DwarvenBattleWagon ;;=;; 87% ;;=;;
		DamageScalar  = 60% ANY +IsengardWargRider +GoblinSpiderRider +ElvenRivendellLancer ;;-;; 
		DamageScalar  = 85% ANY +GoblinCaveTroll
		DamageScalar  = 85% ANY +CaveTroll_Slaved
		DamageScalar  = 85% ANY +MordorMountainTroll
		DamageScalar  = 100% ANY +MordorDrummerTroll
		DamageScalar  = 100% ANY +MordorAttackTroll
		DamageTaperOff = #MULTIPLY( LEGOLAS_HAWKSTRIKE_DAMAGE LEGOLAS_HAWKSTRIKE_DAMAGE_TAPEROFF ) 
		Radius        = LEGOLAS_HAWKSTRIKE_RADIUS
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
;;=Elvesagainstflyersnerf=;; 
   		DamageScalar  = 225% ANY +MordorFellBeast +MordorWitchKingOnFellBeast ;;=;; 250% ; ; +GondorGwaihir +Drogoth 
		DamageScalar  = 90% ANY +ElvenFortressEagle +GondorGwaihir_Summoned +Drogoth ;;=;;
		SpecialObjectFilter	= ALL -ORC -GoblinArcher -GoblinFighter -WildMarauder -GoblinSpiderRider ;;-;;
	End
	DamageNugget
  		Damage        = LEGOLAS_HAWKSTRIKE_DAMAGE
		DamageScalar  = 60% ANY +IsengardWargRider +GoblinSpiderRider +ElvenRivendellLancer ;;-;; 
		DamageTaperOff = #MULTIPLY( LEGOLAS_HAWKSTRIKE_DAMAGE LEGOLAS_HAWKSTRIKE_DAMAGE_TAPEROFF )
		Radius        = LEGOLAS_HAWKSTRIKE_ANTI_ORC_RADIUS
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
 		SpecialObjectFilter	= ANY +ORC +GoblinArcher +GoblinFighter +WildMarauder +GoblinSpiderRider ;;-;;
	End
End

;------------------------------------------------------------------------------
Weapon LegolasSword  ; BALANCE Legolas Sword Weapon
	LeechRangeWeapon      = Yes
	AttackRange           = 20.0
	MeleeWeapon           = Yes
	DelayBetweenShots     = LEGOLAS_KNIFE_DELAYBETWEENSHOTS 	       ; time between shots, msec
	PreAttackDelay        = LEGOLAS_KNIFE_PREATTACKDELAY 	;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FireFX                = FX_GondorSwordHit
	FiringDuration        = LEGOLAS_KNIFE_FIRINGDURATION 			;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = LEGOLAS_KNIFE_DAMAGE
		DamageScalar  = 70% ANY +STRUCTURE ;;;-AntiHeroLame;; ;;.;;
		Radius        = 10.0
		DelayTime     = 0
		DamageType    = HERO

		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon RohirrimCrush  ; Used when the rohirrim crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = ROHIRRIM_CRUSH_DAMAGE		; A whole lot of damage.
	DamageScalar   = 0% ANY +PIKE
    AcceptDamageAdd = No ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = CAVALRY_STRONG_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon BlackRiderCrush  ; Used when the Black Rider crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = BLACKRIDER_CRUSH_DAMAGE
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -DwarvenGuardian ; ; 
    DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -DwarvenGuardian ; ; 
    DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
		RequiredUpgradeNames	= Upgrade_ObjectLevel2
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -DwarvenGuardian ; ; 
    DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel3
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -DwarvenGuardian ; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel4
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER ; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel5
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 8 ;;=;; 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -ElvenLorienWarrior; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel6
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 8 ;;=; 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -ElvenLorienWarrior; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel7
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 8 ;;=; 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -ElvenLorienWarrior; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel8
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 8 ;;=; 10
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -ElvenLorienWarrior; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel9
		AcceptDamageAdd = No ;;=;;
  End
  
   DamageNugget
    Damage        = 8 ;;=; 20
    DamageScalar  = 135% ANY +INFANTRY -ARCHER -ElvenLorienWarrior; ; 
    ;;=;;DamageScalar  = 142% ANY +DwarvenGuardian
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BLACKRIDER_FLANKING_BONUS
	    RequiredUpgradeNames	= Upgrade_ObjectLevel10
		AcceptDamageAdd = No ;;=;;
  End
End

;------------------------------------------------------------------------------
Weapon SpiderRiderCrush  ; Used when the rohirrim crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = SPIDERRIDER_CRUSH_DAMAGE		; A whole lot of damage.
	DamageScalar   = 0% ANY +PIKE
    AcceptDamageAdd = No ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = CAVALRY_BASIC_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon RivendellLancerCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0				; time between shots, msec
  PreAttackDelay        = 0				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget
    Damage        = RIVENDELLLANCER_CRUSH_DAMAGE
		DamageScalar	= 120% ANY +ORC +MordorCorsairsOfUmbar +GoblinFighter ;;-;;
	DamageScalar   = 0% ANY +PIKE
    AcceptDamageAdd = No ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED ;;=;; NORMAL
    FlankingBonus = CAVALRY_BASIC_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon TrollCrush // Obsolete
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = TROLL_CRUSH_DAMAGE		; A whole lot of damage.
 ;;=;;   DamageScalar  = 0% ANY +PIKE ; ;
    Radius        = 10.0 ; ;0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
      AcceptDamageAdd = No ;;=;;
  End
End

;------------------------------------------------------------------------------
Weapon MountainTrollCrush  // Used when MountainTroll crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = MOUNTAINTROLL_CRUSH_DAMAGE		; A whole lot of damage.
    DamageTaperOff	= MOUNTAINTROLL_CRUSH_DAMAGE_TAPEROFF
	DamageScalar  = 135% ANY +INFANTRY -ARCHER -DwarvenGuardian ;;-;;
    DamageScalar  = 142% ANY +DwarvenGuardian ;;-;;
 ;;=;;   DamageScalar  = 0% ANY +PIKE ; ;
    Radius        = MOUNTAINTROLL_CRUSH_RADIUS
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
	AcceptDamageAdd = No ;;=;;
	;;-;;SpecialObjectFilter = ALL -MordorFighter -GoblinFighter ;;-;;
  End
;;-;;	  DamageNugget ;;;;
;;-;;	    Damage        = MOUNTAINTROLL_CRUSH_DAMAGE
;;-;;	 	Radius        = 10 ;;-;; 3 ;;-;; 4 ;;-;; 6.5 ;;-;; 10.0 ; ;0.0
;;-;;	    DelayTime     = 0
;;-;;	    DamageType    = CRUSH
;;-;;	    DeathType     = CRUSHED
;;-;;		AcceptDamageAdd = No ;;=;;
;;-;;		SpecialObjectFilter = ANY +MordorFighter +GoblinFighter ;;-;;
;;-;;	  End
End


;------------------------------------------------------------------------------
Weapon DrummerTrollCrush // Used when DrummerTroll crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = DRUMMERTROLL_CRUSH_DAMAGE		; A whole lot of damage.
    Radius        = DRUMMERTROLL_CRUSH_RADIUS
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
      AcceptDamageAdd = No ;;=;;
  End
End

; ;------------------------------------------------------------------------------
Weapon AttackTrollCrush  // Used when AttackTroll crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = ATTACKTROLL_CRUSH_DAMAGE
    Radius        = ATTACKTROLL_CRUSH_RADIUS
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    AcceptDamageAdd = No ;;=;;
  End
End

;------------------------------------------------------------------------------
Weapon SpiderCrush // Obsolete weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No

  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = SPIDER_CRUSH_DAMAGE		; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon KnightCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound


  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = KNIGHT_CRUSH_DAMAGE		; A whole lot of damage.
	DamageScalar  = 115% ANY +ElvenLorienWarrior ;;-MenElfMu-;;
	DamageScalar  = 115% ANY +IsengardFighter ;;-MenIsenMu-;; 
	DamageScalar  = 0% ANY +PIKE
    AcceptDamageAdd = No ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = CAVALRY_WEAK_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon TomBombadilCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_TomBombadilCrushImpactSound

  DamageNugget									; A basic Nugget that just does damage
    Damage        = TOMBOMBADIL_CRUSH_DAMAGE	; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
  End
	;;-;;	MetaImpactNugget ;,;
	;;-;;		ShockWaveAmount   = 40.0 
	;;-;;			//	< than 74 = doesn't knockback 2k3k heroes. //
	;;-;;			//	40 matches the distance of metaimpact as it was CrushKnockback. //
	;;-;;			//	We can use SpecialObjectFilter also. //
	;;-;;			//	This is the list of heroes it knock-backs. //
	;;-;;			//	+RohanSam +RohanFrodo +RohanPippin +RohanMerry +GondorBoromir +RohanTheoden +ElvenHaldir +ElvenArwen +DwarvenGloin +EvilMenBlackRider +WildGoblinKing +IsengardLurtz //
	;;-;;			//	Consequences of using this knockback method: Bombadil movement is damaging constantly, like a Mumakil. So heroes that resist the impact receive damage multiple times.
	;;-;;		ShockWaveRadius   = 10.0
	;;-;;			ShockWaveSpeed    = 0.0
	;;-;;		ShockWaveZMult    = 1.000
	;;-;;		ShockWaveSpeed	  = 700.0 
	;;-;;		ShockWaveTaperOff = 0.75
	;;-;;		;SpecialObjectFilter = ALL -GondorGandalf -GIMLI -ARAGORN
	;;-;;	End
End

;------------------------------------------------------------------------------
Weapon TomBombadilPunch  ; BALANCE CaveTroll Weapon Normal
  LeechRangeWeapon			= Yes
  RadiusDamageAffects		= ENEMIES 
  AttackRange           	= 30.0
  MeleeWeapon           	= Yes
  DelayBetweenShots     	= TOM_BOMBADIL_PUNCH_DELAYBETWEENSHOTS
  FiringDuration        	= TOM_BOMBADIL_PUNCH_FIRINGDURATION
  PreAttackDelay        	= TOM_BOMBADIL_PUNCH_PREATTACKDELAY
  PreAttackType         	= PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX				= FX_TomBombadilHit
  FireFX			        = FX_TomBombadilPunchImpactSound  
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta		= 15.0 

;;=;;	WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
;;=;;		IdleAfterFiringDelay		= 0	;;=;;
;;=;;		HitStoredTarget		= Yes	;;=;;
;;=;;	AutoReloadWhenIdle	= 1	
;;=;;    InstantLoadClipOnActivate = Yes
;;=;;TOM_BOMBADIL_PUNCH_DAMAGE total dmg has to be 350.

  DamageNugget              ; A basic Nugget that just does damage
    Damage        			= TOM_BOMBADIL_PUNCH_MAGIC_DAMAGE
	DamageScalar			= 220% ANY +DwarvenBattleWagon ;;-;;
	DamageScalar			= 150% ANY +MACHINE -DwarvenBattleWagon ;;-;;
	DamageTaperOff 			= #MULTIPLY( TOM_BOMBADIL_PUNCH_MAGIC_DAMAGE TOM_BOMBADIL_PUNCH_DAMAGE_TAPEROFF ) ;;-;;
    Radius        			= 55 ;;-;; 60 ;;=;; 75 ;; 60
    DamageScalar            = 5% ANY +ARMY_OF_DEAD
	DamageScalar            = 90% ANY +MordorMumakil
    DamageArc     			= 45
    DamageType    			= MAGIC
    DamageFXType  			= CLUBBING
    DeathType     			= NORMAL
    DamageScalar            = 300% ANY +BarrowWight +BarrowWight_Slaved +BarrowWight_Summoned
  End

  DamageNugget              ; A basic Nugget that just does damage
    Damage        			= TOM_BOMBADIL_PUNCH_CRUSH_DAMAGE
	DamageScalar			= 220% ANY +DwarvenBattleWagon ;;-;;
	DamageScalar			= 150% ANY +MACHINE -DwarvenBattleWagon ;;-;;
	DamageTaperOff 			= #MULTIPLY( TOM_BOMBADIL_PUNCH_CRUSH_DAMAGE TOM_BOMBADIL_PUNCH_DAMAGE_TAPEROFF ) ;;-;;
    Radius        			= 55 ;;-;; 60 ;;=;; 50.0
    DamageArc     			= 45
    DamageScalar            = 300% ANY +BarrowWight +BarrowWight_Slaved +BarrowWight_Summoned
    DamageType    			= CRUSH ; ; MAGIC
    DamageFXType  			= CLUBBING
    DeathType     			= NORMAL
  End


  MetaImpactNugget          ; A Nugget that throws things back with force
    ShockWaveAmount   		= 30.0
    ShockWaveRadius   		= 55 ;;-;; 60 ;;=;; 50.0
    ShockWaveTaperOff 		= 1.0
    ShockWaveArc      		= 45
    ShockWaveZMult    		= 1.20
    HeroResist		  		= 0.66 ;;=;; 	// As lower, stronger.
  End
End

;------------------------------------------------------------------------------
Weapon WargCrush // used by WargRider, WargBanner
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WARGRIDER_CRUSH_DAMAGE				; A whole lot of damage.
    AcceptDamageAdd = No ; ;
	DamageScalar  = 0% ANY +PIKE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = CAVALRY_BASIC_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon WargSentryCrush ; used by WargSentry
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WARGSENTRY_CRUSH_DAMAGE				; A whole lot of damage.
	DamageScalar  = 0% ANY +PIKE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = CAVALRY_BASIC_FLANKING_BONUS
    AcceptDamageAdd = No ; ;
  End
End

; ;------------------------------------------------------------------------------
Weapon WildWargCrush // used by NeutralWarg
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = NEUTRALWARG_CRUSH_DAMAGE
    Radius        = NEUTRALWARG_CRUSH_RADIUS
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
	AcceptDamageAdd = No ;;.;;
  End
End


;------------------------------------------------------------------------------


;//------------------------------------------------------------------------------
Weapon FireDrakeCrush09v2
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = FIREDRAKE_CRUSH_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = FIREDRAKE_FLANKING_BONUS
	AcceptDamageAdd = No ;;.;;
  End
End
;//------------------------------------------------------------------------------
Weapon ShelobCrush ;// Used when the BattleWagon crushes an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = SHELOB_CRUSH_DAMAGE				;// A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = SHELOB_FLANKING_BONUS
  End
End

;//------------------------------------------------------------------------------
Weapon BattleWagonCrush ;// Used when the BattleWagon crushes an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = DWARVENBATTLEWAGON_CRUSH_DAMAGE				;// A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = BATTLEWAGON_FLANKING_BONUS
	AcceptDamageAdd = No
  End
End

;//------------------------------------------------------------------------------
Weapon MountainGiantCrush ;// Used when the MountainGiant crushes an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = MOUNTAINGIANT_CRUSH_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE ;;.;; CRUSH
    DeathType     = CRUSHED
	;;.;; FlankingBonus = BATTLEWAGON_FLANKING_BONUS
	AcceptDamageAdd = No
  End
End

;//------------------------------------------------------------------------------
Weapon EntCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = ROHANENT_CRUSH_DAMAGE				;// A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE ;;.;; CRUSH
    DeathType     = CRUSHED
	;;.;; FlankingBonus = BATTLEWAGON_FLANKING_BONUS
	AcceptDamageAdd = No
  End
End

;//------------------------------------------------------------------------------
Weapon GuardianCrush ;// Used when the BattleWagon crushes an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = GUARDIAN_CRUSH_DAMAGE				;// A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = GUARDIAN_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon BalrogCrush  ; Used when the Balrog crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
  End
End

;------------------------------------------------------------------------------
;;.;;
Weapon DemolisherCrush  ; Used when the Balrog crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = DEMOLISHER_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE ;;.;; !
    DeathType     = CRUSHED
	AcceptDamageAdd = No ;;.;;
  End
End

;------------------------------------------------------------------------------
Weapon BallistaCrush  ; Used when the Balrog crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALLISTA_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE ;;.;; !
    DeathType     = CRUSHED
	AcceptDamageAdd = No ;;.;;
  End
End

;------------------------------------------------------------------------------
Weapon GrondCrush  ; Used when the Balrog crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GROND_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = GROND_CRUSH_RADIUS
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
  End
End

;------------------------------------------------------------------------------
Weapon BalrogDeathCrush  ; Used when the Balrog crush enemies when it dies.
	LeechRangeWeapon      = Yes
	AttackRange           = 9999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0							; time between shots, msec
	PreAttackDelay        = 0
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0
	FireFX				= FX_GenericCrushImpactSound

	DamageNugget							           ; A basic Nugget that just does damage
		Damage        = BALROG_CRUSH_DAMAGE				; A whole lot of damage.
		Radius        = 75.0
		DamageType    = CRUSH
		DeathType     = CRUSHED
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 70
		ShockWaveRadius		= 100.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
	End
End

; ;------------------------------------------------------------------------------
Weapon CheapInfantryCrushRevenge
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt a little
  AttackRange	  = 10.0
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget                        
    SpecialObjectFilter = ALL -CREEP
    Damage        = CHEAP_INFANTRY_CRUSH_REVENGE_DAMAGE
    AcceptDamageAdd = No
    DelayTime     = 0
    DamageType    = SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------

Weapon OrcInfantryCrushRevenge
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt a little
  AttackRange	  = 10.0
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget                        
    SpecialObjectFilter = ALL -CREEP
    Damage        = ORC_INFANTRY_CRUSH_REVENGE_DAMAGE
    AcceptDamageAdd = No
    DelayTime     = 0
    DamageType    = SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon BasicInfantryCrushRevenge
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt a little
  AttackRange	  = 10.0
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget                        
    SpecialObjectFilter = ALL -CREEP ; ;
    Damage        = BASIC_INFANTRY_CRUSH_REVENGE_DAMAGE
    ;;-;;DamageScalar  = 25% ANY +DwarvenBattleWagon
    AcceptDamageAdd = No ; ;
    DelayTime     = 0
    DamageType    = SLASH ; ; SPECIALIST
    DeathType     = NORMAL
  End
End

; ;------------------------------------------------------------------------------
Weapon GondorInfantryCrushRevenge
  AttackRange	  = 10.0
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget
    SpecialObjectFilter = ALL -CREEP ; ;
    Damage        = GONDOR_INFANTRY_CRUSH_REVENGE_DAMAGE
    ;;-;;	DamageScalar  = 20% ANY +CREEP +DwarvenBattleWagon
    DamageScalar  = 26.7% ANY +EvilMenBlackRider ;;-;; 20%
    AcceptDamageAdd = No
    DelayTime     = 0
    DamageType    = SLASH ; ;SPECIALIST
    DeathType     = NORMAL
  End
End

; ;------------------------------------------------------------------------------
Weapon MordorRangedInfantryCrushRevenge // Used only by OrcArcherCrushRevenge. Haradrim uses normal one.
  	AttackRange	  = 10.0
     HitStoredTarget 		= Yes	; Always hits initial target
  	DamageNugget      
    	SpecialObjectFilter = ALL -CREEP ; ;
    	Damage        = MORDOR_RANGED_CRUSH_REVENGE_DAMAGE
    	DamageScalar  = 20% ANY +CREEP +DwarvenBattleWagon +EvilMenBlackRider
    	AcceptDamageAdd = No
	    DelayTime     = 0
	    DamageType    = SPECIALIST
	    DeathType     = NORMAL
  	End
End



; ;------------------------------------------------------------------------------
;;=;; Weapon MordorHaradrimLancerCrushRevenge // Haradrims no longer a ranged specialist since 1.08.
;;=;;   	AttackRange	  = 10.0
;;=;;      HitStoredTarget 		= Yes	; Always hits initial target.
;;=;;      RadiusDamageAffects 	= ENEMIES NOT_SIMILAR ; ;
;;=;;   	DamageNugget      
;;=;;     	Damage        = ANTI_CAVALRY_INFANTRY_CRUSH_REVENGE_DAMAGE ; ; 40
;;=;;     	DamageScalar  = 20% ANY +CREEP +DwarvenBattleWagon +EvilMenBlackRider
;;=;;     	AcceptDamageAdd = No
;;=;;     	Radius        = 11.5 ; ;0.0
;;=;; 	    DelayTime     = 0
;;=;; 	    DamageType    = SPECIALIST
;;=;; 	    DeathType     = NORMAL
;;=;;   	End
;;=;; End

; ;------------------------------------------------------------------------------
Weapon GoblinRangedInfantryCrushRevenge
  	AttackRange	  = 10.0
     HitStoredTarget 		= Yes	; Always hits initial target.
	DOTNugget
    	AcceptDamageAdd		= No
		Damage				= 6
	    DamageScalar  = 50% ANY +CREEP +DwarvenBattleWagon ;;-;; He's inmune. +EvilMenBlackRider
		DelayTime			= 0
		DamageType			= POISON
		DamageFXType		= POISON
		DeathType			= NORMAL
		DamageInterval		= 1000
		DamageDuration		= 7500
		SpecialObjectFilter	= AFFECTED_BY_POISON_OBJECTFILTER -CREEP ; ;
	End
	;;-;;
	DamageNugget    
		SpecialObjectFilter	= ANY +EvilMenBlackRider
		Damage        		= RANGED_INFANTRY_CRUSH_REVENGE_DAMAGE
		AcceptDamageAdd		= No ; ;
		DelayTime     		= 0
		DamageType    		= PIERCE
		DeathType     		= NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon RangedInfantryCrushRevenge
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt a little
  AttackRange	  = 10.0
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget    
    SpecialObjectFilter = ALL -CREEP ; ;
    Damage        = RANGED_INFANTRY_CRUSH_REVENGE_DAMAGE
    AcceptDamageAdd = No ; ;
    DelayTime     = 0
    DamageType    = PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon AntiCavalryInfantryCrushRevenge
  AttackRange	  = 10.0
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget                        
    Damage        = ANTI_CAVALRY_INFANTRY_CRUSH_REVENGE_DAMAGE	

    DamageScalar  = 53.5% ANY +DwarvenBattleWagon ;;.;; 45% ;;-;; 40% ;;-;; 35% ;;-;; 30% ;;-;; 25%	;;-;; 20% ;;-;; 25% ; ;10%
    DamageScalar  = 25% ANY +TomBombadil ;;-;; 30%
	DamageScalar  = 35% ANY +RohanTreeBerd ;;=;; 45%
    DamageScalar  = 10% ANY +CREEP
	DamageScalar  = 33.3% ANY +WildFireDrake ;;.;; 66.6% ;;=;;
	DamageScalar  = 77.7% ANY +WildShelob ;;=;; 
	DamageScalar  = 77.7% ANY +IsengardSharku ;;-;; 
	DamageScalar  = 77.7% ANY +WildGoblinKing ;;-;; 
;;=;;     DamageScalar  = 115% ANY +GoblinSpiderRider ;;=;; 150% ;;=;; 
;----Trolls----;
	DamageScalar  = 35% ANY +MordorMountainTroll ;;-;; 33% ;;-;; 28% ;;-;; 33% ;;=;;
	DamageScalar  = 7.5% ANY +MordorAttackTroll ;;-;; 5% ;;=;; 45%
    DamageScalar  = 25% ANY +MordorMumakil
	DamageScalar  = 10% ANY +MordorDrummerTroll ;;.;; 15% ;;.;; 25% ;;-;; 30% ;;-;; 35% ;;=;;
	DamageScalar  = 44.4% ANY +RohanGenericEnt ;;.;; 66.6 ;;-;;
	DamageScalar  = 44.4% ANY +WildMountainGiant ;;.;; 66.6 ;;-;;

    AcceptDamageAdd = Yes ; ;
    DelayTime     = 0
    DamageType    = SPECIALIST
    DeathType     = NORMAL
  End
End
;------------------------------------------------------------------------------
Weapon SuperInfantryCrushRevenge
  AttackRange       = 10.0
  LeechRangeWeapon	= Yes
  HitStoredTarget 		= Yes	; Always hits initial target.
  DamageNugget
    Damage		  = SUPER_INFANTRY_CRUSH_REVENGE_DAMAGE

    DamageScalar  = 53.5% ANY +DwarvenBattleWagon ;;.;; 45% ;;-;; 40% ;;-;; 35% ;;-;; 30% ;;-;; 25%	;;-;; 20% ;;-;; 25% ; ;10%
    DamageScalar  = 25% ANY +TomBombadil ;;-;; 30%
	DamageScalar  = 35% ANY +RohanTreeBerd ;;=;; 45%
    DamageScalar  = 10% ANY +CREEP
	DamageScalar  = 33.3% ANY +WildFireDrake ;;.;; 66.6% ;;=;;
	DamageScalar  = 77.7% ANY +WildShelob ;;=;; 
	DamageScalar  = 77.7% ANY +IsengardSharku ;;-;;
	DamageScalar  = 77.7% ANY +WildGoblinKing ;;-;; 
;;=;;     DamageScalar  = 115% ANY +GoblinSpiderRider ;;=;; 150% ;;=;; 
;----Trolls----;
	DamageScalar  = 35% ANY +MordorMountainTroll ;;-;; 33% ;;-;; 28% ;;-;; 33% ;;=;;
	DamageScalar  = 7.5% ANY +MordorAttackTroll ;;-;; 5% ;;=;; 45%
    DamageScalar  = 25% ANY +MordorMumakil
	DamageScalar  = 10% ANY +MordorDrummerTroll ;;.;; 15% ;;.;; 25% ;;-;; 30% ;;-;; 35% ;;=;;
	DamageScalar  = 66.6% ANY +RohanGenericEnt +WildMountainGiant ;;-;;

    AcceptDamageAdd = Yes ; ;
    DelayTime     = 0
    DamageType    = SPECIALIST
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------------------------------------------------------
Weapon LegolasBowArrowStorm
  AttackRange = LEGOLAS_ARROWSTORM_RANGE
  WeaponSpeed = 561         ; dist/sec 
  MinWeaponSpeed = 481
  MaxWeaponSpeed = 641      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon
  HitPercentage     = 100     ;When this weapon is used it will hit exactly all of the time.

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName = LegolasBowArrowStormProjectile
    WarheadTemplateName = LegolasBowArrowStormWarhead
  End
End

;------------------------------
Weapon LegolasBowArrowStormWarhead
  ProjectileCollidesWith =   STRUCTURES WALLS  
  RadiusDamageAffects =   ENEMIES NEUTRALS ; ; NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LEGOLAS_ARROWSTORM_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	DamageScalar  = 35% ANY +STRUCTURE ;;-;;
	DamageScalar  = 50% ANY +HERO ;;-;; 35% ;;-;; 
    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = MAGIC ;;-;; GOOD_ARROW_PIERCE
    DeathType     = EXPLODED ;;-;; NORMAL
    AcceptDamageAdd = No
  End 
  DamageNugget	;;-;; NewNugget
    Damage        = #MULTIPLY( LEGOLAS_ARROWSTORM_DAMAGE .7 )
    Radius        = 6.0 ;;-;; 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
 	DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = MAGIC ;;-;; GOOD_ARROW_PIERCE
    DeathType     = EXPLODED ;;-;; NORMAL
    AcceptDamageAdd = No
	SpecialObjectFilter  = ANY +INFANTRY +CAVALRY ;;-;;
  End
  
  MetaImpactNugget ;;-;;
		SpecialObjectFilter = ANY +INFANTRY ;;+CAVALRY +CREEP
		ShockWaveAmount   = 60 
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End
End

;------------------------------------------------------------------------------------------------------------------------------
Weapon LegolasBowArrowStormHigh
  AttackRange = 1680.0
  WeaponSpeed = 481         ; dist/sec 
  MinWeaponSpeed = 481
  MaxWeaponSpeed = 641      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon
  HitPercentage     = 100     ;When this weapon is used it will hit exactly all of the time.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = LegolasBowArrowStormProjectile
    WarheadTemplateName = LegolasBowArrowStormWarhead
  End
End

;------------------------------------------------------------------------------------------------------------------------------
Weapon DamrodBowDeadlySniper
  AttackRange = DAMROD_DEADLYSHOT_RANGE
  WeaponSpeed = 561         ; dist/sec 
  MinWeaponSpeed = 481
  MaxWeaponSpeed = 641      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon

  HitPercentage     = 100     ;When this weapon is used it will hit exactly all of the time.

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName = LegolasBowArrowStormProjectile
    WarheadTemplateName = LegolasBowArrowStormWarhead
  End
End

;------------------------------------------------------------------------------
Weapon HobbitPunch  ; BALANCE Hobbit Punch
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 833            ; time between shots, msec
  PreAttackDelay        = 367             ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 833            ; min 600 for anim
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon HobbitSword  // BALANCE SamSword, MerrySword, PippinSword
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = HOBBIT_SWORD_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = HOBBIT_SWORD_PREATTACKDELAY              ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = HOBBIT_SWORD_FIRINGDURATION            ; min 600 for anim
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = HOBBIT_SWORD_DAMAGE
    ;;.;; DamageScalar  = 55% ANY +STRUCTURE -COMMANDCENTER ; ; 65% ANY +STRUCTURE ; ;
    ;;.;; DamageScalar  = 50% ANY +COMMANDCENTER ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO ;;.;; CAVALRY ; ;HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End
Weapon Sting	// BALANCE FrodoSword
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = FRODO_SWORD_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackDelay        = FRODO_SWORD_PREATTACKDELAY              ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = FRODO_SWORD_FIRINGDURATION           ; min 600 for anim
  FireFX                = FX_IsildurSword ;;.;; FX_GondorSwordHit
  FireFlankFX			= FX_Flanking ;;.;;
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = FRODO_SWORD_DAMAGE
	DamageScalar  = 300% ANY SPIDER_UNITS ;;.;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
; ;

Weapon HobbitStick  ; ; BALANCE Hobbit Sword Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0 ; ; 
  MeleeWeapon           = Yes
  DelayBetweenShots     = HOBBIT_STICK_DELAYBETWEENSHOTS
  PreAttackDelay        = HOBBIT_STICK_PREATTACKDELAY
  PreAttackType         = PER_SHOT 
  FiringDuration        = HOBBIT_STICK_FIRINGDURATION
  FireFX                = FX_HobbitStickHitting ; ; FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = HOBBIT_STICK_DAMAGE ;;.;;
	DamageScalar  = 55% ANY +STRUCTURE -COMMANDCENTER ; ; 60%
;;.;; //wasneverworking// DamageScalar  = 55% ANY +FS_FACTORY -COMMANDCENTER ; ; 55% ; ; ; ; 60% ; ; 70%
	DamageScalar  = 50% ANY +COMMANDCENTER ; ; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY ; ;HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
;Weapon SamFryingPanBonk
;	LeechRangeWeapon    = Yes
;	AttackRange         = 20.0
;	MeleeWeapon         = Yes
;	PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target
;
;	DelayBetweenShots   = 800 			; time between shots, msec
;	PreAttackDelay      = 800 				
;	FiringDuration      = 800 				
;	
;	ClipReloadTime		= 10000
;	ClipSize			= 1
;	AutoReloadsClip		= Yes
;
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage        = 100					
;		Radius        = 0.0
;		DelayTime     = 0
;		DamageType    = HERO
;		DamageFXType  = CLUBBING
;		DeathType     = NORMAL
;	End
;End

;------------------------------------------------------------------------------
Weapon RohanGimliAxe  ; BALANCE Gimli Axe Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = GIMLI_DELAYBETWEENSHOTS   	; time between shots, msec
  PreAttackDelay        = GIMLI_PREATTACKDELAY   	; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GIMLI_FIRINGDURATION  		; min 600 for anim
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage        = GIMLI_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
	DamageScalar  = 85% ANY +STRUCTURE -COMMANDCENTER ;;-AntiHeroLame;;
    DamageScalar  = 50% ANY +COMMANDCENTER ;;-;; 55% ;;-;; 65% ;;=;; 60%
	DamageScalar  = 90% ANY +GondorFaramir +ElvenLegolas +ElvenThranduil ;;=elfdwarf=;;
	DamageScalar  = 90% ANY +IsengardSaruman ;;-;;
	DamageScalar  = 95% ANY +GondorAragorn ;;-;; 88% ;;-;; 
	DamageScalar  = 95% ANY +GondorGandalf ;;-;;
    DamageScalar  = 80% ANY +GoblinCaveTroll ;;-;;
    DamageScalar  = 80% ANY +CaveTroll_Slaved ;;-;;
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon RohanGimliSuperAxe  ; BALANCE Gimli Axe Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  RadiusDamageAffects	= ENEMIES NEUTRALS ; ;
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = GIMLI_DELAYBETWEENSHOTS_SUPER   	; time between shots, msec
  PreAttackDelay        = GIMLI_PREATTACKDELAY_SUPER   	; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GIMLI_FIRINGDURATION_SUPER  		; min 600 for anim
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage			= GIMLI_DAMAGE_SUPER
	DamageScalar	= 85% ANY +STRUCTURE -COMMANDCENTER ;;-AntiHeroLame;;
    DamageScalar	= 50% ANY +COMMANDCENTER ;;-;; 55% ;;-;; 65% ;;=;; 50% ANY +COMMANDCENTER ;;=;; 40%  ; ; 50% 
	DamageScalar    = 90% ANY +GondorFaramir +ElvenLegolas +ElvenThranduil ;;=elfdwarf=;;
	DamageScalar  = 90% ANY +IsengardSaruman ;;-;;
	DamageScalar    = 95% ANY +GondorAragorn ;;-;; 88% ;;-;; 
	DamageScalar	= 95% ANY +GondorGandalf ;;-;;
    DamageScalar	= 80% ANY +GoblinCaveTroll ;;-;;
    DamageScalar	= 80% ANY +CaveTroll_Slaved ;;-;;
    DamageArc 		= 180
	Radius			= 17 ;; 14 ; ; 10.0
    DelayTime		= 0
    DamageType		= HERO
    DamageFXType	= SWORD_SLASH
    DeathType		= NORMAL
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist			= 100%
	ShockWaveAmount		= 60 ; ; 30.0
    ShockWaveRadius		= 17 ;;=;; 14 ; ; 10
    ShockWaveArc		= 180
    ShockWaveTaperOff = 1
  End

  MetaImpactNugget	 ;;=;;
    HeroResist         = .35	;;-;; 65% chance to	knockback hero
	ShockWaveAmount		= 30.0
    ShockWaveRadius		= 10
    ShockWaveArc		= 180
    ShockWaveTaperOff = 1
  End
End


;------------------------------------------------------------------------------
Weapon RohanGimliAxeThrown 
	LeechRangeWeapon = Yes ;;.;; //BALANCE RangedAbilitiesNotFailing_2022//
	AttackRange         = GIMLI_THROW_RANGE
	WeaponSpeed = 161         ; dist/sec 
	MinWeaponSpeed = 201
	MaxWeaponSpeed = 241      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX = FX_GimliAxeThrow
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage = 100
	ScatterRadius     = 0.0      ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots = 0        ; time between shots, msec
  	
    AntiAirborneVehicle	= Yes ; added so he can attack fellbeast and birds
    AntiAirborneMonster	= Yes ; added so he can attack fellbeast and birds
  	
  	ClipSize			= 1			; how many shots in a Clip (0 == infinite)
	ClipReloadTime		= GIMLI_AXETHROWN_RECHARGE     ; how long to reload a Clip, msec
	AutoReloadsClip		= Yes
	;IdleAfterFiringDelay = 2500;
	;HoldAfterFiringDelay = 2500 ; So I don't move while the weapon needs to complete
    InstantLoadClipOnActivate = Yes

	PreAttackDelay        = 1500; 1467             ; 1467 is the prep time for archer.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration      = 1600; 1567    ; Duration of the archer firing shot is 500ms.

	ProjectileNugget
		ProjectileTemplateName = GimliAxeProjectile
		WarheadTemplateName = RohanGimliAxeThrownWarhead
	End
End

;------------------------------------------------------------------------------
Weapon RohanGimliAxeThrownWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
  FireFX                = FX_GondorSwordHit
  HitStoredTarget = Yes	; Always hits initial target.
  ;;-;; Level 1
  DamageNugget
    Damage        = GIMLI_THROW_DAMAGE
	DamageTaperOff = GIMLI_THROW_DAMAGE_TAPEROFF ;;-;;
	DamageScalar  = 10% ANY +STRUCTURE 
	DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
    DamageScalar  = 600% ANY +CAVALRY -DwarvenBattleWagon ; ;
    DamageScalar  = 300% ANY +DwarvenBattleWagon ; ;
    DamageScalar  = 400% ANY +HERO -CANNOT_RETALIATE -GondorGandalf 
    DamageScalar  = 850% ANY +MordorFellBeast +MordorWitchKingOnFellBeast  ; ; 300%
    DamageScalar  = 375% ANY +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;; 300%
    DamageScalar  = 585% ANY +Drogoth ;;.;; 650% ;;
    DamageScalar  = 1150% ANY +MordorMumakil
	DamageScalar  = 360% ANY +GondorGandalf ;;-;;
	DamageScalar  = 250% ANY +INFANTRY -HERO
	DamageScalar  = 250% ANY +MONSTER -HERO -MordorMumakil
    Radius        = 20.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO
	DamageFXType  = REFLECTED ; ;SWORD_SLASH
    DeathType     = EXPLODED ; ;NORMAL
    AcceptDamageAdd			= No ;;-;;
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel7 Upgrade_ObjectLevel4
  End
  ;;-;; Level 4
  DamageNugget ;;-;;
    Damage        = GIMLI_THROW_DAMAGE_LEVEL4 ;;-;;
	DamageTaperOff = GIMLI_THROW_DAMAGE_TAPEROFF ;;-;;
	DamageScalar  = 10% ANY +STRUCTURE 
	DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
    DamageScalar  = 600% ANY +CAVALRY -DwarvenBattleWagon ; ;
    DamageScalar  = 300% ANY +DwarvenBattleWagon ; ;
    DamageScalar  = 400% ANY +HERO -CANNOT_RETALIATE -GondorGandalf 
    DamageScalar  = 850% ANY +MordorFellBeast +MordorWitchKingOnFellBeast  ; ; 300%
    DamageScalar  = 375% ANY +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;; 300%
    DamageScalar  = 585% ANY +Drogoth ;;.;; 650% ;;
    DamageScalar  = 1150% ANY +MordorMumakil
	DamageScalar  = 360% ANY +GondorGandalf ;;-;;
	DamageScalar  = 250% ANY +INFANTRY -HERO
	DamageScalar  = 250% ANY +MONSTER -HERO -MordorMumakil
    Radius        = 20.0
    DelayTime     = 0
    DamageType    = HERO
	DamageFXType  = REFLECTED ; ;SWORD_SLASH
    DeathType     = EXPLODED ; ;NORMAL
    AcceptDamageAdd			= No ;;-;;
	RequiredUpgradeNames	= Upgrade_ObjectLevel4
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel7
  End
   ;;-;; Level 7
  DamageNugget ;;-;;
    Damage        = GIMLI_THROW_DAMAGE_LEVEL7 ;;-;;
	DamageTaperOff = GIMLI_THROW_DAMAGE_TAPEROFF ;;-;;
	DamageScalar  = 10% ANY +STRUCTURE 
	DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
    DamageScalar  = 600% ANY +CAVALRY -DwarvenBattleWagon ; ;
    DamageScalar  = 300% ANY +DwarvenBattleWagon ; ;
    DamageScalar  = 400% ANY +HERO -CANNOT_RETALIATE -GondorGandalf 
    DamageScalar  = 850% ANY +MordorFellBeast +MordorWitchKingOnFellBeast  ; ; 300%
    DamageScalar  = 375% ANY +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;; 300%
    DamageScalar  = 585% ANY +Drogoth ;;.;; 650% ;;
    DamageScalar  = 1150% ANY +MordorMumakil
	DamageScalar  = 360% ANY +GondorGandalf ;;-;;
	DamageScalar  = 250% ANY +INFANTRY -HERO
	DamageScalar  = 250% ANY +MONSTER -HERO -MordorMumakil
    Radius        = 20.0
    DelayTime     = 0
    DamageType    = HERO
	DamageFXType  = REFLECTED ; ;SWORD_SLASH
    DeathType     = EXPLODED ; ;NORMAL
    AcceptDamageAdd			= No ;;-;;
	RequiredUpgradeNames	= Upgrade_ObjectLevel7
  End
 
End

;------------------------------------------------------------------------------
;Weapon RohanGimliDwarfTossGroundPound
; DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 100
;    Radius        = 40.0
;    DelayTime     = 0
;    DamageType    = SLASH
;    DamageFXType  = SWORD_SLASH
;    DeathType     = NORMAL
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 20.0
;    ShockWaveRadius   = 40.0
;    ShockWaveTaperOff = 0.5
;  End
;End

;------------------------------------------------------------------------------
Weapon RohanGimliLeap  ; BALANCE RohanGimliLeap
  IdleAfterFiringDelay = 0
  AttackRange           = 100.0
  MinimumAttackRange    = 8.0
  WeaponSpeed           = 100.0        ; dist/sec (huge value == effectively instant)
  ProjectileSelf		= Yes ; We don't make the projectile throw ourself
  ClipSize              = 1               ; how many shots in a Clip (0 == infinite)
  ClipReloadTime        = 2200   ;1467 min for animation           ; how long to reload a Clip, msec
  AutoReloadsClip		= Yes	
  PreAttackDelay        = 600
  FiringDuration		= 1500            
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  HitPercentage       = 0 ; Never auto hits, always shoots at a ground position
  ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  FireFX				= FX_GimliLeap
  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    WarheadTemplateName = RohanGimliLeapWarhead
  End
End

;-----------------------------------
Weapon RohanGimliLeapWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES
  
  FireFX				= FX_GimliLeapNoVoice
  ;;-;; Level 1
  DamageNugget
    Damage        			= GIMLI_LEAP_DAMAGE_LEVEL1
    Radius        			= 30
	DamageTaperOff			= GIMLI_LEAP_DAMAGE_TAPEROFF
	DamageScalar			= 35% ANY +ElvenMithlondSentry ;;=;;
	DamageScalar			= 50% ANY +GondorTowerShieldGuard ;;-;; 35% ;;=;;
	DamageScalar			= 50% ANY +MordorEasterling ;;-;; 35% ;;=;;
	DamageScalar			= 50% ANY +WildMarauder ;;-;; 35% ;;=;;
	DamageScalar			= 100% ANY +DwarvenPhalanx ;;-;; 35% ;;=;;
	DamageScalar			= 100% ANY +IsengardPikeman ;;-;; 35% ;;=;;
	DamageScalar  			= 50% ANY +GoblinCaveTroll ;;=;;
	DamageScalar  			= 50% ANY +CaveTroll_Slaved ;;=;;
    DelayTime     			= 0
    DamageType            	= HERO
    DamageFXType          	= GIMLI_LEAP
    DeathType             	= NORMAL
    AcceptDamageAdd			= No ;;-;;
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel7 Upgrade_ObjectLevel4
  End
  ;;-;; Level 4
  DamageNugget
    Damage        			= GIMLI_LEAP_DAMAGE_LEVEL4
    Radius        			= 37
	DamageTaperOff			= GIMLI_LEAP_DAMAGE_TAPEROFF
	DamageScalar			= 35% ANY +ElvenMithlondSentry ;;=;;
	DamageScalar			= 50% ANY +GondorTowerShieldGuard ;;-;; 35% ;;=;;
	DamageScalar			= 50% ANY +MordorEasterling ;;-;; 35% ;;=;;
	DamageScalar			= 50% ANY +WildMarauder ;;-;; 35% ;;=;;
	DamageScalar			= 100% ANY +DwarvenPhalanx ;;-;; 35% ;;=;;
	DamageScalar			= 100% ANY +IsengardPikeman ;;-;; 35% ;;=;;
	DamageScalar  			= 50% ANY +GoblinCaveTroll ;;=;;
	DamageScalar  			= 50% ANY +CaveTroll_Slaved ;;=;;
    DelayTime     			= 0
    DamageType            	= HERO
    DamageFXType          	= GIMLI_LEAP
    DeathType             	= NORMAL
    AcceptDamageAdd			= No ;;-;;
	RequiredUpgradeNames	= Upgrade_ObjectLevel4
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel7
  End
   ;;-;; Level 7
  DamageNugget
    Damage        			= GIMLI_LEAP_DAMAGE_LEVEL7
    Radius        			= 45
	DamageTaperOff			= GIMLI_LEAP_DAMAGE_TAPEROFF
	DamageScalar			= 35% ANY +ElvenMithlondSentry ;;=;;
	DamageScalar			= 50% ANY +GondorTowerShieldGuard ;;-;; 35% ;;=;;
	DamageScalar			= 50% ANY +MordorEasterling ;;-;; 35% ;;=;;
	DamageScalar			= 50% ANY +WildMarauder ;;-;; 35% ;;=;;
	DamageScalar			= 100% ANY +DwarvenPhalanx ;;-;; 35% ;;=;;
	DamageScalar			= 100% ANY +IsengardPikeman ;;-;; 35% ;;=;;
	DamageScalar  			= 50% ANY +GoblinCaveTroll ;;=;;
	DamageScalar  			= 50% ANY +CaveTroll_Slaved ;;=;;
    DelayTime     			= 0
    DamageType				= HERO
    DamageFXType			= GIMLI_LEAP
    DeathType				= NORMAL
    AcceptDamageAdd			= No ;;-;;
	RequiredUpgradeNames	= Upgrade_ObjectLevel7
  End
  ;;-;; Level 1
  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist				= 15% ;;-;;
    ShockWaveAmount   		= 70.0
    ShockWaveRadius   		= 30.0 ;;-;; 40.0
    ShockWaveTaperOff 		= 0.5
    ShockWaveZMult    		= 1.20
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel7 Upgrade_ObjectLevel4 ;;-;;
   End
  ;;-;; Level 4
  MetaImpactNugget
	HeroResist				= 5% ;;-;;
	ShockWaveAmount   		= 70.0
    ShockWaveRadius   		= 37.0 ;;-;; 40.0
    ShockWaveTaperOff 		= 0.5
    ShockWaveZMult    		= 1.20
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel7 
	RequiredUpgradeNames	= Upgrade_ObjectLevel4
  End
   ;;-;; Level 7
  MetaImpactNugget
;	HeroResist				= 0% ;;-;;
	ShockWaveAmount   		= 70.0
    ShockWaveRadius   		= 45.0 ;;-;; 40.0
    ShockWaveTaperOff 		= 0.5
    ShockWaveZMult    		= 1.20
	RequiredUpgradeNames	= Upgrade_ObjectLevel7
  End
End

;------------------------------------------------------------------------------
;Weapon RohanGimliWhirlWind  ; BALANCE RohanGimliWhirlWind
;  IdleAfterFiringDelay	= 0
;  AttackRange           = 20.0 ;150.0
;  MinimumAttackRange    = 4.0
;  WeaponSpeed           = 160.0        ; dist/sec (huge value == effectively instant)
;  ClipSize              = INFINITE_CLIP_SIZE               ; how many shots in a Clip (0 == infinite)
;  ClipReloadTime        = 2000   ;1467 min for animation           ; how long to reload a Clip, msec
;  AutoReloadsClip		= Yes	;We need a rock explicitly picked up.
;  PreAttackDelay        = 600
;  FiringDuration		= 2500            
;  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;  HitPercentage       = 0 ; Never auto hits, always shoots at a ground position
;  ScatterRadius       = 1  ;When this weapon misses it can randomly miss by as much as this distance.
;  
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 100
;    Radius        = 25.0
;    DelayTime     = 0
;    DamageType    = HERO
;    DamageFXType  = SWORD_SLASH
;    DeathType             = NORMAL
;  End
;End

;------------------------------------------------------------------------------
Weapon RohanFighterSword  ; BALANCE Militia Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ROHAN_PEASANT_DELAYBETWEENSHOTS  ;2000		; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = ROHAN_PEASANT_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit

  FireFlankFX		= FX_Flanking
  FiringDuration        = ROHAN_PEASANT_FIRINGDURATION     ; Duration of the sword swing
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_FIGHTER_SWORD_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon RohanFighterSwordUpgraded  ; BALANCE Militia Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ROHAN_PEASANT_DELAYBETWEENSHOTS  ;2000		; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = ROHAN_PEASANT_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = ROHAN_PEASANT_FIRINGDURATION     ; Duration of the sword swing
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_FIGHTER_SWORD_DAMAGE_FORGED_UPGRADE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
;Weapon RohanFighterRock  ; BALANCE Militia Weapon
;  ScatterRadiusVsInfantry     = 8.0     ;When this weapon is used against infantry, it will always miss by as much as this distance.
;  AttackRange = 240.0
;  MinimumAttackRange = 40.0
;  WeaponSpeed = 201         ; dist/sec 
;  MinWeaponSpeed = 61
;  MaxWeaponSpeed = 301      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
;  ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
;  DelayBetweenShots = 4000               ; time between shots, msec
;
;  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = RohanFighterRockProjectile
;    WarheadTemplateName = RohanFighterRockWarhead
;  End
;End

;----------------------------
;Weapon RohanFighterRockWarhead
;  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 20
;    Radius        = 4.0
;    DelayTime     = 0
;    DamageType    = CRUSH
;    DamageFXType  = SMALL_ROCK
;    DeathType     = EXPLODED
;  End
;End

;------------------------------------------------------------------------------
Weapon RohanArcherBowMelee       ; BALANCE Archer Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
;  FireFX                = FX_RohanArcherBowWeapon;
  DelayBetweenShots     = 2000            ; time between shots, msec
  PreAttackDelay        = 666             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 1000    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_YEOMAN_MELEE_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End
;------------------------------------------------------------------------------
Weapon RohanArcherBow
	AttackRange         = ROHAN_YEOMAN_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ROHAN_YEOMAN_RANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde

	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_YEOMAN_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_YEOMAN_BOW_RELOADTIME_MIN Max:ROHAN_YEOMAN_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_YEOMAN_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = RohanArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
	End
	ProjectileNugget	; Fire arrow avialble through fire upgrade
		ProjectileTemplateName  = GoodFactionFireArrow
		WarheadTemplateName     = RohanArcherBowFireWarhead
		RequiredUpgradeNames    = Upgrade_RohanFireArrows
	End
End
;------------------------------------------------------------------------------
Weapon RohanArcherBowBombard ;;.;;
	AttackRange         = ROHAN_YEOMAN_BOMBARD_MAXRANGE
	MinimumAttackRange  = #SUBTRACT( ROHAN_YEOMAN_BOMBARD_MINRANGE 75 )
	
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ROHAN_YEOMAN_BOMBARD_MAXRANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ;Always scatter
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = DWARVEN_MENOFDALE_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:DWARVEN_MENOFDALE_BOW_RELOADTIME_MIN Max:DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrowBombard
		WarheadTemplateName     = RohanArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
	End
	ProjectileNugget	; Fire arrow avialble through fire upgrade
		ProjectileTemplateName  = GoodFactionFireArrowBombard
		WarheadTemplateName     = RohanArcherBowFireWarhead
		RequiredUpgradeNames    = Upgrade_RohanFireArrows
	End
End

;------------------------------------------------------------------------------
Weapon MirkwoodArcherBow
	AttackRange         = ELVEN_MIRKWOOD_ARCHER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_RANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
 
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ELVEN_MIRKWOOD_ARCHER_BOW_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
 	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MIN Max:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX

	ContinuousFireOne	= 0
	ContinuousFireCoast	= ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = ElvenMirkwoodArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
	End
	ProjectileNugget	; Fire arrow avialble through fire upgrade
		ProjectileTemplateName  = GoodFactionFireArrow
		WarheadTemplateName     = RohanArcherBowFireWarhead
		RequiredUpgradeNames    = Upgrade_RohanFireArrows
	End
End

Weapon MirkwoodArcherBowBombard
	AttackRange         = ELVEN_MIRKWOOD_ARCHER_BOMBARD_MAXRANGE
	MinimumAttackRange  = #SUBTRACT( ELVEN_MIRKWOOD_ARCHER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_BOMBARD_MAXRANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ;Always scatter
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.


	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ELVEN_MIRKWOOD_ARCHER_BOW_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
 	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MIN Max:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrowBombard
		WarheadTemplateName     = ElvenMirkwoodArcherBowBombardWarhead ; ; ElvenArcherBowBombardWarhead
		ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
	End
	ProjectileNugget	; Fire arrow avialble through fire upgrade
		ProjectileTemplateName  = GoodFactionFireArrowBombard
		WarheadTemplateName     = RohanArcherBowBombardFireWarhead
		RequiredUpgradeNames    = Upgrade_RohanFireArrows
	End
End

;------------------------------------------------------------------------------
Weapon MirkwoodArcherSilverthornBow ;from RohanArcherBow
	AttackRange         = ELVEN_MIRKWOOD_ARCHER_RANGE	; increased range
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_RANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
 
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ELVEN_MIRKWOOD_ARCHER_BOW_PREATTACKDELAY  ; ;
	PreAttackRandomAmount     = 200  
 	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MIN Max:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX ; ;
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX ; ;

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = MirkwoodArcherSilverthornProjectile
		WarheadTemplateName     = MirkwoodArcherSilverthornBowWarhead
	End
End

Weapon MirkwoodArcherSilverthornBowBombard ;from RohanArcherBow
	AttackRange         = ELVEN_MIRKWOOD_ARCHER_BOMBARD_MAXRANGE
	MinimumAttackRange  = #SUBTRACT( ELVEN_MIRKWOOD_ARCHER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_RANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0 ; ; 100
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS  ; ; 16.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ELVEN_MIRKWOOD_ARCHER_BOW_PREATTACKDELAY  ; ;
	PreAttackRandomAmount     = 200    
 	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MIN Max:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX ; ;
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX ; ;

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = MirkwoodArcherSilverthornProjectileBombard
		WarheadTemplateName     = MirkwoodArcherSilverthornBowBombardWarhead
	End
End

;----------------------------
Weapon SilverthornBowWarheadStructural ;;=;; EregionForge
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	
	DamageNugget                        ; A basic Nugget that just does damage
   		Damage        = STRUCTURE_BOW_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
		DamageFXType  = MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType     = EXPLODED ; ;NORMAL
		DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
  	End

	; Damage to everything else is increased
  	DamageNugget
	    Damage        		= STRUCTURE_BOW_DAMAGE
		Radius        		= 0.0
	    DelayTime     		= 0
		DamageType			= MAGIC
		DamageFXType		= MAGIC
	    DeathType     		= EXPLODED
		DamageScalar  		= 25% ANY +STRUCTURE -COMMANDCENTER ; ;
		DamageScalar  		= 12.5% ANY +COMMANDCENTER 
		DamageScalar  		= 18.75% ANY SPELLBOOK_SUMMONED_UNITS ;;-;; +SUMMMONED ;;=;; 25%
		AcceptDamageAdd		= No
	End
	
	; ..and meta impact damage on infantry
	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End

End


;----------------------------
Weapon MirkwoodArcherSilverthornBowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	
  	DamageNugget
		Damage			= ELVEN_MIRKWOOD_ARCHER_DAMAGE
		
		;;.;;109v3SilverThornDesign_Pierce_Mirkwood;;.;;
		DamageScalar		= 70% ANY +CAVALRY -GoblinSpiderRider ;;.;;NewFireArrowDesign_Pierce_NewOnes;;.;; 80% ;;=;;
		DamageScalar		= 87% ANY +GoblinSpiderRider ;;.;;
		DamageScalar		= 80% ANY +MordorMumakil ;;=;;
		DamageScalar		= 80% ANY +IsengardBeserker ;;=;;
		DamageScalar		= 90% ANY +MordorWitchKing 	;;=;;
		DamageScalar		= 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		;DamageScalar		= 69% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius			= 0.0
	   	DelayTime		= 0
		DamageType		= PIERCE
		DamageFXType	= MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType		= EXPLODED ; ;NORMAL
	End

  	DamageNugget
		Damage        		= ELVEN_MIRKWOOD_ARCHER_DAMAGE_UPGRADE_MAGIC
		Radius        		= 0.0
		DelayTime     		= 0
		DamageType	 		= MAGIC
		DamageFXType 		= MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType    		= EXPLODED ; ;NORMAL
		AcceptDamageAdd 	= No ;;=;; GG
        DamageScalar  = 80% ANY +MordorMumakil
        DamageScalar  = 80% ANY +EvilMenBlackRider ;;-;;
		;;-;; DamageScalar  = 25% ANY +SUMMONED NOT_SPELLBOOK_SUMMONED_UNITS ;;-;;
		;;.;;109v3SilverThornDesign_Magic_Mirkwood;;.;;
	    DamageScalar  = 35% ANY +CAVALRY ;;-;; 25%
		DamageScalar  = 35% ANY +STRUCTURE -COMMANDCENTER ;;.;; 25% ;;-;;
		DamageScalar  = 17.5% ANY +COMMANDCENTER ;;.;; 12.5% ; ;
		DamageScalar  = 20% ANY SPELLBOOK_SUMMONED_UNITS ;;-;;
	End

	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End

End
;------------------------------------------------------------------------------

Weapon MirkwoodArcherSilverthornBowBombardWarhead
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ; ENEMIES
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS  ; ; 

  	DamageNugget
		Damage			= ELVEN_MIRKWOOD_ARCHER_DAMAGE
		
		;;.;;109v3SilverThornDesign_Pierce_Mirkwood;;.;;
		DamageScalar		= 70% ANY +CAVALRY -GoblinSpiderRider ;;.;;NewFireArrowDesign_Pierce_NewOnes;;.;; 80% ;;=;;
		DamageScalar		= 87% ANY +GoblinSpiderRider ;;.;;
		DamageScalar		= 80% ANY +MordorMumakil ;;=;;
		DamageScalar		= 80% ANY +IsengardBeserker ;;=;;
		DamageScalar		= 90% ANY +MordorWitchKing 	;;=;;
		DamageScalar		= 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		;DamageScalar		= 69% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
	   	DelayTime		= 0
		DamageType		= PIERCE
		DamageFXType	= MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType		= EXPLODED ; ;NORMAL
	End

  	DamageNugget
		Damage        		= ELVEN_MIRKWOOD_ARCHER_DAMAGE_UPGRADE_MAGIC
		Radius        		= 0.0
		DelayTime     		= 0
		DamageType	 		= MAGIC
		DamageFXType 		= MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType    		= EXPLODED ; ;NORMAL
		AcceptDamageAdd 	= No ;;=;; GG
        DamageScalar  = 80% ANY +MordorMumakil
        DamageScalar  = 80% ANY +EvilMenBlackRider ;;-;;
		;;-;; DamageScalar  = 25% ANY +SUMMONED NOT_SPELLBOOK_SUMMONED_UNITS ;;-;;
		;;.;;109v3SilverThornDesign_Magic_Mirkwood;;.;;
	    DamageScalar  = 35% ANY +CAVALRY ;;-;; 25%
		DamageScalar  = 35% ANY +STRUCTURE -COMMANDCENTER ;;.;; 25% ;;-;;
		DamageScalar  = 17.5% ANY +COMMANDCENTER ;;.;; 12.5% ; ;
		DamageScalar  = 20% ANY SPELLBOOK_SUMMONED_UNITS ;;-;;
	End
	
	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End

End
;------------------------------------------------------------------------------

Weapon DwarvenAxeThrowWarhead //aka AxeThrowerAxeWarHead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes
  	
  	DamageNugget
	    Damage        			= DWARVEN_AXETHROWER_DAMAGE
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH ; PIERCE
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
		DamageScalar			= 120% ANY +GondorFighter  ;;.;;
		DamageScalar			= 120% ANY +MordorFighter  ;;-;;
		DamageScalar			= 120% ANY +IsengardFighter ;;-;;
		DamageScalar			= 120% ANY +ElvenLorienWarrior ;;-;;
		DamageScalar			= 125% ANY +ElvenHaldir ;;-;; 
		DamageScalar			= 85% ANY +STRUCTURE -COMMANDCENTER -FS_BASE_DEFENSE ;;=;; 
		DamageScalar			= 50% ANY +COMMANDCENTER ;;=;; 
		DamageScalar			= 35% ANY +FS_BASE_DEFENSE ;;-;; 50% ;;=;;
		DamageScalar			= 135% ANY +CAVALRY ;;=;; 150% ; 
		DamageScalar			= 155% ANY +GoblinCaveTroll ;;=;; 150
		DamageScalar			= 155% ANY +CaveTroll_Slaved ;;=;; 150
		DamageScalar			= 80% ANY +PORTER +ElvenMithlondSentry ;;=elfdwarf=;; 
		DamageScalar			= 75% ANY +GondorArcher ;;-;; 80% ;;=mendwarf=;; GA to be like 1.06-2.06 it should be 75%.
		DamageScalar			= 95% ANY +MordorHaradrimArcher;;-;; ;;-;;  +MordorArcher ;;-;;
		DamageScalar		= 120% ANY +CANNOT_RETALIATE ; ; 
		DamageScalar			= 150% ANY +Crebain +WildCaveBats ;;-;; 135% ;;=;; 100%
	    ForbiddenUpgradeNames	= Upgrade_DwarvenForgedBlades
	End

	DamageNugget
	    Damage        			= DWARVEN_AXETHROWER_DAMAGE_FORGEDBLADES
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH ; ;PIERCE
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
		DamageScalar			= 85% ANY +STRUCTURE -COMMANDCENTER -FS_BASE_DEFENSE ;;=;; 
		DamageScalar			= 135% ANY +INFANTRY -ARCHER -HERO -WildSpiderling ;;-;;
		DamageScalar			= 50% ANY +COMMANDCENTER ;;=;; 
		DamageScalar			= 35% ANY +FS_BASE_DEFENSE ;;-;; 50% ;;=;;
		DamageScalar			= 120% ANY +CAVALRY ;;=;; 130% ; ;
		DamageScalar			= 135% ANY +GoblinCaveTroll ;;=;;
		DamageScalar			= 135% ANY +CaveTroll_Slaved ;;=;;
		DamageScalar			= 135% ANY +Crebain +WildCaveBats ;;-;; 100%
	    RequiredUpgradeNames	= Upgrade_DwarvenForgedBlades
	End
End

;------------------------------------------------------------------------------
; ;
Weapon DwarvenBattleWagonAxeThrowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes
  	
  	DamageNugget
	    Damage        			= DWARVEN_BATTLEWAGON_AXE_THROWERS_DAMAGE
		DamageScalar			= 80% ANY +STRUCTURE -FS_BASE_DEFENSE;;-;; 
 		DamageScalar			= 75% ANY +PIKE ;;-;; 
		DamageScalar			= 150% ANY +CAVALRY ; ;
		DamageScalar			= 35% ANY +FS_BASE_DEFENSE ;;-;; 50% ;;=;;
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH ; ;PIERCE
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	    ; ;DamageScalar  = 5000% ANY +STRUCTURE ; We want to do extra structure damage per JB's request.
	    ;;-;;	ForbiddenUpgradeNames	= Upgrade_DwarvenForgedBlades
	End
 	;;-;;	DamageNugget
	;;-;;	    Damage        			= 126 ;;=;; 120 ;
	;;-;;		DamageScalar			= 130% ANY +CAVALRY ; ;
	;;-;;		Radius        			= 0.0
	;;-;;	    DelayTime     			= 0
	;;-;;	    DamageType    			= SLASH ; ;PIERCE
	;;-;;	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	;;-;;	    DeathType     			= EXPLODED
	;;-;;	    ; ;DamageScalar  = 5000% ANY +STRUCTURE ; We want to do extra structure damage per JB's request.
	;;-;;	    RequiredUpgradeNames	= Upgrade_DwarvenForgedBlades
	;;-;;	End
End

Weapon StructureDwarvenAxeThrowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes
  	DamageNugget
	    Damage        			= KEEP_BOW_DAMAGE
;;=;;	DamageScalar			= 150% ANY +CAVALRY ; ;
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= STRUCTURAL					; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	End
End

Weapon StructureDwarvenAxeThrowForgedBladeUpgradedWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes
  	DamageNugget
	    Damage        			= KEEP_BOW_UPGRADED_DAMAGE
		DamageScalar 			= 35% ANY FIRE_IMMUNE_UNITS ;;.;;
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= STRUCTURAL					; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	End

	DamageNugget
	    Damage        			= KEEP_BOW_DAMAGE
;;=;;	DamageScalar			= 150% ANY +CAVALRY ; ;
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= STRUCTURAL					; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	    
	End
End


Weapon DwarvenAxeThrowBombardWarhead
  	RadiusDamageAffects			= ENEMIES 
  	DamageNugget
	    Damage        			= DWARVEN_AXETHROWER_DAMAGE
		DamageScalar			= 200% ANY +CAVALRY ;;=;; 350% ANY +CAVALRY ; ;
		Radius       			= 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH
	    DamageFXType  			= SWORD_SLASH
	    DeathType     			= EXPLODED
		DamageScalar			= 42.5% ANY +STRUCTURE -COMMANDCENTER -FS_BASE_DEFENSE ;;-;; 50%
		DamageScalar			= 25% ANY +COMMANDCENTER ;;-;; 50% ; ;
		DamageScalar			= 17.5% ANY +FS_BASE_DEFENSE ;;-;; 
	    ForbiddenUpgradeNames	= Upgrade_DwarvenForgedBlades
	End
  	DamageNugget
	    Damage        			= DWARVEN_AXETHROWER_DAMAGE_FORGEDBLADES
		DamageScalar			= 125% ANY +CAVALRY ;;=;; 220% ANY +CAVALRY ; ;
		Radius       			= 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH
	    DamageFXType  			= SWORD_SLASH
	    DeathType     			= EXPLODED
		DamageScalar			= 42.5% ANY +STRUCTURE -COMMANDCENTER -FS_BASE_DEFENSE ;;-;; 50%
		DamageScalar			= 25% ANY +COMMANDCENTER ;;-;; 50% ; ;
		DamageScalar			= 17.5% ANY +FS_BASE_DEFENSE ;;-;; 

	    RequiredUpgradeNames	= Upgrade_DwarvenForgedBlades
	End
End

;----------------------------
Weapon RohanArcherBowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
  	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ROHAN_YEOMAN_DAMAGE
	  Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = EXPLODED
	End
End

Weapon RohanArcherBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_YEOMAN_FIRE_UPGRADE_DAMAGE_FIRE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
;;-;;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_YEOMAN_FIRE_UPGRADE_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE

		DeathType     = NORMAL
	End
End

Weapon RohanArcherBowBombardFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_YEOMAN_FIRE_UPGRADE_DAMAGE_FIRE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0

		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End

;;-;;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_YEOMAN_FIRE_UPGRADE_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End
;------------------------------------------------------------------------------
Weapon RohanArcherBowFireArrowObsolete ;;-;;
	AttackRange               = ROHAN_YEOMAN_RANGE
	WeaponSpeed               = 321         ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:1000  Max:1100
	PreAttackDelay            = 400    
	PreAttackRandomAmount     = 200    ; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = 800    ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
 	AntiAirborneVehicle	  = Yes
	AntiAirborneMonster		= Yes
	ProjectileNugget          ; Fire arrow available through fire upgrade
    	ProjectileTemplateName  = GoodFactionFireArrow
    	WarheadTemplateName     = GondorArcherBowFireWarhead
  	End
End


;--------------------------RohanElvenWarriorBow.Weapon----------------------
Weapon RohanElvenBow     ; BALANCE Elven warrior bow Weapon
	AttackRange         = ROHAN_ELVEN_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ROHAN_ELVEN_RANGE .01 )
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY   
	;PreAttackRandomAmount     = 200   
	PreAttackType       = PER_SHOT ; ;PER_POSITION
	FiringDuration      = 0

	OverrideVoiceAttackSound			= BFME1_ElvenWarriorVoiceAttackBow ;;-;; ElvenWarriorVoiceAttackBow
	OverrideVoiceEnterStateAttackSound	= BFME1_ElvenWarriorVoiceEnterStateAttackBow ;;-;; ElvenWarriorVoiceEnterStateAttackBow
	//	ObsoleteCommand	//	OverrideVoiceAttackAirSound			= BFME1_ElvenWarriorVoiceAttackBow ;;.;; ElvenWarriorVoiceAttackBow
	//	ObsoleteCommand	//	OverrideVoiceAttackStructureSound	= BFME1_ElvenWarriorVoiceAttackBow ;;.;; ElvenWarriorVoiceAttackBow
	//	ObsoleteCommand	//	OverrideVoiceAttackMachineSound		= BFME1_ElvenWarriorVoiceAttackBow ;;.;; ElvenWarriorVoiceAttackBow
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = ElvenBowWarhead
	    ForbiddenUpgradeNames     = Upgrade_GondorFireArrows Upgrade_RohanFireArrows ;;.;;
	End
	ProjectileNugget ;;.;; GondorMode
	    ProjectileTemplateName    = GoodFactionFireArrow
	    WarheadTemplateName       = RohanElvenBowFireWarhead
	    RequiredUpgradeNames      = Upgrade_GondorFireArrows ; ;
		ForbiddenUpgradeNames	  = Upgrade_RohanFireArrows ;;.;;
  	End
	ProjectileNugget;;-;; RohanMode
	    ProjectileTemplateName    = GoodFactionFireArrow
	    WarheadTemplateName       = RohanElvenBowFireWarhead
	    RequiredUpgradeNames      = Upgrade_RohanFireArrows ; ;
	    ForbiddenUpgradeNames     = Upgrade_GondorFireArrows ;;.;;
  	End
End

;----------------------------
Weapon ElvenBowWarhead // Active
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ELVEN_DAMAGE
    DamageScalar  = 60% ANY +CAVALRY +WildSpiderling ;;-;; Added Spiderling ; ;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;----------------------------
Weapon RohanElvenBowFireWarhead // Active ;;-;;
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ELVEN_DAMAGE_UPGRADE ;;.;;
	DamageScalar  = 53% ANY +CAVALRY +WildSpiderling ;;.;;  ;;.;;NewFireArrowDesign_Pierce_NewOnes;;.;; 60% ;;-;; Added Spiderling ; ;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
  DamageNugget                        
    Damage        = ROHAN_ELVEN_DAMAGE_FLAME
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = FLAME ;;-;;
    DeathType     = BURNED
    AcceptDamageAdd = No
	;;.;;109v3FireArrowDesign_Flame;;.;;
	DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
	DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
	DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
	DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	;;.;;
  End
End

;------------------------------------------------------------------------------
Weapon LorienElvenBow     ; BALANCE Lorien Archer weapon
	AttackRange         = ELVEN_LORIENARCHER_ARCHER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .01 )
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.

	ScatterRadius       = 0.0 ; ;16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
  ShareTimers			= Yes ;;-;;
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = 466 ; ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY    
	PreAttackRandomAmount     = 66 ;100   
	PreAttackType       = PER_SHOT
	FiringDuration      = 0

	OverrideVoiceAttackSound			= ElvenWarriorVoiceAttackBow
	OverrideVoiceEnterStateAttackSound	= ElvenWarriorVoiceEnterStateAttackBow
	;OverrideVoiceAttackAirSound		= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackStructureSound	= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackMachineSound	= ElvenWarriorVoiceAttackBow
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 0 ;1	
	ClipReloadTime		= 766 ; ; Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0

	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = LorienBowWarhead
	    ForbiddenUpgradeNames     = Upgrade_ElvenSilverthornArrows ;;.;; Upgrade_ElvenSilverthornArrows_LorienArcher ;;=;; Upgrade_ElvenSilverthornArrows
	End
	ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
	    ProjectileTemplateName    = MirkwoodArcherSilverthornProjectile
	    WarheadTemplateName       = LorienBowSilverthorneWarhead
	    RequiredUpgradeNames      = Upgrade_ElvenSilverthornArrows ;;.;; Upgrade_ElvenSilverthornArrows_LorienArcher ;;=;; Upgrade_ElvenSilverthornArrows
  	End
End

;------------------------------------------------------------------------------
Weapon LorienMallornTreeBow     ; BALANCE Lorien Archer weapon
	AttackRange         = ELVEN_LORIENARCHER_ARCHER_RANGE

	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20		; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 10
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	PreAttackType       = PER_POSITION
	FiringDuration      = 100

	OverrideVoiceAttackSound			= ElvenWarriorVoiceAttackBow
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= 800
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = StructureBowWarhead
	End
End

;------------------------------------------------------------------------------
Weapon GarrisonedUnitBow     ; BALANCE
	AttackRange         = ELVEN_LORIENARCHER_ARCHER_RANGE
	CanFireWhileMoving	= Yes
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .01 )
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	PreAttackType       = PER_POSITION
	FiringDuration      = 0

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = GarrisonedUnitBowWarhead ;;-;; LorienBowWarhead
	End
End

Weapon GarrisonedUnitBowWarhead ;;-;;
  RadiusDamageAffects = ENEMIES
  HitStoredTarget = Yes 
  DamageNugget
    Damage       = #MULTIPLY( ELVEN_LORIENARCHER_ARCHER_DAMAGE 0.66 ) 
	
	;;.;;LorienArcherScalars;;.;;
    DamageScalar = 63% ANY +GoblinCaveTroll ;;=;; 80%
    DamageScalar = 80% ANY +CaveTroll_Slaved ;;.;; 63% ;;=;; 80%
    DamageScalar = 63% ANY +MordorMountainTroll ;;-;;
    DamageScalar = 80% ANY +DwarvenGuardian ;;=;;
    DamageScalar = 80% ANY +MordorMumakil ;;=;; 
    DamageScalar = 80% ANY +IsengardBeserker ;;.;;
 	DamageScalar = 90% ANY +GondorFighter ;;=;; 90%
 	DamageScalar = 90% ANY +GondorArcher ;;=;; 90%
	;;-;; DamageScalar = 95% ANY +MordorArcher ;;-;;
	;;-;; DamageScalar = 95% ANY +MordorHaradrimArcher ;;-;;
	;;-;; DamageScalar = 95% ANY +GoblinArcher ;;-;;
	DamageScalar = 95% ANY +WildSpiderling ;;-;;
	DamageScalar = 60% ANY +PORTER ;;-;; 75% ;;-;;
	DamageScalar = 90% ANY +IsengardWargRider ;;-;; 
	DamageScalar = 90% ANY +ElvenRivendellLancer ;;-;; 
	DamageScalar = 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
	
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
	AcceptDamageAdd = No
  End
End

Weapon GarrisonedUnitBowHordeRangefinder
	AttackRange			= #SUBTRACT( ELVEN_LORIENARCHER_ARCHER_RANGE 125 )   ; ;100  ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .01 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes

	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon LorienElvenBowBombard     ; BALANCE Lorien Archer weapon
	AttackRange         = ELVEN_LORIENARCHER_ARCHER_BOMBARD_MAXRANGE
	MinimumAttackRange  = #SUBTRACT( ELVEN_LORIENARCHER_ARCHER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_BOMBARD_MAXRANGE .01 )
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ;Always scatter
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	;PreAttackRandomAmount     = 200   
	PreAttackType       = PER_SHOT ;;=;; PER_POSITION
	FiringDuration      = 0

	OverrideVoiceAttackSound			= ElvenWarriorVoiceAttackBow
	OverrideVoiceEnterStateAttackSound	= ElvenWarriorVoiceEnterStateAttackBow
	;OverrideVoiceAttackAirSound		= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackStructureSound	= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackMachineSound	= ElvenWarriorVoiceAttackBow
	  
  ShareTimers			= Yes ;;-;;
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrowBombard
	    WarheadTemplateName       = LorienBowBombardWarhead
	    ForbiddenUpgradeNames     = Upgrade_ElvenSilverthornArrows ;;.;; Upgrade_ElvenSilverthornArrows_LorienArcher ;;=;; Upgrade_ElvenSilverthornArrows
	End
	ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
	    ProjectileTemplateName    = MirkwoodArcherSilverthornProjectileBombard
	    WarheadTemplateName       = LorienBowBombardSilverthorneWarhead
	    RequiredUpgradeNames      = Upgrade_ElvenSilverthornArrows ;;.;; Upgrade_ElvenSilverthornArrows_LorienArcher ;;=;; Upgrade_ElvenSilverthornArrows
  	End
End

;----------------------------
Weapon LorienBowWarhead
  ; ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES ;(12/15/05 removed everything buy ENEMIES since that's how most other bows work) NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ELVEN_LORIENARCHER_ARCHER_DAMAGE
	
	;;.;;LorienArcherScalars;;.;;
    DamageScalar = 63% ANY +GoblinCaveTroll ;;=;; 80%
    DamageScalar = 80% ANY +CaveTroll_Slaved ;;.;; 63% ;;=;; 80%
    DamageScalar = 63% ANY +MordorMountainTroll ;;-;;
    DamageScalar = 80% ANY +DwarvenGuardian ;;=;;
    DamageScalar = 80% ANY +MordorMumakil ;;=;; 
    DamageScalar = 80% ANY +IsengardBeserker ;;.;; 
 	DamageScalar = 90% ANY +GondorFighter ;;=;; 90%
 	DamageScalar = 90% ANY +GondorArcher ;;=;; 90%
	;;-;; DamageScalar = 95% ANY +MordorArcher ;;-;;
	;;-;; DamageScalar = 95% ANY +MordorHaradrimArcher ;;-;;
	;;-;; DamageScalar = 95% ANY +GoblinArcher ;;-;;
	DamageScalar = 95% ANY +WildSpiderling ;;-;;
	DamageScalar = 60% ANY +PORTER ;;-;; 75% ;;-;;
	DamageScalar = 90% ANY +IsengardWargRider ;;-;; 
	DamageScalar = 90% ANY +ElvenRivendellLancer ;;-;; 
	DamageScalar = 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
	
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon LorienBowBombardWarhead
  ; ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES ;(12/15/05 removed everything buy ENEMIES since that's how most other bows work)  NEUTRALS ALLIES NOT_SIMILAR
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ELVEN_LORIENARCHER_ARCHER_DAMAGE
	
	;;.;;LorienArcherScalars;;.;;
    DamageScalar = 63% ANY +GoblinCaveTroll ;;=;; 80%
    DamageScalar = 80% ANY +CaveTroll_Slaved ;;.;; 63% ;;=;; 80%
    DamageScalar = 63% ANY +MordorMountainTroll ;;-;;
    DamageScalar = 80% ANY +DwarvenGuardian ;;=;;
    DamageScalar = 80% ANY +MordorMumakil ;;=;; 
    DamageScalar = 80% ANY +IsengardBeserker ;;.;; 
 	DamageScalar = 90% ANY +GondorFighter ;;=;; 90%
 	DamageScalar = 90% ANY +GondorArcher ;;=;; 90%
	;;-;; DamageScalar = 95% ANY +MordorArcher ;;-;;
	;;-;; DamageScalar = 95% ANY +MordorHaradrimArcher ;;-;;
	;;-;; DamageScalar = 95% ANY +GoblinArcher ;;-;;
	DamageScalar = 95% ANY +WildSpiderling ;;-;;
	DamageScalar = 60% ANY +PORTER ;;-;; 75% ;;-;;
	DamageScalar = 90% ANY +IsengardWargRider ;;-;; 
	DamageScalar = 90% ANY +ElvenRivendellLancer ;;-;; 
	DamageScalar = 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
	
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType	  = NORMAL
  End

 
End

;----------------------------
Weapon LorienBowSilverthorneWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ELVEN_LORIENARCHER_ARCHER_DAMAGE
		
	;;.;;109v3SilverThornDesign_Pierce_Lorien;;.;;
		DamageScalar = 87% ANY +CAVALRY ;;.;;NewFireArrowDesign_Pierce_NewOnes;;.;; 
		DamageScalar  = 72% ANY +IsengardBeserker ;;-;; 80% ;;=;;
		DamageScalar = 63% ANY +GoblinCaveTroll ;;=;; 80%
		DamageScalar = 80% ANY +CaveTroll_Slaved ;;.;; 63% ;;=;; 100%
		DamageScalar = 63% ANY +MordorMountainTroll ;;-;;
		DamageScalar = 80% ANY +MordorMumakil ;;=;; 
		DamageScalar = 80% ANY +DwarvenGuardian ;;=;; 
		DamageScalar = 90% ANY +GondorFighter ;;=;; 90%
		DamageScalar = 90% ANY +GondorArcher ;;=;; 90%
		;;-;; DamageScalar = 95% ANY +MordorArcher ;;-;;
		;;-;; DamageScalar = 95% ANY +MordorHaradrimArcher ;;-;;
		;;-;; DamageScalar = 95% ANY +GoblinArcher ;;-;;
		DamageScalar = 95% ANY +WildSpiderling ;;-;;
		DamageScalar = 60% ANY +PORTER ;;-;; 75% ;;-;;
		DamageScalar = 90% ANY +IsengardWargRider ;;-;; 
		DamageScalar = 90% ANY +ElvenRivendellLancer ;;-;; 
		DamageScalar = 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType     = EXPLODED ; ;NORMAL
	End

  	DamageNugget
	    Damage        	= ELVEN_LORIENARCHER_ARCHER_DAMAGE_UPGRADE_MAGIC
		Radius        	= 0.0
	    DelayTime     	= 0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
	    DeathType     	= EXPLODED
		;;.;;109v3SilverThornDesign_Magic_Lorien;;.;;
		DamageScalar  = 35% ANY +CAVALRY ;;-;; 12.5%
		DamageScalar  = 35% ANY +STRUCTURE -COMMANDCENTER ;;-;; +SUMMONED  NOT_SPELLBOOK_SUMMONED_UNITS ;;.;; 25% ;;-;;
		DamageScalar  = 17.5% ANY +COMMANDCENTER ;;.;; 12.5% ; ;
		DamageScalar  = 20% ANY SPELLBOOK_SUMMONED_UNITS ;;-;;
				AcceptDamageAdd = No
	End
	
	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End
	
End

Weapon LorienBowBombardSilverthorneWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ELVEN_LORIENARCHER_ARCHER_DAMAGE
		
	;;.;;109v3SilverThornDesign_Pierce_Lorien;;.;;
		DamageScalar = 87% ANY +CAVALRY ;;.;;NewFireArrowDesign_Pierce_NewOnes;;.;; 
		DamageScalar  = 72% ANY +IsengardBeserker ;;-;; 80% ;;=;;
		DamageScalar = 63% ANY +GoblinCaveTroll ;;=;; 80%
		DamageScalar = 80% ANY +CaveTroll_Slaved ;;.;; 63% ;;=;; 80%
		DamageScalar = 63% ANY +MordorMountainTroll ;;-;;
		DamageScalar = 80% ANY +MordorMumakil ;;=;; 
		DamageScalar = 80% ANY +DwarvenGuardian ;;=;; 
		DamageScalar = 90% ANY +GondorFighter ;;=;; 90%
		DamageScalar = 90% ANY +GondorArcher ;;=;; 90%
		;;-;; DamageScalar = 95% ANY +MordorArcher ;;-;;
		;;-;; DamageScalar = 95% ANY +MordorHaradrimArcher ;;-;;
		;;-;; DamageScalar = 95% ANY +GoblinArcher ;;-;;
		DamageScalar = 95% ANY +WildSpiderling ;;-;;
		DamageScalar = 60% ANY +PORTER ;;-;; 75% ;;-;;
		DamageScalar = 90% ANY +IsengardWargRider ;;-;; 
		DamageScalar = 90% ANY +ElvenRivendellLancer ;;-;; 
		DamageScalar = 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
 		DelayTime     = 0
 		DamageType    = PIERCE
		DamageFXType  = MAGIC ; ;GOOD_ARROW_PIERCE
		DeathType     = EXPLODED ; ;NORMAL
	End

  	DamageNugget
	    Damage        	= ELVEN_LORIENARCHER_ARCHER_DAMAGE_UPGRADE_MAGIC
		Radius        	= 0.0
	    DelayTime     	= 0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
	    DeathType     	= EXPLODED
		;;.;;109v3SilverThornDesign_Magic_Lorien;;.;;
		DamageScalar  = 35% ANY +CAVALRY ;;-;; 12.5%
		DamageScalar  = 35% ANY +STRUCTURE -COMMANDCENTER ;;-;; +SUMMONED  NOT_SPELLBOOK_SUMMONED_UNITS ;;.;; 25% ;;-;;
		DamageScalar  = 17.5% ANY +COMMANDCENTER ;;.;; 12.5% ; ;
		DamageScalar  = 20% ANY SPELLBOOK_SUMMONED_UNITS ;;-;;
				AcceptDamageAdd = No
	End

	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End
	
End
;----------------------------------------------------------------------------
Weapon ElvenWarriorBow ;;.;;  // Disabled but useful.
	AttackRange         = ROHAN_ELVEN_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ROHAN_ELVEN_RANGE .01 )
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY   
	;PreAttackRandomAmount     = 200   
	PreAttackType       = PER_SHOT ; ;PER_POSITION
	FiringDuration      = 0

	OverrideVoiceAttackSound			= BFME1_ElvenWarriorVoiceAttackBow ;;-;; ElvenWarriorVoiceAttackBow
	OverrideVoiceEnterStateAttackSound	= BFME1_ElvenWarriorVoiceEnterStateAttackBow ;;-;; ElvenWarriorVoiceEnterStateAttackBow
	//	ObsoleteCommand	//	OverrideVoiceAttackAirSound			= BFME1_ElvenWarriorVoiceAttackBow ;;.;; ElvenWarriorVoiceAttackBow
	//	ObsoleteCommand	//	OverrideVoiceAttackStructureSound	= BFME1_ElvenWarriorVoiceAttackBow ;;.;; ElvenWarriorVoiceAttackBow
	//	ObsoleteCommand	//	OverrideVoiceAttackMachineSound		= BFME1_ElvenWarriorVoiceAttackBow ;;.;; ElvenWarriorVoiceAttackBow
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = ElvenBowWarhead
	    ForbiddenUpgradeNames     = Upgrade_ElvenSilverthornArrows
	End
	ProjectileNugget
	    ProjectileTemplateName    = MirkwoodArcherSilverthornProjectile
	    WarheadTemplateName       = ElvenBowSilverthorneWarhead
	    RequiredUpgradeNames      = Upgrade_ElvenSilverthornArrows
	    ForbiddenUpgradeNames     = Upgrade_GondorFireArrows
  	End
End
;----------------------------------------------------------------------------
Weapon ElvenBowSilverthorneWarhead // Disabled but useful.
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ELVEN_DAMAGE
    DamageScalar  = 60% ANY +CAVALRY +WildSpiderling ;;-;; Added Spiderling ; ;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
  DamageNugget       
    Damage        = ROHAN_ELVEN_DAMAGE_MAGIC
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = MAGIC
    DeathType     = EXPLODED
    AcceptDamageAdd = No
	;;-;; SpecialObjectFilter = ALL -STRUCTURE
  End
  MetaImpactNugget
	SpecialObjectFilter = ANY +INFANTRY
	ShockWaveAmount   = 50.0
	ShockWaveRadius   = 10.0
	ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
	ShockWaveTaperOff = 1.0
	ShockWaveSpeed    = 0.0
	ShockWaveZMult    = 1.0
	OnlyWhenJustDied = Yes
  End
End

//-----------------------------------------------------------------------------
// This is the attack with rock in hand
//BALANCE ActiveArtilleryWeaponStructural//
Weapon ElvenVigilantEntRockThrow // BALANCE VigilantEnt Weapon Rock
	HoldDuringReload			= Yes							// Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= ELVEN_VIGILANTENT_ROCK_RANGE
	MinimumAttackRange 			= ELVEN_VIGILANTENT_ROCK_RANGE_MIN
	
	WeaponSpeed					= 200.0							// dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 800
	FiringDuration				= 3200
	PreAttackType				= PER_SHOT						// Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
	HitPercentage				= 0								// never auto hits, always hits ground
	ScatterRadius				= 4.0							// When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							// Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							// Need no target
	LeechRangeWeapon			= Yes
	AcceptableAimDelta			= 90

	HoldAfterFiringDelay		= 4000
	AutoReloadWhenIdle			= 2500
	AutoReloadsClip 			= No
	ClipReloadTime 				= 4250
	
	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    			
		ProjectileTemplateName	= VigilantEntRock
		WarheadTemplateName		= VigilantEntRockWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

//----------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural//
Weapon VigilantEntRockWarhead
	//FireFX				= FX_ImpactEntRock

	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS ALLIES
	RadiusDamageAffects		= ENEMIES NEUTRALS ALLIES
  
	// A basic Nugget that just does damage
	DamageNugget                        
		Damage        = ELVEN_VIGILANTENT_ROCK_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ; ;
		Radius        = ELVEN_VIGILANTENT_ROCK_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE ; BALANCE BABY -GB
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
  
  	 DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = #MULTIPLY( ELVEN_VIGILANTENT_ROCK_DAMAGE 0.75 ) ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_VIGILANT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

	// A Nugget that throws things back with force
	MetaImpactNugget                    
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
		//ShockWaveZMult    = 1.20
	End
End

;------------------------------------------------------------------------------
; This is the attack with rock in hand
; Treebeard
Weapon RohanTreeBeardRockThrow	// Obsolete // manual picked up rock. bfme1
	IdleAfterFiringDelay		= 2000							; Yes if I want to throw rock, then wait until the followthrough is complete, then go idle.
	AttackRange					= ROHAN_TREEBEARD_ROCK_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	ProjectileFilterInContainer	= ANY +ROCK +INFANTRY			; We don't make the projectile, it is in our Contain module.
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1400
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ; ;4.0 ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-23 Y: 32
  	ScatterTarget           = X: 27 Y: 23
	FiringDuration				= 2000
	DelayBetweenShots			= 4000

	ClipSize 				= 6 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = 4000

	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	ProjectileNugget                    	; A Nugget that creates an Object and sends it to the target with a Warhead
		WarheadTemplateName 		= RohanTreeBeardRockThrowWarhead
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

; ;------------------------------------------------------------------------------
Weapon RohanTreeBeardAntiShipRockThrow // Obsolete
	IdleAfterFiringDelay		= 2000							; Yes if I want to throw rock, then wait until the followthrough is complete, then go idle.
	AttackRange					= 1200
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	ProjectileFilterInContainer	= ANY +ROCK +INFANTRY			; We don't make the projectile, it is in our Contain module.
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1400
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ; ;4.0 ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-23 Y: 32
  	ScatterTarget           = X: 27 Y: 23
	FiringDuration				= 3600 ; ;2000
	DelayBetweenShots			= 7200 ; ;4000

	ClipSize 				= 6 ; ;
	AutoReloadsClip 		= Yes
	HoldAfterFiringDelay		= 12000 ; ;
	ClipReloadTime          = 4000

	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	ProjectileNugget                    	; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName		= RockBigTreeberdBombard ; ;
		WarheadTemplateName 		= RohanTreeBeardRockThrowWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End


;----------------------------------------------------------------------------------------------------------------
;
;	This is the toggle weapon for ents. They will reload, throw, reload straight away, and constantly hold a rock.
;
Weapon RohanEntRockThrow	//BALANCE ActiveArtilleryWeapon//
	HoldDuringReload			= Yes							; Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= ROHAN_ENT_ROCK_RANGE
	MinimumAttackRange			= ROHAN_ENT_ROCK_MINRANGE ;;.;;
	
	RangeBonusMinHeight			= 10
	RangeBonus					= 1
	RangeBonusPerFoot			= 3 ; ;
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 2200
	FiringDuration				= 3000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
; ;	HitPercentage				= 0								; never auto hits, always hits ground
; ;	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-23 Y: 32
  	ScatterTarget           = X: 27 Y: 23
  	ScatterTarget           = X: -4 Y: 6 ;;-;;
  	ScatterTarget           = X: 12 Y: 8 ;;-;;
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 5200
	AutoReloadWhenIdle			= 2000
	ClipSize 				= 6 ; ;
	AutoReloadsClip 			= Yes ; ;No
	ClipReloadTime 				= 3000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTreeberd
		WarheadTemplateName		= RohanEntRockFromThinAirWarhead
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------------------------------------------------------------------------------------------


Weapon RohanEntRockThrowForMirkwood
	HoldDuringReload			= Yes							; Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= ROHAN_ENT_ROCK_RANGE
	
	RangeBonusMinHeight			= 10
	RangeBonus					= 1
	RangeBonusPerFoot			= #MULTIPLY( ROHAN_ENT_ROCK_RANGE .01 )
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 2200
	FiringDuration				= 3000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 5200
	AutoReloadWhenIdle			= 2000
	AutoReloadsClip 			= No
	ClipReloadTime 				= 3000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTreeberd
		WarheadTemplateName		= RohanTreeBeardRockFromThinAirWarhead
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

; ;----------------------------------------------------------------------------------------------------------------
Weapon RohanEntAntiShipRockThrow	//BALANCE BT2DCAntiShipsWeapon//
	HoldDuringReload			= Yes							; Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= BT2DC_ARTILLERY_BOMBARD_RANGE
	
  MinimumAttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE_MIN ;;-;;
	RangeBonusMinHeight			= 10
	RangeBonus					= 1

	RangeBonusPerFoot			= 3
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 2200
	FiringDuration				= 3000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 12200 ; ;6000
	HitPercentage				= 100     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 102 Y: 84
  	ScatterTarget           = X: 29 Y:-76
  	ScatterTarget           = X:-36 Y: 92
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-23 Y: 32
  	ScatterTarget           = X: 27 Y: 63
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 5200
	AutoReloadWhenIdle			= 10000 ; ;2000
	ClipSize 				= 6 ; ;
;	AutoReloadsClip 			= Yes ;
;	ClipReloadTime 				= 3000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTreeberdBombard ; ;
		WarheadTemplateName		= RohanEntAntiShipRockFromThinAirWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------
Weapon RohanTreeBeardRockThrowWarhead // Obsolete
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE
	DamageScalar   = 0% ANY +SHIP ; ;
    Radius        = 25.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
  End
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE
    DamageScalar   = 0% ALL -SHIP
    DamageTaperOff = 75 ; ;
    Radius        = 45.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 25.0
    ShockWaveRadius   = 20.0
    ShockWaveTaperOff = 0.75
;    ShockWaveZMult    = 1.20
  End
End

;------------------------------------------------------------------------------
; This is the normal punch, not the AOE, rock, siege or tree
Weapon RohanTreeBeardPunch  ; BALANCE Ent Weapon Normal
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  DelayBetweenShots			= ROHAN_ENT_PUNCH_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration			= ROHAN_ENT_PUNCH_FIRINGDURATION            ; min 1900 for anim
  PreAttackDelay			= ROHAN_ENT_PUNCH_PREATTACKDELAY
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ENT_PUNCH_DAMAGE
    DamageScalar  = 55% ANY +COMMANDCENTER ;;-;; 65% ;;-;; 70% ;;-;; 75% ; ; 
// Only indirect damage might hurt structures. but just in case make it deal same dmg as direct dmg.
    Radius        = ROHAN_ENT_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = ROHAN_ENT_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End
;trebeard punch
Weapon RohanTreeBeardPunchTB  ; BALANCE TreeBeard Weapon Normal
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  DelayBetweenShots			= ROHAN_ENT_PUNCH_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration			= ROHAN_ENT_PUNCH_FIRINGDURATION            ; min 1900 for anim
  PreAttackDelay			= ROHAN_ENT_PUNCH_PREATTACKDELAY
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_PUNCH_DAMAGE
    DamageScalar  = 65% ANY +COMMANDCENTER ; ; 
// Only indirect damage might hurt structures. but just in case make it deal same dmg as direct dmg.
    Radius        = ROHAN_TREEBEARD_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 70 ;;=;; 85 ; ; 50.0
    ShockWaveRadius   = ROHAN_TREEBEARD_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

;----------------------------
Weapon RohanTreeBeardRockFromThinAir	//BALANCE ActiveArtilleryWeapon//
	HoldDuringReload			= Yes							; Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= ROHAN_TREEBEARD_ROCK_RANGE
	MinimumAttackRange			= ROHAN_TREEBEARD_ROCK_MINRANGE ;;.;;
	
	RangeBonusMinHeight			= 10
	RangeBonus					= 1
	RangeBonusPerFoot			= 3
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 2200
	FiringDuration				= 3000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.

	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 5200
	AutoReloadWhenIdle			= 2000
	AutoReloadsClip 			= No
	ClipReloadTime 				= 3000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTreeberd
		WarheadTemplateName		= RohanTreeBeardRockFromThinAirWarhead
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

; ;----------------------------
Weapon RohanTreeBeardAntiShipRockFromThinAir	//BALANCE BT2DCAntiShipsWeapon//
	HoldDuringReload			= Yes							; Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= BT2DC_ARTILLERY_BOMBARD_RANGE
  MinimumAttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE_MIN ;;-;;
	RangeBonusMinHeight		= 10
	RangeBonus					= 1
	RangeBonusPerFoot			= 3 
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 2200
	FiringDuration				= 3000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 12200 ; ;6000
	HitPercentage				= 100							; never auto hits, always hits ground
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 82 Y: -104
  	ScatterTarget           = X: -76 Y:62
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 23 Y: 32
  	ScatterTarget           = X: 27 Y: 23

	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 5200
	AutoReloadWhenIdle			= 10000 ; ;2000
;	AutoReloadsClip 			= No
;	ClipReloadTime 				= 3000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTreeberdBombard ; ;
		WarheadTemplateName		= RohanTreeBeardAntiShipRockFromThinAirWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon RohanTreeBeardRockFromThinAirWarhead 
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE
		DamageScalar	= 200% ANY +MACHINE ;;-;;
	DamageScalar  = 85% ANY +COMMANDCENTER ;;-;;
	DamageScalar   = 0% ANY +SHIP ; ;
	Radius         = ROHAN_TREEBEARD_ROCK_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
  End
  
  	 DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar   = 0% ANY +SHIP ; ;
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_TREEBEARD
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER 
		DamageScalar = 50% ANY +MACHINE ;;.;;
		DamageScalar = 50% ANY +FS_BASE_DEFENSE ;;.;;
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 30.0
    ShockWaveTaperOff = 0.75
;    ShockWaveZMult    = 1.20
  End
End

; ;
Weapon RohanTreeBeardAntiShipRockFromThinAirWarhead ;;=;; //BALANCE BT2DCAntiShipsWarhead//
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE
		DamageScalar	= 200% ANY +MACHINE ;;-;;
	DamageScalar  = 85% ANY +COMMANDCENTER ;;-;;
    DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
	Radius         = BT2DC_ARTILLERY_BOMBARD_RADIUS_ENTS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
  End
  
  	;;.;;	 DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( ROHAN_TREEBEARD_ROCK_DAMAGE 0.5 ) ;;-;;
 	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	;;.;;	End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 40.0
    ShockWaveTaperOff = 0.75
  End
End

; ;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon RohanEntRockFromThinAirWarhead
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
  DamageNugget                        ; A basic Nugget that just does damage
     Damage        = ROHAN_ENT_ROCK_DAMAGE
		DamageScalar	= 200% ANY +MACHINE ;;-;;
     DamageScalar  = 65% ANY +COMMANDCENTER ;;-;; 70% ;;-;; 65% ; ; 75% ; ;
     Radius         = ROHAN_ENT_ROCK_RADIUS
     DelayTime     = 0
     DamageType    = SIEGE
     DamageFXType  = SMALL_ROCK
     DeathType     = NORMAL
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
  End
  
  	 DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = ROHAN_ENT_ROCK_DAMAGE ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_ENTROCK
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End
  
  ; ;  grech
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 30.0
    ShockWaveTaperOff = 0.75
;    ShockWaveZMult    = 1.20
  End
End

; ;------------------------------------------------------------------------------
Weapon RohanEntAntiShipRockFromThinAirWarhead ;;=;; //BALANCE BT2DCAntiShipsWarhead//
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ENT_ROCK_DAMAGE
		DamageScalar	= 200% ANY +MACHINE ;;-;;
     DamageScalar  = 65% ANY +COMMANDCENTER ;;-;; 70% ;;-;; 65% ; ; 75% ; ;
	DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
	Radius         = BT2DC_ARTILLERY_BOMBARD_RADIUS_ENTS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
  End
  
  	;;.;;	 DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( ROHAN_ENT_ROCK_DAMAGE 0.5 ) ;;-;;
	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 110.0 ; ;100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ; 
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;	End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 30.0
    ShockWaveTaperOff = 0.75
  End
End

;------------------------------------------------------------------------------
Weapon RohanEntDeath  ; BALANCE Ent Death toppling over units
  RadiusDamageAffects = ENEMIES NEUTRALS
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 80
    Radius        = 40.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 40.0
    ShockWaveTaperOff = 1.0
  End
End

;------------------------------------------------------------------------------
; This is the building tear down attack
Weapon RohanBuildingTeardown  ; BALANCE Ents building teardown attack
  RadiusDamageAffects = ENEMIES NEUTRALS
  CanFireWhileMoving    = No
  	LeechRangeWeapon = Yes	;Just like the troll, this needs to go with Melee to let me hurt round buildings.
  AttackRange           = 20.0
  AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
  AntiGround            = No             ; ditto
  MeleeWeapon           = Yes
  AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack)
  FireFX                = FX_TreeBeardBash
  DelayBetweenShots			= ROHAN_ENT_BUILDINGATTACK_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration			= ROHAN_ENT_BUILDINGATTACK_FIRINGDURATION            ; min 1900 for anim
  PreAttackDelay			= ROHAN_ENT_BUILDINGATTACK_PREATTACKDELAY
  PreAttackType         = PER_SHOT        ; Do the delay each time we attack a new target

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ENT_BUILDINGATTACK_DAMAGE ; ; 
    DamageScalar  = 55% ANY +COMMANDCENTER ;;-;; 65% ;;-;; 70% ;;-;; 75% ; ; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
  End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= ROHAN_ENT_BUILDINGATTACK_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_MONSTERTEARDOWN
		DamageType			= SIEGE
		DamageFXType  		= CLUBBING
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;   ShockWaveAmount   = 10.0
;    ShockWaveRadius   = 8.0
;    ShockWaveTaperOff = 1.0
;    ShockWaveZMult    = 0.40
;  End
End

Weapon RohanBuildingTeardownTB  ; BALANCE TreeBeard building teardown attack
  RadiusDamageAffects = ENEMIES NEUTRALS
  CanFireWhileMoving    = No
  	LeechRangeWeapon = Yes	;Just like the troll, this needs to go with Melee to let me hurt round buildings.
  AttackRange           = 20.0
  AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
  AntiGround            = No             ; ditto
  MeleeWeapon           = Yes
  AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack)
  FireFX                = FX_TreeBeardBash
  DelayBetweenShots			= ROHAN_ENT_BUILDINGATTACK_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration			= ROHAN_ENT_BUILDINGATTACK_FIRINGDURATION            ; min 1900 for anim
  PreAttackDelay			= ROHAN_ENT_BUILDINGATTACK_PREATTACKDELAY
  PreAttackType         = PER_SHOT        ; Do the delay each time we attack a new target

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_BUILDINGATTACK_DAMAGE
    DamageScalar  = 65% ANY +COMMANDCENTER ; ; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
  End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= ROHAN_TREEBEARD_BUILDINGATTACK_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_MONSTERTEARDOWN
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;   ShockWaveAmount   = 10.0
;    ShockWaveRadius   = 8.0
;    ShockWaveTaperOff = 1.0
;    ShockWaveZMult    = 0.40
;  End
End


;------------------------------------------------------------------------------
Weapon RohanRohirrimSpear       ; BALANCE Rohirrim Weapon
  RadiusDamageAffects = ENEMIES NEUTRALS ; ;
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DelayBetweenShots     = ROHAN_ROHIRRIM_DELAYBETWEENSHOTS           ; time between shots, msec
  PreAttackDelay        = ROHAN_ROHIRRIM_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ROHAN_ROHIRRIM_FIRINGDURATION     ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= ROHAN_ROHIRRIM_SWORD_DAMAGE
		DamageTaperOff 			= #MULTIPLY( ROHAN_ROHIRRIM_SWORD_DAMAGE ROHAN_ROHIRRIM_SWORD_DAMAGE_TAPEROFF ) ;;.;;
		DamageScalar 			= 125% ANY +DwarvenBattleWagon ;;-;; 
		Radius					= 11.5 ; ;0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType				= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
		ForbiddenUpgradeNames	= Upgrade_GondorForgedBlades Upgrade_RohanForgedBlades ;;.;;
	End


  //CavalryForgedBlade09v2//
   ;;.;; GondorMode/09v3
   	DamageNugget
		Damage					= ROHAN_ROHIRRIM_SWORD_DAMAGE_FORGED_UPGRADE
		DamageTaperOff 			= #MULTIPLY( ROHAN_ROHIRRIM_SWORD_DAMAGE_FORGED_UPGRADE ROHAN_ROHIRRIM_SWORD_DAMAGE_TAPEROFF ) ;;.;;
    	DamageScalar  			= 175% ANY +STRUCTURE -COMMANDCENTER -FS_BASE_DEFENSE ;;-;; 200% ; ;
		DamageScalar 			= 133% ANY +COMMANDCENTER ;;=;; 
		Radius					= 11.5 ; ;0
		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType				= SWORD_SLASH
		DeathType				= NORMAL
 		FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames    = Upgrade_GondorForgedBlades ;;.;; Upgrade_RohanForgedBlades
		ForbiddenUpgradeNames	= Upgrade_RohanForgedBlades ;;.;;
	End
 	;;-;; RohanMode/Vanilla
	DamageNugget
		Damage					= ROHAN_ROHIRRIM_SWORD_DAMAGE_FORGED_UPGRADE
    	DamageScalar  			= 200% ANY +STRUCTURE -FS_BASE_DEFENSE ; ;
		Radius					= 11.5 ; ;0
 		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
 		FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames    		= Upgrade_RohanForgedBlades
		ForbiddenUpgradeNames	= Upgrade_GondorForgedBlades ;;.;;
	End

End


;-------------------------------------------------------------------
;;.;; 09v3BalancingBannerCarriers
Weapon RohanRohirrimBannerSpear09v3
  RadiusDamageAffects = ENEMIES NEUTRALS ; ;
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DelayBetweenShots     = ROHAN_ROHIRRIM_DELAYBETWEENSHOTS           ; time between shots, msec
  PreAttackDelay        = ROHAN_ROHIRRIM_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ROHAN_ROHIRRIM_FIRINGDURATION     ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= ROHAN_ROHIRRIM_SWORD_DAMAGE
		DamageScalar 			= 125% ANY +DwarvenBattleWagon ;;-;; 
		Radius					= 0 ;;.;; 11.5 ; ;0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
	End

End

;----------------------------------------------------------------
Weapon RohanRohirrimBow       ; BALANCE Archer Weapon
  AttackRange               = ROHAN_HORSEBOW_RANGE
  
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ROHAN_HORSEBOW_RANGE .01 )
	
	
  WeaponSpeed               = 321         ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes ; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100     ;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
  AcceptableAimDelta		= 20 ;;-;; this makes them don't waste arrows in the same target
  PreAttackDelay            = ROHAN_ROHIRRIM_BOW_PREATTACKDELAY
  PreAttackType             = PER_SHOT  ; Do the delay each time we attack a new target
  PreAttackRandomAmount     = 200 
  FiringDuration            = ROHAN_ROHIRRIM_BOW_FIRINGDURATION		; Duration of the archer firing shot is 1000ms.
  RequireFollowThru			= Yes

  ClipSize 					= 1
  AutoReloadsClip 			= Yes
  ClipReloadTime 			= ROHAN_ROHIRRIM_BOW_RELOADTIME

  IsAimingWeapon            = Yes
  AntiAirborneVehicle	    = Yes
  AntiAirborneMonster	    = Yes

; CanFireWhileMoving	    = Yes
; CanFireWhileCharging	    = Yes


  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

  HitPassengerPercentage    = 20%


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = RohirrimBowWarhead
    ForbiddenUpgradeNames   = Upgrade_GondorFireArrows Upgrade_RohanFireArrows ;;.;;
  End

  ProjectileNugget ;;.;; GondorMode
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = RohirrimBowFireWarhead
    RequiredUpgradeNames    = Upgrade_GondorFireArrows ;;.;; Upgrade_RohanFireArrows
    ForbiddenUpgradeNames   = Upgrade_RohanFireArrows ;;.;;
  End

  ProjectileNugget ;;-;; RohanMode
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = RohirrimBowFireWarhead
    RequiredUpgradeNames    = Upgrade_RohanFireArrows ;;.;;
    ForbiddenUpgradeNames   = Upgrade_GondorFireArrows ;;.;;
  End
End

;----------------------------
Weapon RohirrimBowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
  	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ROHAN_ROHIRRIM_BOW_DAMAGE
		DamageScalar  = 50% ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
		DamageScalar  = 55% ANY +GoblinCaveTroll ;;-;; 60	;=;;
		DamageScalar  = 55% ANY +CaveTroll_Slaved ;;-;; 60	;=;;
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	    DelayTime     = 0
	    DamageType    = CAVALRY_RANGED ; ; PIERCE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = EXPLODED
	End
End

;----------------------------
Weapon RohirrimBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_ROHIRRIM_BOW_FIRE_DAMAGE
 		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame_Mounted;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY -CAVALRY;;.;; 
		DamageScalar  = 50% ANY +CAVALRY ;;.;; 25%
		DamageScalar  = 37.5% ANY +INFANTRY -PIKE ;;.;; 25%
		;;.;;
	End
;;-;;
	DamageNugget
		Damage        = ROHAN_ROHIRRIM_BOW_UPGRADE_DAMAGE ;;.;;
		DamageScalar  = 43.5% ANY +PIKE ;;.;;  ;;.;;NewFireArrowDesign_Pierce_Mounted;;.;;
		DamageScalar  = 50% ALL -PIKE -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
		DamageScalar  = 55% ANY +GoblinCaveTroll ;;-;; 60	;=;;
		DamageScalar  = 55% ANY +CaveTroll_Slaved ;;-;; 60	;=;;
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = CAVALRY_RANGED ; ; PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( ROHAN_ROHIRRIM_BOW_DAMAGE .15 )
	;;.;;		DamageScalar  = 50% ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
	;;.;;		DamageScalar  = 55% ANY +GoblinCaveTroll ;;-;; 60	;=;;
	;;.;;		DamageScalar  = 55% ANY +CaveTroll_Slaved ;;-;; 60	;=;;
 	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = CAVALRY_RANGED
	;;.;;		DamageFXType    = GOOD_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -PIKE ;;-;;
	;;.;;	End
End


;------------------------------------------------------------------------------
Weapon ElvenRivendellLancerLance       ; BALANCE
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots     = ELVEN_RIVENDELLLANCER_DELAYBETWEENSHOTS           ; time between shots, msec
  PreAttackDelay        = ELVEN_RIVENDELLLANCER_PREATTACKDELAY				; 400 is sword swing delay time before contact with target.
  FiringDuration        = ELVEN_RIVENDELLLANCER_FIRINGDURATION				; Duration of the sword swing
  PreAttackType         = PER_SHOT											; Do the delay each time we attack a new target

	DamageNugget
		Damage			= ELVEN_RIVENDELLLANCER_LANCE_DAMAGE
		DamageScalar	= 120% ANY +ORC ;;-;;
		DamageScalar	= 120% ANY +MordorCorsairsOfUmbar ;;-;;
		DamageScalar	= 120% ANY +GoblinFighter ;;-;;
		DamageScalar	= 115% ANY +DwarvenAxeThrower ;;.;; 
		DamageScalar	= 100% ANY +WildMineShaft ;;.;; 94.5% ;;.;; 105% ;;-;; 115%  ;;=goblinelf=;;
		DamageScalar	= 112% ANY +MordorSlaughterHouse ;;.;; 100% ;;.;; 112% ;;-;; 125% ;;=;;
		DamageScalar	= 120% ANY +DwarvenMineShaft ;;.;; 115% ;;.;; 110% ;;-ElfDwarf-;;
		DamageScalar	= 112% ANY +GondorFarm ;;.;;
		DamageScalar	= 110% ANY +DwarvenBattleWagon ;;.;; 
		;;.;; DamageScalar	= 90% ANY +STRUCTURE -WildMineShaft -DwarvenMineShaft -GondorFarm -MordorSlaughterHouse ;;-;; 
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= CAVALRY
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		ForbiddenUpgradeNames    = Upgrade_ElvenForgedBlades
	End

  //CavalryForgedBlade09v2//
	DamageNugget
		Damage			= ELVEN_RIVENDELLLANCER_LANCE_DAMAGE_UPGRADE
		DamageScalar	= 120% ANY +ORC ;;-;;
		DamageScalar	= 120% ANY +MordorCorsairsOfUmbar ;;-;;
		DamageScalar	= 120% ANY +GoblinFighter ;;-;;
		DamageScalar	= 115% ANY +DwarvenAxeThrower ;;.;; 
    	DamageScalar  	= 175% ANY +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER ;;-;; 150% ;;=;; 200% ; ; 
    	DamageScalar  	= 150% ANY +COMMANDCENTER ;;.;;
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= CAVALRY
		DamageFXType		= SWORD_SLASH
		DeathType		= NORMAL
		RequiredUpgradeNames    = Upgrade_ElvenForgedBlades
	End

End

;------------------------------------------------------------------------------
;;.;; 09v3BalancingBannerCarriers
Weapon ElvenRivendellLancerBannerLance09v3
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots     = ELVEN_RIVENDELLLANCER_DELAYBETWEENSHOTS           ; time between shots, msec
  PreAttackDelay        = ELVEN_RIVENDELLLANCER_PREATTACKDELAY				; 400 is sword swing delay time before contact with target.
  FiringDuration        = ELVEN_RIVENDELLLANCER_FIRINGDURATION				; Duration of the sword swing
  PreAttackType         = PER_SHOT											; Do the delay each time we attack a new target

	DamageNugget
		Damage			= ELVEN_RIVENDELLLANCER_LANCE_DAMAGE
		DamageScalar	= 120% ANY +ORC +MordorCorsairsOfUmbar +GoblinFighter ;;-;;
		DamageScalar	= 94.5% ANY +WildMineShaft ;;.;; 105% ;;-;; 115%  ;;=goblinelf=;;
		;;.;; DamageScalar	= 112% ANY +MordorSlaughterHouse ;;-;; 125% ;;=;;
		DamageScalar	= 115% ANY +DwarvenAxeThrower ;;.;; 
		DamageScalar	= 90% ANY +STRUCTURE -WildMineShaft -DwarvenMineShaft -GondorFarm ;;-;; 
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= CAVALRY
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
	End

End

;------------------------------------------------------------------------------
Weapon MithlondSentryPike     ; BALANCE
  LeechRangeWeapon      = Yes
  AttackRange           = 30
  MeleeWeapon           = Yes	; Sorry, stand off doesn't work.  This is just a melee weapon.
  DelayBetweenShots     = ELVEN_MITHLONDSENTRY_PIKE_DELAYBETWEENSHOTS				; time between shots, msec
  PreAttackDelay        = ELVEN_MITHLONDSENTRY_PIKE_PREATTACKDELAY				
  PreAttackType         = PER_SHOT			; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = ELVEN_MITHLONDSENTRY_PIKE_FIRINGDURATION				
  
	DamageNugget								; A basic Nugget that just does damage
		Damage        = ELVEN_MITHLONDSENTRY_PIKE_DAMAGE
		DamageScalar  = 75% ANY +STRUCTURE -DwarvenMineShaft ;;.;; 65% ;;=;; 50% NONE ;
		DamageScalar  = 90% ANY +DwarvenMineShaft ;;.;; 80% ;;-;;
;;;=;;	DamageScalar  = 115% ANY +GoblinSpiderRider ;;=;; 150  
        DamageScalar  = 85% ANY +MordorMountainTroll ;;-;;
		DamageScalar  = 125% ANY +EvilMenBlackRider +MordorMouthOfSauron ;;-;;
		DamageType    = SPECIALIST
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		;LostLeadershipUselessAgainst = CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		ForbiddenUpgradeNames    = Upgrade_ElvenForgedBlades
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End

	DamageNugget								; A basic Nugget that just does damage
		Damage        = ELVEN_MITHLONDSENTRY_PIKE_DAMAGE_UPGRADE
		DamageScalar  = 200% ANY +INFANTRY -HERO ; ;
		DamageScalar  = 75% ANY +HERO -EvilMenBlackRider -MordorMouthOfSauron ; ;
		DamageScalar  = 93.75% ANY +EvilMenBlackRider +MordorMouthOfSauron ;;-;;
		DamageScalar  = 85% ANY +MordorMountainTroll ;;-;;
		DamageType    = SPECIALIST
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		;LostLeadershipUselessAgainst = CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		RequiredUpgradeNames    = Upgrade_ElvenForgedBlades
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS

	End
End

;------------------------------------------------------------------------------
Weapon ZephyrStrikeWeapon     ; BALANCE
	IdleAfterFiringDelay = 0
	AttackRange = ZEPHYR_STRIKE_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlast
	FireFX                = FX_GandalfBlast
	FiringDuration      = 1400
  
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= ZEPHYR_STRIKE_DAMAGE
		Radius			= ZEPHYR_STRIKE_RADIUS
		DamageType		= FORCE
		DamageFXType	= SWORD_SLASH
		DeathType		= EXPLODED
		DamageSpeed		= ZEPHYR_STRIKE_SHOCKWAVE_SPEED ; must match the ShockWaveSpeed below
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = ZEPHYR_STRIKE_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = ZEPHYR_STRIKE_SHOCKWAVE_RADIUS
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = ZEPHYR_STRIKE_SHOCKWAVE_SPEED
	End
End




;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Gondor
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

//------------------------------------------------------------------------------
//Fake weapon so that the expansion will pick targets that the slaved catapult can attack
Weapon GondorTrebuchetExpansionWeapon		
	AttackRange					= GONDOR_TREBUCHET_RANGE
	MinimumAttackRange			= GONDOR_TREBUCHET_WALL_MINRANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= GONDOR_TREBUCHET_DELAYBETWEENSHOTS  
	PreAttackDelay				= GONDOR_TREBUCHET_PREATTACKDELAY
	FiringDuration      		= GONDOR_TREBUCHET_FIRINGDURATION
	AcceptableAimDelta			= GONDOR_TREBUCHET_EXPANSION_AIM_DELTA  
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End

//------------------------------------------------------------------------------
//Fake weapon so that the expansion will pick targets that the slaved catapult can attack
Weapon GondorTrebuchetSideExpansionWeapon
	AttackRange					= GONDOR_TREBUCHET_RANGE
     MinimumAttackRange			= GONDOR_TREBUCHET_WALL_MINRANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= GONDOR_TREBUCHET_DELAYBETWEENSHOTS  
	PreAttackDelay				= GONDOR_TREBUCHET_PREATTACKDELAY
	FiringDuration      		= GONDOR_TREBUCHET_FIRINGDURATION
	AcceptableAimDelta			= GONDOR_TREBUCHET_EXPANSION_SIDE_AIM_DELTA  
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End


;------------------------------------------------------------------------------
Weapon GondorTrebuchetRock	//BALANCE ActiveArtilleryWeapon//
; For the demo, we are giving trebs 100% accurate tracking rocks.  This'll be balanced out eventually
  ScatterRadiusVsInfantry     = 0.0 ; ;40.0     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
  AttackRange = GONDOR_TREBUCHET_RANGE
  MinimumAttackRange = GONDOR_TREBUCHET_MINRANGE
  
  	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( GONDOR_TREBUCHET_RANGE .01 )
	
	
  WeaponSpeed = 321         ; dist/sec 
  MinWeaponSpeed = 321
  FireFX = FX_TrebuchetWeapon
  HitPercentage             = 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
  ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  ; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 62 Y: 21
  ScatterTarget           = X: 29 Y:-46
  ScatterTarget           = X:-36 Y: 52
  ScatterTarget           = X: 27 Y: 23
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 38 Y: 27
  ScatterTarget           = X:-32 Y:-29
  ScatterTarget           = X:-23 Y: 23
  ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
  DelayBetweenShots 		= GONDOR_TREBUCHET_DELAYBETWEENSHOTS               ; time between shots, msec
  PreAttackDelay      		= GONDOR_TREBUCHET_PREATTACKDELAY
  PreAttackType       		= PER_SHOT
  FiringDuration      		= GONDOR_TREBUCHET_FIRINGDURATION
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = GONDOR_TREBUCHET_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
  NoVictimNeeded			= Yes ; Need no target
  LeechRangeWeapon      = Yes

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = GondorTrebuchetRockWarhead
	WeaponLaunchBoneSlotOverride = PRIMARY ; ;
  End
  
  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = GondorTrebuchetRockWarhead
    RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
  End
  
  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = GondorTrebuchetRockWarhead
    RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
  End
  
  ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
  End
  
End

; ;------------------------------------------------------------------------------
Weapon GondorTrebuchetAntiShipRock	//BALANCE BT2DCAntiShipsWeapon//
  ScatterRadiusVsInfantry     = 0.0 ; ;40.0     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
  AttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE
  MinimumAttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
  
  RangeBonusMinHeight	= 10
  RangeBonus		= 1
  RangeBonusPerFoot	= 2
	
  WeaponSpeed = 321         ; dist/sec 
  MinWeaponSpeed = 321
  FireFX = FX_TrebuchetWeapon
  HitPercentage             = 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
  ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  ; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 83 Y: 74
  ScatterTarget           = X: 60 Y:-92
  ScatterTarget           = X:-25 Y: 36
  ScatterTarget           = X: 19 Y: 16
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 26 Y: 19
  ScatterTarget           = X:-102 Y:-80
  ScatterTarget           = X:-16 Y: 16
  ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
  DelayBetweenShots 		= 12000 ; ;GONDOR_TREBUCHET_DELAYBETWEENSHOTS ; time between shots, msec
  PreAttackDelay      		= GONDOR_TREBUCHET_PREATTACKDELAY
  PreAttackType       		= PER_SHOT
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = 12000 ; ; GONDOR_TREBUCHET_DELAYBETWEENSHOTS ; how long to reload a Clip, msec

  FiringDuration      		= GONDOR_TREBUCHET_FIRINGDURATION
  NoVictimNeeded			= Yes ; Need no target
  LeechRangeWeapon      = Yes

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectileBombard ; ;
    WarheadTemplateName = GondorTrebuchetAntiShipRockWarhead
  End
  
  ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
  End
  
End

;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon GondorTrebuchetRockWarhead ;;=;; 
	;FireFX= FX_RockDetonation
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage         = GONDOR_TREBUCHET_DAMAGE   ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius         = GONDOR_TREBUCHET_RADIUS
		DelayTime      = 0
		DamageType     = SIEGE

		DamageFXType   = BIG_ROCK
		DeathType      = EXPLODED
		DamageScalar   = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
		DamageScalar   = 0% ANY +SHIP ; ;
	End
	
	 DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = GONDOR_TREBUCHET_DAMAGE   ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_TREBUCHET
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
		;DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
End

; ;----------------------------
Weapon GondorTrebuchetAntiShipRockWarhead ;;=;; //BALANCE BT2DCAntiShipsWarhead//
	;FireFX= FX_RockDetonation
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage         = GONDOR_TREBUCHET_DAMAGE   ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
		Radius         = BT2DC_ARTILLERY_BOMBARD_RADIUS
		DelayTime      = 0
		DamageType     = SIEGE
		DamageFXType   = BIG_ROCK
		DeathType      = EXPLODED
		DamageScalar   = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	;;.;;	 DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( GONDOR_TREBUCHET_DAMAGE 0.5 ) ;;-;;
	;;.;;		DamageTaperOff =  ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	;;.;;	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
End

;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Upgraded//
Weapon GondorTrebuchetRockWarheadFlaming ;;=;;
	;FireFX= FX_Weapon
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE_FLAME   
		Radius = GONDOR_TREBUCHET_RADIUS_UPGRADED
		DelayTime     = 0
		DamageType    = FLAME			; Just a little flame damage in case they want to light on fire.  Main damage must be siege to knock bits out of buildings
		DamageFXType  = FLAME
		DeathType     = BURNED
;;-;;
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
		AcceptDamageAdd = No
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE   	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius = GONDOR_TREBUCHET_RADIUS_UPGRADED
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		;DamageScalar  = 200% ANY +MordorMumakil
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_TREBUCHET
		DelayTime     = 0
		DamageType    = SIEGE

		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	GONDOR_TREBUCHET_FIRE_RADIUS  
		Damage		=	GONDOR_TREBUCHET_FIRE_DAMAGE  
	End

	;;;;;;; Self perpetuating fire is BAD;;;;;;;;;;;;;;;;;;;;;;;;;;
	;FireLogicNugget ;@@@ fire logic testing
	;	LogicType		=	INCREASE_FUEL
	;	Radius			=	GONDOR_TREBUCHET_FUEL_RADIUS
	;	Damage			=	GONDOR_TREBUCHET_FUEL_DAMAGE
	;	MinMaxBurnRate	=	GONDOR_TREBUCHET_FUEL_MAX_BURNRATE
	;	MinDecay		=	GONDOR_TREBUCHET_FUEL_MIN_DECAY
	;	MaxResistance	=	GONDOR_TREBUCHET_FUEL_MAX_RESISTANCE
	;End
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	
End


;----------------------------
Weapon GondorTrebuchetAntiShipRockWarheadFlaming ;;=;;  //BALANCE BT2DCAntiShipsWarhead.Upgraded//
	RadiusDamageAffects = ENEMIES ALLIES
	HitPassengerPercentage = 50%

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE_FLAME   
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
		Radius			= BT2DC_ARTILLERY_BOMBARD_RADIUS
		DelayTime     = 0
		DamageType    = FLAME			; Just a little flame damage in case they want to light on fire.  Main damage must be siege to knock bits out of buildings
		DamageFXType  = FLAME
		DeathType     = BURNED
;;-;;
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
		AcceptDamageAdd = No
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
		Radius = 40 ;;-;; 20
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	;;.;;	DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        =  #MULTIPLY( GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE 0.5 ) ;;-;;
	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;	End

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	GONDOR_TREBUCHET_FIRE_RADIUS  
		Damage		=	GONDOR_TREBUCHET_FIRE_DAMAGE  
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force 
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
	
End

;------------------------------------------------------------------------------
Weapon GondorTrebuchetRockFlaming	//BALANCE ActiveArtilleryWeapon.Upgraded//
	;For the demo, we are giving trebs 100% accurate tracking rocks.  This'll be balanced out eventually
	;ScatterRadiusVsInfantry	= 30.0     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
	AttackRange					= GONDOR_TREBUCHET_FLAME_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( GONDOR_TREBUCHET_FLAME_RANGE .01 )
	
	MinimumAttackRange			= 150.0
	WeaponSpeed					= 321         ; dist/sec 
	MinWeaponSpeed				= 321
	FireFX						= FX_TrebuchetWeapon
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.

     ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
	ScatterTarget           = X: 43 Y: 14
	ScatterTarget           = X: 20 Y:-32
	ScatterTarget           = X:-25 Y: 36
	ScatterTarget           = X: 19 Y: 16
	ScatterTarget           = X: 0.000 Y: 0.000 
	ScatterTarget           = X: 26 Y: 19
	ScatterTarget           = X:-22 Y:-20
	ScatterTarget           = X:-16 Y: 16
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	DelayBetweenShots			= GONDOR_TREBUCHET_DELAYBETWEENSHOTS ; time between shots, msec
	PreAttackDelay				= GONDOR_TREBUCHET_PREATTACKDELAY 		
	PreAttackType				= PER_SHOT
	FiringDuration				= GONDOR_TREBUCHET_FIRINGDURATION 		
	ClipSize 				= 8 ; ;

	AutoReloadsClip 		= Yes
	ClipReloadTime          = GONDOR_TREBUCHET_DELAYBETWEENSHOTS ; how long to reload a Clip, msec
	NoVictimNeeded				= Yes ; Need no target
	LeechRangeWeapon			= Yes
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlaming
		WarheadTemplateName = GondorTrebuchetRockWarheadFlaming
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlaming
		WarheadTemplateName = GondorTrebuchetRockWarheadFlaming
		RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
	End
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlaming
		WarheadTemplateName = GondorTrebuchetRockWarheadFlaming
		RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
  
End

;------------------------------------------------------------------------------
Weapon GondorTrebuchetAntiShipRockFlaming	//BALANCE BT2DCAntiShipsWeapon.Upgraded//
	;For the demo, we are giving trebs 100% accurate tracking rocks.  This'll be balanced out eventually
	;ScatterRadiusVsInfantry	= 30.0     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
	AttackRange					= BT2DC_ARTILLERY_BOMBARD_RANGE
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 

	MinimumAttackRange			= BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
	WeaponSpeed					= 321         ; dist/sec 
	MinWeaponSpeed				= 321
	FireFX						= FX_TrebuchetWeapon
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
     ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
	ScatterTargetScalar = 1.0; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 83 Y: 74
  ScatterTarget           = X: 60 Y:-92
  ScatterTarget           = X:-25 Y: 36
  ScatterTarget           = X: 19 Y: 16
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 26 Y: 19
  ScatterTarget           = X:-102 Y:-80
  ScatterTarget           = X:-16 Y: 16
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	DelayBetweenShots			= 12000 ; ; GONDOR_TREBUCHET_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay				= GONDOR_TREBUCHET_PREATTACKDELAY 		
	PreAttackType				= PER_SHOT
	FiringDuration				= GONDOR_TREBUCHET_FIRINGDURATION 		
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = 12000 ; ; GONDOR_TREBUCHET_DELAYBETWEENSHOTS ; how long to reload a Clip, msec
	NoVictimNeeded				= Yes ; Need no target
	LeechRangeWeapon			= Yes
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlamingBombard ; ;
		WarheadTemplateName = GondorTrebuchetAntiShipRockWarheadFlaming
	End
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlamingBombard ; ;
		WarheadTemplateName = GondorTrebuchetAntiShipRockWarheadFlaming
		RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
	End
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlamingBombard ; ;
		WarheadTemplateName = GondorTrebuchetAntiShipRockWarheadFlaming
		RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
  
End


;----------------------- STRUCTURAL TREBUCHET WEAPONS -------------------------
;------------Need to balance defensive vs offensive trebs hence----------------
;------------------------------------------------------------------------------
//BALANCE ActiveArtilleryWeaponStructural//
Weapon GondorTrebuchetRock_Structural  ; BALANCE Trebuchet Weapon - Defensive
; For the demo, we are giving trebs 100% accurate tracking rocks.  This'll be balanced out eventually
; ;  ScatterRadiusVsInfantry     = 40.0     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
  AttackRange = GONDOR_TREBUCHET_RANGE
  MinimumAttackRange = GONDOR_TREBUCHET_MINRANGE ;;.;;
  
  	;RangeBonusMinHeight	= 10
	;RangeBonus		= 1
	;RangeBonusPerFoot	= #MULTIPLY( GONDOR_TREBUCHET_RANGE .01 )
	
	
  WeaponSpeed = 321         ; dist/sec 
  MinWeaponSpeed = 321
  FireFX = FX_TrebuchetWeapon
  HitPercentage             = 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
  ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  ; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 62 Y: 21
  ScatterTarget           = X: 29 Y:-46
  ScatterTarget           = X:-36 Y: 52
  ScatterTarget           = X: 27 Y: 23
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 38 Y: 27
  ScatterTarget           = X:-32 Y:-29
  ScatterTarget           = X:-23 Y: 23
  ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
  DelayBetweenShots 		= GONDOR_TREBUCHET_DELAYBETWEENSHOTS               ; time between shots, msec
  PreAttackDelay      		= GONDOR_TREBUCHET_PREATTACKDELAY
  PreAttackType       		= PER_SHOT
  FiringDuration      		= GONDOR_TREBUCHET_FIRINGDURATION
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = GONDOR_TREBUCHET_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
  NoVictimNeeded			= Yes ; Need no target
  LeechRangeWeapon      = Yes

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = GondorTrebuchetRockWarhead_Structural
  End
  
  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = GondorTrebuchetRockWarhead_Structural
    RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
  End
  
  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = GondorTrebuchetRockWarhead_Structural
    RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
  End
  
  ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
  End
  
End

;--------------------------------------------------------------	
//BALANCE ActiveArtilleryWeaponWarhead.Structural//
Weapon GondorTrebuchetRockWarhead_Structural
	;FireFX= FX_RockDetonation
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius = GONDOR_TREBUCHET_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	 DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = GONDOR_TREBUCHET_DAMAGE   ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_TREBUCHET
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
		;DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
End

;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural.Upgraded//
Weapon GondorTrebuchetRockWarheadFlaming_Structural ;;=;; 
	;FireFX= FX_Weapon
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE  	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius	      = GONDOR_TREBUCHET_RADIUS_UPGRADED
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		;DamageScalar  = 200% ANY +MordorMumakil
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE ;;-;;
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_TREBUCHET
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_TREBUCHET_FIRE_UPGRADE_DAMAGE_FLAME  
		Radius = GONDOR_TREBUCHET_RADIUS_UPGRADED
		DelayTime     = 0
		DamageType    = FLAME			; Just a little flame damage in case they want to light on fire.  Main damage must be siege to knock bits out of buildings
		DamageFXType  = FLAME
		DeathType     = BURNED
;;-;;
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
		AcceptDamageAdd = No
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	GONDOR_TREBUCHET_FIRE_RADIUS 
 		Damage		=	GONDOR_TREBUCHET_FIRE_DAMAGE 
	End
	

	;;;;;;; Self perpetuating fire is BAD;;;;;;;;;;;;;;;;;;;;;;;;;;
	;FireLogicNugget ;@@@ fire logic testing
	;	LogicType		=	INCREASE_FUEL
	;	Radius			=	GONDOR_TREBUCHET_FUEL_RADIUS
	;	Damage			=	GONDOR_TREBUCHET_FUEL_DAMAGE
	;	MinMaxBurnRate	=	GONDOR_TREBUCHET_FUEL_MAX_BURNRATE
	;	MinDecay		=	GONDOR_TREBUCHET_FUEL_MIN_DECAY
	;	MaxResistance	=	GONDOR_TREBUCHET_FUEL_MAX_RESISTANCE
	;End
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	
End
;------------------------------------------------------------------------------
//BALANCE ActiveArtilleryWeaponStructuralUpgraded//
Weapon GondorTrebuchetRockFlaming_Structural  ; BALANCE Trebuchet Weapon - Defensive
	;For the demo, we are giving trebs 100% accurate tracking rocks.  This'll be balanced out eventually
	;ScatterRadiusVsInfantry	= 30.0     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
	AttackRange					= GONDOR_TREBUCHET_FLAME_RANGE ;;-;;
	
	;RangeBonusMinHeight	= 10
	;RangeBonus		= 1
	;RangeBonusPerFoot	= #MULTIPLY( GONDOR_TREBUCHET_FLAME_RANGE .01 )
	
	MinimumAttackRange			= GONDOR_TREBUCHET_MINRANGE ;;.;;
	WeaponSpeed					= 321         ; dist/sec 
	MinWeaponSpeed				= 321
	FireFX						= FX_TrebuchetWeapon
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 27 Y: 23
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 38 Y: 27
  	ScatterTarget           = X:-32 Y:-29
  	ScatterTarget           = X:-23 Y: 23
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	DelayBetweenShots			= GONDOR_TREBUCHET_DELAYBETWEENSHOTS 		; time between shots, msec
	PreAttackDelay				= GONDOR_TREBUCHET_PREATTACKDELAY 		
	PreAttackType				= PER_SHOT
	FiringDuration				= GONDOR_TREBUCHET_FIRINGDURATION 		
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = GONDOR_TREBUCHET_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
	NoVictimNeeded				= Yes ; Need no target
	LeechRangeWeapon			= Yes
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlaming
		WarheadTemplateName = GondorTrebuchetRockWarheadFlaming_Structural
	End
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlaming
		WarheadTemplateName = GondorTrebuchetRockWarheadFlaming_Structural
		RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
	End
  
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = GondorTrebuchetRockProjectileFlaming
		WarheadTemplateName = GondorTrebuchetRockWarheadFlaming_Structural
		RequiredUpgradeNames = Upgrade_TrebuchetTripleAmmo
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
  
End

;------------------------------------------------------------------------------
Weapon GondorStructureBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
  End
End


;------------------------------------------------------------------------------
Weapon RohanStructureBow       ; BALANCE Mini-Tower Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
  End
End



;------------------------------------------------------------------------------
Weapon GoodStructureBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent



  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
  End
End

;------------------------------------------------------------------------------
Weapon ElvenFortressArrowTowerBow       ; BALANCE Archer Weapon
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX

  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.


  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = FortressArrowTowerBowWarhead
    ForbiddenUpgradeNames   = Upgrade_GoodFortressFlamingMunitions
  End

  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = MirkwoodArcherSilverthornProjectile
    WarheadTemplateName     = ElvenFortressArrowTowerBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_GoodFortressFlamingMunitions
  End
End

;------------------------------------------------------------------------------

Weapon ElvenBattleTowerBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
    ForbiddenUpgradeNames   = Upgrade_ElvenSilverthornArrowsTower
  End

  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = MirkwoodArcherSilverthornProjectile
    WarheadTemplateName     = SilverthornBowWarheadStructural
    RequiredUpgradeNames	= Upgrade_ElvenSilverthornArrowsTower
  End
End
;------------------------------------------------------------------------------
Weapon EvilStructureBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%

  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
  End

End

;------------------------------------------------------------------------------
Weapon HaradrimPalaceBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = EvilFactionArrow
    WarheadTemplateName     = StructureBowWarhead ;;=;; FortressArrowTowerBowWarhead
    RequiredUpgradeNames	= Upgrade_MordorHaradrimPalaceLevel3
  End
  ;ProjectileNugget          ; Default arrow
    ;ProjectileTemplateName  = EvilFactionFireArrow
    ;WarheadTemplateName     = StructureBowWarheadFire ;;=;; FortressArrowTowerBowUpgradedWarhead
    ;RequiredUpgradeNames	= Upgrade_MordorHaradrimPalaceLevel3
  ;End

End

;------------------------------------------------------------------------------
Weapon TreasureTroveBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = EvilFactionArrow
    WarheadTemplateName     = StructureBowWarhead ;;=;; FortressArrowTowerBowWarhead
    ForbiddenUpgradeNames	= Upgrade_WildTreasureTroveLevel3
  End
  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = EvilFactionFireArrow
    WarheadTemplateName     = StructureBowWarheadFire ;;=;; FortressArrowTowerBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_WildTreasureTroveLevel3
  End

End

;------------------------------------------------------------------------------
Weapon SentryTowerBow
	AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
	WeaponSpeed               = 321													; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481													; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes													; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100													;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0												;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY			; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT											; Do the delay each time we attack a new target
	FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX	; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget													; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = StructureBowWarhead
		ForbiddenUpgradeNames   = Upgrade_SentryTowerFireArrows
	End

	ProjectileNugget													; Upgraded arrow
		ProjectileTemplateName  = GoodFactionFireArrow
		WarheadTemplateName     = StructureBowWarheadFire
		RequiredUpgradeNames	= Upgrade_SentryTowerFireArrows
	End

End

;----------------------------
Weapon StructureBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = STRUCTURE_BOW_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
    DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
  End
End

;----------------------------
Weapon StructureBowWarheadFire
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = STRUCTURE_BOW_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
    DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
  End

  
  DamageNugget                        
 	Damage        = STRUCTURE_BOW_DAMAGE
	Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	DelayTime     = 0
	DamageType    = FLAME
	DamageFXType  = FLAME
	DeathType     = BURNED
  End
End


;------------------------------------------------------------------------------
Weapon KeepBow       ; BALANCE Archer Weapon
	AttackRange               = KEEP_ARCHER_RANGE
	WeaponSpeed               = 321       ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = KeepBowWarhead
		ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
	End

	ProjectileNugget          ; Upgraded arrow
		ProjectileTemplateName  = UpgradedGoodFactionArrow
		WarheadTemplateName     = KeepBowUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_BattleTowersToUseFireArrows
	End

End

;----------------------------
Weapon KeepBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = KEEP_BOW_DAMAGE
    DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon FortressArrowTowerBow       ; BALANCE Archer Weapon
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX

  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.


  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = FortressArrowTowerBowWarhead
    ForbiddenUpgradeNames   = Upgrade_GoodFortressFlamingMunitions
  End

  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_GoodFortressFlamingMunitions
  End
End

;------------------------------------------------------------------------------
Weapon FortressStructureAxeWeapon		// BALANCE Axe Weapon
	AttackRange               	= KEEP_ARCHER_RANGE
	WeaponSpeed               	= 150 ;;-;; 50      // dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    	= FX_DwarfAxeThrowerWeapon
	ScaleWeaponSpeed          	= Yes		// Used for lob weapons, scales speed proportional to range
	HitPercentage             	= 100		//When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             	= 16.0	//When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         	= Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            	= KEEP_BOW_PREATTACKDELAY			// 1467 is the prep time for archer.
	PreAttackType             	= PER_SHOT						//Do the delay each time we attack a new target
	FiringDuration            	= KEEP_BOW_DELAYBETWEENSHOTS_MAX  // Duration of the archer firing shot is 500ms.
	IsAimingWeapon            	= Yes
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	AcceptableAimDelta			= 180.0		// We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes						// Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget													// Default axe
		ProjectileTemplateName  = StructureDwarvenAxe
		WarheadTemplateName     = FortressAxeThrownWarhead ;;=;; StructureDwarvenAxeThrowWarhead
		ForbiddenUpgradeNames   = Upgrade_GoodFortressFlamingMunitions  

	End

	ProjectileNugget													// Upgraded axe
		ProjectileTemplateName  = StructureUpgradedDwarvenAxe
		WarheadTemplateName     = FortressAxeThrownUpgradedWarhead ;;=;; StructureDwarvenAxeThrowForgedBladeUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_GoodFortressFlamingMunitions 

	End
End

;------------------------------------------------------------------------------
Weapon StructureAxeWeapon       ; BALANCE Axe Weapon
	AttackRange               = KEEP_ARCHER_RANGE
	WeaponSpeed               = 150 ;;-;; 50       ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_DwarfAxeThrowerWeapon
	ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget													; Default axe
		ProjectileTemplateName  = StructureDwarvenAxe
		WarheadTemplateName     = StructureDwarvenAxeThrowWarhead
		ForbiddenUpgradeNames   = Upgrade_DwarvenTowerForgedBlades 
	End

	ProjectileNugget													; Upgraded axe
		ProjectileTemplateName  = StructureUpgradedDwarvenAxe
		WarheadTemplateName     = StructureDwarvenAxeThrowForgedBladeUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_DwarvenTowerForgedBlades 
	End
End

; ;------------------------------------------------------------------------------
Weapon SentryTowerAxeWeapon       ; BALANCE Axe Weapon
	AttackRange               = #MULTIPLY( KEEP_ARCHER_RANGE 1.12 ); ;
	WeaponSpeed               = 150 ;;-;; 50       ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_DwarfAxeThrowerWeapon
	ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget													; Default axe
		ProjectileTemplateName  = StructureDwarvenAxe
		WarheadTemplateName     = StructureDwarvenAxeThrowWarhead
		ForbiddenUpgradeNames   = Upgrade_DwarvenTowerForgedBlades 
	End

	ProjectileNugget													; Upgraded axe
		ProjectileTemplateName  = StructureUpgradedDwarvenAxe
		WarheadTemplateName     = StructureDwarvenAxeThrowForgedBladeUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_DwarvenTowerForgedBlades 
	End
End


;----------------------------
Weapon FortressArrowTowerBowWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget			= Yes		; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = KEEP_BOW_DAMAGE
		DamageScalar  = 135% ANY +CAVALRY ;;=;; 150% ; ;
		DamageScalar  = 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  = 200% ANY +CaveTroll_Slaved ;;=;; 100%
		;DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End
;----------------------------
Weapon FortressAxeThrownWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes
  	DamageNugget
	    Damage        			= KEEP_BOW_DAMAGE
		DamageScalar			= 135% ANY +CAVALRY ;;=;; 150% ; ;
		DamageScalar  			= 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  			= 200% ANY +CaveTroll_Slaved ;;=;; 100%
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= STRUCTURAL					; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	End
End

//----------------------------
Weapon FortressArrowTowerBowUpgradedWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes				// Always hits initial target.
	DamageNugget                        
		Damage        = KEEP_BOW_UPGRADED_DAMAGE
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = KEEP_BOW_DAMAGE
		DamageScalar  = 135% ANY +CAVALRY ;;=;; 150% ; ;
		DamageScalar  = 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  = 200% ANY +CaveTroll_Slaved ;;=;; 100%
		;DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
		Radius        = 0.0			// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = STRUCTURAL	// Moving all structure-based weapons over to Structural Damage for balance reasons - GB
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End

//----------------------------
Weapon FortressAxeThrownUpgradedWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes
  	DamageNugget
	    Damage        			= KEEP_BOW_UPGRADED_DAMAGE
		DamageScalar  			= 35% ANY FIRE_IMMUNE_UNITS ;;.;;
		DamageScalar  			= 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  			= 200% ANY +CaveTroll_Slaved ;;=;; 100%
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= STRUCTURAL					; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	End

	DamageNugget
	    Damage        			= KEEP_BOW_DAMAGE
		DamageScalar			= 135% ANY +CAVALRY ;;=;; 150% ; ;
		DamageScalar  			= 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  			= 200% ANY +CaveTroll_Slaved ;;=;; 100%
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= STRUCTURAL					; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	    
	End
End

;------------------------------------------------------------------------------

Weapon ElvenFortressArrowTowerBowUpgradedWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes				// Always hits initial target.
	DamageNugget                        
		Damage        = KEEP_BOW_UPGRADED_DAMAGE
		DamageScalar  = 35% ANY FIRE_IMMUNE_UNITS ;;.;;
		DamageScalar  = 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  = 200% ANY +CaveTroll_Slaved ;;=;; 100%
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = STRUCTURAL
		DamageFXType  = MAGIC
		DeathType     = EXPLODED
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = KEEP_BOW_DAMAGE
		DamageScalar  = 135% ANY +CAVALRY  ;;=;; 100%
		DamageScalar  = 200% ANY +GoblinCaveTroll ;;=;; 100%
		DamageScalar  = 200% ANY +CaveTroll_Slaved ;;=;; 100%
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = STRUCTURAL
		DamageFXType  = MAGIC
		DeathType     = EXPLODED
	End
	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 10.0
		ShockWaveArc      = 90 ; in degrees to each side 180 is full circle
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed    = 0.0
		ShockWaveZMult    = 1.0
		OnlyWhenJustDied = Yes
	End
End

;------------------------------------------------------------------------------
Weapon EvilFortressArrowTowerBow       ;// BALANCE Arrow Tower bow
	AttackRange               	= KEEP_ARCHER_RANGE
	WeaponSpeed               	= 321		;// dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		;// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    	= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          	= Yes		;// Used for lob weapons, scales speed proportional to range
	HitPercentage             	= 100		;// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             	= 16.0		;// When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         	= Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            	= KEEP_BOW_PREATTACKDELAY   ;// 1467 is the prep time for archer.
	PreAttackType             	= PER_SHOT	;// Do the delay each time we attack a new target
	FiringDuration            	= KEEP_BOW_DELAYBETWEENSHOTS_MAX    ;// Duration of the archer firing shot is 500ms.
	IsAimingWeapon            	= Yes
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	AcceptableAimDelta			= 180.0	;// We want to be able to shoot all round, as we canit move.

	CanBeDodged					= Yes			;// Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ;// Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = FortressArrowTowerBowWarhead
		ForbiddenUpgradeNames   = Upgrade_EvilFortressFlamingMunitions
	End

	ProjectileNugget          ;// Upgraded arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_EvilFortressFlamingMunitions
	End
End

; ;------------------------------------------------------------------------------
Weapon MordorFortressArrowTowerBow       ;// BALANCE Arrow Tower bow
	AttackRange               	= KEEP_ARCHER_RANGE
	WeaponSpeed               	= 321		;// dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		;// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    	= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          	= Yes		;// Used for lob weapons, scales speed proportional to range
	HitPercentage             	= 100		;// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             	= 16.0		;// When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         	= Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            	= KEEP_BOW_PREATTACKDELAY   ;// 1467 is the prep time for archer.
	PreAttackType             	= PER_SHOT	;// Do the delay each time we attack a new target
	FiringDuration            	= KEEP_BOW_DELAYBETWEENSHOTS_MAX    ;// Duration of the archer firing shot is 500ms.
	IsAimingWeapon            	= Yes
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	AcceptableAimDelta			= 180.0	;// We want to be able to shoot all round, as we canit move.

	CanBeDodged					= Yes			;// Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ;// Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = FortressArrowTowerBowWarhead
		ForbiddenUpgradeNames   = Upgrade_MordorFortressFireArrowsTrigger ; ;
	End

	ProjectileNugget          ;// Upgraded arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_MordorFortressFireArrowsTrigger ; ;
	End
End

;------------------------------------------------------------------------------
Weapon CastleWallUpgradeBow      ; BALANCE Archer Weapon
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = No
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarhead
    ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
  End

;	The fire arrow upgrades - one nugget per faction, because they have one each.

  ProjectileNugget          ; Fire arrow from gondor
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_GondorFireArrows
  End
  ProjectileNugget          ; Fire arrow from mordor
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_MordorFireArrows
  End
  ProjectileNugget          ; Fire arrow from isengard
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_IsengardFireArrows
  End
  ProjectileNugget          ; Fire arrow from rohan
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_RohanFireArrows
  End
	
  ProjectileNugget          ; Fire arrow from corrupted wild
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_WildFireArrows
  End
  
  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = UpgradedGoodFactionArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadUpgrade
    RequiredUpgradeNames    = Upgrade_BattleTowersToUseFireArrows
  End

End

;----------------------------
Weapon CastleWallUpgradeBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WALL_TOWER_BOW_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon CastleWallUpgradeBowWarheadUpgrade
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WALL_TOWER_BOW_DAMAGE_UPGRADE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon CastleWallUpgradeBowWarheadFire
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        
		Damage        = GONDOR_ARCHER_FIRE_UPGRADE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WALL_TOWER_BOW_DAMAGE_UPGRADE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
;
;	Not needed at this point, as the KeepBow swaps warhead on the upgrade, rather than weaponsets.
;
Weapon KeepBowFireObsolete   ;;-;; ;;-NewPlaceHolders-;;
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.;

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = KeepBowFireWarhead
  End
End

;----------------------------
Weapon KeepBowUpgradedWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        
    Damage        = KEEP_BOW_UPGRADED_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon GondorArcherBow  

	AttackRange         = GONDOR_ARCHER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GONDOR_ARCHER_RANGE .01 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = GONDOR_ARCHER_BOW_PREATTACKDELAY   
	PreAttackRandomAmount     = 40 ; ;200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GONDOR_ARCHER_BOW_RELOADTIME_MIN Max:GONDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GONDOR_ARCHER_BOW_RELOADTIME_MAX  
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GondorArcherArrow
		WarheadTemplateName     = GondorArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_GondorFireArrows
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = GondorArcherFireArrow
		WarheadTemplateName     = GondorArcherBowFireWarhead
		RequiredUpgradeNames    = Upgrade_GondorFireArrows
	End
End

Weapon GondorArcherBowBombard
	AttackRange         = GONDOR_ARCHER_BOMBARD_MAXRANGE
	MinimumAttackRange	= #SUBTRACT( GONDOR_ARCHER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GONDOR_ARCHER_BOMBARD_MAXRANGE .01 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ; Always miss and get scattered
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = GONDOR_ARCHER_BOW_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GONDOR_ARCHER_BOW_RELOADTIME_MIN Max:GONDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GONDOR_ARCHER_BOW_RELOADTIME_MAX 
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GondorArcherArrowBombard
		WarheadTemplateName     = GondorArcherBowBombardWarhead
		ForbiddenUpgradeNames   = Upgrade_GondorFireArrows
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = GondorArcherFireArrowBombard
		WarheadTemplateName     = GondorArcherBowBombardFireWarhead
		RequiredUpgradeNames    = Upgrade_GondorFireArrows
	End
End

;----------------------------
Weapon GondorArcherBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_ARCHER_DAMAGE
	DamageScalar  = 115% ANY +DwarvenGuardian ;;=mendwarf=;;
	DamageScalar  = 107% ANY +DwarvenPhalanx ;;=mendwarf=;;
	DamageScalar  = 90% ANY +GondorFighter ;;=;;
	DamageScalar  = 125% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
	DamageScalar  = 111% ANY +GoblinCaveTroll ;;-;; 
	DamageScalar  = 111% ANY +CaveTroll_Slaved ;;-;; 
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon GondorArcherBowBombardWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_ARCHER_DAMAGE
	DamageScalar  = 115% ANY +DwarvenGuardian ;;=mendwarf=;;
	DamageScalar  = 107% ANY +DwarvenPhalanx ;;=mendwarf=;;
	DamageScalar  = 90% ANY +GondorFighter ;;=;;
	DamageScalar  = 125% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
	DamageScalar  = 111% ANY +GoblinCaveTroll ;;-;; 
	DamageScalar  = 111% ANY +CaveTroll_Slaved ;;-;; 
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


Weapon GondorArcherBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.

;;-;;

	DamageNugget                        
		Damage          = GONDOR_ARCHER_FIRE_UPGRADE_FLAME
		Radius          = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime       = 0
		DamageType      = FLAME
		DamageFXType    = GOOD_ARROW_PIERCE
		DeathType       = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage          = GONDOR_ARCHER_DAMAGE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
	DamageScalar  = 115% ANY +DwarvenGuardian ;;=mendwarf=;;
	DamageScalar  = 107% ANY +DwarvenPhalanx ;;=mendwarf=;;
	DamageScalar  = 90% ANY +GondorFighter ;;=;;
	DamageScalar  = 125% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
	DamageScalar  = 111% ANY +GoblinCaveTroll ;;-;; 
	DamageScalar  = 111% ANY +CaveTroll_Slaved ;;-;; 
		Radius          = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime       = 0
		DamageType      = PIERCE
		DamageFXType    = GOOD_ARROW_PIERCE
		DeathType       = NORMAL
	End
	
;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
;;.;;		Damage          = #MULTIPLY( GONDOR_ARCHER_DAMAGE .15 )
;;.;;	DamageScalar  = 115% ANY +DwarvenGuardian ;;=mendwarf=;;
;;.;;	DamageScalar  = 107% ANY +DwarvenPhalanx ;;=mendwarf=;;
;;.;;	DamageScalar  = 90% ANY +GondorFighter ;;=;;
;;.;;	DamageScalar  = 125% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
;;.;;	DamageScalar  = 111% ANY +GoblinCaveTroll ;;-;; 
;;.;;	DamageScalar  = 111% ANY +CaveTroll_Slaved ;;-;; 
;;.;;		Radius          = 0.0
;;.;;		DelayTime       = 0
;;.;;		DamageType      = PIERCE
;;.;;		DamageFXType    = GOOD_ARROW_PIERCE
;;.;;		DeathType       = NORMAL
;;.;;		AcceptDamageAdd = No
;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
;;.;;	End
End

Weapon GondorArcherBowBombardFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES

;;-;;
	DamageNugget                        
		Damage          = GONDOR_ARCHER_FIRE_UPGRADE_FLAME
		Radius          = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime       = 0
		DamageType      = FLAME
		DamageFXType    = GOOD_ARROW_PIERCE
		DeathType       = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage          = GONDOR_ARCHER_DAMAGE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
	DamageScalar  = 115% ANY +DwarvenGuardian ;;=mendwarf=;;
	DamageScalar  = 107% ANY +DwarvenPhalanx ;;=mendwarf=;;
	DamageScalar  = 90% ANY +GondorFighter ;;=;;
	DamageScalar  = 125% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
	DamageScalar  = 111% ANY +GoblinCaveTroll ;;-;; 
	DamageScalar  = 111% ANY +CaveTroll_Slaved ;;-;; 
	Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
		Radius          = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime       = 0
		DamageType      = PIERCE
		DamageFXType    = GOOD_ARROW_PIERCE
		DeathType       = NORMAL
	End
	
;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
;;.;;		Damage          = #MULTIPLY( GONDOR_ARCHER_DAMAGE .15 )
;;.;;	DamageScalar  = 115% ANY +DwarvenGuardian ;;=mendwarf=;;
;;.;;	DamageScalar  = 107% ANY +DwarvenPhalanx ;;=mendwarf=;;
;;.;;	DamageScalar  = 90% ANY +GondorFighter ;;=;;
;;.;;	DamageScalar  = 125% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
;;.;;	DamageScalar  = 111% ANY +GoblinCaveTroll ;;-;; 
;;.;;	DamageScalar  = 111% ANY +CaveTroll_Slaved ;;-;; 
;;.;;		Radius          = 0.0
;;.;;		DelayTime       = 0
;;.;;		DamageType      = PIERCE
;;.;;		DamageFXType    = GOOD_ARROW_PIERCE
;;.;;		DeathType       = NORMAL
;;.;;		AcceptDamageAdd = No
;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
;;.;;	End
	
	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End

;------------------------------------------------------------------------------
Weapon GondorRangerBow  
	AttackRange         = GONDOR_RANGER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GONDOR_RANGER_RANGE .01 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed 		= 321         ; dist/sec 
	MinWeaponSpeed 		= 241
	MaxWeaponSpeed 		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 				= FX_RohanArcherBowWeapon
	PlayFXWhenStealthed = Yes
	ScaleWeaponSpeed 	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage     	= 100     ;When this weapon is used it will hit exactly 80% of the time.
	ScatterRadius     	= 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots 	= 0
	PreAttackDelay      = GONDOR_RANGER_BOW_PREATTACKDELAY
	PreAttackType       = PER_SHOT ; ;PER_POSITION
	PreAttackRandomAmount     = 0 ; ;200 
	FiringDuration      = 0
	
	ClipSize 			= 1
	AutoReloadsClip 	= Yes
	AutoReloadWhenIdle 	= 1	
	ClipReloadTime 		= 1366 ;900 ; ;Min:GONDOR_RANGER_BOW_RELOADTIME_MIN Max:GONDOR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 2 ;3 ; ;
  	WeaponBonus = CONTINUOUS_FIRE_MEAN RATE_OF_FIRE 225% ; ;
	ContinuousFireCoast	= GONDOR_RANGER_BOW_RELOADTIME_MAX
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
  	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	ProjectileNugget                    ; Default arrow
		ProjectileTemplateName    = GoodFactionArrow
		WarheadTemplateName       = GondorRangerBowWarhead
		ForbiddenUpgradeNames     = Upgrade_GondorFireArrows
	End
	ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
		ProjectileTemplateName    = GoodFactionFireArrow
		WarheadTemplateName       = GondorRangerBowFireWarhead
		RequiredUpgradeNames      = Upgrade_GondorFireArrows
	End
End

Weapon GondorRangerBowBombard  
	AttackRange         = GONDOR_RANGER_BOMBARD_MAXRANGE
	MinimumAttackRange	= #SUBTRACT( GONDOR_RANGER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GONDOR_RANGER_BOMBARD_MAXRANGE .01 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed 		= 321         ; dist/sec 
	MinWeaponSpeed 		= 241
	MaxWeaponSpeed 		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 				= FX_RohanArcherBowWeapon
	PlayFXWhenStealthed = Yes
	ScaleWeaponSpeed 	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage     	= 0     ; Always scatter
	ScatterRadius     	= ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots 	= 0
	PreAttackDelay      = GONDOR_RANGER_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize 			= 1
	AutoReloadsClip 	= Yes
	AutoReloadWhenIdle 	= 1	
	ClipReloadTime 		= Min:GONDOR_RANGER_BOW_RELOADTIME_MIN Max:GONDOR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GONDOR_RANGER_BOW_RELOADTIME_MAX
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
  	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes
	
	ProjectileNugget                    ; Default arrow
		ProjectileTemplateName    = GoodFactionArrowBombard
		WarheadTemplateName       = GondorRangerBowBombardWarhead

		ForbiddenUpgradeNames     = Upgrade_GondorFireArrows
	End
	ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
		ProjectileTemplateName    = GoodFactionFireArrowBombard
		WarheadTemplateName       = GondorRangerBowBombardFireWarhead
		RequiredUpgradeNames      = Upgrade_GondorFireArrows
	End
End

;----------------------------
Weapon GondorRangerBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES ( 4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_RANGER_DAMAGE
	
	;;.;;IthilienRangerScalars;;.;;
    DamageScalar	= 135% ANY +MONSTER -HERO -CANNOT_RETALIATE -MordorMumakil ;;-;; //SpiderLingPIERCE//
	DamageScalar	= 121% ANY +WildSpiderling ;;-;;
	DamageScalar	= 121% ANY +MordorMumakil ;;-;;
	DamageScalar	= 121% ANY +WildShelob ;;-;;
	DamageScalar	= 121% ANY +MordorWitchKing ;;-;; 90% was never active ;;=;;
	DamageScalar	= 100% ANY +CANNOT_RETALIATE ;;.;; 121% ;;-;; 135% ; ; 
	
 	Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon GondorRangerBowBombardWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES ( 4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_RANGER_DAMAGE
	
	;;.;;IthilienRangerScalars;;.;;
    DamageScalar	= 135% ANY +MONSTER -HERO -CANNOT_RETALIATE -MordorMumakil ;;-;; //SpiderLingPIERCE//
	DamageScalar	= 121% ANY +WildSpiderling ;;-;;
	DamageScalar	= 121% ANY +MordorMumakil ;;-;;
	DamageScalar	= 121% ANY +WildShelob ;;-;;
	DamageScalar	= 121% ANY +MordorWitchKing ;;-;; 90% was never active ;;=;;
	DamageScalar	= 100% ANY +CANNOT_RETALIATE ;;.;; 121% ;;-;; 135% ; ; 
	
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


Weapon GondorRangerBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.


	DamageNugget                        
		Damage        = GONDOR_RANGER_FIRE_UPGRADE_DAMAGE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_RANGER_FIRE_UPGRADE_DAMAGE
		DamageScalar  = 87% ANY +CAVALRY ;;.;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
		
		;;.;;IthilienRangerScalars_FireArrow;;.;; (Proportional to unupgraded, but lower bonus)
		DamageScalar	= 117% ANY +MONSTER -HERO -CANNOT_RETALIATE -MordorMumakil ;;-;; //SpiderLingPIERCE//
		DamageScalar	= 117% ANY +WildSpiderling ;;-;;
		DamageScalar	= 105% ANY +MordorMumakil ;;.;; 100%
		DamageScalar	= 105% ANY +WildShelob ;;.;; 100%
		DamageScalar	= 105% ANY +MordorWitchKing ;;-;; 90% ;;=;;
		DamageScalar	= 87% ANY +CANNOT_RETALIATE ;;.;; 121%
		
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End

Weapon GondorRangerBowBombardFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES

	DamageNugget                        
		Damage        = GONDOR_RANGER_FIRE_UPGRADE_DAMAGE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GONDOR_RANGER_FIRE_UPGRADE_DAMAGE
		DamageScalar  = 87% ANY +CAVALRY ;;.;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
		
		;;.;;IthilienRangerScalars_FireArrow;;.;; (Proportional to unupgraded, but lower bonus)
		DamageScalar	= 117% ANY +MONSTER -HERO -CANNOT_RETALIATE -MordorMumakil ;;-;; //SpiderLingPIERCE//
		DamageScalar	= 117% ANY +WildSpiderling ;;-;;
		DamageScalar	= 105% ANY +MordorMumakil ;;.;; 100%
		DamageScalar	= 105% ANY +WildShelob ;;.;; 100%
		DamageScalar	= 105% ANY +MordorWitchKing ;;-;; 90% ;;=;;
		DamageScalar	= 87% ANY +CANNOT_RETALIATE ;;.;; 121%
	
	
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End

	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Eowyn Splash;;;;;;;;;;;;;;;;;;;;

;------------------------------------------------------------------------------
Weapon EowynSpear ; BALANCE Eowyn Sword Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = EOWYN_DELAYBETWEENSHOTS
  PreAttackDelay        = EOWYN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = EOWYN_FIRINGDURATION
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage        = EOWYN_DAMAGE
	DamageScalar  = 72% ANY +STRUCTURE ;;-;;
 	;;-;;	DamageScalar   = 120% ANY +MONSTER ;;=;; 
 	;;-;;	DamageScalar   = 120% ANY +HERO ;;=;; 
    Radius        = 0.0
	;;-;;DelayTime     = 200.0 ; ;0
	;;-;;DamageSpeed	  = 250 ;;-;;
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


Weapon EowynRohirrimSpear ; BALANCE EowynRohirrimSpear ;;-;;
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  FireFlankFX			= FX_Flanking
  DelayBetweenShots     = ROHAN_DISGUISED_DELAYBETWEENSHOTS           ; time between shots, msec
  PreAttackDelay        = ROHAN_DISGUISED_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ROHAN_DISGUISED_FIRINGDURATION     ; Duration of the sword swing

  DamageNugget
    Damage        = EOWYN_DAMAGE
	DamageScalar  = 72% ANY +STRUCTURE ;;.;; 36% ;;-;;
    DamageScalar  = 135% ANY +HERO ;;.;; 100% ;;-;; 90% ;;-;; 50%
    Radius        = 11.5 ; ;0.0
	DamageTaperOff = #MULTIPLY( EOWYN_DAMAGE EOWYN_DISGUISED_DAMAGE_TAPEROFF ) ;;-;;
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End
; ; 
;------------------------------------------------------------------------------
Weapon GondorAragornSword
  LeechRangeWeapon   	= Yes
  AttackRange        	= STANDARD_MELEE_ATTACK_RANGE
  RadiusDamageAffects	= ENEMIES NEUTRALS ; ;
  MeleeWeapon         	= Yes

  DelayBetweenShots     = ARAGORN_DELAYBETWEENSHOTS 		; time between shots, msec
  PreAttackDelay        = ARAGORN_PREATTACKDELAY 			; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT						; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  ;FireFX                = FX_IsildurSword
  FiringDuration        = ARAGORN_FIRINGDURATION 			; Duration of the sword swing
  HitStoredTarget		= Yes	; Always hits initial target.

	DamageNugget												; A basic Nugget that just does damage
		Damage			= ARAGORN_DAMAGE // 80% of total damage
		DamageTaperOff	= #MULTIPLY( ARAGORN_DAMAGE ARAGORN_DAMAGE_TAPEROFF ) ;;-;;
;;-;;	DamageScalar	= 85% ANY +MordorWitchKing ;;=menmordor=;; 
		Radius			= 6 ;;=;; 12.0 ; ;
		DamageScalar	= 77% ANY +COMMANDCENTER ;;-;; 85% ;;=;; 60% ; ; 
		DamageScalar	= 85% ANY +STRUCTURE -COMMANDCENTER ;;-AntiHeroLame;; ;;-;; 100% ;;-;; 125% ;;=;; 100% 
		DamageScalar  	= 62500% ANY +ARMY_OF_DEAD ;;-;; 50000 ; ; +RohanOathbreaker
		DelayTime     	= 0
		DamageType    	= HERO
		DamageFXType  	= SWORD_SLASH
		DeathType     	= NORMAL
	End
;;-;;; ;Warg Sentry Bugfix
  ;;-;; DamageNugget												; A basic Nugget that just does damage
    ;;-;; Damage        = ARAGORN_DAMAGE
    ;;-;; DamageScalar  = 0% ALL -IsengardWargSentry
    ;;-;; DelayTime     = 0
    ;;-;; DamageType    = HERO
    ;;-;; DamageFXType  = SWORD_SLASH
    ;;-;; DeathType     = NORMAL
	;;-;; AcceptDamageAdd = No ;;=;;
  ;;-;; End

  ; ;
  ;;;-;; Now properly included above.
  ;;-;; DamageNugget												; A basic Nugget that just does damage
  ;;-;;   Damage        = #MULTIPLY( ARAGORN_DAMAGE .25 ) // 20% of total damage
  ;;-;;   Radius        = 6 ;;=;; 10.0
  ;;-;;   DamageScalar  = 50000% ANY +ARMY_OF_DEAD ; ; +RohanOathbreaker
  ;;-;;   DelayTime     = 0
  ;;-;;   DamageType    = HERO
  ;;-;;   DamageFXType  = SWORD_SLASH
  ;;-;;   DeathType     = NORMAL
  ;;-;;   SpecialObjectFilter	= ALL -STRUCTURE ;;=;;
  ;;-;; End

End
;------------------------------------------------------------------------------
Weapon GondorAragornHeroSword
	LeechRangeWeapon	= Yes
	AttackRange			= STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon			= Yes
  
	DelayBetweenShots     	= ARAGORN_DELAYBETWEENSHOTS 		; time between shots, msec
	PreAttackDelay        	= ARAGORN_PREATTACKDELAY 			; 400 is sword swing delay time before contact with target.
	PreAttackType         	= PER_SHOT						; Do the delay each time we attack a new target
 	FireFX              	= FX_GondorSwordHit ;;-;; FX_IsildurSword ;;=;; FX_GondorSwordHit
	FiringDuration			= ARAGORN_FIRINGDURATION 			; Duration of the sword swing
  	RadiusDamageAffects 	= ENEMIES NEUTRALS ; ;

	DamageNugget												; A basic Nugget that just does damage
		Damage			= ARAGORN_DAMAGE
		DamageTaperOff  = #MULTIPLY( ARAGORN_DAMAGE ARAGORN_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= 15 ; ; 10
;;-;;	DamageScalar	= 85% ANY +MordorWitchKing ;;=menmordor=;; 
		DamageScalar	= 50000% ANY +ARMY_OF_DEAD ; ; +RohanOathbreaker
		DamageScalar	= 77% ANY +COMMANDCENTER ;;-;; 85% ;;=;; 60% ; ; 
		DamageScalar	= 85% ANY +STRUCTURE -COMMANDCENTER ;;-AntiHeroLame;; ;;-;; 100% ;;-;; 125% ;;=;; 100% ; ; 150%
 		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
 	End
	;;-;; 
     DamageNugget
		Damage			= ARAGORN_DAMAGE_ANDURIL_MAGIC
		DamageTaperOff	= #MULTIPLY( ARAGORN_DAMAGE_ANDURIL_MAGIC ARAGORN_DAMAGE_TAPEROFF )
		Radius			= 15 ; ; 14.0 ; ;
		DamageScalar	= 50000% ANY +ARMY_OF_DEAD ; ; +RohanOathbreaker
		DelayTime		= 50 ;;=;; 0
		DamageType		= MAGIC
		DamageFXType	= TORNADO ;;-;; SWORD_SLASH
		DeathType		= NORMAL
		SpecialObjectFilter = ALL -STRUCTURE ;;=;;
		RequiredUpgradeNames = Upgrade_Anduril ;;-;; 
     End
;;-;; ; ;Warg Sentry Bugfix
	;;-;; DamageNugget												; A basic Nugget that just does damage
		;;-;; Damage			= ARAGORN_DAMAGE
		;;-;; DamageScalar  	= 0% ALL -IsengardWargSentry
		;;-;; DelayTime		= 0
		;;-;; DamageType		= HERO
		;;-;; DeathType		= NORMAL
		;;-;; AcceptDamageAdd = No
	;;-;; End
End

;------------------------------------------------------------------------------
Weapon GondorIsildurNarsil
	LeechRangeWeapon	= Yes
	AttackRange			= STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon			= Yes
	DelayBetweenShots     = ARAGORN_DELAYBETWEENSHOTS 		; time between shots, msec
	PreAttackDelay        = 2333 			; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT						; Do the delay each time we attack a new target
	FireFX                = FX_GondorSwordHit
	FiringDuration        = 1333 			; Duration of the sword swing
   
  DamageNugget												; A basic Nugget that just does damage
	Damage			= 10000
	Radius			= 10
	DelayTime		= 0
	DamageType		= HERO
	DeathType		= NORMAL
  End

End


;------------------------------------------------------------------------------
;Weapon GondorAragornKnifeThrow
;  AttackRange = 300
;  WeaponSpeed = 321         ; dist/sec 
;  MinWeaponSpeed = 241
;  MaxWeaponSpeed = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
;  FireFX = FX_HaradrimSpearThrow
;  PlayFXWhenStealthed = Yes
;  ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
;  HitPercentage     = 100     ;When this weapon is used it will hit exactly 80% of the time.
;  ScatterRadius     = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
;  DelayBetweenShots = 1000        ; time between shots, msec
;  PreAttackDelay        = 2000             ; 1467 is the prep time for archer.
;  PreAttackRandomAmount = 0     ; amount of additional preattack variance for archer type attacks only  
;  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;  FiringDuration      = 1000    ; Duration of the archer firing shot is 500ms.
;  AntiAirborneVehicle		= Yes
;  AntiAirborneMonster		= Yes
;
;  ProjectileNugget            ; Default knife
;    ProjectileTemplateName    = AragornKnife

;    WarheadTemplateName       = AragornKnifeWarhead
;  End
;End

;----------------------------
;Weapon AragornKnifeWarhead
;  RadiusDamageAffects = ENEMIES 
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 200
;    Radius        = 1.6
;    DelayTime     = 0
;    DamageType    = HERO
;    DamageFXType  = GOOD_ARROW_PIERCE
;    DeathType     = EXPLODED
;  End
;End

;------------------------------------------------------------------------------
Weapon GondorAragornDwarfToss
  IdleAfterFiringDelay  = 0 ; So I don't chuck Gimli, and then chase him because the target doesn't die until he hits him
  AttackRange           = 4000.0
  MinimumAttackRange    = 40.0
  WeaponSpeed           = 120.0        ; dist/sec (huge value == effectively instant)
  ProjectileFilterInContainer = ANY +GIMLI ; We don't make the projectile, it is in our Contain module.
  ClipSize              = 1               ; how many shots in a Clip (0 == infinite)
  ClipReloadTime        = 5400 
  PreAttackDelay        = 1633             
  FiringDuration        = 2700
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  HitPercentage       = 0 ; never auto hits, always aims at ground
  ScatterRadius       = 4.0     ;When this weapon is used it can randomly miss by as much as this distance.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    WarheadTemplateName = GondorAragornDwarfTossWarhead
  End
End

;----------------------------
Weapon GondorAragornDwarfTossWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 0.8
    DelayTime     = 0
  End
End

;------------------------------------------------------------------------------
Weapon FaramirBow       
    AttackRange			= FARAMIR_BOW_RANGE
    
    RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( FARAMIR_BOW_RANGE .01 )
    				
    LeechRangeWeapon    = Yes
    WeaponSpeed			= 321         ; dist/sec 
    MinWeaponSpeed		= 241
    MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
    FireFX				= FX_RohanArcherBowWeapon
    ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
    HitPercentage		= 100     ;When this weapon is used it will hit exactly 75% of the time.
    ScatterRadius		= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
   
    DelayBetweenShots	= FARAMIR_BOW_DELAYBETWEENSHOTS         ; time between shots, msec
    PreAttackDelay		= FARAMIR_BOW_PREATTACKDELAY              ; 1467 is the prep time for archer.
    PreAttackType		= PER_POSITION
    FiringDuration		= FARAMIR_BOW_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.
 
    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:FARAMIR_BOW_RELOADTIME_MIN Max:FARAMIR_BOW_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= FARAMIR_BOW_RELOADTIME_MAX
   	
    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes  
    
    CanFireWhileMoving		= Yes
   
    ProjectileNugget                    ; Default arrow
       ProjectileTemplateName    = GoodFactionArrow
       WarheadTemplateName       = FaramirBowWarhead
    End
End


;----------------------------
Weapon FaramirBowWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = FARAMIR_BOW_DAMAGE
	;;-;; DamageScalar  = 110% ANY +DwarvenBattleWagon ;;-;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO_RANGED
	DamageScalar	= 95% ANY +MordorMumakil ;;-;; 
    ;DamageScalar  = 25000% ANY +MordorMumakil
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
  
 

End

;------------------------------------------------------------------------------
Weapon GondorArcherBowMelee       ; BALANCE Archer Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_RohanArcherBowWeapon;
  DelayBetweenShots     = 1700            ; time between shots, msec
  PreAttackDelay        = 666             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 1000    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_ARCHER_DAMAGE_BOW_MELEE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH ;;-;; PIERCE
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon GondorCavalrySword
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DelayBetweenShots         = GONDOR_KNIGHT_DELAYBETWEENSHOTS
  PreAttackDelay            = GONDOR_KNIGHT_PREATTACKDELAY    ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_KNIGHT_FIRINGDURATION     ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_KNIGHT_DAMAGE
	DamageScalar  = 95% ANY +FS_FACTORY ;;-;;
	DamageScalar  = 95% ANY +WildMineShaft ;;-;;
	DamageScalar  = 95% ANY +MordorSlaughterHouse ;;.;; 
	DamageScalar  = 105% ANY +DwarvenMineShaft ;;.;; 
	DamageScalar  = 125% ANY +DwarvenBattleWagon ;;-;; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS

  End
End

;-------------------------------------------------------------------
;;.;; 09v3BalancingBannerCarriers
Weapon GondorCavalryBannerSword09v3
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DelayBetweenShots         = GONDOR_KNIGHT_DELAYBETWEENSHOTS
  PreAttackDelay            = GONDOR_KNIGHT_PREATTACKDELAY    ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_KNIGHT_FIRINGDURATION     ; Duration of the archer firing shot is 500ms.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_KNIGHT_DAMAGE
	DamageScalar  = 95% ANY +WildMineShaft ;;-;;
	DamageScalar  = 95% ANY +MordorSlaughterHouse ;;.;; 
	DamageScalar  = 105% ANY +DwarvenMineShaft ;;.;; 
	DamageScalar  = 125% ANY +DwarvenBattleWagon ;;-;; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon GondorCavalrySwordUpgraded
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots         = GONDOR_KNIGHT_DELAYBETWEENSHOTS
  PreAttackDelay            = GONDOR_KNIGHT_PREATTACKDELAY    ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_KNIGHT_FIRINGDURATION     ; Duration of the archer firing shot is 500ms.
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  
  //CavalryForgedBlade09v2//
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_KNIGHT_FORGEDBLADES_UPGRADE
	DamageScalar  = 200% ANY +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER; ;
	DamageScalar  = 150% ANY +COMMANDCENTER ;;-;;
	Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

; ;------------------------------------------------------------------------------
Weapon EvilMenBlackRiderSwordMounted
  LeechRangeWeapon = Yes
  AttackRange           = 25.0 ; ; STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots         = EVILMEN_MOUNTED_BLACKRIDER_DELAYBETWEENSHOTS
  PreAttackDelay            = EVILMEN_MOUNTED_BLACKRIDER_PREATTACKDELAY      ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = EVILMEN_MOUNTED_BLACKRIDER_FIRINGDURATION       ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = EVILMEN_BLACKRIDER_DAMAGE
	DamageScalar   = = 110% ANY +MordorMountainTroll ;;-;;
	DamageScalar  = 90% ANY +ElvenRivendellLancer ;;=;;
	DamageScalar  = 90% ANY +ElvenRivendellLancerBanner ;;=;;
	DamageScalar  = 110% ANY +GondorCavalry ;;=;;
	DamageScalar  = 110% ANY +GondorCavalryBanner ;;=;;
    DamageScalar  = 60% ANY +STRUCTURE -ElvenMallornTree ; ; 75%
	DamageScalar  = 50% ANY +ElvenMallornTree ;;-;; 60% ;;=;; 50% ;;=;;
    Radius        = 0.0
	;;-;;	DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon EvilMenBlackRiderSword
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots         = EVILMEN_BLACKRIDER_DELAYBETWEENSHOTS
  PreAttackDelay            = EVILMEN_BLACKRIDER_PREATTACKDELAY ;1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = EVILMEN_BLACKRIDER_FIRINGDURATION ; ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = EVILMEN_BLACKRIDER_DAMAGE
	DamageScalar   = = 110% ANY +MordorMountainTroll ;;-;;
	DamageScalar  = 90% ANY +ElvenRivendellLancer ;;=;;
	DamageScalar  = 90% ANY +ElvenRivendellLancerBanner ;;=;;
	DamageScalar  = 75% ANY +STRUCTURE ; ;
    Radius        = 0.0
	;;-;;	DelayTime     = 300.0 ; ;0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon MouthOfSauronSword
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots         = MOUTH_OF_SAURON_DELAYBETWEENSHOTS
  PreAttackDelay            = MOUTH_OF_SAURON_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = MOUTH_OF_SAURON_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MOUTH_OF_SAURON_DAMAGE
	DamageScalar  = 75% ANY TROLL_UNITS ;;-;;
    DamageScalar  = 87% ANY +STRUCTURE ; ;
	DamageTaperOff = #MULTIPLY( MOUTH_OF_SAURON_DAMAGE MOUTH_OF_SAURON_DAMAGE_TAPEROFF ) ;;-;;
    Radius        = 11.5 ; ;0.0
;;-;;	DelayTime     = 150 ; ;0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
;;-;; ; ;Warg Sentry Bugfix
  ;;-;; DamageNugget                        
    ;;-;; Damage        = MOUTH_OF_SAURON_DAMAGE
    ;;-;; DamageScalar  	= 0% ALL -IsengardWargSentry
    ;;-;; DelayTime     = 150 ; ;0
    ;;-;; DamageType    = HERO
    ;;-;; DamageFXType  = SWORD_SLASH
    ;;-;; DeathType     = NORMAL
		;;-;; AcceptDamageAdd = No
  ;;-;; End
End

;------------------------------------------------------------------------------
Weapon MouthOfSauronSwordMounted
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots         = MOUTH_OF_SAURON_MOUNTED_DELAYBETWEENSHOTS
  PreAttackDelay            = MOUTH_OF_SAURON_MOUNTED_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = MOUTH_OF_SAURON_MOUNTED_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MOUTH_OF_SAURON_DAMAGE
	DamageScalar  = 75% ANY TROLL_UNITS ;;-;;
    DamageScalar  = 77% ANY +STRUCTURE ;;=;; 87%
	DamageTaperOff = #MULTIPLY( MOUTH_OF_SAURON_DAMAGE MOUTH_OF_SAURON_DAMAGE_TAPEROFF ) ;;-;;
    Radius        = 11.5 ; ;0.0
;;-;;	DelayTime     = 150 ; ;0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
;;-;; ; ;Warg Sentry Bugfix
  ;;-;; DamageNugget                        
    ;;-;; Damage        = MOUTH_OF_SAURON_DAMAGE
    ;;-;; DamageScalar  	= 0% ALL -IsengardWargSentry
    ;;-;; DelayTime     = 150 ; ;0
    ;;-;; DamageType    = HERO
    ;;-;; DamageFXType  = SWORD_SLASH
    ;;-;; DeathType     = NORMAL
		;;-;; AcceptDamageAdd = No
  ;;-;; End

End

;------------------------------------------------------------------------------
Weapon EvilMenBlackRiderMorgulBlade
	LeechRangeWeapon = Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	;FireFX					= FX_BlackRiderMorgulBladeTempAudio		;FX_BlackRiderMorgulBlade
	DelayBetweenShots		= EVILMEN_BLACKRIDER_DELAYBETWEENSHOTS
	PreAttackDelay			= EVILMEN_BLACKRIDER_PREATTACKDELAY    ; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration			= EVILMEN_BLACKRIDER_FIRINGDURATION     ; Duration of the archer firing shot is 500ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = EVILMEN_BLACKRIDER_MORGULBLADE_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = MAGIC
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = MAGIC
		DeathType     = NORMAL
	End

	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	AttributeModifierNugget
		AttributeModifier        = BlackRiderMorgulBlade
		DamageFXType             = SWORD_SLASH
		SpecialObjectFilter      = MORGULBLADE_OBJECT_FILTER ;;.;;
	End
End

;------------------------------------------------------------------------------
Weapon WildGoblinKingPoisonedStinger
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GoblinKingPoisonedStingerHit
  DelayBetweenShots         = WILD_GOBLIN_KING_STINGER_DELAYBETWEENSHOTS
  PreAttackDelay            = WILD_GOBLIN_KING_STINGER_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = WILD_GOBLIN_KING_STINGER_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WILD_GOBLIN_KING_STINGER_DAMAGE
		DamageScalar		= 150% ANY +MordorWitchKing;;-;; 
		DamageScalar		= 150% ANY +MordorWitchKingOnFellBeast;;-;; 
 		Radius        = 0.0
		DelayTime     = 0
		DamageType    = HERO ;;-;; SLASH
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End

	//109v2DotNuggets// ;;-;; Done
	DOTNugget                        ; A basic Nugget that just does damage
 		Damage        = #DIVIDE( WILD_GOBLIN_KING_STINGER_POISON_DAMAGE 30 )
		AcceptDamageAdd = No
		DamageScalar	= 80% ANY +IsengardSaruman +DwarvenGimli ;;-;;
		;;-;; DamageScalar	= 120% ANY +ElvenElrond +ElvenHaldir +ElvenArwen +ElvenGlorfindel ;;-;;
			;;-;;
  			DamageScalar		= 31.5% ANY +MordorFellBeast ;;-;; 100%
			DamageScalar		= 23.4% ANY +Drogoth ;;-;; 100%
			DamageScalar		= 14.1% ANY +ElvenFortressEagle ;;-;; 100%
			DamageScalar		= 19.5% ANY +GondorGwaihir_Summoned ;;-;; 100%
			DamageScalar		= 0% ANY +MordorWitchKing
			DamageScalar		= 23.4% ANY +MordorWitchKingOnFellBeast ;;.;; 0%
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
	 	DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = WILD_GOBLIN_KING_STINGER_POISON_DURATION
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	;;-;; 
	AttributeModifierNugget
		AttributeModifier        = StingerCrippleModifier09v2
		DamageFXType             = SWORD_SLASH 
		SpecialObjectFilter      = AFFECTED_BY_POISON_OBJECTFILTER +DwarvenBattleWagon
	End

	ParalyzeNugget
		Radius				= 0.0
		Duration			= POISONED_STINGER_DURATION
		SpecialObjectFilter	= CRIPPLE_STRIKE_OBJECT_FILTER
		ParalyzeFX			= FX_PoisonedStunEffect
	End
End

;------------------------------------------------------------------------------
Weapon WildShelobPoisonedStinger
  LeechRangeWeapon = Yes
  AttackRange			= 30.0
  MeleeWeapon			= Yes
  FireFX				= FX_ShelobPoisonStingerStrike		;FX_GondorSwordHit
  DelayBetweenShots         = WILD_SHELOB_STINGER_DELAYBETWEENSHOTS
  PreAttackDelay            = WILD_SHELOB_STINGER_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = WILD_SHELOB_STINGER_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

	;;-;; 
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WILD_SHELOB_STINGER_DAMAGE
		DamageScalar		= 150% ANY +MordorWitchKing;;-;; 
		DamageScalar		= 150% ANY +MordorWitchKingOnFellBeast;;-;; 
		DamageScalar		= 200% ANY +DwarvenBattleWagon ;;-;; 
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = HERO ;;-;; SLASH
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End

	//109v2DotNuggets// ;;-;; Done
	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = #DIVIDE( WILD_SHELOB_STINGER_POISON_DAMAGE 30 )
		AcceptDamageAdd = No
		DamageScalar	= 80% ANY +IsengardSaruman +DwarvenGimli ;;-;;
		;;-;; DamageScalar	= 120% ANY +ElvenElrond +ElvenHaldir +ElvenArwen +ElvenGlorfindel ;;-;;
			;;-;;
  			DamageScalar		= 31.5% ANY +MordorFellBeast ;;-;; 100%
			DamageScalar		= 23.4% ANY +Drogoth ;;-;; 100%
			DamageScalar		= 14.1% ANY +ElvenFortressEagle ;;-;; 100%
			DamageScalar		= 19.5% ANY +GondorGwaihir_Summoned ;;-;; 100%
			DamageScalar		= 0% ANY +MordorWitchKing
			DamageScalar		= 23.4% ANY +MordorWitchKingOnFellBeast ;;.;; 0%
 		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = WILD_SHELOB_STINGER_POISON_DURATION
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	;;-;; 
	AttributeModifierNugget
		AttributeModifier        = StingerCrippleModifier09v2
		DamageFXType             = SWORD_SLASH 
		SpecialObjectFilter      = AFFECTED_BY_POISON_OBJECTFILTER +DwarvenBattleWagon
	End   

	ParalyzeNugget
		Radius				= 0.0
		Duration			= POISONED_STINGER_DURATION
		SpecialObjectFilter	= CRIPPLE_STRIKE_OBJECT_FILTER
		ParalyzeFX			= FX_PoisonedStunEffect
	End
End



;------------------------------------------------------------------------------
Weapon RiderlessWeapon
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1333            ; time between shots, msec
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 0.0001
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    ;DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon OathbreakerSword ;BALANCE OathbreakerSword
  RadiusDamageAffects = ENEMIES NEUTRALS
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = OATHBREAKER_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = OATHBREAKER_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FiringDuration        = OATHBREAKER_SWORD_FIRINGDURATION    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = OATHBREAKER_SWORD
    DamageScalar  = 10% ANY +STRUCTURE ;;-;; +GondorAragorn // never applied before.
	DamageScalar  = 85% ANY +GondorAragorn ;;-;; 25% ;;-;; 100% ;;-FixedGimliAragornLink-;; 
	DamageScalar  = 66% NONE SPELLBOOK_SUMMONED_UNITS ;;-;; +MordorBalrog ;;=;;
    Radius        = 10.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon MountedOathbreakerSword ;BALANCE OathbreakerSword
  RadiusDamageAffects = ENEMIES NEUTRALS
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE ; ; 20.0
  MeleeWeapon           = Yes
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = 650 ;;=;; 1000 ; ; ROH 1000 AOD 300
  PreAttackDelay        = 350 ;;=;; 200 ; ; ROH 500 AOD 200
  PreAttackType         = PER_SHOT
  FireFX                = FX_GondorSwordHit
  FiringDuration        = 1000 ; ; ROH 1000 AOD 300

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 200 ;;=;; 100 ; ; OATHBREAKER_SWORD
	;;DamageScalar  = 30% ANY +MONSTER +SUMMONED
	DamageScalar  = 10% ANY +STRUCTURE
	DamageScalar  = 10% ANY +GondorAragorn
	DamageScalar  = 10% ANY +MordorBalrog
    Radius        = 10.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon BarrowWightTouch ;BALANCE BarrowWightTouch
	RadiusDamageAffects	= ENEMIES NEUTRALS
	LeechRangeWeapon      = Yes
	AttackRange           = 20.0
	MeleeWeapon           = Yes
	DelayBetweenShots     = BARROWWIGHT_SWORD_DELAYBETWEENSHOTS   ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
	PreAttackDelay        = BARROWWIGHT_SWORD_PREATTACKDELAY              ; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_BarrowWightHit	;FX_GondorSwordHit
	FiringDuration        = BARROWWIGHT_SWORD_FIRINGDURATION     ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= BARROWWIGHT_SWORD
		Damage        		= #MULTIPLY( BARROWWIGHT_SWORD 0.65 ) ;;.;;
		Radius        		= 10.0
		DelayTime     		= 0
		DamageType    		= MAGIC
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
		DrainLife     		= Yes
		DrainLifeMultiplier	= 0.333 ;;=;; 0.35 ; ;0.5
	End
	AttributeModifierNugget
		AttributeModifier	= BarrowWightTouchDebuff
		AntiCategories		= LEADERSHIP BUFF
		SpecialObjectFilter = GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
End

;------------------------------------------------------------------------------

Weapon GondorSword // aka GondorSoldierSword GondorFightherSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = GONDOR_SOLDIER_SWORD_DELAYBETWEENSHOTS    ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = GONDOR_SOLDIER_SWORD_PREATTACKDELAY               ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit

  FireFlankFX		= FX_Flanking
  FiringDuration        = GONDOR_SOLDIER_SWORD_FIRINGDURATION     ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_SOLDIER_SWORD
    DamageScalar  = 82.5% ANY +STRUCTURE -DwarvenMineShaft -MordorSlaughterHouse -WildMineShaft -IsengardFurnace ;;-;;
    DamageScalar  = 77.5% ANY +DwarvenMineShaft ;;.;; 80% ;;.;; 82.5% ;;-;; 79.75% ;;-;; 72.5% ; ; ;;=mendwarf=;;
	DamageScalar  = 72.5% ANY +MordorSlaughterHouse ;;.;; 76.5% ;;=;; ;;=menmordor=;;
	DamageScalar  = 76.5% ANY +WildMineShaft ;;.;; 78% ;;-;;
	DamageScalar  = 78% ANY +IsengardFurnace ;;-;;
	DamageScalar  = 90% ANY +WildSpiderling ;;-;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon GondorSwordUpgraded
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = GONDOR_SOLDIER_SWORD_DELAYBETWEENSHOTS   ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = GONDOR_SOLDIER_SWORD_PREATTACKDELAY              ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = GONDOR_SOLDIER_SWORD_FIRINGDURATION     ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GONDOR_SOLDIER_SWORD_UPGRADE
    DamageScalar  = 82.5% ANY +STRUCTURE ; ;
    DamageScalar  = 200% ANY +INFANTRY -HERO -WildSpiderling -IsengardBeserker ; ;
	DamageScalar  = 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
	DamageScalar  = 160% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
    DamageScalar  = 150% ANY +HERO ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH

    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End



;------------------------------------------------------------------------------
Weapon GondorTowerShieldGuardSword
	LeechRangeWeapon		= Yes
	AttackRange				= 35.0
	MeleeWeapon				= Yes
	DelayBetweenShots		= GONDOR_TOWERGUARD_DELAYBETWEENSHOTS
	ClipSize				= INFINITE_CLIP_SIZE
	PreAttackDelay			= GONDOR_TOWERGUARD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FireFX					= FX_GondorSwordHit
	FireFlankFX		= FX_Flanking
	FiringDuration			= GONDOR_TOWERGUARD_FIRINGDURATION    ; Duration of the sword swing

	DamageNugget
	    Damage				= GONDOR_TOWERGUARD_DAMAGE
		DamageScalar			= 110% ANY +CAVALRY +WildSpiderling +WildShelob ;;=;; ;;-;;
		DamageScalar			= 105% ANY +GoblinCaveTroll 
		DamageScalar			= 80% ANY +MordorMountainTroll
		DamageScalar			= 115% ANY +DwarvenDain ;;-;; 125 equals to 09v1.
	    DelayTime				= 40
	    DamageType				= SPECIALIST
	    DamageFXType			= SWORD_SLASH
	    DeathType				= NORMAL
	    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	    ForbiddenUpgradeNames	= Upgrade_GondorForgedBlades
	End
	
    DamageNugget
		Damage					= GONDOR_TOWERGUARD_FORGEDBLADES_UPGRADE_DAMAGE
		DamageScalar			= 200% ANY +INFANTRY -HERO ; ;
		DamageScalar			= 75% ANY +HERO ; ;
		DamageScalar			= 110% ANY +CAVALRY ;;-;;
		DamageScalar			= 80% ANY +MordorMountainTroll
		DelayTime				= 40
		DamageType				= SPECIALIST
		DamageFXType				= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames	= Upgrade_GondorForgedBlades
	End  
  
End

;------------------------------------------------------------------------------
Weapon FaramirSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots     = FARAMIR_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = FARAMIR_PREATTACKDELAY 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = FARAMIR_FIRINGDURATION 	; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = FARAMIR_DAMAGE
    ;;=;;DamageScalar   = 87% ANY +STRUCTURE -COMMANDCENTER ; ;
	;;-;;	DelayTime  = 250 ;;=;; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon FaramirMountedSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots     = FARAMIR_MOUNTED_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = FARAMIR_MOUNTED_PREATTACKDELAY 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = FARAMIR_MOUNTED_FIRINGDURATION 	; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = FARAMIR_DAMAGE
    DamageScalar   = 87% ANY +STRUCTURE -COMMANDCENTER ; ;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon BoromirSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = BOROMIR_DELAYBETWEENSHOTS  			
             ; time between shots, msec
  PreAttackDelay        = BOROMIR_PREATTACKDELAY  				; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FiringDuration        = BOROMIR_FIRINGDURATION  				; Duration of the sword swing
  RadiusDamageAffects = ENEMIES NEUTRALS ; ;

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BOROMIR_DAMAGE					
    Radius        = 0.0
    DamageArc 	  = 180 ; ;
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
;;-;;
  MetaImpactNugget
    SpecialObjectFilter = ANY +MONSTER
	ShockWaveAmount		= 25.0
	ShockWaveRadius		= 8
	ShockWaveArc		= 40 ;;-;; 120
	ShockWaveTaperOff	= 1
  End
; ;
 MetaImpactNugget
	SpecialObjectFilter = ANY +DwarvenGloin
	HeroResist			= 0.825 ;;.;; 0.85 ;;.;; 0.80 // 20% chances of knockback
	ShockWaveAmount		= 25.0
	ShockWaveRadius		= 8
	ShockWaveArc		= 120
	ShockWaveTaperOff	= 1
  End
 ;;
 MetaImpactNugget
	SpecialObjectFilter = ANY +IsengardLurtz
	HeroResist			= .75 // 25% chances of knockback
	ShockWaveAmount		= 25.0
	ShockWaveRadius		= 8
	ShockWaveArc		= 120
	ShockWaveTaperOff	= 1
  End
 ;;
  MetaImpactNugget                    ; A Nugget that throws things back with force
    SpecialObjectFilter = ALL -MONSTER -IsengardLurtz -DwarvenGloin
    HeroResist			= .85 ;.75 // 15% chances of knockback
    ShockWaveAmount		= 25.0
    ShockWaveRadius		= 8
    ShockWaveArc		= 120
    ShockWaveTaperOff	= 1
  End
End

;------------------------------------------------------------------------------
Weapon ElvenWarriorSword // aka ElvenLorienWarriorSword
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = ELVEN_LORIENWARRIOR_SWORD_DELAYBETWEENSHOTS            ; time between shots, msec
	PreAttackDelay        = ELVEN_LORIENWARRIOR_SWORD_PREATTACKDELAY             ; 567 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_GondorSwordHit
	FireFlankFX			  = FX_Flanking
	FiringDuration        = ELVEN_LORIENWARRIOR_SWORD_FIRINGDURATION    ; Duration of the sword swing
 
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ELVEN_LORIENWARRIOR_SWORD_DAMAGE
		DamageScalar  = 90% ANY +IsengardBeserker ;;-;; 
		DamageScalar  = 90% ANY +DwarvenDain;;-;; //DwarfElf//
		DamageScalar  = 90% ANY +DwarvenGloin ;;-;; //DwarfElf//
 		DamageScalar  = 80% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar  = 56% ANY +STRUCTURE -MordorSlaughterHouse -DwarvenMineShaft ;;.;; 50% ;;.;; was not applying in 1.09 ;;=;;
		DamageScalar  = 60% ANY +MordorSlaughterHouse ;;-;; 57% ;;-;; 53%
		DamageScalar  = 52.5% ANY +WildMineShaft ;;-;; 
		DamageScalar  = 52% ANY +DwarvenMineShaft ;;.;; 47% ;;-;;
	    Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = SLASH
	    DamageFXType  = SWORD_SLASH
	    DeathType     = NORMAL
	    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	   	ForbiddenUpgradeNames      = Upgrade_ElvenForgedBlades
	End
	DamageNugget  ;;-;; was not applying in 1.09 ;;=;;
		Damage        = ELVEN_LORIENWARRIOR_SWORD_DAMAGE_UPGRADE
		DamageScalar  = 200% ANY +INFANTRY -HERO -WildSpiderling -IsengardBeserker; ;
		DamageScalar  = 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar  = 160% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
		DamageScalar  = 75% ANY +HERO -DwarvenGloin -DwarvenDain ;;-;;
		DamageScalar  = 67.5% ANY +DwarvenDain ;;-;; //DwarfElf// 
		DamageScalar  = 67.5% ANY +DwarvenGloin ;;-;; //DwarfElf//
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = SLASH
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames  = Upgrade_ElvenForgedBlades
	End
End

;------------------------------------------------------------------------------
Weapon GondorRangerSword 
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = 800            ; time between shots, msec
	PreAttackDelay        = 700             ; 567 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_GondorSwordHit
	FireFlankFX		= FX_Flanking
	FiringDuration        = 800    ; Duration of the sword swing
	;OverrideVoiceAttackSound = ElvenWarriorVoiceAttack   ;RangerVoiceAttackSword


	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = GONDOR_RANGER_SWORD_DAMAGE
	    Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = SLASH
	    DamageFXType  = SWORD_SLASH
	    DeathType     = NORMAL
	    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End
End

;------------------------------------------------------------------------------
Weapon GandalfSword
  LeechRangeWeapon = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfSwordHit
  DelayBetweenShots     = GANDALF_THE_GREY_DELAYBETWEENSHOTS 		; time between shots, msec
  PreAttackDelay        = GANDALF_THE_GREY_PREATTACKDELAY 
  FiringDuration		= GANDALF_THE_GREY_FIRINGDURATION 		
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GANDALF_THE_GREY_DAMAGE				
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;---------------------------GandalfBlast.Weapon----------------------------------
Weapon GandalfWizardBlast ; small microwave push
	IdleAfterFiringDelay = 0
	LeechRangeWeapon	 = Yes
	AttackRange = 20 ;;=valheru=;; GANDALF_FORCE_ATTACK_RANGE
	WeaponSpeed = 401         ; dist/sec 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 100
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	FireFX                = FX_TelekinesisAtBone
	FiringDuration        = 100
	DamageDealtAtSelfPosition = Yes 
	IsAimingWeapon		= Yes
	AcceptableAimDelta	= 180 ;;=valheru=;; 15
	AntiAirborneVehicle	= No
	AntiAirborneMonster	= No


	;;-;; 	BLAST EXTRA!. UNLOCKS AT LVL8!
	DamageNugget
		Damage			= #MULTIPLY( GANDALF_FORCE_ATTACK_DAMAGE .1 )
 		DamageScalar	= 205% ANY +INFANTRY -HERO ; ; 150%
		DamageScalar	= 1000% ANY +TomBombadil ;;-;;
		DamageArc 		= 25 ;;.;; 45 ;;-;; 
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700; must match the ShockWaveSpeed below
		AcceptDamageAdd = No
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
	End
	MetaImpactNugget
;		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 25 ;;.;; 45 ;;-;; 110.0 ; ; 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.765 ;;-;; 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
	End
	;;-;; 	BLAST_ALWAYS
	DamageNugget
		Damage			= #MULTIPLY( GANDALF_FORCE_ATTACK_DAMAGE .7 )
 		DamageScalar	= 135% ANY +INFANTRY -HERO ; ; 150%
		DamageScalar	= 1000% ANY +TomBombadil ;;-;;
		DamageArc 		= 50 ;;.;; 75 ;;-;; 
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 650; must match the ShockWaveSpeed below
	End
	MetaImpactNugget
;		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 50 ;;.;; 75 ;;-;; 110.0 ; ; 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.765 ;;-;; 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 650
	End
	;;-;; 	BLAST_LEVEL1
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #MULTIPLY( GANDALF_FORCE_ATTACK_DAMAGE .3 )
 		;;-;; DamageScalar	= 135% ANY +INFANTRY -HERO -ElvenRivendellLancer -ElvenMithlondSentry -ElvenLorienWarrior -ElvenLorienArcher -ElvenMirkwoodArcher ;;-;; 150% ; ; 
		DamageScalar	= 1000% ANY +TomBombadil ;;-;;
		DamageArc 		= 75 ;;.;; 120 ;;-;; 135 ;;-;; 165 ;;=valheru=;;  75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 600.0 ;;-;; 700; must match the ShockWaveSpeed below
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel4 Upgrade_ObjectLevel8
		AcceptDamageAdd = No
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 75 ;;.;; 100 ;;-;; 120 ;;-;; 135 ;;-;; 110.0 ; ; 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.745 ;;-;; 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 600.0 ;;-;; 700
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel4 Upgrade_ObjectLevel8
	End
	;;-;; 	BLAST_LEVEL5
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #MULTIPLY( GANDALF_FORCE_ATTACK_DAMAGE .3 )
 		;;-;; DamageScalar	= 135% ANY +INFANTRY -HERO -ElvenRivendellLancer -ElvenMithlondSentry -ElvenLorienWarrior -ElvenLorienArcher -ElvenMirkwoodArcher ;;-;; 150% ; ; 
		DamageScalar	= 1000% ANY +TomBombadil ;;-;;
		DamageArc 		= 100 ;;.;; 127 ;;-;; 120 ;;-;; 135 ;;-;; 165 ;;=valheru=;;  75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 550.0 ;;-;; 700; must match the ShockWaveSpeed below
		RequiredUpgradeNames	= Upgrade_ObjectLevel4
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel8
		AcceptDamageAdd = No
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 100 ;;.;; 115 ;;-;; 127 ;;-;; 135 ;;-;; 7110.0 ; ; 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.75 ;;-;; 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 550.0 ;;-;; 700
		RequiredUpgradeNames	= Upgrade_ObjectLevel4
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel8
	End
	;;-;; 	BLAST_LEVEL8
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #MULTIPLY( GANDALF_FORCE_ATTACK_DAMAGE .3 )
 		;;-;; DamageScalar	= 135% ANY +INFANTRY -HERO -ElvenRivendellLancer -ElvenMithlondSentry -ElvenLorienWarrior -ElvenLorienArcher -ElvenMirkwoodArcher ;;-;; 150% ; ; 
		DamageScalar	= 1000% ANY +TomBombadil ;;-;;
		DamageArc 		= 125 ;;.;; 135 ;;-;; 140 ;;-;; 135 ;;-;; 165 ;;=valheru=;;  75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 500.0 ;;-;; 700; must match the ShockWaveSpeed below
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
		AcceptDamageAdd = No
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 125 ;;.;; 130 ;;-;; 135 ;;-;; 135 ;;-;; 135 ;;-;; 110.0 ; ; 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.755 ;;-;; 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 500.0 ;;-;; 700
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
	End
End


;---------------------------------SarumanBlast.Weapon------------------------------
Weapon SarumanWizardBlast ; small microwave push
	IdleAfterFiringDelay = 0
	LeechRangeWeapon	 = Yes
	AttackRange = GANDALF_FORCE_ATTACK_RANGE
	WeaponSpeed = 401         ; dist/sec 
	RadiusDamageAffects	  = ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots	  = 5000               ; time between shots, msec
	PreAttackDelay        = 1
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	FireFX                = FX_TelekinesisAtBoneSaruman
	FiringDuration        = 1
	DamageDealtAtSelfPosition = Yes 
	IsAimingWeapon		= Yes
	AcceptableAimDelta	= 15
	AntiAirborneVehicle	= No
	AntiAirborneMonster	= No

	;;-;; 	BLAST_LEVEL1
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= SARUMAN_FORCE_ATTACK_DAMAGE
		DamageTaperOff  = SARUMAN_FORCE_ATTACK_DAMAGE_TAPEROFF
		DamageScalar	= 220% ANY +DwarvenBattleWagon ;;-;;
		DamageScalar	= 70% ANY +ElvenMithlondSentry ;;.;;
		DamageScalar	= 80% ANY +DwarvenPhalanx ;;=dwarfisen=;;
		DamageScalar	= 80% ANY +DwarvenGuardian ;;=dwarfisen=;;
		DamageScalar	= 80% ANY +DwarvenAxeThrower ;;=dwarfisen=;;
		DamageScalar	= 200% ANY +HERO -GondorGandalf ;;=;;
		DamageScalar	= 300% ANY +GondorGandalf ;;=;;
		DamageArc 		= 75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 401.0 ;;.;; 650.0 ; must match the ShockWaveSpeed below
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel4 Upgrade_ObjectLevel7
		AcceptDamageAdd = No ;;.;;
	End
	;;-;; 	BLAST_LEVEL4
	DamageNugget	;;=;;
		Damage			= SARUMAN_FORCE_ATTACK_DAMAGE_LEVEL_4
		DamageTaperOff  = SARUMAN_FORCE_ATTACK_DAMAGE_TAPEROFF
		DamageScalar	= 220% ANY +DwarvenBattleWagon ;;-;;
		DamageScalar	= 70% ANY +ElvenMithlondSentry ;;.;;
		DamageScalar	= 80% ANY +DwarvenPhalanx ;;=dwarfisen=;;
		DamageScalar	= 80% ANY +DwarvenGuardian ;;=dwarfisen=;;
		DamageScalar	= 80% ANY +DwarvenAxeThrower ;;=dwarfisen=;;
		DamageScalar	= 200% ANY +HERO -GondorGandalf ;;=;;
		DamageScalar	= 300% ANY +GondorGandalf ;;=;;
		DamageArc 		= 75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 401.0 ;;.;; 650.0 ; must match the ShockWaveSpeed below
		RequiredUpgradeNames	= Upgrade_ObjectLevel4
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel7
		AcceptDamageAdd = No ;;.;;
	End
	;;-;; 	BLAST_LEVEL8
	DamageNugget	;;=;;
		Damage			= SARUMAN_FORCE_ATTACK_DAMAGE_LEVEL_7
		DamageTaperOff  = SARUMAN_FORCE_ATTACK_DAMAGE_TAPEROFF
		DamageScalar	= 220% ANY +DwarvenBattleWagon ;;-;;
		DamageScalar	= 70% ANY +ElvenMithlondSentry ;;.;;
		DamageScalar	= 80% ANY +DwarvenPhalanx ;;=dwarfisen=;;
		DamageScalar	= 80% ANY +DwarvenGuardian ;;=dwarfisen=;;
		DamageScalar	= 80% ANY +DwarvenAxeThrower ;;=dwarfisen=;;
		DamageScalar	= 200% ANY +HERO -GondorGandalf ;;=;;
		DamageScalar	= 300% ANY +GondorGandalf ;;=;;
		DamageArc 		= 75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 401.0 ;;.;; 650.0 ; must match the ShockWaveSpeed below
		RequiredUpgradeNames	= Upgrade_ObjectLevel7
		AcceptDamageAdd = No ;;.;;
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75 ;;.;; .85 ; ;.75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 75
		ShockWaveRadius   = 110.0 ;;-;; 100 ;;-;; 110.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 401.0 ;;.;; 650.0 
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel4 Upgrade_ObjectLevel7
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.65 ;;.;; .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 45
		ShockWaveRadius   = 110.0 ;;-;; 100 ;;-;; 110.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 401.0 ;;.;; 650.0 
		RequiredUpgradeNames	= Upgrade_ObjectLevel4
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel7
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.55 ;;.;; .65
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 45
		ShockWaveRadius   = 110.0 ;;-;; 100 ;;-;; 110.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 401.0 ;;.;; 650.0 
		RequiredUpgradeNames	= Upgrade_ObjectLevel7
	End
End

;------------------------------------------------------------------------------
Weapon TomBombadilSonicSong ; small microwave push
	IdleAfterFiringDelay		= 0
	LeechRangeWeapon			= Yes
	AttackRange					= TOM_BOMBADIL_SONIC_SONG_RANGE
	WeaponSpeed					= 401         ; dist/sec 
	RadiusDamageAffects			= ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots			= 5000               ; time between shots, msec
	PreAttackDelay        		= 100
	PreAttackType         		= PER_ATTACK ; Do the delay each time we attack a new target
	FireFX                		= FX_SonicSong
	FiringDuration        		= 100
	DamageDealtAtSelfPosition	= Yes 
	IsAimingWeapon				= Yes
	AcceptableAimDelta			= 15
	AntiAirborneVehicle			= No
	AntiAirborneMonster			= No

 	DamageNugget                ; A basic Nugget that just does damage
		Damage					= TOM_BOMBADIL_SONIC_SONG_DAMAGE
		DamageTaperOff 			= TOM_BOMBADIL_SONIC_SONG_DAMAGE_TAPEROFF
		DamageScalar            = 300% ANY +BarrowWight +BarrowWight_Slaved +BarrowWight_Summoned
		DamageScalar			= 120% ANY +IsengardFighter ;;-;;
		DamageScalar			= 120% ANY +IsengardPikeman ;;-;;
		DamageScalar			= 220% ANY +DwarvenBattleWagon ;;-;;
		DamageArc 				= 75
		DamageScalar            = 1% ANY +ARMY_OF_DEAD ;;-;;
		Radius					= 110.0 ;;-;;
		DamageType				= MAGIC
		DamageFXType			= MAGIC
		DeathType				= EXPLODED
		DamageSpeed				= 700.0 ; must match the ShockWaveSpeed below
 	End
	
	;;-;;	DamageNugget                ; A basic Nugget that just does damage
	;;-;;		Damage					= 150 ;;=;; TOM_BOMBADIL_SONIC_SONG_DAMAGE
	;;-;;		DamageScalar            = 300% ANY +BarrowWight +BarrowWight_Slaved +BarrowWight_Summoned
	;;-;;		DamageScalar			= 120% ANY +IsengardPikeman +IsengardFighter ;;-;;
	;;-;;		DamageArc 				= 75
	;;-;;		DamageScalar            = 1% ANY +ARMY_OF_DEAD ; ; 
	;;-;;		Radius					= 55.0 ;;=;; 110.0
	;;-;;		DamageType				= MAGIC
	;;-;;		DamageFXType			= MAGIC
	;;-;;		DeathType				= EXPLODED
	;;-;;		DamageSpeed				= 700.0 ; must match the ShockWaveSpeed below
 	;;-;;	End

	;;-;;	DamageNugget                ; A basic Nugget that just does damage
	;;-;;		Damage					= 200 ;;=;; TOM_BOMBADIL_SONIC_SONG_DAMAGE
	;;-;;		DamageScalar            = 300% ANY +BarrowWight +BarrowWight_Slaved +BarrowWight_Summoned
	;;-;;		DamageScalar			= 120% ANY +IsengardPikeman +IsengardFighter ;;-;;
	;;-;;		DamageArc 				= 75
	;;-;;		DamageScalar            = 1% ANY +ARMY_OF_DEAD ; ; 
	;;-;;		Radius					= 110.0
	;;-;;		DamageType				= MAGIC
	;;-;;		DamageFXType			= MAGIC
	;;-;;		DeathType				= EXPLODED
	;;-;;		DamageSpeed				= 700.0 ; must match the ShockWaveSpeed below
 	;;-;;	End
	MetaImpactNugget            ; A Nugget that throws things back with force
;		HeroResist				= .75
		ShockWaveAmount   		= 50.0
		ShockWaveArc	  		= 75
		ShockWaveRadius   		= 110.0
		ShockWaveTaperOff 		= 0.75
		ShockWaveZMult    		= 1.000
		ShockWaveSpeed	  		= 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon GandalfWordOfPower ; Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlastReal
	FireFX                = FX_GandalfBlastBTP ;;-;; FX_GandalfBlast
	FiringDuration      = 1400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= GANDALF_WORD_OF_POWER_DAMAGE
		DamageTaperOff	= GANDALF_WORD_OF_POWER_DAMAGE_TAPEROFF
		Radius			= GANDALF_WORD_OF_POWER_RADIUS
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	;;-;;	DamageNugget                        ; A basic Nugget that just does damage
	;;-;;		Damage			= #MULTIPLY( GANDALF_WORD_OF_POWER_DAMAGE .5 )
	;;-;;		Radius			= GANDALF_WORD_OF_POWER_INNER_RADIUS
	;;-;;		DamageType		= MAGIC
	;;-;;		DamageFXType	= MAGIC
	;;-;;		DeathType		= EXPLODED
	;;-;;		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	;;-;;	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist		  = 100% ;;=;; 
		ShockWaveAmount   = 175  ; ; 75.0
		ShockWaveRadius   = 500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
	MetaImpactNugget      ;;=;;
;		HeroResist			= .75
		ShockWaveAmount   = 100 ;;=;; 175
		ShockWaveRadius   = 500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon GandalfStaffWeapon  ; BALANCE GandalfStaffWeapon
	AttackRange			= GANDALF_PHASER_RANGE				;600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		; time between shots, msec
	FireFX              = FX_GandalfBeamWeapon
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GANDALF_PHASER_DAMAGE	
		DamageScalar  = 300% ANY +HERO -SUMMONED -MONSTER -CANNOT_RETALIATE -WildShelob -GondorAragorn -DwarvenGimli -ElvenElrond -MordorWitchKing -ElvenLegolas ; ; 150% ; ; Was 225 in 2.6, 300 for btp 3.0
 		DamageScalar  = 100% ANY +STRUCTURE
		DamageScalar  = 100% ANY +RohanGenericEnt +RohanTreeBerd
		DamageScalar  = 100% ANY +GoblinCaveTroll
		DamageScalar  = 100% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 100% ANY +MordorDrummerTroll
		DamageScalar  = 150% ANY +MordorAttackTroll ;;-;;
		DamageScalar  = 100% ANY +MordorMumakil ;;-;;
		;DamageScalar  = 100% ANY SPELLBOOK_SUMMONED_UNITS 
		DamageScalar  = 60% ANY +MordorWitchKingOnFellBeast ; ; 140%  ; ; 200% Changed to 80 For BTP 3.0
		DamageScalar  = 110% ANY +Drogoth
;;=;;	DamageScalar  = 110% ANY +MordorFellBeast ; ; 180% ; ;  Was 126% for 2.6, 110 for 3.0 btp
		DamageScalar  = 135% ANY +ElvenLegolas ;;.;; 200% ;;.;; 300%
		DamageScalar  = 350% ANY +GondorAragorn ;;-FixedGimliAragornLink-;;  ;;=;; 380% ; ; 	
		DamageScalar  = 350% ANY +ElvenElrond ;;-FixedGimliAragornLink-;;  ;;=;; 380% ; ; 	
		DamageScalar  = 300% ANY +DwarvenGimli ;;-;; 
		DamageScalar  = 180% ANY +ElvenFortressEagle ;;=;; 200% ; ;
		DamageScalar  = 270% ANY +GondorGwaihir_Summoned ;;=;; 300%
		DamageScalar  = 350% ANY +WildShelob ;;-;; 300%
		DamageScalar  = 280% ANY +MordorWitchKing ;;.;; 410% ;;=;; 
		
		
		
		Radius        = 17.6
		DelayTime     = 200           ;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist          =   0.75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 17.6
		ShockWaveTaperOff	= 0.5
		DelayTime			= 200		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End
End

;------------------------------------------------------------------------------
Weapon GandalfLightningSwordBlastWeapon  ; BALANCE GandalfStaffWeapon
	AttackRange			= GANDALF_LIGHTNING_RANGE				;600
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage			= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots		= 500	; time between shots, msec
	PreAttackDelay      		= 200	
	PreAttackType       		= PER_SHOT	; Do the delay each time we attack a new target
	FireFX              		= FX_GandalfLightningSwordBlastWeapon
	
	FiringDuration      		= 1
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= GANDALF_LIGHTNING_DAMAGE_FLAME
		DamageScalar		= 80% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		Radius				= 12 ; ; added in 3.00		
		DamageType    		= FLAME
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= GANDALF_LIGHTNING_DAMAGE
		DamageScalar		= 80% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DamageScalar		= 25% ANY +COMMANDCENTER		
		DamageScalar		= 110% ANY +HERO -TomBombadil -MordorBalrog -GondorAragorn -DwarvenGimli -ElvenElrond -MordorWitchKing ; ; 30% ANY +HERO ; ;	added for BT 3.0
		DamageScalar		= 170% ANY +GondorAragorn +DwarvenGimli +ElvenElrond ;;=;; 125% ; ; 30% ANY +HERO ; ;	added for BT 3.0
		DamageScalar		= 170% ANY +WildShelob ;;-;; 110%
		DamageScalar		= 136% ANY +MordorWitchKing ;;.;; 200% ;;=;;
		DamageScalar		= 25% ANY +MordorBalrog ;;.;; 30%
		DamageScalar		= 1000% ANY +TomBombadil ;;-;;
		DamageScalar		= 35% ANY +MordorMumakil ;;-;;
		DamageType    		= MAGIC
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
	End
	
	//BALANCE 09v3ElectrifyTheBalrog// 		
 	SpecialModelConditionNugget ;;.;;
		ModelConditionNames		= HIT_LEVEL_2
		ModelConditionDuration	= 500
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
End
; ;  grech gandy
;------------------------------------------------------------------------------
Weapon GandalfSwordMounted			;Mounted sword is the same as normal sword except it bends to the left
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfSwordMountedHit
  DelayBetweenShots     = 2000            ; time between shots, msec
  PreAttackDelay        = 750
  FiringDuration		= 750
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;;-;;AimDirection			= 315 ; ;270		; In order to aim at something, we aim this far off (to the right would be aiming at 270 degrees).

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 150
    Radius        = 0.0

    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
;Weapon GandalfStaffWeaponMounted  ; BALANCE GandalfStaffWeapon
;	AttackRange			= GANDALF_PHASER_RANGE ;200
;	LeechRangeWeapon	= Yes
;	WeaponSpeed			= 801      ; dist/sec 
;	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
;	
;	DelayBetweenShots	= 4500		; time between shots, msec
;	PreAttackDelay      = 2000
;	PreAttackType       = PER_SHOT	; Do the delay each time we attack a new target
;	FireFX              = FX_GandalfBeamWeaponMounted
;	FiringDuration      = 2500
;		
;	AntiAirborneVehicle	= Yes
;	AntiAirborneMonster = Yes
;	ClipSize			= 1			; how many shots in a Clip (0 == infinite)
;	ClipReloadTime		= 30000     ; how long to reload a Clip, msec
;	AutoReloadsClip		= Yes
;	IdleAfterFiringDelay = 2500;
;	HoldAfterFiringDelay = 2500;
;
;	RadiusDamageAffects = ENEMIES NOT_SIMILAR
;
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage        = 120
;		Radius        = 17.6
;		DelayTime     = 600				;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
;		DamageType    = MAGIC
;		DamageFXType  = FLAME
;		DeathType     = NORMAL
;	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
;		ShockWaveAmount		= 50.0
;		ShockWaveRadius		= 17.6
;		ShockWaveTaperOff	= 0.5
;		DelayTime			= 600		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
;	End
;
;End

;------------------------------------------------------------------------------

Weapon FaramirWoundArrow
	AttackRange				= FARAMIR_WOUNDING_ARROW_RANGE
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FaramirWoundingArrow
	ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100		 ;When this weapon is used it will hit exactly 75% of the time.
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots			= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:FARAMIR_BOW_RELOADTIME_MIN Max:FARAMIR_BOW_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
	ProjectileNugget										; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= FaramirSpecialArrow
		WarheadTemplateName	= FaramirWoundArrowWarhead
	End
End

;------------------------------

Weapon FaramirWoundArrowWarhead

	ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = FARAMIR_WOUNDING_ARROW_DAMAGE
		DamageScalar  = 10% ANY +STRUCTURE 
		DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
		DamageScalar  = 140% ANY +MordorMumakil ;;-;; 120% ;;-;; 
		DamageScalar  = 220% ANY +MordorWitchKingOnFellBeast  ;;=;; 300%
		DamageScalar  = 240% ANY +MordorFellBeast  ;;=;; 300%
		DamageScalar  = 118% ANY +Drogoth ;;-;; 125% ;;=;;  ;;=;;
		DamageScalar  = 100% ANY +GoblinCaveTroll
		DamageScalar  = 150% ANY +CaveTroll_Slaved
		DamageScalar  = 150% ANY +MordorMountainTroll
		DamageScalar  = 150% ANY +MordorDrummerTroll
		DamageScalar  = 150% ANY +MordorAttackTroll
		DamageScalar  = 25% ANY +ElvenLegolas ; ;
		DamageScalar  = 85% ANY +RohanGenericEnt +RohanTreeBerd ; ; 200%
		DamageScalar  = 110% ANY +DwarvenBattleWagon ;;-;; +DwarvenBattleWagon
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
; ;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = FARAMIR_WOUNDING_ARROW_DAMAGE
		DamageScalar  = 80% ANY +EvilMenBlackRider ;;=menmordor=;;
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = CAVALRY
		DamageFXType  = REFLECTED ; ;
		DeathType     = EXPLODED
		SpecialObjectFilter	= ANY +HERO -MONSTER
	End
	
	 MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 100%
		ShockWaveAmount		= 19 ;=; 25.0
		ShockWaveRadius		= 16
		ShockWaveArc		= 120
		ShockWaveTaperOff	= 1
		SpecialObjectFilter	= ALL -MONSTER ;;-;; 
	End

	EmotionWeaponNugget
		EmotionType			= TERROR
		Radius				= 0
		Duration			= 7 ;;-;;; 5
		SpecialObjectFilter	= ANY ENEMIES +MONSTER
	End

End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Elves
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------

Weapon HaldirBow
	AttackRange			= HALDIR_BOW_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( HALDIR_BOW_RANGE .01 )
	
					
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed		= 241
	MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 5.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= HALDIR_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay      = HALDIR_PREATTACKDELAY 	; 1467 is the prep time for archer.
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = HALDIR_FIRINGDURATION 	; Duration of the archer firing shot is 500ms.

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:HALDIR_RELOADTIME_MIN Max:HALDIR_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= HALDIR_RELOADTIME_MAX
    InstantLoadClipOnActivate = Yes

    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes
    
	ProjectileNugget                    ; Default Arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = HaldirBowWarhead
	End
End

;-----------------------------------
Weapon HaldirBowWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = HALDIR_BOW_DAMAGE
    ;DamageScalar  = 25000% ANY +MordorMumakil
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon HaldirGoldenArrow
	AttackRange					= HALDIR_BOW_RANGE				
	LeechRangeWeapon			= Yes
	WeaponSpeed					= 273 ; ; 321
	MinWeaponSpeed				= 205 ; ; 241
	MaxWeaponSpeed				= 408 ; ; 481
	FireFX						= FX_HaldirGoldenArrowShoot09v3 ;;.;; FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	ScatterRadius				= 5.0

	DelayBetweenShots			= HALDIR_DELAYBETWEENSHOTS
	PreAttackDelay				= HALDIR_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	FiringDuration				= HALDIR_FIRINGDURATION

	ProjectileNugget
		ProjectileTemplateName	= HaldirGoldenArrowProjectile
		WarheadTemplateName		= HaldirGoldenArrowWarhead
	End
End

;-----------------------------------
Weapon HaldirGoldenArrowWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget			= Yes

	;;.;; Let it come from projectile detonate.
 	;;.;; WeaponOCLNugget
 	;;.;; 	WeaponOCLName = OCL_GoldenArrowDaylight //-//
 	;;.;; End
	
	DamageNugget
		Damage				= HALDIR_GOLDENARROW_DAMAGE_HERO_RANGED
		DamageTaperOff		= #MULTIPLY( HALDIR_GOLDENARROW_DAMAGE_HERO_RANGED HALDIR_GOLDENARROW_DAMAGE_TAPEROFF )
		DamageScalar		= 1% ANY +STRUCTURE ;;-;;
 		DamageScalar		= 35% ANY +Drogoth ;;-;; 
		DamageScalar		= 65% ANY +ElvenLegolas +GondorFaramir +IsengardWormTongue;;-;;
 		DamageScalar		= 70% ANY +GondorGandalf ;;-;;
 		DamageScalar		= 80% ANY +ElvenFortressEagle +GondorGwaihir_Summoned ;;-;; 60%
   		Radius				= 8 ;;.;; 19 ; ; 0.0
		DamageArc			= 90
		DelayTime			= 0
		DamageType			= HERO_RANGED
		DamageFXType		= MAGIC
		DeathType			= NORMAL
	End
	
	DamageNugget
		Damage				= HALDIR_GOLDENARROW_DAMAGE_SPECIALIST
		DamageTaperOff		= #MULTIPLY( HALDIR_GOLDENARROW_DAMAGE_SPECIALIST HALDIR_GOLDENARROW_DAMAGE_TAPEROFF )
		DamageScalar		= 1% ANY +STRUCTURE ;;-;;
 		DamageScalar		= 33% ANY +ElvenElrond +DwarvenGimli +IsengardSaruman +ElvenHaldir +DwarvenDain +GondorAragorn +ElvenThranduil +ElvenFortressEagle +GondorGwaihir_Summoned ;;-;;
  		Radius				= 7 ;;.;; 15 ; ; 0.0
		DamageArc			= 90
		DelayTime			= 0
		DamageType			= SPECIALIST
		DamageFXType		= MAGIC
		DeathType			= NORMAL
 	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 5 ;;.;; 15 ; ; 25.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.3 ;; 1.4
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 35.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 10 ;;.;; 25 ; ; 50.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.7 ;; 0.8
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 30.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 15 ;;.;; 50 ; ; 120.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.4 ;; 0.5
	End
End

;------------------------------------------------------------------------------
Weapon HaldirGoldenArrowLevel10
	AttackRange					= HALDIR_BOW_RANGE				
	LeechRangeWeapon			= Yes
	WeaponSpeed					= 273 ; ; 321
	MinWeaponSpeed				= 205 ; ; 241
	MaxWeaponSpeed				= 408 ; ; 481
	FireFX						= FX_HaldirGoldenArrowShoot09v3 ;;.;; FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	ScatterRadius				= 5.0

	DelayBetweenShots			= HALDIR_DELAYBETWEENSHOTS
	PreAttackDelay				= HALDIR_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	FiringDuration				= HALDIR_FIRINGDURATION

	ProjectileNugget
		ProjectileTemplateName	= HaldirGoldenArrowProjectileLevel10
		WarheadTemplateName		= HaldirGoldenArrowLevel10Warhead
	End
End

;-----------------------------------
Weapon HaldirGoldenArrowLevel10Warhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget			= Yes

	;;.;; Let it come from projectile detonate.
 	;;.;; WeaponOCLNugget
 	;;.;; 	WeaponOCLName = OCL_GoldenArrowDaylight //-//
 	;;.;; End
	
	DamageNugget
		Damage				= HALDIR_GOLDENARROW_DAMAGE_HERO_RANGED_LEVEL10
		DamageTaperOff		= #MULTIPLY( HALDIR_GOLDENARROW_DAMAGE_HERO_RANGED_LEVEL10 HALDIR_GOLDENARROW_DAMAGE_TAPEROFF )
		DamageScalar		= 1% ANY +STRUCTURE ;;-;;
 		DamageScalar		= 35% ANY +Drogoth ;;-;; 
		DamageScalar		= 65% ANY +ElvenLegolas +GondorFaramir +IsengardWormTongue;;-;;
 		DamageScalar		= 70% ANY +GondorGandalf ;;-;;
 		DamageScalar		= 80% ANY +ElvenFortressEagle +GondorGwaihir_Summoned ;;-;; 60%
   		Radius				= 19 ; ; 0.0
		DamageArc			= 90
		DelayTime			= 0
		DamageType			= HERO_RANGED
		DamageFXType		= MAGIC
		DeathType			= NORMAL
	End
	
	DamageNugget
		Damage				= HALDIR_GOLDENARROW_DAMAGE_SPECIALIST_LEVEL10
		DamageTaperOff		= #MULTIPLY( HALDIR_GOLDENARROW_DAMAGE_SPECIALIST_LEVEL10 HALDIR_GOLDENARROW_DAMAGE_TAPEROFF )
		DamageScalar		= 1% ANY +STRUCTURE ;;-;;
 		DamageScalar		= 33% ANY +ElvenElrond +DwarvenGimli +IsengardSaruman +ElvenHaldir +DwarvenDain +GondorAragorn +ElvenThranduil +ElvenFortressEagle +GondorGwaihir_Summoned ;;-;;
  		Radius				= 15 ; ; 0.0
		DamageArc			= 90
		DelayTime			= 0
		DamageType			= SPECIALIST
		DamageFXType		= MAGIC
		DeathType			= NORMAL
 	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 15 ; ; 25.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.4
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 35.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 25 ; ; 50.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.8
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 30.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 50 ; ; 120.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.5
	End
End
;------------------------------------------------------------------------------
Weapon HaldirSword  ; BALANCE Haldir Sword Weapon
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = HALDIR_SWORD_DELAYBETWEENSHOTS   	       ; time between shots, msec
	PreAttackDelay        = HALDIR_SWORD_PREATTACKDELAY   	;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FireFX                = FX_GondorSwordHit
	FiringDuration        = HALDIR_SWORD_FIRINGDURATION   			;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	HitPercentage = 0 ; ;Always scatter
  	ScatterRadius			= 10.0 ; ;
	ScatterIndependently	= YES ; ;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = HALDIR_SWORD_DAMAGE_SPLASH
		DamageTaperOff = #MULTIPLY( HALDIR_SWORD_DAMAGE_SPLASH HALDIR_SWORD_DAMAGE_TAPEROFF ) ;;-;;
 		DamageScalar  = 60% ANY +STRUCTURE ;;.;; 37% ;;-;; 
		;;.;; DamageScalar  = 100% ANY +HERO ;;.;; 85% ;;.;; 75% ;;-;; 
		;;.;; DamageScalar  = 100% ANY +MONSTER ;;.;; 75% ;;-;;
		DamageScalar  = 66% ANY +DwarvenBattleWagon ;;.;; 50% ;;-;; 70% ;;-;;
		Radius        = 10.0 ; ;
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End
	; ;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = HALDIR_SWORD_DAMAGE_REFLECTED
		DamageTaperOff = #MULTIPLY( HALDIR_SWORD_DAMAGE_REFLECTED HALDIR_SWORD_DAMAGE_TAPEROFF ) ;;-;;
 		DamageScalar  = 60% ANY +STRUCTURE ;;.;; 37% ;;-;; 
		;;.;; DamageScalar  = 100% ANY +HERO ;;.;; 85% ;;.;; 75% ;;-;; 
		;;.;; DamageScalar  = 100% ANY +MONSTER ;;.;; 75% ;;-;;
		DamageScalar  = 66% ANY +DwarvenBattleWagon ;;.;; 50% ;;-;; 70% ;;-;;
		Radius        = 2
		DelayTime     = 200
		DamageType    = HERO
		DamageFXType  = REFLECTED ; ;
		DeathType     = EXPLODED
	End
End

;//------------------------------------------------------------------------------
;//------------------------------------------------------------------------------
;//------------------------------------------------------------------------------
;
;//  Dwarves
;
;//------------------------------------------------------------------------------
;//------------------------------------------------------------------------------
;//------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Weapon DwarvenArcherBowMelee       ; BALANCE Archer Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
;  FireFX                = FX_DwarvenArcherBowWeapon;
  DelayBetweenShots     = 2000            ; time between shots, msec
  PreAttackDelay        = 666             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 1000    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = DWARVEN_MENOFDALE_MELEE_DAMAGE	
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End
;------------------------DwarvenMenOfDaleBow---------------------------
Weapon DwarvenArcherBow
	AttackRange         = DWARVEN_MENOFDALE_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_RANGE .01 )
	
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = DWARVEN_MENOFDALE_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:DWARVEN_MENOFDALE_BOW_RELOADTIME_MIN Max:DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = DwarvenArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_DwarvenFireArrows
	End
	ProjectileNugget	; Fire arrow avialble through fire upgrade
		ProjectileTemplateName  = GoodFactionFireArrow
		WarheadTemplateName     = DwarvenArcherBowFireWarhead
		RequiredUpgradeNames    = Upgrade_DwarvenFireArrows
	End
End


Weapon DwarvenArcherBowBombard
	AttackRange         = DWARVEN_MENOFDALE_BOMBARD_MAXRANGE
	MinimumAttackRange  = #SUBTRACT( DWARVEN_MENOFDALE_BOMBARD_MINRANGE 75 )
	
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_BOMBARD_MAXRANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ;Always scatter
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = DWARVEN_MENOFDALE_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:DWARVEN_MENOFDALE_BOW_RELOADTIME_MIN Max:DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrowBombard
		WarheadTemplateName     = DwarvenArcherBowBombardWarhead
		ForbiddenUpgradeNames   = Upgrade_DwarvenFireArrows
	End
	ProjectileNugget	; Fire arrow avialble through fire upgrade
		ProjectileTemplateName  = GoodFactionFireArrowBombard
		WarheadTemplateName     = DwarvenArcherBowBombardFireWarhead
		RequiredUpgradeNames    = Upgrade_DwarvenFireArrows
	End
End

;--------------------------------DwarvenBattleWagonPassenger.Archer.Weapon----------------------------------------
Weapon DwarvenBattleWagonMenOfDaleWeapon

	AttackRange         = DWARVEN_BATTLEWAGON_MEN_OF_DALE_RANGE ;;.;; #DIVIDE( DWARVEN_BATTLEWAGON_MEN_OF_DALE_RANGE 100 ) ;;.;;
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_RANGE .01 )
	
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 0.0 ; ;16.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 60	; ; 20; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = 100 ; ; DWARVEN_MENOFDALE_PREATTACKDELAY   
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_SHOT ; ;PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:750 Max:1000 ; ;Min:DWARVEN_MENOFDALE_BOW_RELOADTIME_MIN Max:DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= 4000 ; ; DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX   


	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	CanFireWhileMoving	= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = DwarvenBattleWagonArcherBowWarhead ; ;DwarvenArcherBowWarhead
	End
End

;----------------------------DwarvenMenOfDaleBowWarHead
Weapon DwarvenArcherBowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
  	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_MENOFDALE_DAMAGE
		DamageScalar  = 115% ANY +MONSTER ;;-;;
		DamageScalar  = 115% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = EXPLODED
	End
End

Weapon DwarvenArcherBowBombardWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = No
  	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_MENOFDALE_DAMAGE
		DamageScalar  = 115% ANY +MONSTER ;;-;;
		DamageScalar  = 115% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = EXPLODED
	End
End
; ;
Weapon DwarvenBattleWagonArcherBowWarhead ;; aka BattleWagonMenOfDale
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.

  	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_BATTLEWAGON_MEN_OF_DALE_DAMAGE
		DamageScalar  = 32% ANY +PIKE -IsengardPikeman -DwarvenPhalanx;;-;; 25% ; ; 50%
		DamageScalar  = 76% ANY +IsengardPikeman ;;-;; 60% ;;=;; ; ; 50%
		DamageScalar  = 76% ANY +DwarvenPhalanx ;;-;; 60% ;;=;; ; ; 50%
		DamageScalar  = 42% ANY +PORTER ;;-;; 33.3%
		DamageScalar  = 42% ANY +HERO -CANNOT_RETALIATE ;;-;; 33.3%
;;-;;	DamageScalar  = 78% ANY +GoblinCaveTroll ;;-;; 65% ANY +GoblinCaveTroll ;;=;; 90%
;;-;;	DamageScalar  = 75% ANY +CANNOT_RETALIATE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = CAVALRY_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = EXPLODED
	End
End

Weapon DwarvenArcherBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_MENOFDALE_FIRE_UPGRADE_DAMAGE_FIRE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_MENOFDALE_FIRE_UPGRADE_DAMAGE
		DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
		DamageScalar  = 115% ANY +MONSTER ;;-;;
		DamageScalar  = 115% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( DWARVEN_MENOFDALE_FIRE_UPGRADE_DAMAGE .15 )
	;;.;;		DamageScalar  = 115% ANY +MONSTER -SUMMONED +WildSpiderling ;;-;; //SpiderLingPIERCE//
 	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = PIERCE
	;;.;;		DamageFXType    = GOOD_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
	;;.;;	End
End

Weapon DwarvenArcherBowBombardFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = No

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_MENOFDALE_FIRE_UPGRADE_DAMAGE_FIRE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End
;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_MENOFDALE_FIRE_UPGRADE_DAMAGE
		DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
		DamageScalar  = 115% ANY +MONSTER ;;-;;
		DamageScalar  = 115% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( DWARVEN_MENOFDALE_FIRE_UPGRADE_DAMAGE .15 )
	;;.;;		DamageScalar  = 115% ANY +MONSTER -SUMMONED +WildSpiderling ;;-;; //SpiderLingPIERCE//
 	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = PIERCE
	;;.;;		DamageFXType    = GOOD_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
	;;.;;	End

	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End

;//-----------------------------------
Weapon DwarvenMenOfDaleBlackArrowsRangeFinder
	AttackRange			= 460 ; ; #SUBTRACT( DWARVEN_MENOFDALE_RANGE 125 )   ; ;100 
	RangeBonusMinHeight	= 10
	RangeBonus			= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_RANGE .01 )
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
		LockWeaponSlot		= QUINARY
	End
End

;//-----------------------------------
Weapon DwarvenMenOfDaleBlackArrows
	AttackRange         = 460 ; ; DWARVEN_MENOFDALE_RANGE
	
	LeechRangeWeapon = Yes ;;.;; //BALANCE RangedAbilitiesNotFailing_2022//
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_RANGE .01 )
	
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = DWARVEN_MENOFDALE_PREATTACKDELAY   
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:DWARVEN_MENOFDALE_BOW_RELOADTIME_MIN Max:DWARVEN_MENOFDALE_BOW_RELOADTIME_MAX

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = BlackArrowsProjectile
		WarheadTemplateName     = DwarvenMenOfDaleBlackArrowWarhead
	End
End

Weapon DwarvenMenOfDaleBlackArrowWarhead
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget		= Yes
	DamageNugget
		;;.;; 109v3AcceptDamageAddsIfScalaredDamage ;;.;; 
		Damage			= DWARVEN_MENOFDALE_DAMAGE_BLACKARROWS
		DamageScalar	= 1% ANY +STRUCTURE 
		DamageScalar	= 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
	;;//Broken//;;DamageScalar	= 35% ANY +MONSTER +SHIP +MordorBalrog -MordorMumakil -CANNOT_RETALIATE -GoblinCaveTroll -CaveTroll_Slaved;; 15% ;; 100%
		DamageScalar	= 42% ANY TROLL_UNITS ;;=;; 
		DamageScalar	= 50% ANY +HERO -CANNOT_RETALIATE;=;;  15%
		DamageScalar    = 165% ANY +MordorMumakil ;;=;; 150%
		DamageScalar	= 60% ANY +MordorWitchKingOnFellBeast ;;.;; 50%
		DamageScalar	= 60% ANY +Drogoth ;;.;; 50%
		DamageScalar	= 60% ANY +MordorFellBeast ;;.;; 50%
		DamageScalar	= 50% ANY +GondorGwaihir_Summoned
		DamageScalar	= 50% ANY +ElvenFortressEagle
		;;-;; DamageScalar	= 50% ANY +SUMMONED
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= HERO ; ;PIERCE
		DamageFXType	= GOOD_ARROW_PIERCE
		DeathType		= EXPLODED
		AcceptDamageAdd	= Yes //from 100 to 165
		;;.;; SpecialObjectFilter = ALL -HERO -CANNOT_RETALIATE
	End

	;;.;;	DamageNugget
	;;.;;		Damage			= DWARVEN_MENOFDALE_DAMAGE_BLACKARROWS
	;;.;;		;;=;; following scalars should be used to keep a similar damage on all flyers, considering their HP and armors.
	;;.;;		;;=;;		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast
	;;.;;		;;=;;		DamageScalar	= 40% ANY +Drogoth
	;;.;;		;;=;;		DamageScalar	= 50% ANY +MordorFellBeast
	;;.;;		;;=;;		DamageScalar	= 30% ANY +GondorGwaihir_Summoned +ElvenFortressEagle
	;;.;;		DamageScalar	= 50% ANY +HERO ;=;;  15%
	;;.;;		SpecialObjectFilter = ANY +HERO 
	;;.;;		Radius			= 0.0
	;;.;;		DelayTime		= 0
	;;.;;		DamageType		= HERO
	;;.;;		DamageFXType	= GOOD_ARROW_PIERCE
	;;.;;		DeathType		= EXPLODED
	;;.;;		AcceptDamageAdd	= No ;;=;;
	;;.;;	End

	EmotionWeaponNugget
		EmotionType			= TERROR
		Radius				= 0
		Duration			= 5
		SpecialObjectFilter	= ANY ENEMIES +INFANTRY +MONSTER ;;.;;
	End
End

; ; 
; ; 

;//-----------------------------------
Weapon DwarvenIronHillsCatapultRock	//BALANCE ActiveArtilleryWeapon//
  AttackRange = DWARVEN_CATAPULT_ROCK_RANGE
  MinimumAttackRange	= DWARVEN_CATAPULT_ROCK_MINRANGE
  
  RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( DWARVEN_CATAPULT_ROCK_RANGE .01 )
  
  WeaponSpeed			= 201         ;// dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_DwarvenCatapultWeapon
  DelayBetweenShots		= DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT									;// Do the delay each time we attack a new target
  FiringDuration		= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
  RequireFollowThru		= Yes
  ShareTimers			= Yes ;// share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ;// Need no target
  LeechRangeWeapon		= Yes
  
  ScatterRadiusVsInfantry			= 0.0 ; ;40.0  
; ;  DisableScatterForTargetsOnWall	= Yes
	HitPercentage				= 0     ; ;100; Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 27 Y: 23
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 38 Y: 27
  	ScatterTarget           = X:-32 Y:-29
  	ScatterTarget           = X:-23 Y: 23
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultRockProjectile		;MordorCatapultRockProjectile
    WarheadTemplateName = DwarvenIronHillsCatapultRockWarhead
    WeaponLaunchBoneSlotOverride = PRIMARY ; ;
  End

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultRockProjectile2		;MordorCatapultRockProjectile
    WarheadTemplateName = DwarvenIronHillsCatapultRockWarhead
    WeaponLaunchBoneSlotOverride = SECONDARY
  End
  
  ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
	
End

; ;//-----------------------------------
Weapon DwarvenIronHillsAntiShipCatapultRock	//BALANCE BT2DCAntiShipsWeapon//
  AttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE
  MinimumAttackRange	= BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
  
  RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( DWARVEN_CATAPULT_ROCK_RANGE .01 )
  
  WeaponSpeed			= 201         ;// dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_DwarvenCatapultWeapon
  DelayBetweenShots		= 12000 ; ; DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	// time between shots, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT									;// Do the delay each time we attack a new target
  FiringDuration		= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = 12000 ; ; how long to reload a Clip, msec
  RequireFollowThru		= Yes
  ShareTimers			= Yes ;// share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ;// Need no target
  LeechRangeWeapon		= Yes
  
  ScatterRadiusVsInfantry			= 0.0 ; ;40.0  
	HitPercentage				= 0     ; ;100; Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1.3; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 83 Y: 74
  ScatterTarget           = X: 60 Y:-92
  ScatterTarget           = X:-25 Y: 36
  ScatterTarget           = X: 19 Y: 16
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 26 Y: 19
  ScatterTarget           = X:-102 Y:-80
  ScatterTarget           = X:-16 Y: 16
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultRockProjectileBombard		; ;MordorCatapultRockProjectile
    WarheadTemplateName = DwarvenIronHillsCatapultAntiShipRockWarhead ; ;
    WeaponLaunchBoneSlotOverride = PRIMARY
  End

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultRockProjectile2Bombard		; ;MordorCatapultRockProjectile
    WarheadTemplateName = DwarvenIronHillsCatapultAntiShipRockWarhead
    WeaponLaunchBoneSlotOverride = SECONDARY
  End
  
  ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
	
End


;//-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon DwarvenIronHillsCatapultRockWarhead
	;FireFX= FX_RockDetonation
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar   = 0% ANY +SHIP ; ;
		Radius	 = DWARVEN_CATAPULT_ROCK_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_CATAPULT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
End

; ;//-----------------------------------
Weapon DwarvenIronHillsCatapultAntiShipRockWarhead ;;=;;  //BALANCE BT2DCAntiShipsWarhead//
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
		Radius		  = BT2DC_ARTILLERY_BOMBARD_RADIUS_UPGRADED
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	;;.;;	DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( DWARVEN_CATAPULT_ROCK_DAMAGE 0.5 ) ;;-;;
	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
End


;//-----------------------------------
Weapon DwarvenIronHillsCatapultFlamingShot 	//BALANCE ActiveArtilleryWeapon.Upgraded//
  AttackRange = DWARVEN_CATAPULT_ROCK_RANGE
  MinimumAttackRange	= DWARVEN_CATAPULT_ROCK_MINRANGE
  
  RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_CATAPULT_ROCK_RANGE .01 )
  
  WeaponSpeed			= 201         ;// dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_DwarvenCatapultWeapon
  DelayBetweenShots		= DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT									;// Do the delay each time we attack a new target
  FiringDuration		= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
  RequireFollowThru		= Yes
  ShareTimers			= Yes ;// share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ;// Need no target
  LeechRangeWeapon		= Yes
  
  ScatterRadiusVsInfantry			= 0.0 ; ;40.0  
; ;  DisableScatterForTargetsOnWall	= Yes
; ;  HitPercentage						= 100 ;//always hits.
;//ScatterRadius					= 50.0 ;When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1.0 ; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 68 Y: 23
  	ScatterTarget           = X: 31 Y:-50
  	ScatterTarget           = X:-39 Y: 57
  	ScatterTarget           = X: 29 Y: 25
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 41 Y: 29
  	ScatterTarget           = X:-35 Y:-31
  	ScatterTarget           = X:-25 Y: 25
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.


   ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectile
    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead
;    ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
    WeaponLaunchBoneSlotOverride = PRIMARY ; ;
  End

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectile
    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead
    WeaponLaunchBoneSlotOverride = SECONDARY
;    ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
  End
  
;   ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectileMith
;    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead
;    RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
;  End

;  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectileMith
;    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead
;    WeaponLaunchBoneSlotOverride = SECONDARY
;    RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
;  End
  
  	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

; ;//-----------------------------------
Weapon DwarvenIronHillsCatapultAntiShipFlamingShot  	//BALANCE BT2DCAntiShipsWeapon.Upgraded//
  AttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE
  MinimumAttackRange	= BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
  
  RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_CATAPULT_ROCK_RANGE .01 )
  
  WeaponSpeed			= 201         ;// dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_DwarvenCatapultWeapon
  DelayBetweenShots		= 12000 ; ; DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	// time between shots, msec
  ClipSize 				= 8 ; ;
  AutoReloadsClip 		= Yes
  ClipReloadTime          = 12000 ; ; DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS ; how long to reload a Clip, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT									;// Do the delay each time we attack a new target
  FiringDuration		= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
  RequireFollowThru		= Yes
  ShareTimers			= Yes ;// share timer with catapult heads to you can't fire both in quick succession

  NoVictimNeeded		= Yes ;// Need no target
  LeechRangeWeapon		= Yes
  
  ScatterRadiusVsInfantry			= 0.0 ; ;40.0  
  HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
  ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  ScatterTargetScalar = 1.3 ; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 83 Y: 74
  ScatterTarget           = X: 60 Y:-92
  ScatterTarget           = X:-25 Y: 36
  ScatterTarget           = X: 19 Y: 16
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 26 Y: 19
  ScatterTarget           = X:-102 Y:-80
  ScatterTarget           = X:-16 Y: 16
  ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectileBombard ; ;
    WarheadTemplateName = DwarvenCatapultAntiShipFlamingShotWarhead
    WeaponLaunchBoneSlotOverride = PRIMARY ; ;
  End

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectileBombard ; ;
    WarheadTemplateName = DwarvenCatapultAntiShipFlamingShotWarhead
    WeaponLaunchBoneSlotOverride = SECONDARY
  End
  
  ProjectileNugget													; This nugget is to create a revealing object, so fire
  	AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
  	UseAlwaysAttackOffset	= Yes									; so we don't assert.
  	ProjectileTemplateName  = ShroudRevealer_Bombard
  	WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
  End
End


;//-----------------------------------
Weapon DwarvenIronHillsCatapultOilBarrel  ;// BALANCE Catapult Weapon
	AttackRange					= DWARVEN_CATAPULT_OILBARREL_RANGE
	MinimumAttackRange			= DWARVEN_CATAPULT_OILBARREL_MINRANGE ;;-;; 150
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( DWARVEN_CATAPULT_OILBARREL_RANGE .01 )
	
	
	WeaponSpeed					= 100
	MinWeaponSpeed				= 80
	MaxWeaponSpeed				= 150
	ScaleWeaponSpeed			= Yes
; ;	HitPercentage				= 100
	PreAttackType				= PER_SHOT
	;FireFX						= FX_DwarvenCatapultWeapon 	;sound played by triggersound
	DamageType					= FLAME
	AcceptableAimDelta			= 180.0
	DelayBetweenShots			= DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
	FXTrigger					= CATAPULT_ROCK
	PreAttackDelay				= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
	FiringDuration				= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
	RequireFollowThru			= Yes
	ShareTimers					= Yes ;// share timer with catapult heads to you can't fire both in quick succession
	NoVictimNeeded				= Yes ;// Need no target
	LeechRangeWeapon			= Yes
  
; ;	ScatterRadiusVsInfantry			= 40.0  
; ;	DisableScatterForTargetsOnWall	= Yes
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 27 Y: 23
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 38 Y: 27
  	ScatterTarget           = X:-32 Y:-29
  	ScatterTarget           = X:-23 Y: 23
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

	ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = DwarvenIronHillsCatapultOilBarrelProjectile
		WarheadTemplateName = DwarvenIronHillsCatapultOilBarrelWarhead ;;-;;
	End

	ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = DwarvenIronHillsCatapultOilBarrelProjectile2
		WarheadTemplateName = DwarvenIronHillsCatapultOilBarrelWarhead ;;-;;
		WeaponLaunchBoneSlotOverride = SECONDARY
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

//-----------------------------------
Weapon DwarvenMightyCatapultFortressWeapon ;// BALANCE Catapult Weapon
	AttackRange					= DWARVEN_MIGHTYCATAPULT_RANGE
	MinimumAttackRange			= DWARVEN_MIGHTYCATAPULT_MINIMUM_RANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= DWARVEN_MIGHTYCATAPULT_DELAYBETWEENSHOTS  
	PreAttackDelay				= DWARVEN_MIGHTYCATAPULT_PREATTACKDELAY
	FiringDuration      		= DWARVEN_MIGHTYCATAPULT_FIRINGDURATION	
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End
//-----------------------------------
Weapon DwarvenMightyCatapultFortressWeaponCitadel ;// BALANCE Catapult Weapon
	AttackRange					= DWARVEN_MIGHTYCATAPULT_RANGE_CITADEL
	MinimumAttackRange			= DWARVEN_MIGHTYCATAPULT_MINIMUM_RANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= DWARVEN_MIGHTYCATAPULT_DELAYBETWEENSHOTS  
	PreAttackDelay				= DWARVEN_MIGHTYCATAPULT_PREATTACKDELAY
	FiringDuration      		= DWARVEN_MIGHTYCATAPULT_FIRINGDURATION	
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End

Weapon DwarvenMightyCatapultRockCitadel ; ; 
	AttackRange						= DWARVEN_MIGHTYCATAPULT_RANGE_CITADEL ;;.;;
	MinimumAttackRange				= DWARVEN_MIGHTYCATAPULT_MINIMUM_RANGE
	WeaponSpeed						= 201         ;// dist/sec 
	MinWeaponSpeed					= 180
	FireFX							= FX_DwarvenMightyCatapultWeapon	;FX_DwarvenCatapultWeapon
	DelayBetweenShots				= DWARVEN_MIGHTYCATAPULT_DELAYBETWEENSHOTS	;// time between shots, msec
	FXTrigger						= CATAPULT_ROCK
	PreAttackDelay					= DWARVEN_MIGHTYCATAPULT_PREATTACKDELAY
	PreAttackType					= PER_SHOT									;// Do the delay each time we attack a new target
	FiringDuration					= DWARVEN_MIGHTYCATAPULT_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
	RequireFollowThru				= Yes
	ShareTimers						= Yes ;// share timer with catapult heads to you can't fire both in quick succession
	NoVictimNeeded					= Yes ;// Need no target
	LeechRangeWeapon				= Yes
	//AcceptableAimDelta				= 180
	  
	ScatterRadiusVsInfantry				= 40.0  
	DisableScatterForTargetsOnWall			= Yes
	HitPercentage					= 1  ;//always hits.
	ScatterRadius					= DWARVEN_MIGHTYCATAPULT_SCATTER_RADIUS
	ScatterIndependently				= Yes

	ProjectileNugget                    
		ProjectileTemplateName = DwarvenMightyCatapultMith	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
;		RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End

	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    
		ProjectileTemplateName = DwarvenMightyCatapultMith2 	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = SECONDARY
;		RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End

	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                   
		ProjectileTemplateName = DwarvenMightyCatapultMith3	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = TERTIARY
;		RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End
	
	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    ;;-;; New
		ProjectileTemplateName = DwarvenMightyCatapultMith4
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = QUATERNARY
;		RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End
//	
	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget ;;.;; readded on v3.                   
		ProjectileTemplateName = DwarvenMightyCatapultMith5
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = QUINARY
;		RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
	
	
	
End
//-----------------------------------
Weapon DwarvenMightyCatapultRock  ;// BALANCE Catapult Weapon
	AttackRange						= DWARVEN_MIGHTYCATAPULT_RANGE
	MinimumAttackRange				= DWARVEN_MIGHTYCATAPULT_MINIMUM_RANGE
	WeaponSpeed						= 201         ;// dist/sec 
	MinWeaponSpeed					= 180
	FireFX							= FX_DwarvenMightyCatapultWeapon	;FX_DwarvenCatapultWeapon
	DelayBetweenShots				= DWARVEN_MIGHTYCATAPULT_DELAYBETWEENSHOTS	;// time between shots, msec
	FXTrigger						= CATAPULT_ROCK
	PreAttackDelay					= DWARVEN_MIGHTYCATAPULT_PREATTACKDELAY
	PreAttackType					= PER_SHOT									;// Do the delay each time we attack a new target
	FiringDuration					= DWARVEN_MIGHTYCATAPULT_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
	RequireFollowThru				= Yes
	ShareTimers						= Yes ;// share timer with catapult heads to you can't fire both in quick succession
	NoVictimNeeded					= Yes ;// Need no target
	LeechRangeWeapon				= Yes
	//AcceptableAimDelta				= 180
	  
	ScatterRadiusVsInfantry				= 40.0  
	DisableScatterForTargetsOnWall			= Yes
	HitPercentage					= 1  ;//always hits.
	ScatterRadius					= DWARVEN_MIGHTYCATAPULT_SCATTER_RADIUS
	ScatterIndependently				= Yes
		

	// A Nugget that creates an Object and sends it to the target with a Warhead
	;ProjectileNugget                    
		;ProjectileTemplateName = DwarvenMightyCatapultProjectile
		;WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
;		ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
	;End

	// A Nugget that creates an Object and sends it to the target with a Warhead
	;ProjectileNugget                    
		;ProjectileTemplateName = DwarvenMightyCatapultProjectile2	
		;WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		;WeaponLaunchBoneSlotOverride = SECONDARY
;		ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
	;End

	// A Nugget that creates an Object and sends it to the target with a Warhead
;	ProjectileNugget                   
		;ProjectileTemplateName = DwarvenMightyCatapultProjectile3	
		;WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		;WeaponLaunchBoneSlotOverride = TERTIARY
;		ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
	;End
	
	;;-;; mith
	
	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    
		ProjectileTemplateName = DwarvenMightyCatapultMith	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		;RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End

	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    
		ProjectileTemplateName = DwarvenMightyCatapultMith2 	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = SECONDARY
		;RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End

	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                   
		ProjectileTemplateName = DwarvenMightyCatapultMith3	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = TERTIARY
		;RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End
	
	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                   ;;-;; New
		ProjectileTemplateName = DwarvenMightyCatapultMith4	
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = TERTIARY
		;RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End
	
	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                   ;;-;; New
		ProjectileTemplateName = DwarvenMightyCatapultMith5
		WarheadTemplateName = DwarvenMightyCatapultFlamingShotWarhead
		WeaponLaunchBoneSlotOverride = TERTIARY
		;RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
	
	
End

//-----------------------------------
Weapon DwarvenMightyCatapultFlamingShotWarhead
	ProjectileCollidesWith	= MONSTERS	STRUCTURES	// Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES ALLIES NOT_SIMILAR
 	
	;;-;;	// Increase the burn rate in the area
	;;-;;	FireLogicNugget 
	;;-;;		LogicType	=	INCREASE_BURN_RATE
	;;-;;		Radius		=	DWARVEN_MIGHTYCATAPULT_DAMAGE_RADIUS
	;;-;;		Damage		=	3
	;;-;;	End
	;;-;;
	
	MetaImpactNugget // A Nugget that throws things back with force 
		ShockWaveAmount		= DWARVEN_MIGHTYCATAPULT_ROCK_SHOCKWAVE_AMOUNT
		ShockWaveRadius		= #MULTIPLY( DWARVEN_MIGHTYCATAPULT_DAMAGE_RADIUS DWARVEN_MIGHTYCATAPULT_ROCK_SHOCKWAVE_RADIUS_MULT ) ;;.;; 
		ShockWaveTaperOff = DWARVEN_MIGHTYCATAPULT_ROCK_SHOCKWAVE_TAPEROFF
		; ShockWaveSpeed = 1050.0 ;;-;;
	End
 	
	// A basic Nugget that just does damage
	DamageNugget                        
	    Damage        = DWARVEN_MIGHTYCATAPULT_ROCK_DAMAGE	// Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = #MULTIPLY( DWARVEN_MIGHTYCATAPULT_ROCK_DAMAGE DWARVEN_MIGHTYCATAPULT_DAMAGE_TAPEROFF ) ;;.;;
	    Radius        = DWARVEN_MIGHTYCATAPULT_DAMAGE_RADIUS 
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 50% ANY ALLIES +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER ;;.;; 0%			// No damage to allied structures.
		DamageScalar  = 32.5% ANY ALLIES +FS_BASE_DEFENSE ;;.;;  half than vs enemies.
		DamageScalar  = 17.5% ANY ALLIES +COMMANDCENTER ;;.;; half than vs enemies.
		
		
		DamageScalar  = 100% ANY +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER
		DamageScalar  = 65% ANY +FS_BASE_DEFENSE ;;.;; 
		DamageScalar  = 35% ANY +COMMANDCENTER ;;.;; 25% 
		
		DamageScalar  = 80% ANY +RohanGenericEnt  ;;.;;
		DamageScalar  = 80% ANY +RohanTreeBerd  ;;.;;
		DamageScalar  = 80% ANY +WildMountainGiant ;;.;;
		; DamageSpeed = 1050.0 ;;.;;
	End

	// A basic Nugget that just does damage
	DamageNugget                        
	    Damage        	= DWARVEN_MIGHTYCATAPULT_FLAME_DAMAGE
		DamageTaperOff = #MULTIPLY( DWARVEN_MIGHTYCATAPULT_FLAME_DAMAGE DWARVEN_MIGHTYCATAPULT_DAMAGE_TAPEROFF ) ;;.;;
	    Radius        	= DWARVEN_MIGHTYCATAPULT_DAMAGE_RADIUS 
	    DamageType    	= FLAME
	    DamageFXType  	= BIG_ROCK
	    DeathType     	= BURNED ;;-;; EXPLODED ;;-;; BURNED	//Burned is necesary to detonate mines.
	    AcceptDamageAdd = No
		DamageScalar  = 50% ANY ALLIES +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER ;;.;; 0%			// No damage to allied structures.
		DamageScalar  = 32.5% ANY ALLIES +FS_BASE_DEFENSE ;;.;;  half than vs enemies.
		DamageScalar  = 17.5% ANY ALLIES +COMMANDCENTER ;;.;; half than vs enemies.
		
		
		DamageScalar  = 100% ANY +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER
		DamageScalar  = 65% ANY +FS_BASE_DEFENSE ;;.;; 
		DamageScalar  = 35% ANY +COMMANDCENTER ;;.;; 25% 
		
		DamageScalar  = 80% ANY +RohanGenericEnt  ;;.;;
		DamageScalar  = 80% ANY +RohanTreeBerd  ;;.;;
		DamageScalar  = 80% ANY +WildMountainGiant ;;.;;
		; DamageSpeed = 1050.0 ;;.;;
	End
End

;//---------------------------------- STRUCTURAL CATAPULT WEAPONS -------------
;--------------------------- For teh balance stuff! ---------------------------

//------------------------------------------------------------------------------
//Fake weapon so that the expansion will pick targets that the slaved catapult can attack
Weapon DwarvenCatapultExpansionWeapon		
	AttackRange					= DWARVEN_CATAPULT_ROCK_RANGE
	MinimumAttackRange			= DWARVEN_CATAPULT_ROCK_MINRANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS  
	PreAttackDelay				= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
	FiringDuration      		= DWARVEN_CATAPULT_ROCK_FIRINGDURATION
	AcceptableAimDelta			= DWARVEN_CATAPULT_EXPANSION_AIM_DELTA  
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End

//-----------------------------------
//BALANCE ActiveArtilleryWeaponStructural//
Weapon DwarvenIronHillsCatapultRock_Structural  ;// BALANCE Catapult Weapon
	AttackRange				= DWARVEN_CATAPULT_ROCK_RANGE
	MinimumAttackRange		= DWARVEN_CATAPULT_ROCK_WALL_MINRANGE
	  
		;RangeBonusMinHeight		= 10
		;RangeBonus			= 1
		;RangeBonusPerFoot	= #MULTIPLY( DWARVEN_CATAPULT_ROCK_RANGE .01 )
	  
	WeaponSpeed				= 201         ;// dist/sec 
	MinWeaponSpeed			= 201
	FireFX					= FX_DwarvenCatapultWeapon
	DelayBetweenShots		= DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
	FXTrigger				= CATAPULT_ROCK
	PreAttackDelay			= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
	PreAttackType			= PER_SHOT									;// Do the delay each time we attack a new target
	FiringDuration			= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
	ClipSize 				= 8 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
	RequireFollowThru		= Yes
	ShareTimers				= Yes ;// share timer with catapult heads to you can't fire both in quick succession
	NoVictimNeeded			= Yes ;// Need no target
	LeechRangeWeapon		= Yes
	IsAimingWeapon			= Yes
	  
; ;	ScatterRadiusVsInfantry			= 40.0  
; ;	DisableScatterForTargetsOnWall	= Yes
; ;	HitPercentage					= 100 ;//always hits.
	;//ScatterRadius					= 50.0 ;When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 27 Y: 23
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 38 Y: 27
  	ScatterTarget           = X:-32 Y:-29
  	ScatterTarget           = X:-23 Y: 23
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    
		ProjectileTemplateName	= DwarvenCatapultRockProjectile	
		WarheadTemplateName		= DwarvenIronHillsCatapultRockWarhead_Structural
	End

	// A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileNugget                    

		ProjectileTemplateName = DwarvenCatapultRockProjectile2		;MordorCatapultRockProjectile
		WarheadTemplateName = DwarvenIronHillsCatapultRockWarhead_Structural
		WeaponLaunchBoneSlotOverride = SECONDARY
	End
  
  	ProjectileNugget													// This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							// it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									// so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;//-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural//
Weapon DwarvenIronHillsCatapultRockWarhead_Structural
	;FireFX= FX_RockDetonation
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius        = DWARVEN_CATAPULT_ROCK_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_CATAPULT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 25.0
		ShockWaveRadius   = 20.0
		ShockWaveTaperOff = 0.75
	End
End

;//-----------------------------------
//BALANCE ActiveArtilleryWeaponStructuralUpgraded//
Weapon DwarvenIronHillsCatapultFlamingShot_Structural  ;// BALANCE Catapult Weapon
  AttackRange = DWARVEN_CATAPULT_ROCK_RANGE
  MinimumAttackRange	= DWARVEN_CATAPULT_ROCK_WALL_MINRANGE ;;.;;
  
  	;RangeBonusMinHeight	= 10
	;RangeBonus		= 1
	;RangeBonusPerFoot	= #MULTIPLY( DWARVEN_CATAPULT_ROCK_RANGE .01 )
  
  WeaponSpeed			= 201         ;// dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_DwarvenCatapultWeapon
  DelayBetweenShots		= DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
  ClipSize 				= 8 ; ;
  AutoReloadsClip 		= Yes
  ClipReloadTime          = DWARVEN_CATAPULT_ROCK_DELAYBETWEENSHOTS  ; how long to reload a Clip, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= DWARVEN_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT									;// Do the delay each time we attack a new target
  FiringDuration		= DWARVEN_CATAPULT_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
  RequireFollowThru		= Yes
  ShareTimers			= Yes ;// share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ;// Need no target
  LeechRangeWeapon		= Yes
  
; ;  ScatterRadiusVsInfantry			= 40.0  
; ;  DisableScatterForTargetsOnWall	= Yes
; ;  HitPercentage						= 100 ;//always hits.
;//ScatterRadius					= 50.0 ;When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 21
  	ScatterTarget           = X: 29 Y:-46
  	ScatterTarget           = X:-36 Y: 52
  	ScatterTarget           = X: 27 Y: 23
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 38 Y: 27
  	ScatterTarget           = X:-32 Y:-29
  	ScatterTarget           = X:-23 Y: 23
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectile
    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead_Structural
;    ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
  End

  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectile
    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead_Structural
    WeaponLaunchBoneSlotOverride = SECONDARY
;    ForbiddenUpgradeNames   = Upgrade_AllFactionUpgrade
  End
  
  
;  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectileMith
;    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead_Structural
;    RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
;  End

;  ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = DwarvenCatapultFlamingShotProjectileMith
;    WarheadTemplateName = DwarvenCatapultFlamingShotWarhead_Structural
;    WeaponLaunchBoneSlotOverride = SECONDARY
;    RequiredUpgradeNames    = Upgrade_AllFactionUpgrade
;  End
  
  
  	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
	
	
End


;-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural.Upgraded//
Weapon DwarvenCatapultFlamingShotWarhead_Structural
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES ALLIES NOT_SIMILAR
;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE_UPGRADED ;;-;;	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
	    Radius        = DWARVEN_CATAPULT_ROCK_RADIUS_UPGRADED
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	 DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE_UPGRADED ;;-;;  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
 		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_CATAPULT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End

	DamageNugget                        ; A basic Nugget that just does damage

	    Damage        = DWARVEN_CATAPULT_FLAME_DAMAGE
	    Radius        = 30 ;20.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	3
	End
	
End

;-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Upgraded//
Weapon DwarvenCatapultFlamingShotWarhead ;;=;; 
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES ALLIES NOT_SIMILAR

;;-;;
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE_UPGRADED ;;-;;	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar  = 0% ANY +SHIP ; ;
	    Radius        = 30 ;20.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	 DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE_UPGRADED
 		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_CATAPULT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_CATAPULT_FLAME_DAMAGE
		DamageScalar  = 0% ANY +SHIP ; ;
	    Radius        = 30 ;20.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	3
	End
End

; ;-----------------------------------
Weapon DwarvenCatapultAntiShipFlamingShotWarhead ;;=;; //BALANCE BT2DCAntiShipsWarhead.Upgraded//
	ProjectileCollidesWith = MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES ALLIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_CATAPULT_ROCK_DAMAGE_UPGRADED
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
	    Radius        = BT2DC_ARTILLERY_BOMBARD_RADIUS_UPGRADED
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	;;.;;	 DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( DWARVEN_CATAPULT_ROCK_DAMAGE_UPGRADED 0.5 ) ;;-;;
 	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ; 
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DWARVEN_CATAPULT_FLAME_DAMAGE
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
	    Radius        = BT2DC_ARTILLERY_BOMBARD_RADIUS_UPGRADED
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	3
	End
End

;------------------------------------------------------------------------------

Weapon DwarvenGuardianThrowingAxe //aka DwarvenAxeThrowerWeapon
	AttackRange         = DWARVEN_AXETHROWER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_AXETHROWER_RANGE .01 )
	
	WeaponSpeed			= 215 ;;-;; 180 ; ;120 ;321         ; dist/sec 
	MinWeaponSpeed      = 160 ; ;120
	MaxWeaponSpeed      = 250 ; ;300      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_DwarfAxeThrowerWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	PreAttackRandomAmount     = DWARVEN_AXETHROWER_RANDOM_PREATTACK  //higher than 200 desynches with rangefinder too bad

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	PreAttackType       = PER_SHOT
	PreAttackDelay      = DWARVEN_AXETHROWER_PREATTACKDELAY ; time from start of anim to axe release
	FiringDuration      = DWARVEN_AXETHROWER_FIRINGDURATION ; duration of firing cycle
	DelayBetweenShots   = DWARVEN_AXETHROWER_DELAYBETWEENSHOTS
	CanFireWhileMoving	= No
	ShareTimers			= Yes ;;=;;
	HoldAfterFiringDelay = DWARVEN_AXETHROWER_DELAYBETWEENSHOTS ;;=;;
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = DwarvenAxe
		WarheadTemplateName     = DwarvenAxeThrowWarhead
		ForbiddenUpgradeNames   = Upgrade_DwarvenForgedBlades
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = DwarvenAxeForgedBlade
		WarheadTemplateName     = DwarvenAxeThrowWarhead
		RequiredUpgradeNames    = Upgrade_DwarvenForgedBlades
	End
End
;------------------------------------------------------------------------------

Weapon DwarvenGuardianThrowingAxeBombard
	AttackRange         = DWARVEN_AXETHROWER_BOMBARD_MAXRANGE
	MinimumAttackRange  = #SUBTRACT( DWARVEN_AXETHROWER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_AXETHROWER_BOMBARD_MAXRANGE .01 )
	
	WeaponSpeed			= 150 ;321         ; dist/sec 
	MinWeaponSpeed      = 100
	MaxWeaponSpeed      = 300      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_DwarfAxeThrowerWeapon

	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ;Always scatter
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	PreAttackRandomAmount     = DWARVEN_AXETHROWER_BOMBARD_RANDOM_PREATTACK  //higher than 200 desynches with rangefinder too bad

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	PreAttackType       = PER_SHOT
	PreAttackDelay      = DWARVEN_AXETHROWER_BOMBARD_PREATTACKDELAY
	FiringDuration      = DWARVEN_AXETHROWER_BOMBARD_FIRINGDURATION ; duration of firing cycle
	DelayBetweenShots   = DWARVEN_AXETHROWER_BOMBARD_DELAYBETWEENSHOTS
	CanFireWhileMoving	= No
ShareTimers			= Yes ;;=;; 
HoldAfterFiringDelay = DWARVEN_AXETHROWER_BOMBARD_DELAYBETWEENSHOTS
  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	NoVictimNeeded			= Yes
	BombardType				= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = DwarvenAxeBombard
		WarheadTemplateName     = DwarvenAxeThrowBombardWarhead
	    ForbiddenUpgradeNames     = Upgrade_DwarvenForgedBlades
	End

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = DwarvenAxeBombardForgedBlade
		WarheadTemplateName     = DwarvenAxeThrowBombardWarhead
	    RequiredUpgradeNames      = Upgrade_DwarvenForgedBlades
	End

End


;--------------------------------DwarvenBattleWagonPassenger.Axe.Weapon----------------------------------------
Weapon DwarvenBattleWagonAxeThrowerWeapon
 	AttackRange			= DWARVEN_BATTLEWAGON_AXE_THROWERS_RANGE ;;.;; #DIVIDE( DWARVEN_BATTLEWAGON_AXE_THROWERS_RANGE 100 ) ;;.;;
	;;-;;LeechRangeWeapon	= Yes ; ;
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_AXETHROWER_RANGE .01 )
	
	WeaponSpeed			= 215 ;;-;; 250 ;;-;; 180 ;;=;; 120 ;321         ; dist/sec 
	MinWeaponSpeed      = 180 ;;=;; 120
	MaxWeaponSpeed      = 300      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_DwarfAxeThrowerWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 0.0 ; ;16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	PreAttackRandomAmount     = 40 ; ;400  

	AcceptableAimDelta	= 60 ; ;20	; prevent twitchy reaiming in horde on horde
	PreAttackType       = PER_SHOT
	PreAttackDelay      = DWARVEN_BATTLEWAGON_AXE_THROWERS_PREATTACKDELAY
	FiringDuration      = DWARVEN_BATTLEWAGON_AXE_THROWERS_FIRINGDURATION
	DelayBetweenShots   = DWARVEN_BATTLEWAGON_AXE_THROWERS_DELAYBETWEENSHOTS
	CanFireWhileMoving	= Yes
  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ;;-;; Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = DwarvenAxeForgedBlade ; ; DwarvenAxe
		WarheadTemplateName     = DwarvenBattleWagonAxeThrowWarhead ; ;DwarvenAxeThrowWarhead
	End
End

;//------------------------------------------------------------------------------
Weapon DwarvenGuardianAxe
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = DWARVEN_GUARDIAN_AXE_DELAYBETWEENSHOTS   ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = DWARVEN_GUARDIAN_AXE_PREATTACKDELAY              ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = DWARVEN_GUARDIAN_AXE_FIRINGDURATION     ; Duration of the sword swing

	; base damage against everything, siegehammer or forgedblades not present
	DamageNugget
		Damage					= DWARVEN_GUARDIAN_AXE
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageScalar  			= 80% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar			= 65% ANY +MordorOrcPit  ;;=dwarfmordor=;;
		DamageScalar			= 95% ANY +MordorFighter ;;.;; 90% ;;-;; 85% ;;=;; ;;=dwarfmordor=;; ;;=;;75% ; ; 
		DamageScalar			= 85% ANY +MordorSlaughterHouse ;;=dwarfmordor=;;
		DamageScalar			= 65% ANY +EvilMenBlackRider ;;=;; ;;=dwarfmordor=;; ;;=;; 60%  ; ; 
 		;;-;;DamageScalar			= 85% ANY +GoblinCave ;;=;; ;;=dwarfgob=;;
		;;.;; DamageScalar			= 95% ANY +GondorFighter +MordorCorsairsOfUmbar +GondorTowerShieldGuard +MordorEasterling ;;-;;
		DamageScalar			= 90% ANY +WildMineShaft ;;=;; ;;=dwarfgob=;; 
		DamageScalar			= 110% ANY +IsengardFighter ;;=dwarfisen=;;
		DamageScalar			= 90% ANY +ElvenMallornTree ;;-;;
		DamageScalar			= 95% ANY +COMMANDCENTER ;;=;;
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
		ForbiddenUpgradeNames	= Upgrade_DwarvenForgedBlades ;;-;; Upgrade_DwarvenSiegeHammer
	End
	; base damage upgraded
 	DamageNugget
		Damage					= DWARVEN_GUARDIAN_AXE_UPGRADED ;;-;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageScalar			= 150% ANY +INFANTRY -HERO -WildSpiderling -IsengardFighter -IsengardBeserker
		DamageScalar			= 160% ANY +IsengardFighter ;;-;;
		DamageScalar  			= 120% ANY +WildSpiderling ;;.;; 130% ;;-;; //SpiderLingSLASH//
		DamageScalar			= 120% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
		DamageScalar  			= 75% ANY +STRUCTURE
    	DamageScalar  			= 125% ANY +HERO
  		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames	= Upgrade_DwarvenForgedBlades
	End
  
; ;	; base damage against units, siege hammer present
; ;	DamageNugget
; ;		Damage					= DWARVEN_GUARDIAN_AXE_SIEGEHAMMER_VS_UNIT
; ;		Radius					= 0.0
; ;		DelayTime				= 0
; ;		DamageType				= SLASH
; ;		DamageFXType			= SWORD_SLASH
; ;		DeathType				= NORMAL
; ;		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
; ;		SpecialObjectFilter		= ALL -STRUCTURE
; ;		RequiredUpgradeNames	= Upgrade_DwarvenSiegeHammer
; ;	End

; ;	; base damage against structures, siege hammer present
; ;	DamageNugget
; ;		Damage					= DWARVEN_GUARDIAN_AXE_SIEGEHAMMER_VS_STRUCTURE
; ;		Radius					= 0.0
; ;		DelayTime				= 0
; ;		DamageType				= SLASH
; ;		DamageFXType			= SWORD_SLASH
; ;		DeathType				= NORMAL
; ;		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
; ;		SpecialObjectFilter		= ANY +STRUCTURE
; ;		RequiredUpgradeNames	= Upgrade_DwarvenSiegeHammer
; ;	End

;;-;;	; forged blade increment, add this damage to everything we attack
;;-;;	DamageNugget
;;-;;		Damage					= DWARVEN_GUARDIAN_AXE_UPGRADE_INCREMENT
;;-;;		DamageScalar  			= 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
;;-;;		DamageScalar  			= 50% ANY +STRUCTURE ; ;
;;-;;		DamageScalar			= 200% ANY +INFANTRY -HERO -WildSpiderling ; ;
;;-;;		DamageScalar  			= 150% ANY +HERO ; ;
;;-;;		Radius					= 0.0
;;-;;		DelayTime				= 0
;;-;;		DamageType				= SLASH
;;-;;		DeathType				= NORMAL
;;-;;		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
;;-;;		RequiredUpgradeNames	= Upgrade_DwarvenForgedBlades
;;-;;	End
End

; ;;//------------------------------------------------------------------------------
Weapon DwarvenGuardianSiegeHammer
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = DWARVEN_GUARDIAN_AXE_DELAYBETWEENSHOTS   ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = DWARVEN_GUARDIAN_AXE_PREATTACKDELAY              ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = DWARVEN_GUARDIAN_AXE_FIRINGDURATION     ; Duration of the sword swing

	; base damage against everything, siegehammer or forgedblades not present
	;;-;;	DamageNugget
	;;-;;		Damage					= DWARVEN_GUARDIAN_AXE
	;;-;;		Radius					= 0.0
	;;-;;		DelayTime				= 0
	;;-;;		DamageType				= SLASH
	;;-;;		DamageFXType			= SWORD_SLASH
	;;-;;		DeathType				= NORMAL
	;;-;;		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
	;;-;;		ForbiddenUpgradeNames	= Upgrade_DwarvenSiegeHammer
	;;-;;	End
  
	; base damage against units, siege hammer present
	DamageNugget
		Damage					= DWARVEN_GUARDIAN_AXE_SIEGEHAMMER_VS_UNIT
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
		SpecialObjectFilter		= ALL -STRUCTURE
		RequiredUpgradeNames	= Upgrade_DwarvenSiegeHammer
	End


	; base damage against structures, siege hammer present
	DamageNugget
		Damage					= DWARVEN_GUARDIAN_AXE_SIEGEHAMMER_VS_STRUCTURE
		DamageScalar			= 55% ANY +COMMANDCENTER ;;-;; 66% ;;=;; 100%
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SIEGE ; ;SLASH
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
		SpecialObjectFilter		= ANY +STRUCTURE
		RequiredUpgradeNames	= Upgrade_DwarvenSiegeHammer
	End

End

;//------------------------------------------------------------------------------
Weapon DwarvenPhalanxPike     ;// BALANCE Dwarven Phalanx Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 30
  MeleeWeapon           = Yes	;// Sorry, stand off doesn't work.  This is just a melee weapon.
  DelayBetweenShots     = DWARVEN_PHALANX_STAB_DELAYBETWEENSHOTS				;// time between shots, msec
  PreAttackDelay        = DWARVEN_PHALANX_STAB_PREATTACKDELAY				
  PreAttackType         = PER_SHOT			;// Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = DWARVEN_PHALANX_STAB_FIRINGDURATION				
  
	DamageNugget								;// A basic Nugget that just does damage
		Damage        					= DWARVEN_PHALANX_STAB_DAMAGE
		DamageScalar					= 95% ANY +COMMANDCENTER ;;=;;
		DamageScalar					= 123% ANY +GoblinCaveTroll ;;-;; 113% ;;-;; 110% ;;=;;
		DamageScalar					= 120% ANY +MordorMumakil ;;-;; 
		DamageScalar					= 73% ANY +MordorMountainTroll ; ;
		DamageScalar					= 90% ANY +ElvenHaldir ;;-;;
		DamageType    					= SPECIALIST
		DamageFXType  					= SWORD_SLASH
		DeathType     					= NORMAL		
		ForbiddenUpgradeNames			= Upgrade_DwarvenForgedBlades ;// Need to replace with Dwarven equivalent
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End

	DamageNugget								;// A basic Nugget that just does damage
		Damage        					= DWARVEN_PHALANX_DAMAGE_UPGRADE
		DamageScalar					= 200% ANY +INFANTRY -HERO ; ;
		DamageScalar					= 75% ANY +HERO ; ;
		DamageScalar					= 73% ANY +MordorMountainTroll ; ;
		DamageScalar					= 120% ANY +MordorMumakil ;;-;; 
		DamageType    					= SPECIALIST
		DamageFXType  					= SWORD_SLASH
		DeathType     					= NORMAL
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS		
		RequiredUpgradeNames			= Upgrade_DwarvenForgedBlades ;// Need to replace with Dwarven equivalent
	End
End

;//------------------------------------------------------------------------------
Weapon DwarvenDainAxe  ;// BALANCE Dain Axe Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  WeaponSpeed           = 799999.2					;// dist/sec (huge value == effectively instant)

  DelayBetweenShots     = DAIN_DELAYBETWEENSHOTS  	;// time between shots, msec
  PreAttackDelay        = DAIN_PREATTACKDELAY  		;// 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT					;// Do the delay each time we attack a new target
  FiringDuration        = DAIN_FIRINGDURATION   		;// min 600 for anim
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage        = DAIN_DAMAGE
    DamageScalar  = 50% ANY +COMMANDCENTER ;;-;; 65% ;;-;; 80% ;;=;; 100%
    DamageScalar  = 80% ANY +EvilMenBlackRider ;;-;;
    DamageScalar  = 80% ANY +GoblinCaveTroll ;;-;;
    DamageScalar  = 80% ANY +CaveTroll_Slaved ;;-;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


;//------------------------------------------------------------------------------
Weapon YurgHorn		;//Used by the BattleWagon
  LeechRangeWeapon		= Yes
  AttackRange           = 25 ;;.;; 0.0
  MeleeWeapon           = Yes
  FireFX                = FX_YurgHornAttackImpactSound
  DelayBetweenShots     = DWARVEN_BATTLEWAGON_DELAYBETWEENSHOTS
  PreAttackDelay        = DWARVEN_BATTLEWAGON_PREATTACKDELAY	;// 1467 is the prep time for archer.
  PreAttackType         = PER_SHOT								;// Do the delay each time we attack a new target
  FiringDuration        = DWARVEN_BATTLEWAGON_FIRINGDURATION    ;// Duration of the archer firing shot is 500ms.

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = DWARVEN_BATTLEWAGON_DAMAGE
	DamageScalar  = 80% ANY +GondorFaramir ;;-;;
	DamageScalar  = 80% ANY +ElvenLegolas ;;-;;
	DamageScalar  = 80% ANY +STRUCTURE -GondorFarm -IsengardFurnace;;-;;
	DamageScalar  = 75% ANY +GondorFarm ;;-;;
	DamageScalar  = 50% ANY +IsengardFurnace ;;-;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    ;DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = BATTLEWAGON_MELEE_FLANKING_BONUS
  End
End

;--------------------------------DwarvenBattleWagonPassenger.Pike.Weapon----------------------------------------
Weapon DwarvenBattleWagonPassengerPike      ;// BALANCE BattleWagon Pike Weapon
 	AttackRange      			= DWARVEN_BATTLEWAGON_PASSENGER_RANGE ;;.;; #DIVIDE( DWARVEN_BATTLEWAGON_PASSENGER_RANGE 100 ) ;;.;;
	WeaponSpeed               	= 321       ;// dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		;// dist/sec Upper limit on scaling, when attacking past nominal "max" range
		AcceptableAimDelta			= 360 ;;=;; 180
	FireFX						= FX_GondorSwordHit	
	HitPercentage             	= 100		;//When this weapon is used it will hit exactly 50% of the time.
			ClipSize               			= 2	;; like eagles claw. 2 hits in one. ;;=;; 
			ClipReloadTime         			= 	DWARVEN_BATTLEWAGON_PASSENGER_DELAYBETWEENSHOTS ;;=;; 
			AutoReloadsClip		    		= Yes	 ;;=;; 
			MeleeWeapon           = No ;;=;; 
			IsAimingWeapon            = Yes ;;=;; 
			HitPassengerPercentage	= 20%
		DelayBetweenShots			= DWARVEN_BATTLEWAGON_PASSENGER_DELAYBETWEENSHOTS ;;-;;
	PreAttackDelay            	= DWARVEN_BATTLEWAGON_PASSENGER_PREATTACKDELAY	
	PreAttackType             	= PER_SHOT	;// Do the delay each time we attack a new target
	FiringDuration            	= DWARVEN_BATTLEWAGON_PASSENGER_FIRINGDURATION    
	CanFireWhileMoving		  	= Yes	
	CanBeDodged					= Yes  ;;=;;  No

  	ProjectileNugget
		ProjectileTemplateName    = BattleWagonArrow
    	WarheadTemplateName     = DwarvenBattleWagonPassengerPikeWarhead
    	;ForbiddenUpgradeNames     = Upgrade_DwarvenForgedBlade
  	End
  	 
  	;ProjectileNugget                    ; Default arrow
	;	ProjectileTemplateName    = BattleWagonArrow
	;	RequiredUpgradeNames      = Upgrade_DwarvenForgedBlade
	;End

End

;//-----------------------------------
Weapon DwarvenBattleWagonPassengerPikeWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget			= Yes	;// Always hits initial target.
	DamageNugget                    ;// A basic Nugget that just does damage
	    Damage			= DWARVEN_BATTLEWAGON_PASSENGER_DAMAGE ;;.;;
	    DamageTaperOff  = DWARVEN_BATTLEWAGON_PASSENGER_DAMAGE_TAPEROFF ;;.;;
 		DamageScalar	= 90% ANY +STRUCTURE ;;=;;
		Radius			= 5 ;;= 0.0
	    DelayTime		= 0 ;;-;; 1
	    DamageType		= SPECIALIST  ;;=;;  SLASH
	    DamageFXType	= SWORD_SLASH
	    DeathType		= NORMAL
		AcceptDamageAdd = No ;;-;;
  	End
	;;.;;	DamageNugget ;;-;;
	;;.;;	    Damage			= #MULTIPLY( DWARVEN_BATTLEWAGON_PASSENGER_DAMAGE 0.5 )	
	;;.;;	    DamageTaperOff  = #MULTIPLY( DWARVEN_BATTLEWAGON_PASSENGER_DAMAGE_TAPEROFF 0.5 ) ;;-;;
	;;.;;		DamageScalar	= 90% ANY +STRUCTURE ;;=;;
	;;.;;		Radius			= 5 ;;=;; 0.0
	;;.;;	    DelayTime		= 5 ;;-;; 1
	;;.;;	    DamageType		= SPECIALIST  ;;=;;  SLASH
	;;.;;	    DamageFXType	= SWORD_SLASH
	;;.;;	    DeathType		= NORMAL
	;;.;;		AcceptDamageAdd = No ;;-;;
  	;;.;;	End
End
;//------------------------------------------------------------------------------
Weapon DwarvenBattleWagonPassengerPikeUpgraded      ;// BALANCE BattleWagon Pike Weapon
 	AttackRange         		= DWARVEN_BATTLEWAGON_PASSENGER_RANGE ;;.;; #DIVIDE( DWARVEN_BATTLEWAGON_PASSENGER_RANGE 100 ) ;;.;; 
	WeaponSpeed               	= 321       ;// dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		;// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	AcceptableAimDelta			= 180
	FireFX						= FX_GondorSwordHit	
	HitPercentage             	= 100		;//When this weapon is used it will hit exactly 50% of the time.	
	DelayBetweenShots         	= DWARVEN_BATTLEWAGON_PASSENGER_DELAYBETWEENSHOTS
	PreAttackDelay            	= DWARVEN_BATTLEWAGON_PASSENGER_PREATTACKDELAY	
	PreAttackType             	= PER_SHOT	;// Do the delay each time we attack a new target
	FiringDuration            	= DWARVEN_BATTLEWAGON_PASSENGER_FIRINGDURATION    ;// Duration of the archer firing shot is 500ms.
	CanFireWhileMoving		  	= Yes	
	CanBeDodged					= No

	ProjectileNugget                    ; Default arrow
		ProjectileTemplateName    = BattleWagonArrowUpgraded09v3 ;;.;; BattleWagonArrow
		WarheadTemplateName     = DwarvenBattleWagonPassengerPikeWarheadUpgraded
		;RequiredUpgradeNames      = Upgrade_DwarvenForgedBlade
	End

End

;//-----------------------------------
Weapon DwarvenBattleWagonPassengerPikeWarheadUpgraded
	RadiusDamageAffects		= ENEMIES
	HitStoredTarget			= Yes	;// Always hits initial target.
	DamageNugget                    ;// A basic Nugget that just does damage
	    Damage			= DWARVEN_BATTLEWAGON_PASSENGER_DAMAGE_UPGRADED		
		Radius			= 0.0	;// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	    DelayTime		= 0
	    DamageType		= SLASH	
	    DamageFXType	= SWORD_SLASH
	    DeathType		= NORMAL
  	End
End

;------------------------------------------------------------------------------
Weapon GloinAxe  ; BALANCE Gimli Axe Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 15 ;;-;; STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	; time between shots, msec
  PreAttackDelay        = GLOIN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GLOIN_FIRINGDURATION 		; min 600 for anim
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage        = GLOIN_DAMAGE
    DamageScalar  = 50% ANY +COMMANDCENTER ; ;
    DamageScalar  = 80% ANY +EvilMenBlackRider
    DamageScalar  = 80% ANY +GoblinCaveTroll ;;-;;
    DamageScalar  = 80% ANY +CaveTroll_Slaved ;;-;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;----------------------------GloinBlast.Weapon----------------------------------
Weapon DwarvenGloinSlamWeapon
	RadiusDamageAffects		= ENEMIES
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= GLOIN_SLAM_RANGE
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
	FireFX				= FX_GloinSlam
	DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = GLOIN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = GLOIN_FIRINGDURATION 		; min 600 for anim
	DamageDealtAtSelfPosition = Yes				; A melee based AoE.  Arc radiates from me, not them

	; Crush damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= GLOIN_SLAM_DAMAGE
		DamageScalar  = 200% ANY +MordorMumakil ;;-;;
		DamageScalar  = 80% ANY +GoblinCaveTroll ;;-;;
		DamageScalar  = 80% ANY +CaveTroll_Slaved ;;-;;
                DamageScalar  = 85% ANY +EvilMenBlackRider
		Radius			= 60 ; ; 50.0
		DamageArc		= 75
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= MAGIC
		DeathType		= NORMAL
		CylinderAOE		= Yes
		DamageMaxHeight	= 50
	End

	; SIEGE damage. - Changing all structural to siege damage. -GB

	DamageNugget								; A basic Nugget that just does damage
		Damage			= GLOIN_SLAM_DAMAGE_STRUCTURAL
		DamageScalar  = 80% ANY +GoblinCaveTroll ;;-;;
		DamageScalar  = 80% ANY +CaveTroll_Slaved ;;-;;
		DamageScalar	= 75% ANY +COMMANDCENTER ;;=;;
		Radius			= 60.0 ; ; 50.0
		DamageArc		= 75
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= MAGIC
		DeathType		= NORMAL
		CylinderAOE		= Yes
		DamageMaxHeight	= 50
	End

	; Push back
	MetaImpactNugget							; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50
		ShockWaveRadius		= 54 ; ; 45
		ShockWaveArc		= 75				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End
End

;------------------------------------------------------------------------------
Weapon DwarvenGloinShakeFoundationWeapon
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= 30.0
	AntiStructure         = Yes                                      ; ShakeFoundation ONLY affects structures -- buildings, walls, gates
	AntiGround            = No                                       ; ditto
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
	FireFX				= FX_GloinShake
	DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = GLOIN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = GLOIN_FIRINGDURATION 		; min 600 for anim

	; Structural damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= GLOIN_SHAKEFOUNDATION_DAMAGE
		DamageScalar  		= 20% ANY +COMMANDCENTER ;;=;; 15% ; ; 25% ; ;50%
		DamageScalar		= 80% ANY +FS_TECHNOLOGY ;;=;;
		DamageScalar	= 71% ANY +GondorFarm ;;-;;
		DamageScalar	= 60% ANY +ElvenMallornTree ;;-;;
		DamageScalar	= 85% ANY +DwarvenMineShaft ;;-;;
		DamageScalar	= 55% ANY +IsengardFurnace ;;-;; 59%
		DamageScalar	= 63% ANY +MordorSlaughterHouse ;;-;;
		DamageScalar	= 68% ANY +WildMineShaft ;;-;;
		DamageScalar	= 64% ANY +MordorBarricade +DwarvenSentryTower_Independent +GondorSentryTower_Independant ;;-;; 

		Radius			= 0.0
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType		= MAGIC
		DeathType		= NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= GLOIN_SHAKEFOUNDATION_ANTIWALL_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_GLOINSHAKEFOUND
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End

	; Temporarily disable the target building
	;;.;; ParalyzeNugget ;;-;; Why does this even exist? Gay design and pointless with huge damage
	;;.;; 	Radius			= 0.0
	;;.;; 	Duration		= 7000 ;;-;; 10000 ; ;30000
	;;.;; 	ParalyzeFX			= FX_ParalyzeStructure
	;;.;; End
  	AttributeModifierNugget
		AttributeModifier        = GloinShakeFoundationsModifier09v3
 		SpecialObjectFilter      = ANY +STRUCTURE
	End

	; Force open any gate hit by this (which will also be paralyzed, so it will be stuck open for the duration)
	OpenGateNugget
		Radius			= 0.0
	End
End


;------------------------------------------------------------------------------
Weapon GloinSmashWeapon ; Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay = 2600
	PreAttackType = PER_ATTACK ; Do the delay each time we attack a new target
 	PreAttackFX = FX_GSlam ;;=;; FX_GloinShatterPre
	FireFX = FX_GSlam ;;=;; FX_EarthquakePhaseOneWeapon ; FX_GloinShatterhammer
 	FiringDuration = 1400
	;;-;;	DamageNugget                        ; A basic Nugget that just does damage
	;;-;;		Damage			= #MULTIPLY( GLOIN_SMASH_WEAPON_DAMAGE .5 ) ;;=;; GANDALF_WORD_OF_POWER_DAMAGE
	;;-;;		Radius			= GLOIN_SMASH_WEAPON_RADIUS
	;;-;;		DamageArc		= 360
	;;-;;		DamageType		= MAGIC
	;;-;;		DamageFXType	= MAGIC
	;;-;;		DeathType		= EXPLODED
	;;-;;		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	;;-;;		DelayTime		= 100
	;;-;;		DamageScalar  		= 0% ANY +RohanOathbreaker +ARMY_OF_DEAD ;;-;;
	;;-;;	End
	;;-;	DamageNugget                        ; A basic Nugget that just does damage
	;;-;		Damage			= #MULTIPLY( GLOIN_SMASH_WEAPON_DAMAGE .3 ) ;;=;; GANDALF_WORD_OF_POWER_DAMAGE
	;;-;		Radius			= GLOIN_SMASH_WEAPON_RADIUS_CENTER
	;;-;		DamageArc		= 360
	;;-;		DamageType		= MAGIC
	;;-;		DamageFXType	= MAGIC
	;;-;		DeathType		= EXPLODED
	;;-;		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	;;-;		DelayTime		= 50
	;;-;		DamageScalar  		= 0% ANY +ARMY_OF_DEAD ;;-;;
	;;-;	End
    ;;-;	
	;;-;	DamageNugget                        ; A basic Nugget that just does damage
	;;-;		Damage			= #MULTIPLY( GLOIN_SMASH_WEAPON_DAMAGE .3 ) ;;=;; GANDALF_WORD_OF_POWER_DAMAGE
	;;-;		Radius			= GLOIN_SMASH_WEAPON_RADIUS_EPICENTER ;;=;;
	;;-;		DamageArc		= 360
	;;-;		DamageType		= MAGIC
	;;-;		DamageFXType	= MAGIC
	;;-;		DeathType		= EXPLODED
	;;-;		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	;;-;		DamageScalar    =  0% ANY +ARMY_OF_DEAD ;;-;;
	;;-;	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= GLOIN_SMASH_WEAPON_DAMAGE
		DamageTaperOff	= GLOIN_SMASH_WEAPON_DAMAGE_TAPEROFF
		Radius			= GLOIN_SMASH_WEAPON_RADIUS
		DamageArc		= 360
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 550 ;;-;; 700.0 ; must match the ShockWaveSpeed below
		DelayTime		= 100
		DamageScalar  		= 0% ANY +RohanOathbreaker +ARMY_OF_DEAD ;;-;;
		DamageMaxHeight	= 50 ;;-;; 
	End
	
	ParalyzeNugget ;;-;;
		Radius				= GLOIN_SMASH_WEAPON_RADIUS
		Duration			= GLOIN_STUN_DURATION
		SpecialObjectFilter	= ANY +ARMY_OF_DEAD
		;ParalyzeFX			= FX_GloinStunEffect09v2
	End
  	AttributeModifierNugget
		AttributeModifier        = GloinParalyzeModelConditionModifier09v2
		Radius                   = GLOIN_SMASH_WEAPON_RADIUS
 		SpecialObjectFilter      = ANY +ARMY_OF_DEAD
	End     	
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
 		ShockWaveAmount   = 120 ; ; 70.0
		ShockWaveRadius   = #MULTIPLY( GLOIN_SMASH_SHOCKWAVE_RADIUS 0.5 ) ;;-;;
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 550 ;;-;; 700.0 
		DelayTime		= 200
	End
	
	MetaImpactNugget ;;=;; ;;-;;
 		ShockWaveAmount   = 70.0
		ShockWaveRadius   = GLOIN_SMASH_SHOCKWAVE_RADIUS
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 550 ;;-;; 700.0 
		DelayTime		= 100
	End
End

;------------------------------------------------------------------------------
Weapon DwarvenBatteringRam ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE		   ; Note - needs to be at least 30 to approach walls at a 45 degree angle to path grid. 
	AntiStructure         = Yes                                      ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No                                       ; ditto
	MeleeWeapon           = Yes										; Try Melee to get close to door
	AcceptableAimDelta    = 20                                       ; Can't ram sideways (but give a little slack)
	DelayBetweenShots     = DWARVEN_BATTERINGRAM_DELAYBETWEENSHOTS  ; time between shots, msec. 
	PreAttackDelay        = DWARVEN_BATTERINGRAM_PREATTACKDELAY        
	PreAttackType         = PER_SHOT                                 ; Do the delay each time we attack
	FiringDuration        = DWARVEN_BATTERINGRAM_FIRINGDURATION
	FireFX                = FX_BatteringRamHit
	LeechRangeWeapon      = Yes

	DamageNugget
		Damage        = DWARVEN_BATTERINGRAM_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ;;-;; 87% ANY +COMMANDCENTER ;;-;; 75% ;;-;; 87% ;;=;;
		Radius        = 0.0										; Contact of nose.  Preattack is being used by trolls putting hands on ram
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= DWARVEN_BATTERINGRAM_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_BATTERINGRAMS
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon DwarvenBatteringRamGate ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	AttackRange           = 58.0 ; Make sure this is greater than the distance between obj center and the Ram contact points in the gate
	AntiStructure         = Yes       									     ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No        									     ; ditto
	MeleeWeapon           = Yes											   ; Try Melee to get close to door
	AcceptableAimDelta    = 20        									     ; Can't ram sideways (but give a little slack)
	DelayBetweenShots     = DWARVEN_BATTERINGRAM_DELAYBETWEENSHOTS           ; time between shots, msec. 
	PreAttackDelay        = DWARVEN_BATTERINGRAM_PREATTACKDELAY        
	PreAttackType         = PER_SHOT										; Do the delay each time we attack
	FiringDuration        = DWARVEN_BATTERINGRAM_FIRINGDURATION
	FireFX                = FX_BatteringRamHitGate
	LeechRangeWeapon      = Yes

	DamageNugget
		Damage        = DWARVEN_BATTERINGRAM_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ;;-;; 87% ANY +COMMANDCENTER ;;-;; 75% ;;-;; 87% ;;=;;
		Radius        = 0.0
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= DWARVEN_BATTERINGRAM_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_BATTERINGRAMS
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End



;------------------------------------------------------------------------------
Weapon DwarvenBatteringRamWall ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	AttackRange           = 20.0
	AntiStructure         = Yes      										  ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No       										  ; ditto
	MeleeWeapon           = Yes												 ; Try Melee to get close to door
	AcceptableAimDelta    = 40       										  ; give a lot of slack !!!!!!!!!!!!!!!! 
	DelayBetweenShots     = DWARVEN_BATTERINGRAM_DELAYBETWEENSHOTS           ; time between shots, msec. 
	PreAttackDelay        = DWARVEN_BATTERINGRAM_PREATTACKDELAY        
	PreAttackType         = PER_SHOT									; Do the delay each time we attack
	FiringDuration        = DWARVEN_BATTERINGRAM_FIRINGDURATION
	FireFX                = FX_BatteringRamHitGate
	LeechRangeWeapon      = Yes

	DamageNugget
		Damage        = DWARVEN_BATTERINGRAM_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ;;-;; 87% ;;=;;
		Radius        = 0.0
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= DWARVEN_BATTERINGRAM_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_BATTERINGRAMS
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Isengard
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Weapon IsengardArcherHordeRangeFinder	//ActiveRangeFinderID//
	AttackRange				= #SUBTRACT( ISENGARD_URUKCROSSBOW_RANGE 125 )   ; ;100
	
	RangeBonusMinHeight	= 10

	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ISENGARD_URUKCROSSBOW_RANGE .01 )
	
	LeechRangeWeapon		= Yes
    DelayBetweenShots		= ISENGARD_URUKCROSSBOW_DELAYBETWEENSHOTS   	; ;1500 ; time between shots, msec
    ;;-;;	PreAttackDelay			= ISENGARD_URUKCROSSBOW_PREATTACKDELAY     	; 733 is the prep time for archer.
    PreAttackType				= PER_POSITION ; ;
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No ;;-;; Yes ; ;No
	CanFireWhileMoving		= Yes ;;-;; No
	HordeAttackNugget
	End
End

Weapon IsengardArcherHordeRangeFinderBombard
	AttackRange				= #SUBTRACT( ISENGARD_URUKCROSSBOW_BOMBARD_MAXRANGE 125 )   ; ;100
	MinimumAttackRange		= ISENGARD_URUKCROSSBOW_BOMBARD_MINRANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ISENGARD_URUKCROSSBOW_BOMBARD_MAXRANGE .01 )
	
	LeechRangeWeapon		= Yes
    DelayBetweenShots		= ISENGARD_URUKCROSSBOW_DELAYBETWEENSHOTS   	; ;1500 ;time between shots, msec
     ;;-;;	PreAttackDelay			= ISENGARD_URUKCROSSBOW_PREATTACKDELAY     	; 733 is the prep time for archer.
    PreAttackType				= PER_POSITION ; ;
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	CanFireWhileMoving		= No
	NoVictimNeeded			= Yes
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon IsengardArcherBow         ; BALANCE Archer Weapon
  AttackRange				= ISENGARD_URUKCROSSBOW_RANGE  
  
  	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ISENGARD_URUKCROSSBOW_RANGE .01 )
	
	
  LeechRangeWeapon		    = Yes
  WeaponSpeed				= 321         ; dist/sec 
  MinWeaponSpeed			= 61
  MaxWeaponSpeed			= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range    
  FireFX = FX_RohanArcherBowWeapon 
  ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
  HitPercentage				= 100     ;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius				= 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
  PreAttackRandomAmount 	= 66 ;;=;; 200     ; amount of additional preattack variance for archer type attacks only 
  DelayBetweenShots		= ISENGARD_URUKCROSSBOW_DELAYBETWEENSHOTS   	; time between shots, msec
  PreAttackDelay			= ISENGARD_URUKCROSSBOW_PREATTACKDELAY    	; 733 is the prep time for archer.
  PreAttackType				= PER_POSITION ; ;PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration			= ISENGARD_URUKCROSSBOW_FIRINGDURATION 		; Duration of the archer firing shot is 500ms.

     ;ClipSize			= 1 ; ;
	;AutoReloadsClip		= Yes ; ;
	;ClipReloadTime     = 2500 ; ;

  CanFireWhileMoving		= No
  IsAimingWeapon            = Yes
  
  AcceptableAimDelta		= 20	; prevent twitchy reaiming in horde on horde
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes


  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName    = GoodFactionArrow
    WarheadTemplateName       = IsengardArcherBowWarhead
    ForbiddenUpgradeNames     = Upgrade_IsengardFireArrows
  End

  ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
    ProjectileTemplateName    = GoodFactionFireArrow
    WarheadTemplateName       = IsengardArcherBowFireWarhead
    RequiredUpgradeNames      = Upgrade_IsengardFireArrows
  End

End

Weapon IsengardArcherBowBombard         ; BALANCE Archer Weapon
  AttackRange				= ISENGARD_URUKCROSSBOW_BOMBARD_MAXRANGE
  MinimumAttackRange		= #SUBTRACT( ISENGARD_URUKCROSSBOW_BOMBARD_MINRANGE 75 )
  
  	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ISENGARD_URUKCROSSBOW_BOMBARD_MAXRANGE .01 )
	
	
  LeechRangeWeapon		    = Yes
  WeaponSpeed				= 321         ; dist/sec 
  MinWeaponSpeed			= 61
  MaxWeaponSpeed			= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range    
  FireFX = FX_RohanArcherBowWeapon 
  ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
  HitPercentage				= 0     ;Always scatter
  ScatterRadius				= ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
  PreAttackRandomAmount 	= 66 ;;=;; 200     ; amount of additional preattack variance for archer type attacks only 
  DelayBetweenShots			= ISENGARD_URUKCROSSBOW_DELAYBETWEENSHOTS 	; time between shots, msec
  PreAttackDelay			= ISENGARD_URUKCROSSBOW_PREATTACKDELAY 	; 733 is the prep time for archer.
  PreAttackType				= PER_POSITION ; ;PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration			= ISENGARD_URUKCROSSBOW_FIRINGDURATION 		; Duration of the archer firing shot is 500ms.

     ;ClipSize			= 1 ; ;
	;AutoReloadsClip		= Yes ; ;
	;ClipReloadTime     = 2500 ; ;

  CanFireWhileMoving		= No
  IsAimingWeapon            = Yes
  
  AcceptableAimDelta		= 20	; prevent twitchy reaiming in horde on horde
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
  
  NoVictimNeeded			= Yes
	BombardType				= Yes

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName    = GoodFactionArrowBombard
    WarheadTemplateName       = IsengardArcherBowBombardWarhead
    ForbiddenUpgradeNames     = Upgrade_IsengardFireArrows
  End

  ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
    ProjectileTemplateName    = GoodFactionFireArrowBombard
    WarheadTemplateName       = IsengardArcherBowBombardFireWarhead
    RequiredUpgradeNames      = Upgrade_IsengardFireArrows
  End

End


;------------------------------------------------------------------------------
Weapon IsengardArcherBowFireArrow       ; BALANCE Archer Weapon
	AttackRange               = ISENGARD_URUKCROSSBOW_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ISENGARD_URUKCROSSBOW_RANGE .01 )
	
	
	WeaponSpeed               = 321         ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = ISENGARD_URUKCROSSBOW_DELAYBETWEENSHOTS
	PreAttackDelay            = ISENGARD_URUKCROSSBOW_PREATTACKDELAY    ; 1467 is the prep time for archer.
	PreAttackRandomAmount     = 66 ;;=;; 200    ; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_POSITION ; ;PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = ISENGARD_URUKCROSSBOW_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.
	CanFireWhileMoving		  = No	
	IsAimingWeapon            = Yes
	
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	AcceptableAimDelta		= 20	; prevent twitchy reaiming in horde on horde

  	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
;;=;;	DamageType				  = FLAME

  	ProjectileNugget          ; Fire arrow available through fire upgrade
    	ProjectileTemplateName  = GoodFactionFireArrow
    	WarheadTemplateName     = IsengardArcherBowFireWarhead
  	End
End

Weapon IsengardArcherBowBombardFireArrow       ; BALANCE Archer Weapon
	AttackRange               = ISENGARD_URUKCROSSBOW_BOMBARD_MAXRANGE
	MinimumAttackRange        = #SUBTRACT( ISENGARD_URUKCROSSBOW_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ISENGARD_URUKCROSSBOW_BOMBARD_MAXRANGE .01 )
	
	
  LeechRangeWeapon		    = Yes ;;=;;
	WeaponSpeed               = 321         ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 0 ;;=;; 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = ARCHER_BOMBARD_SCATTER_RADIUS ;;=;; 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = ISENGARD_URUKCROSSBOW_DELAYBETWEENSHOTS
	PreAttackDelay            = ISENGARD_URUKCROSSBOW_PREATTACKDELAY    ; 1467 is the prep time for archer.
	PreAttackRandomAmount     = 66 ;;=;; 200    ; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_POSITION ; ;PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = ISENGARD_URUKCROSSBOW_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.
	CanFireWhileMoving		  = No	
	IsAimingWeapon            = Yes
	
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	AcceptableAimDelta		= 20	; prevent twitchy reaiming in horde on horde

  	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
  	
  	NoVictimNeeded			= Yes
	BombardType				= Yes	
;;=;;	DamageType				  = FLAME

  	ProjectileNugget          ; Fire arrow available through fire upgrade
    	ProjectileTemplateName  = GoodFactionFireArrowBombard
    	WarheadTemplateName     = IsengardArcherBowBombardFireWarhead
  	End
End

;-----------------------------------
Weapon IsengardArcherBowWarhead
	RadiusDamageAffects = ENEMIES
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKCROSSBOW_DAMAGE
		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth ;;=;; 100% WK // 115% FortressEagle // 100% summonedeagle.
		DamageScalar  = 115% ANY +Drogoth ;;=;; 100%
		DamageScalar  = 87% ANY +MordorAttackTroll ;;=;; ;;=;;
		DamageScalar  = 95.7% ANY +GoblinCaveTroll ;;-GobsIsen-;; 87% ;;=;;
		;DamageScalar		= 69% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = EVIL_ARROW_PIERCE
	    DeathType     = NORMAL
  	End
End


Weapon IsengardArcherBowBombardWarhead
	RadiusDamageAffects = ENEMIES
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ISENGARD_URUKCROSSBOW_DAMAGE
		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth ;;=;; 100% WK // 115% FortressEagle // 100% summonedeagle.
		DamageScalar  = 115% ANY +Drogoth ;;=;; 100%
		DamageScalar  = 87% ANY +MordorAttackTroll ;;=;; ;;=;;
		DamageScalar  = 95.7% ANY +GoblinCaveTroll ;;-GobsIsen-;; 87% ;;=;;
		;DamageScalar		= 69% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = EVIL_ARROW_PIERCE
	    DeathType     = NORMAL
  	End
End


Weapon IsengardArcherBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKCROSSBOW_DAMAGE_UPGRADE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKCROSSBOW_DAMAGE
		DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth ;;=;; 100% WK // 115% FortressEagle // 100% summonedeagle.
		DamageScalar  = 115% ANY +Drogoth ;;=;; 100%
		DamageScalar  = 87% ANY +MordorAttackTroll ;;=;; ;;=;;
		DamageScalar  = 95.7% ANY +GoblinCaveTroll ;;-GobsIsen-;; 87% ;;=;;
 		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( ISENGARD_URUKCROSSBOW_DAMAGE .15 )
 	;;.;;		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth ;;=;; 100% WK // 115% FortressEagle // 100% summonedeagle.
	;;.;;		DamageScalar  = 115% ANY +Drogoth ;;=;; 100%
	;;.;;		DamageScalar  = 87% ANY +MordorAttackTroll ;;=;; ;;=;;
	;;.;;		DamageScalar  = 95.7% ANY +GoblinCaveTroll ;;-GobsIsen-;; 87% ;;=;;
	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = PIERCE
	;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
	;;.;;	End
End

Weapon IsengardArcherBowBombardFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKCROSSBOW_DAMAGE_UPGRADE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	End
 	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKCROSSBOW_DAMAGE
		DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth ;;=;; 100% WK // 115% FortressEagle // 100% summonedeagle.
		DamageScalar  = 115% ANY +Drogoth ;;=;; 100%
		DamageScalar  = 87% ANY +MordorAttackTroll ;;=;; ;;=;;
		DamageScalar  = 95.7% ANY +GoblinCaveTroll ;;-GobsIsen-;; 87% ;;=;;
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( ISENGARD_URUKCROSSBOW_DAMAGE .15 )
 	;;.;;		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth ;;=;; 100% WK // 115% FortressEagle // 100% summonedeagle.
	;;.;;		DamageScalar  = 115% ANY +Drogoth ;;=;; 100%
	;;.;;		DamageScalar  = 87% ANY +MordorAttackTroll ;;=;; ;;=;;
	;;.;;		DamageScalar  = 95.7% ANY +GoblinCaveTroll ;;-GobsIsen-;; 87% ;;=;;
	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = PIERCE
	;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
	;;.;;	End

	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End

;------------------------------------------------------------------------------
Weapon IsengardBannerSword  ; BALANCE Banner Uruk-hai Sword Weapon //aka UrukFighterSword IsengardUrukSword UrukHaiSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ISENGARD_URUKFIGHTER_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = ISENGARD_URUKFIGHTER_PREATTACKDELAY              ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ISENGARD_URUKFIGHTER_FIRINGDURATION             ; min 600 for anim
  FireFX                    = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_URUKFIGHTER_DAMAGE
	DamageScalar  = 75% ANY +PORTER ;;=;;
	DamageScalar  = 85% ANY +DwarvenMineShaft +DwarvenMineShaftForUndermine ;;-;; 82%;;-;; 85% ;;=dwarfisen=;; 85%
	DamageScalar  = 85% ANY +GondorFarm ;;-;; 92% ;;-;; 100%
	DamageScalar  = 92% ANY +DwarvenGuardian ;;-;; 90% ;;-;; 
	DamageScalar  = 80% ANY +DwarvenGloin ;;-;; ;;-dwarfisen-;; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = URUK ; ;SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon IsengardBannerSwordUpgrade  ; BALANCE Banner Urak-hai Sword Weapon //aka UrukFighterSword IsengardUrukSword UrukHaiSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ISENGARD_URUKFIGHTER_DELAYBETWEENSHOTS   ; ;1200 ; time between shots, msec
  PreAttackDelay        = ISENGARD_URUKFIGHTER_PREATTACKDELAY   ; ;567 ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ISENGARD_URUKFIGHTER_FIRINGDURATION  ; ;633            ; min 600 for anim

  FireFX                    = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_URUKFIGHTER_DAMAGE_UPGRADE
    DamageScalar  = 200% ANY +INFANTRY -HERO -WildSpiderling -DwarvenGuardian -IsengardBeserker ; ;
	DamageScalar  = 180% ANY +DwarvenGuardian ;;-;; 
	DamageScalar  = 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
	DamageScalar  = 160% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
    DamageScalar  = 150% ANY +HERO -DwarvenGloin ; ;
	DamageScalar  = 120% ANY +DwarvenGloin ;;-;; ;;-dwarfisen;; 
	DamageScalar  = 85% ANY +DwarvenMineShaft +DwarvenMineShaftForUndermine ;;-;; 82%;;-;; 85% ;;=dwarfisen=;; 85%
	DamageScalar  = 85% ANY +GondorFarm ;;-;; 92% ;;-;; 100%
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = URUK ; ;SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End


;------------------------------------------------------------------------------
Weapon GollumAttack  ; BALANCE Gollum weapon.
  LeechRangeWeapon      = Yes
  AttackRange           = 2.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = GOLLUM_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackDelay        = GOLLUM_PREATTACKDELAY             ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GOLLUM_FIRINGDURATION            ; min 600 for anim
  FireFX                = FX_GollumAttack

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOLLUM_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO ;;.;; SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon IsengardExplosiveMineDroppingWeapon   ; BALANCE Mine Weapon
	AttackRange           = 15.0
	MeleeWeapon           = Yes; Melee should work now, and you get Bomb too. 10/30/2004; so the demo team will seek the melee contact point "Bomb"
	DelayBetweenShots     = 3000            ; time between shots, msec
	PreAttackDelay        = 1466             ; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = 733            ; min 600 for anim
	AcceptableAimDelta    = 15             ; Give it a little leeway

	SpawnAndFadeNugget	
		ObjectTargetFilter = ANY +STRUCTURE +INFANTRY +CAVALRY +MONSTER -ROCK_VENDOR; Used to have no check at all, so just do a basic "game unit" check to keep out rocks and such
		SpawnedObjectName = IsengardDeployedExplosiveMine
		SpawnOffset = X:8 Y:1 Z:0
	End
End

;------------------------------------------------------------------------------
Weapon IsengardExplosiveMineDroppingWeaponPosition			; BALANCE Mine Weapon
	AttackRange				= 15.0
	MeleeWeapon				= No
	DelayBetweenShots			= 3000				; time between shots, msec
	PreAttackDelay			= 1466				; 433 is natural time of the stabbing animation.
	PreAttackType			= PER_SHOT				; Do the delay each time we attack a new target
	FiringDuration			= 733					; min 600 for anim
	AcceptableAimDelta		= 15					; Give it a little leeway
	NoVictimNeeded			= Yes					; Need no target
	OverrideVoiceAttackSound	= ExplosiveMineVoiceDeploy	;Play Special "leave it there voice"

	SpawnAndFadeNugget	
		ObjectTargetFilter = ANY +STRUCTURE +INFANTRY +CAVALRY +MONSTER -ROCK_VENDOR; And funny thing, even though this has Position in the name, nothing actually makes it be Position based.  So when the object one fails on a rock, this one get picked.  So filter goes here too.
		SpawnedObjectName = IsengardDeployedExplosiveMine
		SpawnOffset = X:8 Y:1 Z:0
	End
End

;------------------------------------------------------------------------------
Weapon IsengardExplosiveMineExplosionWeapon   ; BALANCE Mine Weapon
	AttackRange           = 4.0
	DelayBetweenShots     = 2000            ; time between shots, msec
	FireFX                = FX_ExplosiveMine
	RadiusDamageAffects = ALLIES ENEMIES NEUTRALS SELF ; SELF so mine affects siegeworks that made it 
	; The highly destructive exposion that destroys everything. Consentrated to a small radius
	; so that it doesn't destroy objects with awkward bounding boxes, like walls.
	DamageNugget
		Damage        = ISENGARD_EXPLOSIVEMINE_MAIN_DAMAGE ;7000
		DamageTaperOff = ISENGARD_EXPLOSIVEMINE_TAPER_OFF
		DamageScalar  = 80% ANY +COMMANDCENTER;; 82.4% to dont kill upgraded fort ;;=;; 53.5% to don't kill un-upgraded fort.
		Radius        = 125.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLAME
		DeathType     = BURNED
		AcceptDamageAdd = No
		DamageScalar  = 50000% ANY +HelmsDeepCulvert ; Make sure we one shot kill Culvert but Ballista have to shoot alot
	End

	DamageNugget	
		DamageScalar  = 20% ANY +COMMANDCENTER ;; kill it if we get to touch the fortress
		Damage        = ISENGARD_EXPLOSIVEMINE_MAIN_DAMAGE
		Radius        = 25 ;;=;; 125
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLAME
		DeathType     = BURNED
		AcceptDamageAdd = No
		SpecialObjectFilter = ANY +COMMANDCENTER
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 90.0		
		ShockWaveRadius   = 125.0
		ShockWaveTaperOff = 0.66
	End
End


;------------------------------------------------------------------------------
Weapon IsengardBurningPileofLeavesWeapon   ; BALANCE Level Effects
	AttackRange           = 4.0
	DelayBetweenShots     = 2000            ; time between shots, msec
	FireFX                = FX_LeafPileFire

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 200
		Radius        = 75.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageScalar  = 50000% ANY +HelmsDeepCulvert ; Make sure we one shot kill Culvert but Ballista have to shoot alot
	End
	
;	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
;		ShockWaveAmount   = 50.0		
;		ShockWaveRadius   = 75.0
;		ShockWaveTaperOff = 0.5
;	End
End

;------------------------------------------------------------------------------
Weapon IsengardBerserkerSword   ; BALANCE Berserker Weapon
  LeechRangeWeapon      = No ; ;Yes
  RadiusDamageAffects   = ENEMIES NEUTRALS ; ;
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ISENGARD_BERSERKER_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackDelay        = ISENGARD_BERSERKER_PREATTACKDELAY             ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ISENGARD_BERSERKER_FIRINGDURATION            ; min 600 for anim
  FireFX                = FX_GondorSwordHit
  

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_BERSERKER_DAMAGE
	DamageTaperOff = #MULTIPLY( ISENGARD_BERSERKER_DAMAGE ISENGARD_BERSERKER_DAMAGE_TAPEROFF ) ;;-;;
    DamageScalar  = 50% ANY +CAVALRY ; ;
    DamageScalar	= 0% ANY +DwarvenGuardian ;;=;;
    DamageScalar	= 0% ANY +DwarvenPhalanx ;;=;;
    DamageScalar	= 0% ANY +DwarvenAxeThrower ;;=;;
	DamageScalar    = 85% ANY +HERO ;;-;; actually effective in v2. 
	DamageScalar    = 90% ANY +STRUCTURE -COMMANDCENTER ;;=;; ;;=;;
	DamageScalar    = 85% ANY +COMMANDCENTER ;;-;; actually effective in v2.
    Radius        = ISENGARD_BERSERKER_RADIUS
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = ISENGARD_BERSERKER_ARC
  End	

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_BERSERKER_DAMAGE
	DamageTaperOff = #MULTIPLY( ISENGARD_BERSERKER_DAMAGE ISENGARD_BERSERKER_DAMAGE_TAPEROFF ) ;;-;;
    SpecialObjectFilter	= ANY +DwarvenGuardian +DwarvenPhalanx +DwarvenAxeThrower ;;-;; 
    DamageScalar  = 80% ANY +DwarvenGuardian ; ;
    Radius        = ISENGARD_BERSERKER_RADIUS_VS_DWARVES  ;;=dwarfisen=;;
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = ISENGARD_BERSERKER_ARC
  End	

;  MetaImpactNugget      ; A Nugget that throws things back with force
;    ShockWaveAmount   = 20.0
;    ShockWaveRadius   = 10.0
;    ShockWaveTaperOff = 1.0
;    ShockWaveArc      = 90
;    HeroResist		  = 0.90		; 90% resistance to heroes
;  End


End

;------------------------------------------------------------------------------
Weapon IsengardBerserkerTorch   ; BALANCE Berserker Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
;  MeleeWeapon           = Yes
  DelayBetweenShots     = 10000 ; This shot will kill us, btw.
  PreAttackDelay        = 1666
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 100           

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 25	; uped to 25 so that it can light ents on fire
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = FLAME
	DeathType     = BURNED
	DamageScalar  = 200000% ANY +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
  End
  
	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 0.0
		Damage		= 25
	End
End

;------------------------------------------------------------------------------
Weapon IsengardPikemanPike     ; BALANCE Isengard Pikeman Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 35
  MeleeWeapon           = Yes	; Sorry, stand off doesn't work.  This is just a melee weapon.
  DelayBetweenShots     = ISENGARD_URUKPIKEMAN_STAB_DELAYBETWEENSHOTS				; time between shots, msec
  PreAttackDelay        = ISENGARD_URUKPIKEMAN_STAB_PREATTACKDELAY				
  PreAttackType         = PER_SHOT			; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = ISENGARD_URUKPIKEMAN_STAB_FIRINGDURATION				
  
	DamageNugget								; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKPIKEMAN_STAB_DAMAGE
		DamageType    = SPECIALIST
		DamageFXType  = SWORD_SLASH
		DamageScalar  = 90% ANY +DwarvenDain ;;-;;
		DamageScalar  = 88% ANY +GondorFarm ;;-;;
		DamageScalar  = 90% ANY +GoblinCaveTroll ;;=;; ;;-;; 79% ;;-;; 84%
		DamageScalar  = 75% ANY +MordorAttackTroll  ;;=;;
		DamageScalar  = 85% ANY +MordorMountainTroll ;;=;;
		DeathType     = NORMAL
		;LostLeadershipUselessAgainst = CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		ForbiddenUpgradeNames    = Upgrade_IsengardForgedBlades
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End

	DamageNugget								; A basic Nugget that just does damage
		Damage        = ISENGARD_URUKPIKEMAN_DAMAGE_UPGRADE
    	DamageScalar  = 200% ANY +INFANTRY -HERO ; ;
    	DamageScalar  = 75% ANY +HERO -DwarvenDain; ;
		DamageScalar  = 67.5% ANY +DwarvenDain ;;-;;
		DamageScalar  = 84% ANY +GoblinCaveTroll ;;=;;
		DamageScalar  = 75% ANY +MordorAttackTroll  ;;=;;
		DamageScalar  = 85% ANY +MordorMountainTroll ;;=;;
		DamageScalar  = 88% ANY +GondorFarm ;;-;;
		DamageType    = SPECIALIST
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		;LostLeadershipUselessAgainst = CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		RequiredUpgradeNames    = Upgrade_IsengardForgedBlades
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End
End

//-----------------------------------
Weapon MineLauncherWeapon
	AttackRange					= ISENGARD_MINELAUNCHER_RANGE	
	WeaponSpeed					= 100										// dist/sec 
	MinWeaponSpeed				= 100
	FireFX						= FX_CatapultWeapon
	FXTrigger					= CATAPULT_ROCK	
	DelayBetweenShots			= ISENGARD_MINELAUNCHER_DELAYBETWEENSHOTS	// time between shots, msec	
	PreAttackDelay				= ISENGARD_MINELAUNCHER_PREATTACKDELAY
	PreAttackType				= PER_SHOT									// Do the delay each time we attack a new target
	FiringDuration				= ISENGARD_MINELAUNCHER_FIRINGDURATION		// Catapult firing animation takes 3.0 secs.	
	NoVictimNeeded				= Yes										// Need no target
	LeechRangeWeapon			= Yes
	AcceptableAimDelta			= 45
	  
	ScatterRadiusVsInfantry		= 40.0  
	
	HitPercentage       = 100		// always hits.
    
	ProjectileNugget					
		ProjectileTemplateName			= IsengardMineLauncherProjectile 
		WarheadTemplateName				= MineLauncherWarHead
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:150 Y:0 Z:0			//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
	ProjectileNugget                    
		ProjectileTemplateName			= IsengardMineLauncherProjectile 
		WarheadTemplateName				= MineLauncherWarHead
		WeaponLaunchBoneSlotOverride	= SECONDARY
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:130 Y:-100 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
	ProjectileNugget                    
		ProjectileTemplateName			= IsengardMineLauncherProjectile 
		WarheadTemplateName				= MineLauncherWarHead

		WeaponLaunchBoneSlotOverride	= TERTIARY
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:130 Y:100 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End

; ;
	ProjectileNugget       ;; closest             
		ProjectileTemplateName		= IsengardMineLauncherProjectile 
		WarheadTemplateName		= MineLauncherWarHead

;		WeaponLaunchBoneSlotOverride	= TERTIARY
		UseAlwaysAttackOffset		= Yes	
		AlwaysAttackHereOffset		= X:90 Y:0 Z:0
	End
;	ProjectileNugget              ;; Lower right      
;		ProjectileTemplateName			= IsengardMineLauncherProjectile 
;		WarheadTemplateName				= MineLauncherWarHead
;
;		WeaponLaunchBoneSlotOverride	= SECONDARY
;		UseAlwaysAttackOffset			= Yes
;		AlwaysAttackHereOffset			= X:90 Y:-60 Z:0
;	End
	ProjectileNugget     ;; Up left               
		ProjectileTemplateName			= IsengardMineLauncherProjectile 
		WarheadTemplateName				= MineLauncherWarHead

		WeaponLaunchBoneSlotOverride	= TERTIARY
		UseAlwaysAttackOffset			= Yes
		AlwaysAttackHereOffset			= X:180 Y:50 Z:0
	End
	ProjectileNugget       ;; Up right
		ProjectileTemplateName			= IsengardMineLauncherProjectile 
		WarheadTemplateName				= MineLauncherWarHead

		WeaponLaunchBoneSlotOverride	= SECONDARY
		UseAlwaysAttackOffset			= Yes	
		AlwaysAttackHereOffset			= X:180 Y:-50 Z:0
	End

End

;//-----------------------------------
Weapon MineLauncherWarHead
	ProjectileCollidesWith	= MONSTERS	STRUCTURES	// Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR NEUTRALS ; ; ALLIES

	;// The highly destructive exposion that destroys everything. Consentrated to a small radius
	;// so that it doesn't destroy objects with awkward bounding boxes, like walls.
	DamageNugget
		Damage        = ISENGARD_MINELAUNCHER_DAMAGE
		DamageTaperOff	= #MULTIPLY( ISENGARD_MINELAUNCHER_DAMAGE ISENGARD_MINELAUNCHER_DAMAGE_TAPEROFF )
		Radius        = ISENGARD_MINELAUNCHER_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLAME
		DeathType     = BURNED		
		DamageScalar  = 0% ANY +IsengardFortressCitadel +IsengardBallistaExpansion +IsengardTowerExpansion
	End

	MetaImpactNugget                    // A Nugget that throws things back with force 
		HeroResist			= 100% ; ; .75
		ShockWaveAmount		= 50.0		
		ShockWaveRadius		= 30.0
		ShockWaveTaperOff	= 0.75
	End
End

;//------------------------------------------------------------------------------
Weapon WizardTowerLightningWeapon  ;// BALANCE WizardTowerLightning		

	AttackRange				= ISENGARD_WIZARDSTOWER_LIGHTNING_RANGE
	WeaponSpeed				= 900		;// dist/sec 
	HitPercentage			= 100		;// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots		= 500		;// time between shots, msec
	PreAttackDelay      	= 3000	
	PreAttackType       	= PER_ATTACK	;// Do the delay each time we attack a new target
	AcceptableAimDelta		= 0
	FireFX						= FX_WizardTowerClouds
	FiringDuration      	= 1
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

    ProjectileNugget					
		ProjectileTemplateName			= WizardTowerProjectile 
		WarheadTemplateName				= WizardTowerWarHead
		WeaponLaunchBoneSlotOverride	= SECONDARY
	;	UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
	;	AlwaysAttackHereOffset			= X:0 Y:0 Z:400			//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End	
;---------------------------------------------------------------------------------------
Weapon WizardTowerWarHead

	ProjectileCollidesWith	= MONSTERS	STRUCTURES ENEMIES NEUTRAL// Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES ALLIES NOT_SIMILAR

	// A Nugget that throws things back with force
	MetaImpactNugget                    ;// A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 150.0
		ShockWaveRadius		= ISENGARD_WIZARDSTOWER_LIGHTNING_SHOT_DMG_RADIUS
		ShockWaveTaperOff	= 0.2
		ShockWaveZMult		= 1.50		
		;;.;; KillObjectFilter	= ANY +PORTER +DwarvenBattleWagon +DwarvenDemolisher +DwarvenCatapult +GondorTrebuchet +IsengardBallista +IsengardBatteringRam +MordorCatapult +MordorBatteringRam +MordorRamCrew +IsengardRamCrew ;;-;; removed +IsengardExplosiveMine
	End

	//Start a fire
	FireLogicNugget 
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	ISENGARD_WIZARDSTOWER_LIGHTNING_FIRE_RADIUS
		Damage		=	ISENGARD_WIZARDSTOWER_LIGHTNING_FIRE_START_RAD
	End

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage        		= ISENGARD_WIZARDSTOWER_LIGHTNING_DAMAGE_FLAME
		Radius				= ISENGARD_WIZARDSTOWER_LIGHTNING_SHOT_DMG_RADIUS    //Radius of damage			
		DamageType    		= FLAME
		DamageFXType  		= BOLT
		DeathType     		= BURNED ;;-;; NORMAL //BURNED // at least one nugget burning to detonate mines.
		; DamageScalar	= 100% ANY +MACHINE -MordorGrond;;.;;
		; DamageScalar	= 100% ANY +RohanGenericEnt  ;;.;;
		; DamageScalar	= 100% ANY +RohanTreeBerd  ;;.;;
		; DamageScalar	= 100% ANY +WildMountainGiant ;;.;;
		DamageScalar	= 150% ANY +MordorGrond ;;.;; 300%
		DamageScalar	= 50% ANY +HERO -Drogoth ;;.;; 75% ;;.;;
		DamageScalar	= 65% ANY +Drogoth ;;.;; 75% ;;-;; 150%
		DamageScalar	= 65% ANY +ElvenFortressEagle ;;.;; 75% ;;-;; 150%
		DamageScalar	= 65% ANY +GondorGwaihir_Summoned ;;.;; 75% ;;-;; 150%
		DamageScalar	= 50% ANY +STRUCTURE ;;.;; 75% ;;.;;
		DamageScalar		= 40% ANY +MordorBalrog ;;.;; 80% ;;.;; 30%
		DamageScalar		= 200% ANY +PORTER +DwarvenBattleWagon +DwarvenDemolisher +DwarvenCatapult +GondorTrebuchet +IsengardBallista +IsengardBatteringRam +MordorCatapult +MordorBatteringRam +MordorRamCrew +IsengardRamCrew ;;-;; removed +IsengardExplosiveMine
	End

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage        		= ISENGARD_WIZARDSTOWER_LIGHTNING_DAMAGE
		Radius				= ISENGARD_WIZARDSTOWER_LIGHTNING_SHOT_DMG_RADIUS    //Radius of damage			
		DamageType    		= MAGIC
		DamageFXType  		= BOLT
		DeathType     		= NORMAL //BURNED
		; DamageScalar	= 100% ANY +MACHINE -MordorGrond;;.;;
		; DamageScalar	= 100% ANY +RohanGenericEnt  ;;.;;
		; DamageScalar	= 100% ANY +RohanTreeBerd  ;;.;;
		; DamageScalar	= 100% ANY +WildMountainGiant ;;.;;
		DamageScalar	= 150% ANY +MordorGrond ;;.;; 300%
		DamageScalar	= 50% ANY +HERO -Drogoth ;;.;; 75% ;;.;;
		DamageScalar	= 65% ANY +Drogoth ;;.;; 75% ;;-;; 150%
		DamageScalar	= 65% ANY +ElvenFortressEagle ;;.;; 75% ;;-;; 150%
		DamageScalar	= 65% ANY +GondorGwaihir_Summoned ;;.;; 75% ;;-;; 150%
		DamageScalar	= 50% ANY +STRUCTURE ;;.;; 75% ;;.;;
		;;.;; DamageScalar		= 150% ANY +CANNOT_RETALIATE  ;;=;;
		DamageScalar		= 40% ANY +MordorBalrog ;;.;; 80% ;;.;; 30%
		DamageScalar		= 200% ANY +PORTER +DwarvenBattleWagon +DwarvenDemolisher +DwarvenCatapult +GondorTrebuchet +IsengardBallista +IsengardBatteringRam +MordorCatapult +MordorBatteringRam +MordorRamCrew +IsengardRamCrew ;;-;; removed +IsengardExplosiveMine
	End
	
	//BALANCE 09v3ElectrifyTheBalrog//
  	AttributeModifierNugget
		AttributeModifier        = HitLevel2ReactionModifier09v3
		Radius                   = #MULTIPLY( ISENGARD_WIZARDSTOWER_LIGHTNING_SHOT_DMG_RADIUS 0.33 )
 		SpecialObjectFilter      = ANY SPELLBOOK_SUMMONED_UNITS
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
End


;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Mordor
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------

Weapon ShelobWebbingWeapon09v2
	AttackRange			= 400 			
	WeaponSpeed			= 321
	MinWeaponSpeed		= 241
	MaxWeaponSpeed		= 481
	FireFX				= FX_ShelobWebbingFireFX09v2
	ScaleWeaponSpeed	= Yes
	HitPercentage		= 100
	ScatterRadius		= 5.0

	AcceptableAimDelta	= 20
	DelayBetweenShots	= LEGOLAS_DELAYBETWEENSHOTS
	PreAttackDelay      = LEGOLAS_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	FiringDuration      = LEGOLAS_FIRINGDURATION
     ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:LEGOLAS_RELOADTIME_MIN Max:LEGOLAS_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= LEGOLAS_RELOADTIME_MAX

    AntiAirborneVehicle	=  Yes
    AntiAirborneMonster	=  Yes
    CanBeDodged = No
	ProjectileNugget
		ProjectileTemplateName  = ShelobWebbingProjectile09v2
		WarheadTemplateName     = ShelobWebbingWarhead09v2
	End
End

;-----------------------------------
Weapon ShelobWebbingWarhead09v2
	ProjectileCollidesWith = ENEMIES NEUTRAL
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget = Yes
	DOTNugget	// Units
		Damage = #DIVIDE( SHELOB_SPIDERWEB_DAMAGE #DIVIDE( SHELOB_SPIDERWEB_DURATION 1000 ) ) ;;-;;
 		AcceptDamageAdd = No ;;-;;
  		Radius = SHELOB_SPIDERWEB_RADIUS
 		DamageType    = HERO_RANGED
		DamageFXType	= POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = SHELOB_SPIDERWEB_DURATION
		SpecialObjectFilter = SHELOB_SPIDERWEB_PARALYZE_FILTER_POISON
  	End
	DOTNugget	// HeroesMonsters
		Damage = #DIVIDE( SHELOB_SPIDERWEB_DAMAGE_HEROES #DIVIDE( SHELOB_SPIDERWEB_DURATION 1000 ) ) ;;-;;
 		AcceptDamageAdd = No ;;-;;
  		Radius = SHELOB_SPIDERWEB_RADIUS
  		DamageScalar = 240% ANY +MordorWitchKingOnFellBeast ;;-;; 350%
		DamageScalar = 144% ANY +Drogoth ;;-;; 320%
		DamageScalar = 165% ANY +ElvenFortressEagle +GondorGwaihir_Summoned ;;-;; 250
		DamageScalar = 260% ANY +MordorFellBeast ;;-;; 450
		DamageType    = HERO_RANGED
		DamageFXType	= POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = SHELOB_SPIDERWEB_DURATION
 		DrainLife     		= Yes
		DrainLifeMultiplier	= 5 ;;-;; 2 ;;-;; 0.5
		SpecialObjectFilter = SHELOB_SPIDERWEB_PARALYZE_FILTER_DRAIN_LIFE
   	End
	ParalyzeNugget	// Units
 		Radius = SHELOB_SPIDERWEB_RADIUS
		Duration = SHELOB_SPIDERWEB_DURATION
  		SpecialObjectFilter = SHELOB_SPIDERWEB_PARALYZE_FILTER_POISON
  		ParalyzeFX = FX_ShelobWebbingParalyzeUnitsFX09v2
	End
	ParalyzeNugget	// HeroesMonsters
 		Radius = SHELOB_SPIDERWEB_RADIUS
		Duration = SHELOB_SPIDERWEB_DURATION
		SpecialObjectFilter = SHELOB_SPIDERWEB_PARALYZE_FILTER_DRAIN_LIFE
  		ParalyzeFX = FX_ShelobWebbingParalyzeHeroesFX09v2
	End
End
;------------------------------------------------------------------------------

Weapon ShelobWebbing 
	AttackRange			= 530 ;;-;; 400 			
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed		= 241
	MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_SpinnenetzWeapon
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 5.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= LEGOLAS_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay      = LEGOLAS_PREATTACKDELAY 		; 1467 is the prep time for archer.
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = LEGOLAS_FIRINGDURATION 	; Duration of the archer firing shot is 500ms.

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:LEGOLAS_RELOADTIME_MIN Max:LEGOLAS_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= LEGOLAS_RELOADTIME_MAX

    AntiAirborneVehicle	=  Yes
    AntiAirborneMonster	=  Yes
    CanBeDodged = No
	ProjectileNugget                    ; Shelob's Web throw
		ProjectileTemplateName  = ShelobWebbingProjectile 
		WarheadTemplateName     = ShelobWebbingWarhead
	End
End

;-----------------------------------
Weapon ShelobWebbingWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL ;STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.

  DamageNugget   ; A basic Nugget that just does damage
    Damage        = 500 ;;=;; LURTZ_BOW_STUN_DAMAGE
	DamageScalar = 75% ANY +HERO -CANNOT_RETALIATE
	DamageScalar = 700% ANY +MordorWitchKingOnFellBeast 
	DamageScalar = 320% ANY +Drogoth
	DamageScalar = 250% ANY +ElvenFortressEagle +GondorGwaihir_Summoned
	DamageScalar = 550% ANY +MordorFellBeast
    Radius        = 40 ;;=;; 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0 ; ; 1 ;;=;; 0
    DamageType    = HERO_RANGED
   ;; DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
	DrainLife     		= Yes	;;=;;
	DrainLifeMultiplier	= .5 	;;=;;
  End

  	;AttributeModifierNugget
	;	AttributeModifier        = ShelobWebbing
	;	Radius                   = 40 	;;=;;
	;	DamageFXType             = EVIL_ARROW_PIERCE 
	;	SpecialObjectFilter      = SHELOB_SPIDERWEB_PARALYZE_FILTER
	;End     	
End

//------------------------------------------------------------------------------
//Fake weapon so that the expansion will pick targets that the slaved catapult can attack
Weapon MordorCatapultExpansionWeapon		
	AttackRange					= MORDOR_CATAPULT_ROCK_RANGE
	MinimumAttackRange			= MORDOR_CATAPULT_ROCK_MINRANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS  
	PreAttackDelay				= MORDOR_CATAPULT_ROCK_PREATTACKDELAY
	FiringDuration      		= MORDOR_CATAPULT_ROCK_FIRINGDURATION
	AcceptableAimDelta			= MORDOR_CATAPULT_EXPANSION_AIM_DELTA  
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End

;-----------------------------------
Weapon MordorCatapultRock 	//BALANCE ActiveArtilleryWeapon//
  AttackRange = MORDOR_CATAPULT_ROCK_RANGE
  
  RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( MORDOR_CATAPULT_ROCK_RANGE .01 )
	
	
  MinimumAttackRange	= 150.0 ; ;100.0
  WeaponSpeed			= 201         ; dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_CatapultWeapon
  DelayBetweenShots		= MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS; time between shots, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= MORDOR_CATAPULT_ROCK_PREATTACKDELAY 
  PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration		= MORDOR_CATAPULT_ROCK_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
	ClipSize 				= 10 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS; how long to reload a Clip, msec
  RequireFollowThru		= Yes
  ShareTimers			= Yes ; share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ; Need no target
  LeechRangeWeapon		= Yes
  
; ;  ScatterRadiusVsInfantry     = 40.0 ; 
; ;  DisableScatterForTargetsOnWall = Yes
; ;  HitPercentage       = 100 ; always hits.
;  ScatterRadius       = 50.0     ;When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 32
  	ScatterTarget           = X: 40 Y:-49
  	ScatterTarget           = X:-38 Y: 57
  	ScatterTarget           = X: 34 Y: 36
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 45 Y: 33
  	ScatterTarget           = X:-41 Y:-31
  	ScatterTarget           = X:-39 Y: 37
;;=;;ScatterTarget           = X: 40 Y:-49

;;=;;ScatterTarget           = X: 62 Y: 32
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = MordorCatapultRockProjectile
    WarheadTemplateName = MordorCatapultRockWarhead
  End
End

; ;-----------------------------------
Weapon MordorCatapultAntiShipRock	//BALANCE BT2DCAntiShipsWeapon//
  AttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE
  
  RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2	
	
  MinimumAttackRange	= BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
  WeaponSpeed			= 201         ; dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_CatapultWeapon
  DelayBetweenShots		= 12000 ; ; MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS ; ;time between shots, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= MORDOR_CATAPULT_ROCK_PREATTACKDELAY 
  PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration		= MORDOR_CATAPULT_ROCK_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
	ClipSize 				= 10 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = 12000 ; ; MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS ; ; how long to reload a Clip, msec
  RequireFollowThru		= Yes
  ShareTimers			= Yes ; share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ; Need no target
  LeechRangeWeapon		= Yes
  
  HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
  ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 83 Y: 74
  ScatterTarget           = X: 60 Y:-92
  ScatterTarget           = X:-25 Y: 36
  ScatterTarget           = X: 19 Y: 16
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 26 Y: 19
  ScatterTarget           = X:-102 Y:-80
  ScatterTarget           = X:-16 Y: 16
  ScatterTarget           = X: 60 Y:-92
  ScatterTarget           = X:-102 Y:-80
  ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = MordorCatapultRockProjectileBombard ; ;MordorCatapultRockProjectile
    WarheadTemplateName = MordorCatapultAntiShipRockWarhead
    WeaponLaunchBoneSlotOverride = PRIMARY
  End
End

;------------------------------------------------------------------------------
Weapon MordorCatapultHumanHeads
	AttackRange			= MORDOR_CATAPULT_HEADS_RANGE

	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( MORDOR_CATAPULT_HEADS_RANGE .01 )
	
	MinimumAttackRange	= 150.0 ; ;100.0
	WeaponSpeed			= 201         ; dist/sec 
	MinWeaponSpeed		= 201
	FireFX				= FX_CatapultWeapon
	DelayBetweenShots	= MORDOR_CATAPULT_HEADS_DELAYBETWEENSHOTS; time between shots, msec
	FXTrigger			= CATAPULT_ROCK
	PreAttackDelay		= MORDOR_CATAPULT_HEADS_PREATTACKDELAY
	PreAttackType		= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration		= MORDOR_CATAPULT_HEADS_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
	ClipSize 				= 10 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS; how long to reload a Clip, msec
 	RequireFollowThru	= Yes
	ShareTimers			= Yes ; share timer with catapult rocks to you can't fire both in quick succession
	NoVictimNeeded		= Yes ; Need no target
    LeechRangeWeapon    = Yes
; ;
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 32
  	ScatterTarget           = X: 40 Y:-49
  	ScatterTarget           = X:-38 Y: 57
  	ScatterTarget           = X: 34 Y: 36
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 45 Y: 33
  	ScatterTarget           = X:-41 Y:-31
  	ScatterTarget           = X:-39 Y: 37
  	ScatterTarget           = X: 40 Y:-49
  	ScatterTarget           = X: 62 Y: 32
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= MordorCatapultHumanHeadsProjectile
		WarheadTemplateName		= MordorCatapultHumanHeadsWarhead
	End	
End

;-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon MordorCatapultRockWarhead ;;=;;
	ProjectileCollidesWith = MONSTERS NEUTRAL	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES ; ;NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = MORDOR_CATAPULT_ROCK_DAMAGE	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar  = 90% ANY +COMMANDCENTER ;;-;;
		DamageTaperOff = MORDOR_CATAPULT_ROCK_DAMAGE_TAPEROFF ;;-;;
		;;-NotNecesaryAnymore-;;DamageScalar  = 135% ANY +WALL_UPGRADE +WALL_HUB +WALL_SEGMENT +DEFENSIVE_WALL ;;=;;
		DamageScalar   = 0% ANY +SHIP ; ;
	    Radius        = MORDOR_CATAPULT_ROCK_RADIUS
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	
	 DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = MORDOR_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
 		;;-NotNecesaryAnymore-;;DamageScalar  = 135% ANY +WALL_UPGRADE +WALL_HUB +WALL_SEGMENT +DEFENSIVE_WALL ;;=;;
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_MORDORCATAPULT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED

		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = MORDOR_CATAPULT_FLAME_DAMAGE
		DamageTaperOff = MORDOR_CATAPULT_FLAME_DAMAGE_TAPEROFF ;;.;;
		DamageScalar   = 0% ANY +SHIP ; ;
	    Radius        = 30 ;20.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	3
	End

;;-;;

	// A Nugget that throws things back with force 
	MetaImpactNugget                    
		ShockWaveAmount   = 35.0
		ShockWaveRadius   = 30.0
		ShockWaveTaperOff = 0.75
	End
End

; ;-----------------------------------
Weapon MordorCatapultAntiShipRockWarhead ;;=;;  //BALANCE BT2DCAntiShipsWarhead//
	ProjectileCollidesWith = MONSTERS NEUTRAL	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES 

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = MORDOR_CATAPULT_ROCK_DAMAGE	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar  = 90% ANY +COMMANDCENTER ;;-;;
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
	    Radius        = BT2DC_ARTILLERY_BOMBARD_RADIUS
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	;;.;;	 DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( MORDOR_CATAPULT_ROCK_DAMAGE 0.5 ) ;;-;;
	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
 	;;.;;		;;-NotNecesaryAnymore-;;DamageScalar  = 135% ANY +WALL_UPGRADE +WALL_HUB +WALL_SEGMENT +DEFENSIVE_WALL ;;=;;
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = MORDOR_CATAPULT_FLAME_DAMAGE
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
	    Radius        = BT2DC_ARTILLERY_BOMBARD_RADIUS
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	3
	End

;;-;;

	// A Nugget that throws things back with force 
	MetaImpactNugget                    
		ShockWaveAmount   = 35.0
		ShockWaveRadius   = 30.0
		ShockWaveTaperOff = 0.75
	End

End

Weapon MordorCatapultHumanHeadsWarhead
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;ALLIES 
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType		=	INCREASE_FUEL
		Radius			=	80
		Damage			=	40
		MinMaxBurnRate	=	100
		MinDecay		=	1
		MaxResistance	=	0
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = MORDOR_CATAPULT_HEADS_DAMAGE   ;Reduced damage for heads. Heads don't break stone.
		Radius        = 4.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 40 ;50
		Radius        = 20.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	End

;	MetaImpactNugget                    ; A Nugget that throws things back with force - E4 Hacked
;		HeroResist			= .75
;		ShockWaveAmount   = 50.0
;		ShockWaveRadius   = 20.0
;		ShockWaveTaperOff = 0.5
;	End
End

;;-;;
Weapon MordorCatapultHumanHeadsWeaponUpdate09v2
 	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	DelayBetweenShots		= 400 ;;-;; 200
	
 	LuaEventNugget	;;-;;
		LuaEvent			= BeTerrified ;;-;;
		Radius				= 85 ;;-;; 85
		SendToEnemies		= Yes
		SendToAllies		= No
		SendToNeutral		= Yes
 	End
End

;-----------------------------------
//BALANCE ActiveArtilleryWeaponStructural//
Weapon MordorCatapultRock_Structural  ; BALANCE Catapult Weapon
  AttackRange = MORDOR_CATAPULT_ROCK_RANGE
  	;RangeBonusMinHeight	= 10
	;RangeBonus		= 1
	;RangeBonusPerFoot	= #MULTIPLY( MORDOR_CATAPULT_ROCK_RANGE .01 )
	
	
  MinimumAttackRange		= MORDOR_CATAPULT_ROCK_WALL_MINRANGE ;;.;;
  WeaponSpeed			= 201         ; dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_CatapultWeapon
  DelayBetweenShots		= MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS; time between shots, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= MORDOR_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration		= MORDOR_CATAPULT_ROCK_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
  ClipSize 				= 10 ; ;
  AutoReloadsClip 		= Yes
  ClipReloadTime          = MORDOR_CATAPULT_ROCK_DELAYBETWEENSHOTS; how long to reload a Clip, msec
  RequireFollowThru		= Yes
  ShareTimers			= Yes ; share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ; Need no target
  LeechRangeWeapon		= Yes
  
; ;  ScatterRadiusVsInfantry     = 40.0 ; 
; ;  DisableScatterForTargetsOnWall = Yes
; ;
	HitPercentage				= 0     ;100 ; Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;50 ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 62 Y: 32
  	ScatterTarget           = X: 40 Y:-49
  	ScatterTarget           = X:-38 Y: 57
  	ScatterTarget           = X: 34 Y: 36
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X: 45 Y: 33
  	ScatterTarget           = X:-41 Y:-31
  	ScatterTarget           = X:-39 Y: 37
;;=;;ScatterTarget           = X: 40 Y:-49
;;=;;ScatterTarget           = X: 62 Y: 32
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = MordorCatapultRockProjectile
    WarheadTemplateName = MordorCatapultRockWarhead_Structural
  End
End

;-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural//
Weapon MordorCatapultRockWarhead_Structural
	ProjectileCollidesWith = MONSTERS	STRUCTURES	// Structures is the default, btw.
	RadiusDamageAffects = ENEMIES ALLIES NOT_SIMILAR

	// A basic Nugget that just does damage
	DamageNugget                        
	    Damage        = MORDOR_CATAPULT_ROCK_DAMAGE	// Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar  = 90% ANY +COMMANDCENTER ;;-;;
	    Radius        = MORDOR_CATAPULT_ROCK_RADIUS
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			// No damage to allied structures.
	End
	
	
	 DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = MORDOR_CATAPULT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_MORDORCATAPULT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
		;;.;; DamageScalar   = 0% ANY +SHIP ; ;
		;;-NotNecesaryAnymore-;;DamageScalar  = 135% ANY +WALL_UPGRADE +WALL_HUB +WALL_SEGMENT +DEFENSIVE_WALL ;;=;;
	End

	// A basic Nugget that just does damage
	DamageNugget                        
	    Damage        = MORDOR_CATAPULT_FLAME_DAMAGE
	    Radius        = 30 ;20.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 0% NONE ALLIES +STRUCTURE			// No damage to allied structures.
	End

	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	3
	End

;;-;;

	// A Nugget that throws things back with force 
	MetaImpactNugget                    
;		HeroResist		  = .75
		ShockWaveAmount   = 35.0
		ShockWaveRadius   = 30.0
		ShockWaveTaperOff = 0.75
	End
End

;-----------------------------------

Weapon MordorCatapultRock_Celduin  ; CUSTOM Catapult Rock for Good 6 Celduin
  AttackRange = 5000
  MinimumAttackRange	= 100.0
  WeaponSpeed			= 201 ; dist/sec 
  MinWeaponSpeed		= 201
  FireFX				= FX_CatapultWeapon
  DelayBetweenShots		= 6000; time between shots, msec
  FXTrigger				= CATAPULT_ROCK
  PreAttackDelay		= MORDOR_CATAPULT_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration		= MORDOR_CATAPULT_ROCK_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
  RequireFollowThru		= Yes
  ShareTimers			= Yes ; share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ; Need no target
  LeechRangeWeapon		= Yes
  
  ScatterRadiusVsInfantry     = 40.0 ; 
  DisableScatterForTargetsOnWall = Yes
  HitPercentage       = 100 ; always hits.
;  ScatterRadius       = 50.0     ;When this weapon misses it can randomly miss by as much as this distance.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = MordorCatapultRockProjectile
    WarheadTemplateName = MordorCatapultRockWarhead
  End
End

;//-----------------------------------
Weapon MordorGorgorothSpireWeapon		;// BALANCE Spire Weapon
  	AttackRange			= MORDOR_GORGOROTHSPIRE_ROCK_RANGE
  	MinimumAttackRange	= MORDOR_GORGOROTHSPIRE_ROCK_MINIMUM_RANGE
  	WeaponSpeed			= 201			;// dist/sec 
  	MinWeaponSpeed		= 201
  	DelayBetweenShots	= MORDOR_GORGOROTHSPIRE_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
  	FXTrigger			= CATAPULT_ROCK
  	PreAttackDelay		= MORDOR_GORGOROTHSPIRE_ROCK_PREATTACKDELAY
  	PreAttackType		= PER_SHOT		;// Do the delay each time we attack a new target
  	FiringDuration		= MORDOR_GORGOROTHSPIRE_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
  	RequireFollowThru	= Yes
  	ShareTimers			= Yes			;// share timer with catapult heads to you can't fire both in quick succession
  	NoVictimNeeded		= Yes			;// Need no target
  	LeechRangeWeapon	= Yes
  	
  	ScatterRadiusVsInfantry			= 40.0  
  	DisableScatterForTargetsOnWall	= Yes
  	HitPercentage					= 100	;// always hits.

	ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= MordorGorgorothSpireProjectile
		WarheadTemplateName		= MordorGorgorothSpireWarhead
		WeaponLaunchBoneSlotOverride = SECONDARY	
	End									
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End					   
End

;//-----------------------------------
Weapon MordorGorgorothSpireWarhead
	ProjectileCollidesWith	=	STRUCTURES	ENEMIES NEUTRAL ; MONSTERS; Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES ALLIES NOT_SIMILAR

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 50
		Damage			= 400
		MinMaxBurnRate	= 12
		MaxResistance	= 5
	End
	
	FireLogicNugget ;//@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	50
		Damage		=	5
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = MORDOR_GORGOROTHSPIRE_ROCK_DAMAGE ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
	    Radius        = MORDOR_GORGOROTHSPIRE_ROCK_RADIUS
		DamageTaperOff = #MULTIPLY( MORDOR_GORGOROTHSPIRE_ROCK_DAMAGE MORDOR_GORGOROTHSPIRE_DAMAGE_TAPEROFF ) ;;-;;
	    DelayTime     = 0
	    DamageType    = SIEGE ;;-;; FLAME ; ;SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 50% ANY ALLIES +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER ;;.;; 0%			// No damage to allied structures.
		DamageScalar  = 32.5% ANY ALLIES +FS_BASE_DEFENSE ;;.;;  half than vs enemies.
		DamageScalar  = 32.5% ANY ALLIES +COMMANDCENTER ;;.;; half than vs enemies.
		
		
		DamageScalar  = 100% ANY +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER
		DamageScalar  = 65% ANY +FS_BASE_DEFENSE ;;.;; 
		DamageScalar  = 65% ANY +COMMANDCENTER ;;.;; 25% 
		
		DamageScalar  = 80% ANY +RohanGenericEnt  ;;.;;
		DamageScalar  = 80% ANY +RohanTreeBerd  ;;.;;
		DamageScalar  = 80% ANY +WildMountainGiant ;;.;;
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage			= MORDOR_GORGOROTHSPIRE_FLAME_DAMAGE
		DamageTaperOff	= #MULTIPLY( MORDOR_GORGOROTHSPIRE_FLAME_DAMAGE MORDOR_GORGOROTHSPIRE_DAMAGE_TAPEROFF ) ;;-;; 
	    Radius			= MORDOR_GORGOROTHSPIRE_ROCK_RADIUS
	    DelayTime		= 0
	    DamageType		= FLAME
	    DamageFXType	= BIG_ROCK
	    DeathType		= BURNED
	    AcceptDamageAdd = No
		DamageScalar  = 50% ANY ALLIES +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER ;;.;; 0%			// No damage to allied structures.
		DamageScalar  = 32.5% ANY ALLIES +FS_BASE_DEFENSE ;;.;;  half than vs enemies.
		DamageScalar  = 32.5% ANY ALLIES +COMMANDCENTER ;;.;; half than vs enemies.
		
		
		DamageScalar  = 100% ANY +STRUCTURE -FS_BASE_DEFENSE -COMMANDCENTER
		DamageScalar  = 65% ANY +FS_BASE_DEFENSE ;;.;; 
		DamageScalar  = 65% ANY +COMMANDCENTER ;;.;; 25% 
		
		
		DamageScalar  = 80% ANY +RohanGenericEnt  ;;.;;
		DamageScalar  = 80% ANY +RohanTreeBerd  ;;.;;
		DamageScalar  = 80% ANY +WildMountainGiant ;;.;;
	End

	MetaImpactNugget                    ;// A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= MORDOR_GORGOROTHSPIRE_ROCK_SHOCKWAVE_AMOUNT
		ShockWaveRadius		= #MULTIPLY( MORDOR_GORGOROTHSPIRE_ROCK_RADIUS MORDOR_GORGOROTHSPIRE_ROCK_SHOCKWAVE_RADIUS_MULT ) ;;-;; 
		ShockWaveTaperOff	= MORDOR_GORGOROTHSPIRE_ROCK_SHOCKWAVE_TAPEROFF
		ShockWaveZMult		= MORDOR_GORGOROTHSPIRE_ROCK_SHOCKWAVE_Z_MULT
	End
End


;------------------------------------------------------------------------------
Weapon MordorCatapultRockDemo  ; BALANCE Catapult Weapon
  ScatterRadiusVsInfantry     = 0.08     ;When this weapon is used against infantry, it will always randomly miss by as much as this distance.
  AttackRange = 480.0; 1500
  MinimumAttackRange = 100.0
  WeaponSpeed = 321         ; dist/sec 
  MinWeaponSpeed = 321
  FireFX = FX_CatapultWeapon
  DelayBetweenShots = 9000               ; time between shots, msec
  PreAttackDelay      = 1166      ; 1.166 is the prep time for trebuchet
  PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration      = 5500    ; Trebuchet firing animation takes 5.5 secs.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = GondorTrebuchetRockProjectile
    WarheadTemplateName = MordorCatapultRockWarheadDemo
  End
End

;-------------------------------------------------------------------------------
Weapon MordorCatapultRockWarheadDemo
  FireFX= FX_RockDetonation
  RadiusDamageAffects = ENEMIES ALLIES NOT_SIMILAR
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100
    Radius        = 68.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = BIG_ROCK
    DeathType     = EXPLODED
  End
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 20.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = BIG_ROCK
    DeathType     = EXPLODED
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 25.0
    ShockWaveRadius   = 20.0
    ShockWaveTaperOff = 0.75
  End
End

;-------------------------------------------------------------------------------
Weapon WitchKingMorgulBlade     ; BALANCE Witch King Weapon
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = WITCHKING_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = WITCHKING_SWORD_PREATTACKDELAY 	; 300 is mace swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack
	FireFX                = FX_GondorSwordHit
	FiringDuration        = WITCHKING_FIRINGDURATION 	; Duration of the mace swing 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WITCHKING_DAMAGE				
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = SLASH
		;DamageFXType  = NONE
		DeathType     = NORMAL
		DamageScalar  = 10% ANY +RohanEowyn
	End
End

;-------------------------------------------------------------------------------
; this weapon is the same as WitchKingMorgulBlade with an added AttributeModifierNugget used for his special attack
Weapon WitchKingMorgulBladeSpecialPower     ; BALANCE Orc Warrior Weapon
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = WITCHKING_MORGULBLADE_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = WITCHKING_MORGULBLADE_PREATTACKDELAY 		; 300 is mace swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack
	FireFX                = FX_GondorSwordHit
	FiringDuration        = WITCHKING_MORGULBLADE_FIRINGDURATION 		; Duration of the mace swing
	;ClipSize				= 1
	;AutoReloadsClip			= Yes
	;ClipReloadTime			= 5000 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WITCHKING_MORGULBLADE_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = SLASH
		DamageFXType  = WITCH_KING_MORGUL_BLADE
		DeathType     = NORMAL
		DamageScalar  = 10% ANY +RohanEowyn
	End
	AttributeModifierNugget
		SpecialObjectFilter = ALL NOT_SPELLBOOK_SUMMONED_UNITS -MACHINE ; ;
		AttributeModifier = WitchKingMorgulBladeEffect
	End
End

;-------------------------------------------------------------------------------
Weapon WitchKingWarMace
	LeechRangeWeapon		= Yes
	AttackRange				= STANDARD_MELEE_ATTACK_RANGE
	RadiusDamageAffects 	= ENEMIES NEUTRALS NOT_SIMILAR ; ;
	MeleeWeapon				= Yes
	DelayBetweenShots		= WITCHKING_MACE_DELAYBETWEENSHOTS  		; time between shots, msec
	PreAttackDelay			= WITCHKING_MACE_PREATTACKDELAY  			; 300 is mace swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack
	FireFX					= FX_GondorSwordHit
	FiringDuration			= WITCHKING_MACE_FIRINGDURATION  			; Duration of the mace swing 
	;ClipSize				= 1  ;  Commented out, don't see why we need clips for the mace. - 7/9/04
	;AutoReloadsClip			= Yes
	;ClipReloadTime			= 5000
	HoldAfterFiringDelay 		= 875 ;;-;;

 	;;-;; 	MACE_LEVEL1
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WITCHKING_MACE_DAMAGE
		DamageTaperOff	= #MULTIPLY( WITCHKING_MACE_DAMAGE WITCHKING_MACE_DAMAGE_TAPEROFF )
		;;-;; DamageScalar	= 107% ANY +HERO -RohanEowyn ;;-;; 115% ;;-;;
		Radius			= 35 ;;-;; 45 ; ; 40.0
		;DamageArc		= 40
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType		= MAGIC
		DeathType		= NORMAL
		DamageScalar  = 10% ANY +RohanEowyn ;;-;; 15% ;;-;; 10%
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel5 Upgrade_ObjectLevel8
	End
	MetaImpactNugget
		HeroResist			= 0.30 ;;-;; .75
		ShockWaveAmount		= 35
		ShockWaveRadius		= 35 ;;-;; 40 ;;-;; 45 ; ; 40
		ShockWaveArc		= 80 ;;-;; ; ;40				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel5 Upgrade_ObjectLevel8
	End
 	;;-;; 	MACE_LEVEL5
	DamageNugget
		Damage        = WITCHKING_MACE_DAMAGE
		DamageTaperOff	= #MULTIPLY( WITCHKING_MACE_DAMAGE WITCHKING_MACE_DAMAGE_TAPEROFF )
		;;-;; DamageScalar	= 107% ANY +HERO -RohanEowyn ;;-;; 115% ;;-;;
		Radius			= 40 ;;-;; 45 ; ; 40.0
		;DamageArc		= 40
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType		= MAGIC
		DeathType		= NORMAL
		DamageScalar  = 10% ANY +RohanEowyn ;;-;; 15% ;;-;; 10%
		RequiredUpgradeNames	= Upgrade_ObjectLevel5
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel8
	End
	MetaImpactNugget
		HeroResist			= 0.20 ;;-;; .75
		ShockWaveAmount		= 35
		ShockWaveRadius		= 40 ;;-;; 45 ; ; 40
		ShockWaveArc		= 80  ;;-;; ; ;40				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
		RequiredUpgradeNames	= Upgrade_ObjectLevel5
		ForbiddenUpgradeNames   = Upgrade_ObjectLevel8
	End
 	;;-;; 	MACE_LEVEL8
	DamageNugget
		Damage        = WITCHKING_MACE_DAMAGE
		DamageTaperOff	= #MULTIPLY( WITCHKING_MACE_DAMAGE WITCHKING_MACE_DAMAGE_TAPEROFF )
		;;-;; DamageScalar	= 107% ANY +HERO -RohanEowyn ;;-;; 115% ;;-;;
		Radius			= 45 ;;-;; 40 ;;-;; 45 ; ; 40.0
		;DamageArc		= 40
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType		= MAGIC
		DeathType		= NORMAL
		DamageScalar  = 10% ANY +RohanEowyn ;;-;; 15% ;;-;; 10%
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
	End
	MetaImpactNugget
		HeroResist			= 0.10 ;;-;; .75
		ShockWaveAmount		= 35
		ShockWaveRadius		= 45 ;;-;; 40 ;;-;; 45 ; ; 40
		ShockWaveArc		= 80  ;;-;; ; ;40				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
	End
End

;-------------------------------------------------------------------------------
;Weapon NazgulCrashingOnBuildingWeapon
;  FireFX= FX_RockDetonation
;  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5000		; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.

;    Radius        = 4.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5
;    Radius        = 20.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 20.0
;    ShockWaveTaperOff = 0.75
;  End
;End

;-------------------------------------------------------------------------------
;Weapon NazgulCrashingOnNonBuildingWeapon
;  FireFX= FX_RockDetonation
;  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 10		; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
;    Radius        = 4.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5
;    Radius        = 20.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 20.0
;    ShockWaveTaperOff = 0.75
;  End
;End

;------------------------------------------------------------------------------
Weapon MinisGateDoorExplosion  ; BALANCE Minis Gate Explosion causing damage and meta impact
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 160.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 35.0
    ShockWaveArc      = 60
    ShockWaveRadius   = 160.0
    ShockWaveTaperOff = 0.5
    FlipDirection = Yes
  End
End

;------------------------------------------------------------------------------
Weapon MordorOliphantDeathStraightInitial  ; BALANCE Oliphant Death Knealing down over units
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 24.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 24.0
    ShockWaveTaperOff = 0.5
  End
End

;------------------------------------------------------------------------------
Weapon StandardWallDeath  ; BALANCE wall blown up death killing units under it
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100
    Radius        = 80.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	DamageScalar  = 500% ANY +MINE	  ; Needs to kill a mine if placed in top of wall.
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 80.0
    ShockWaveTaperOff = 0.75
  End
End

;------------------------------------------------------------------------------
; Special weapon for taking out wall upgrades.
Weapon CastleWallDeath
	RadiusDamageAffects	= ALLIES
	DamageNugget
		Damage        = 10000
		Radius        = 40.0	; Only needs to be small as the upgrades will be right on us.
		DelayTime     = 0
		DamageType    = SIEGE	; ffs
		DeathType     = NORMAL
		DamageScalar  = 10000% ANY +GondorCastleUpgrade +RohanCastleUpgrade	; Affect these...
		DamageScalar  = 0% ALL -GondorCastleUpgrade -RohanCastleUpgrade			; ...and nothing else
	End
End

;------------------------------------------------------------------------------
; Special weapon for taking out the trebuchet on top of the wall.
Weapon CastleUpgradeDeath
	RadiusDamageAffects	= ALLIES
	DamageNugget
		Damage        = 1000
		Radius        = 80.0
		DelayTime     = 0
		DamageType    = FORCE
		DeathType     = EXTRA_2
		DamageScalar  = 10000% ANY +MACHINE	; Affect these...
		DamageScalar  = 0% ALL -MACHINE			; ...and nothing else
	End
End

;------------------------------------------------------------------------------
Weapon SiegeLadderDeath  ; BALANCE Sige ladder death killing units under it
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 150
    Radius        = 24.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 24.0
    ShockWaveTaperOff = 0.5
  End
End


;------------------------------------------------------------------------------
;Weapon MordorOliphantDeathStraightFinal  ; BALANCE Oliphant Death toppling over units
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 10
;    Radius        = 40.0
;    DelayTime     = 0
;    DamageType    = FORCE
;    DeathType     = NORMAL
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 75.0
;    ShockWaveRadius   = 40.0
;    ShockWaveTaperOff = 0.6
;  End
;End


;------------------------------------------------------------------------------
Weapon MordorOliphantToppleFinal  ; BALANCE Oliphant Death toppling over units
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 72.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 72.0
    ShockWaveTaperOff = 0.6
  End
End

;------------------------------------------------------------------------------
Weapon MordorSiegeTowerToppleFinal  ; BALANCE Oliphant Death toppling over units
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 30
    Radius        = 35.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 45.0
    ShockWaveRadius   = 35.0
    ShockWaveTaperOff = 0.6
  End
End


Weapon MordorOliphantE3Death
  DamageNugget                        ; A basic Nugget that just does damage
    Damage				= 500
    Radius				= 80.0
    DelayTime			= 0
    DamageType			= FORCE
    DeathType			= NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount		= 50.0
    ShockWaveRadius		= 80.0
    ShockWaveTaperOff	= 0.6
  End
End

;------------------------------------------------------------------------------
Weapon MordorCatapultRockFlame  ; BALANCE Catapult Weapon
  RadiusDamageAffects = ENEMIES NEUTRALS
  DamageFieldNugget                   ; A Nugget that lays down an area of damage that persists independantly
    WeaponTemplateName = SmallFireFieldWeapon  
    Duration = 3000                            
  End
End

;------------------------------------------------------------------------------
Weapon SmallFireFieldWeapon
  DelayBetweenShots           = 250                ; time between shots, msec
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 24.0
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = FLAME
    DeathType     = BURNED
  End
End

;------------------------------------------------------------------------------
Weapon MordorGrondRam
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
  LeechRangeWeapon      = Yes
  CanFireWhileMoving    = No
  AttackRange           = 15 ;;=;; 5.0 ;;=GrondOnMoats=;;
  AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
  AntiGround            = No             ; ditto
  MeleeWeapon           = No	 		 ; Need to have some range to look right.
  AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack) -- actually a little more!
  DelayBetweenShots     = 5500           ; time between shots, msec. Placeholder until animations are in
  PreAttackDelay        = 3000        
  PreAttackType         = PER_ATTACK       ; Do the delay each time we attack
  FiringDuration        = 4500      
  HoldAfterFiringDelay  = 3000 ; So I don't move while the weapon needs to complete

  DamageNugget 
	SpecialObjectFilter = ANY +STRUCTURE
    Damage        = MORDOR_GROND_DAMAGE
    Radius        = 25 ;;=;; 5.0
;	DamageArc      = 90
	DamageScalar  = 20% ANY +COMMANDCENTER
    DelayTime     = 2500				; Contact of nose.  Preattack is being used by trolls putting hands on ram
    DamageType    = SIEGE
    DamageFXType  = STRUCTURAL
    DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
  End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= MORDOR_GROND_ANTIWALLS_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_GROND
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime    		= 2500
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon MordorGrondRamBuilding
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
  LeechRangeWeapon      = Yes
  CanFireWhileMoving    = No
  AttackRange           = 58 ;;=;; 40 ;;=GrondOnMoats=;;
  AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
  AntiGround            = No             ; ditto
  MeleeWeapon           = No			 ; Need to have some range to look right.
  AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack)
  DelayBetweenShots     = 5500           ; time between shots, msec. Placeholder until animations are in
  PreAttackDelay        = 3000        
  PreAttackType         = PER_ATTACK       ; Do the delay each time we attack
  FiringDuration        = 4500      
  HoldAfterFiringDelay  = 3000 ; So I don't move while the weapon needs to complete

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_GROND_DAMAGE
	SpecialObjectFilter = ANY +STRUCTURE
	DamageScalar  = 20% ANY +COMMANDCENTER
    Radius        = 25 ;;=;; 5.0
;	DamageArc      = 90
    DelayTime     = 2500				; Contact of nose.  Preattack is being used by trolls putting hands on ram
    DamageType    = SIEGE
    DamageFXType  = STRUCTURAL
    DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
  End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= MORDOR_GROND_ANTIWALLS_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_GROND
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime    		= 2500
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon IsengardBatteringRam ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	AttackRange           = 10.0		   ; Note - needs to be at least 30 to approach walls at a 45 degree angle to path grid. 
	AntiStructure         = Yes                                      ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No                                       ; ditto
	MeleeWeapon           = Yes			                       ; Try Melee to get close to door
	AcceptableAimDelta    = 20                                       ; Can't ram sideways (but give a little slack)
	DelayBetweenShots     = ISENGARD_BATTERINGRAM_DELAYBETWEENSHOTS  ; time between shots, msec. 
	PreAttackDelay        = ISENGARD_BATTERINGRAM_PREATTACKDELAY        
	PreAttackType         = PER_SHOT                                 ; Do the delay each time we attack
	FiringDuration        = ISENGARD_BATTERINGRAM_FIRINGDURATION
	FireFX                = FX_BatteringRamHit
	LeechRangeWeapon      = Yes

	DamageNugget                                                     ; A basic Nugget that just does damage
		Damage        = ISENGARD_BATTERINGRAM_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ;;=;;
		Radius        = 0.0
		;DelayTime    = 2800				                 ; Contact of nose.  Preattack is being used by trolls putting hands on ram
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageScalar  = 0% ANY +HelmsDeepdoSectionB1 +HelmsDeepdoSectionA2 +HelmsDeepdoSectionD +HelmsDeepTower +HelmsDeepdoStairsA5 +HelmsDeepGatehouseRight +HelmsDeepGatehouseCenter +HelmsDeepGatehouseLeft +HelmsDeepdoSectionA5 +HelmsDeepdoStairsA4 +HelmsDeepkiSectionA3 +HelmsDeepRampart05 +HelmsDeepkiSectionA5 +HelmsDeepdiSectionA6 +HelmsDeepdiSectionA7 +HelmsDeepdiSectionA8 +HelmsDeepkiSectionB +HelmsDeepRampart04 +HelmsDeepRampart03 +HelmsDeepRampart02 +HelmsDeepdoStairsA1
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= ISENGARD_BATTERINGRAM_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_BATTERINGRAMS
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		DamageScalar  = 0% ANY +HelmsDeepdoSectionB1 +HelmsDeepdoSectionA2 +HelmsDeepdoSectionD +HelmsDeepTower +HelmsDeepdoStairsA5 +HelmsDeepGatehouseRight +HelmsDeepGatehouseCenter +HelmsDeepGatehouseLeft +HelmsDeepdoSectionA5 +HelmsDeepdoStairsA4 +HelmsDeepkiSectionA3 +HelmsDeepRampart05 +HelmsDeepkiSectionA5 +HelmsDeepdiSectionA6 +HelmsDeepdiSectionA7 +HelmsDeepdiSectionA8 +HelmsDeepkiSectionB +HelmsDeepRampart04 +HelmsDeepRampart03 +HelmsDeepRampart02 +HelmsDeepdoStairsA1
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon IsengardBatteringRamGate ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	AttackRange           = 58.0 ; Make sure this is greater than the distance between obj center and the Ram contact points in the gate
	AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No             ; ditto
	MeleeWeapon           = Yes			   ; Try Melee to get close to door
	AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack)
	DelayBetweenShots     = ISENGARD_BATTERINGRAM_DELAYBETWEENSHOTS           ; time between shots, msec. 
	PreAttackDelay        = ISENGARD_BATTERINGRAM_PREATTACKDELAY        
	PreAttackType         = PER_SHOT       ; Do the delay each time we attack
	FiringDuration        = ISENGARD_BATTERINGRAM_FIRINGDURATION
	FireFX                = FX_BatteringRamHitGate
	LeechRangeWeapon      = Yes

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_BATTERINGRAM_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ;;=;;
		Radius        = 0.0
		;DelayTime     = 2800				; Contact of nose.  Preattack is being used by trolls putting hands on ram
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= ISENGARD_BATTERINGRAM_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_BATTERINGRAMS
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		DamageScalar  = 0% ANY +HelmsDeepdoSectionB1 +HelmsDeepdoSectionA2 +HelmsDeepdoSectionD +HelmsDeepTower +HelmsDeepdoStairsA5 +HelmsDeepGatehouseRight +HelmsDeepGatehouseCenter +HelmsDeepGatehouseLeft +HelmsDeepdoSectionA5 +HelmsDeepdoStairsA4 +HelmsDeepkiSectionA3 +HelmsDeepRampart05 +HelmsDeepkiSectionA5 +HelmsDeepdiSectionA6 +HelmsDeepdiSectionA7 +HelmsDeepdiSectionA8 +HelmsDeepkiSectionB +HelmsDeepRampart04 +HelmsDeepRampart03 +HelmsDeepRampart02 +HelmsDeepdoStairsA1
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End


;------------------------------------------------------------------------------
Weapon IsengardBatteringRamWall ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	AttackRange           = 20.0
	AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No             ; ditto
	MeleeWeapon           = Yes			   ; Try Melee to get close to door
	AcceptableAimDelta    = 40             ; give a lot of slack !!!!!!!!!!!!!!!! 
	DelayBetweenShots     = ISENGARD_BATTERINGRAM_DELAYBETWEENSHOTS           ; time between shots, msec. 
	PreAttackDelay        = ISENGARD_BATTERINGRAM_PREATTACKDELAY        
	PreAttackType         = PER_SHOT       ; Do the delay each time we attack
	FiringDuration        = ISENGARD_BATTERINGRAM_FIRINGDURATION
	FireFX                = FX_BatteringRamHitGate
	LeechRangeWeapon      = Yes

	DamageNugget                        ; A basic Nugget that just does damage

		Damage        = ISENGARD_BATTERINGRAM_DAMAGE
		DamageScalar  = 75% ANY +COMMANDCENTER ;;=;;
		Radius        = 0.0
		;DelayTime     = 2800				; Contact of nose.  Preattack is being used by trolls putting hands on ram
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= ISENGARD_BATTERINGRAM_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_BATTERINGRAMS
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		DamageScalar  = 0% ANY +HelmsDeepdoSectionB1 +HelmsDeepdoSectionA2 +HelmsDeepdoSectionD +HelmsDeepTower +HelmsDeepdoStairsA5 +HelmsDeepGatehouseRight +HelmsDeepGatehouseCenter +HelmsDeepGatehouseLeft +HelmsDeepdoSectionA5 +HelmsDeepdoStairsA4 +HelmsDeepkiSectionA3 +HelmsDeepRampart05 +HelmsDeepkiSectionA5 +HelmsDeepdiSectionA6 +HelmsDeepdiSectionA7 +HelmsDeepdiSectionA8 +HelmsDeepkiSectionB +HelmsDeepRampart04 +HelmsDeepRampart03 +HelmsDeepRampart02 +HelmsDeepdoStairsA1
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon IsengardBatteringRamWithMine ; BALANCE Battering Ram
  RadiusDamageAffects = ENEMIES NEUTRALS ;;.;;
	CanFireWhileMoving    = No
	RadiusDamageAffects = ALLIES ENEMIES NEUTRALS SELF SUICIDE; Turning off friendly fire for all allies, but ya know, this could say NotSimilar and then he could hit friendlies except for trolls
	AttackRange           = 40.0
	AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround            = No             ; ditto
	MeleeWeapon           = No	; Need to have some range to look right.
	AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack)
	DelayBetweenShots     = 3000           ; time between shots, msec. 
	PreAttackDelay        = 1300        
	PreAttackType         = PER_SHOT       ; Do the delay each time we attack
	FiringDuration        = 1100      
	PassengerProportionalAttack = Yes  
	MaxAttackPassengers   = 4
	ProjectileFilterInContainer = ANY +MINE ; We don't make the projectile, it is in our Contain module.
	FireFX                = FX_BatteringRamHitUpgrade
	LeechRangeWeapon      = Yes

	DamageNugget                        ; A basic Nugget that just does damage
		Damage		= 2000
		Radius		= 50.0
		DelayTime   = 1				; Contact of nose.  Preattack is being used by trolls putting hands on ram
		DamageType  = SIEGE
		DeathType   = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 60.0
		ShockWaveRadius		= 24.0
		ShockWaveTaperOff	= 0.7
	End
End

;------------------------------------------------------------------------------
Weapon MordorMumakilKnockback ;;.;; This applies when you attack a UNITS. Nearby STRUCTURE take minimal damage. (ANIMATION: KICK) ; BALANCE Mumakil Weapon
	AttackRange					= 44.0	; Should be less than the damage radius, so we don't just barely catch the bad guy.
	DelayBetweenShots			= 3500 ; ; 4000            ; time between shots, msec
    	FiringDuration			= 2600	;2600 ;min 933 for anim              ; how long to reload a Clip, msec
    	PreAttackDelay			= 1400
    	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FireFX						= FX_MUMStructureAtk
	DamageDealtAtSelfPosition	= Yes ; A melee based AoE.  Arc radiates from me, not them

    RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;
	AcceptableAimDelta			= 15.0 
	ChaseWeapon					= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	;CannotTargetCastleVictims	= Yes
	HoldAfterFiringDelay		= 2400
	
	DamageNugget ;;.;; AntiUnitsNugget
		Damage					= MUMAKIL_NORMAL_ATTACK
		Radius					= MUMAKIL_NORMAL_ATTACK_RADIUS
		DamageArc				= MUMAKIL_NORMAL_ATTACK_ARC
		DamageScalar            = 450% ANY +HERO -RohanTreeBerd
		DamageScalar			= 250% ANY +MONSTER ;;-;;
		DamageType				= SIEGE
		DamageFXType			= CLUBBING
		DeathType				= NORMAL
		DamageScalar			= 133% ANY +MACHINE -DwarvenBattleWagon ;;.;; 200% ;;-;; including wagons indeed.
		DamageScalar			= 100% ANY +DwarvenBattleWagon ;;.;; 150% ;;-;;
		SpecialObjectFilter		= ALL -STRUCTURE ;;.;; AntiUnitsNugget
	End
	;;.;;
	DamageNugget ;;.;; Colateral.AntiBuildingNugget
		Damage					= MUMAKIL_NORMAL_ATTACK_INDIRECT
		Radius					= MUMAKIL_NORMAL_ATTACK_RADIUS
		DamageArc				= MUMAKIL_NORMAL_ATTACK_ARC
		DamageScalar            = 450% ANY +HERO -RohanTreeBerd
		DamageScalar			= 250% ANY +MONSTER ;;-;;
		DamageType				= SIEGE
		DamageFXType			= CLUBBING
		DeathType				= NORMAL
		DamageScalar			= 85% ANY +COMMANDCENTER ;;=;;
		DamageScalar			= 0% ANY +WALK_ON_TOP_OF_WALL +BLOCKING_GATE ; This is a trick.  Marked as CanAttackWalls so he won't think he can walk on them, but then told he can't do damage to them so he won't attack.
		DamageScalar			= 67% ANY WALLS_DEFENCES_AND_MACHINES_OBJECTFILTER ;;.;;
		SpecialObjectFilter		= ANY +STRUCTURE ;;.;; AntiBuildingNugget
	End
	;;.;;
	DamageNugget ;;.;; Colateral.AntiWalls&MachineNugget
		Damage					= MUMAKIL_NORMAL_ATTACK_INDIRECT
		Radius					= MUMAKIL_NORMAL_ATTACK_RADIUS
		DamageArc				= MUMAKIL_NORMAL_ATTACK_ARC
		DamageTaperOff			= ANTIWALL_DAMAGE_TAPEROFF
		DamageScalar			= 350% ANY +MACHINE -DwarvenBattleWagon ;;-;; including wagons indeed.
		DamageScalar			= 200% ANY +DwarvenBattleWagon ;;-;;
		DamageType				= SIEGE
		DamageFXType  			= CLUBBING
		DeathType    			= NORMAL
		DelayTime				= 0
		DamageScalar			= 0% ANY +WALK_ON_TOP_OF_WALL +BLOCKING_GATE ; This is a trick.  Marked as CanAttackWalls so he won't think he can walk on them, but then told he can't do damage to them so he won't attack.
		SpecialObjectFilter		= ANY WALLS_DEFENCES_AND_MACHINES_OBJECTFILTER ;;.;; AntiWallsAndMachinesNugget
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= .75
		ShockWaveAmount			= 60.0
		ShockWaveRadius			= 100.0
		ShockWaveTaperOff		= 0.7
		ShockWaveArc			= 30
	End
End

;------------------------------------------------------------------------------
Weapon MordorMumakilLungeAttack09v3  ;;.;; This applies when you attack a STRUCTURE. UNITS receive minimal colateral damage. (ANIMATION: lunge) ; BALANCE Mumakil Weapon 
	AttackRange					= 44.0	; Should be less than the damage radius, so we don't just barely catch the bad guy.
	DelayBetweenShots			= 3500 ; ; 4000            ; time between shots, msec
    	FiringDuration			= 2600	;2600 ;min 933 for anim              ; how long to reload a Clip, msec
    	PreAttackDelay			= 1400
    	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FireFX						= FX_MUMStructureAtk
	DamageDealtAtSelfPosition	= Yes ; A melee based AoE.  Arc radiates from me, not them

    RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;
	AcceptableAimDelta			= 15.0 
	ChaseWeapon					= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	;CannotTargetCastleVictims	= Yes
	HoldAfterFiringDelay		= 2400
	
	DamageNugget ;;.;; Colateral.AntiUnitsNugget
		Damage					= MUMAKIL_NORMAL_ATTACK_INDIRECT
		Radius					= MUMAKIL_NORMAL_ATTACK_RADIUS
		DamageArc				= MUMAKIL_NORMAL_ATTACK_ARC
		DamageScalar            = 450% ANY +HERO -RohanTreeBerd
		DamageScalar			= 250% ANY +MONSTER ;;-;;
		DamageType				= SIEGE
		DamageFXType			= CLUBBING
		DeathType				= NORMAL
		DamageScalar			= 133% ANY +MACHINE -DwarvenBattleWagon ;;.;; 200% ;;-;; including wagons indeed.
		DamageScalar			= 100% ANY +DwarvenBattleWagon ;;.;; 150% ;;-;;
		DamageScalar			= 0% ANY +STRUCTURE ;;.;
	End
	;;.;;
	DamageNugget ;;.;; AntiBuildingNugget
		Damage					= MUMAKIL_NORMAL_ATTACK
		Radius					= MUMAKIL_NORMAL_ATTACK_RADIUS
		DamageArc				= MUMAKIL_NORMAL_ATTACK_ARC
		DamageType				= SIEGE
		DamageFXType			= CLUBBING
		DeathType				= NORMAL
		DamageScalar			= 85% ANY +COMMANDCENTER ;;=;;
		DamageScalar			= 0% ANY +WALK_ON_TOP_OF_WALL +BLOCKING_GATE ; This is a trick.  Marked as CanAttackWalls so he won't think he can walk on them, but then told he can't do damage to them so he won't attack.
		DamageScalar			= 67% ANY WALLS_DEFENCES_AND_MACHINES_OBJECTFILTER ;;.;;
		SpecialObjectFilter		= ANY +STRUCTURE ;;.;; AntiBuildingNugget
	End
	;;.;;
	DamageNugget ;;.;; AntiWalls&MachineNugget
		Damage					= MUMAKIL_NORMAL_ATTACK
		Radius					= MUMAKIL_NORMAL_ATTACK_RADIUS
		DamageArc				= MUMAKIL_NORMAL_ATTACK_ARC
		DamageTaperOff			= ANTIWALL_DAMAGE_TAPEROFF
		DamageScalar			= 350% ANY +MACHINE -DwarvenBattleWagon ;;-;; including wagons indeed.
		DamageScalar			= 200% ANY +DwarvenBattleWagon ;;-;;
		DamageType				= SIEGE
		DamageFXType  			= CLUBBING
		DeathType    			= NORMAL
		DelayTime				= 0
		DamageScalar			= 0% ANY +WALK_ON_TOP_OF_WALL +BLOCKING_GATE ; This is a trick.  Marked as CanAttackWalls so he won't think he can walk on them, but then told he can't do damage to them so he won't attack.
		SpecialObjectFilter		= ANY WALLS_DEFENCES_AND_MACHINES_OBJECTFILTER ;;-;; 1.09v2 had already added MACHINE ;;.;; AntiWalls&MachineNugget
	End
End

;-------------------------------------------------------------------------------
Weapon MordorMumakilCharge ; This is the rangefinding weapon for charging
	RadiusDamageAffects			= ENEMIES 
	AttackRange					= 300.0
	DelayBetweenShots			= MUMAKIL_CHARGE_RECHARGE            ; time between shots, msec
	FiringDuration				= 0 
	;PreAttackDelay				= 1400
	PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
	;PreAttackFX				= FX_TrollTreeSwing
	CanFireWhileCharging		= yes
	;MeleeWeapon					= Yes
	;CannotTargetCastleVictims	= Yes
	AcceptableAimDelta	= 15		
		
	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= 1.0
		Radius					= 1.0
		DamageType				= CRUSH
		DamageFXType			= CLUBBING
		DeathType				= NORMAL
		DamageScalar			= 0% ANY +STRUCTURE	
	End
End

;-------------------------------------------------------------------------------
Weapon MordorMumakilChargeSpecial ; This is a special script driven version of the rangefinder
	AttackRange					= 5000.0
	DelayBetweenShots			= 0            ; time between shots, msec
	FiringDuration				= 0 ;min 933 for anim              ; how long to reload a Clip, msec
	;PreAttackDelay				= 1400
	PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
	;PreAttackFX				= FX_TrollTreeSwing
	CanFireWhileCharging		= yes
	MeleeWeapon					= Yes
	;CannotTargetCastleVictims	= Yes
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= 300
		Radius					= 24.0
		DamageType				= CRUSH
		DamageFXType			= CLUBBING
		DeathType				= NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount			= 60.0
		ShockWaveRadius			= 24.0
		ShockWaveTaperOff		= 0.7
	End
End


Weapon MumakilCrush  ; Used when the Mumakil crush an enemy.
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MUMAKIL_CRUSH_DAMAGE				; A whole lot of damage.
    DamageScalar  = 60% ANY +HERO -DwarvenGloin -DwarvenDain
	DamageScalar  = 38% ANY +DwarvenGloin ;;.;; 48% ;;-dwarfmordor-;; ;;-;;
	DamageScalar  = 48% ANY +DwarvenDain ;;.;; 48% ;;-dwarfmordor-;; ;;-;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
  End
End

;------------------------------------------------------------------------------
Weapon MordorMumakilHeroEffect     ; This is the weapon that does the actual charge damage.  Fired from the ChargeOnly labeled FireWeaponUpdate.
  LeechRangeWeapon      = No
  RadiusDamageAffects = ENEMIES NEUTRALS ; ;
  AttackRange           = 20.0
  MeleeWeapon           = No
  DelayBetweenShots     = 500            ; time between shots, msec
  PreAttackDelay        = 166             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
;  FireFX                = FX_TrebuchetImpactHit
;  FireFX                = FX_TrollTreeHit
  FiringDuration        = 333    ; Duration of the mace swing 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 50 // total 50 from 50
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
	;    DamageType    = FLAME
	;	DamageFXType	= FLAME
	;	DeathType		= BURNED
	End
	DamageNugget
		Damage        = 30 // total 80 from 80
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel2
	End
	DamageNugget
		Damage        = 10 ;;-;; 30 // total 90 from 110
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 30 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel3
	End
	DamageNugget
		Damage        = 30 // total 120 from 140
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 30 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel4
	End
	DamageNugget
		Damage        = 10 ;;-;; 20 // total 130 from 160 //played with 100.
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 35 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel5
	End
	DamageNugget
		Damage        = 30 ;;-;; 35 // total 160 from 195
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 35 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel6
	End
	DamageNugget
		Damage        = 10 ;;-;; 35 // total 170 from 230 //played with 100.
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 40 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel7
	End
	DamageNugget
		Damage        = 30 ;;-;; 45 // total 200 from 275
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 40 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel8
	End
	DamageNugget
		Damage        = 10 ;;-;; 45 // total 210 from 320 //played with 100.
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 45 ;;-;; 25.0 ;;-;; 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel9
	End
	DamageNugget
		Damage        = 30 ;;-;; 60 // total 240 from 380 //played with 150.
		DamageScalar  = 1000% ANY +HERO +CAVALRY +INFANTRY -SUMMONED -MordorBalrog -CANNOT_RETALIATE -TomBombadil -DwarvenGloin -DwarvenDain -ElvenHaldir -ElvenGlorfindel -IsengardLurtz -IsengardSharku -MordorWitchKing -GondorGandalf; ; 4000%
		DamageScalar  = 800% ANY +DwarvenGloin
		DamageScalar  = 800% ANY +DwarvenDain ;;=dwarfmordor=;;
		DamageScalar  = 1200% ANY +IsengardLurtz 
		DamageScalar  = 1200% ANY +IsengardSharku ;;-;;
		DamageScalar  = 1200% ANY +ElvenGlorfindel
		DamageScalar  = 1200% ANY +ElvenHaldir ;;-;;
		DamageScalar  = 1000% ANY +GondorGandalf ;;.;; 1200% ;;-;; 
		DamageScalar  = 1200% ANY +MordorWitchKing ;;-;;
		DamageScalar  = 400% ANY +TomBombadil ;;-;; 
		Radius        = 50.0
		DamageType	  = CRUSH
		DamageFXType  = CLUBBING
		DeathType	  = NORMAL
		AcceptDamageAdd = No ;;-;;
		RequiredUpgradeNames	= Upgrade_ObjectLevel10
	End
  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist			= .75 ; ;
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 40.0
    ShockWaveTaperOff = 0.66
  End
End

;------------------------------------------------------------------------------
; This is the normal punch, not the AOE, rock, siege or tree
Weapon MountainTrollPunch  ;	BALANCE TrollPunch ;;-;;
  LeechRangeWeapon		= Yes
  RadiusDamageAffects = ENEMIES 
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
;;=;; val had put them to 5, aparently its bad
  MeleeWeapon           = Yes
  DelayBetweenShots     = MORDOR_TROLL_PUNCH_DELAYBETWEENSHOTS
  FiringDuration        = MORDOR_TROLL_PUNCH_FIRINGDURATION
  PreAttackDelay        = MORDOR_TROLL_PUNCH_PREATTACKDELAY
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX          	= FX_TrollTreeSwing
  FireFX               	= FX_TrollPunchGeneric
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta	= 15.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;
	HoldAfterFiringDelay 		= 400 ;;-;; 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_TROLL_PUNCH_DAMAGE
	DamageScalar  = 50% ANY +STRUCTURE ;;-;; Punch is not meant to hurt buildings. Use bash.
	;;-;;DamageScalar  = 120% ANY +DwarvenBattleWagon ;;-;; 150%
    Radius        = 50.0
    DamageArc	  = 40 ;;-;; 45
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 21.0 ;;-;; 20.0
    ShockWaveRadius   = 50 ;;-;; 40.0
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40 ;;-;; 45
    ShockWaveZMult    = 1.20
	HeroResist			= 0.85 ;;-;;
	SpecialObjectFilter	= ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
  End
End



;----------------------------
Weapon CaveTrollPunch  ; BALANCE GoblinCaveTrollPunch ;;-;;
  LeechRangeWeapon		= Yes
  RadiusDamageAffects = ENEMIES 
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
;;=;; val put em to 5, aparently its bad.
  MeleeWeapon           = Yes
  DelayBetweenShots     = CAVE_TROLL_PUNCH_DELAYBETWEENSHOTS
  FiringDuration        = CAVE_TROLL_PUNCH_FIRINGDURATION
  PreAttackDelay        = CAVE_TROLL_PUNCH_PREATTACKDELAY
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX          	= FX_TrollTreeSwing
  FireFX               	= FX_TrollPunchGeneric
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta	= 15.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;
	HoldAfterFiringDelay 		= 400 ;;-;; 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = CAVE_TROLL_PUNCH_DAMAGE
	DamageTaperOff		= CAVE_TROLL_PUNCH_DAMAGE_TAPEROFF ;;-;;
	;//09v2CaveTrollsAgainstHeroes//
		DamageScalar   	 	= 115% ANY +HERO -RohanEowyn -GondorGandalf -ElvenGlorfindel -GondorAragorn -DwarvenGimli -ElvenElrond ;;-;;
		DamageScalar	 	= 130% ANY +GondorAragorn ;;-FixedGimliAragornLink-;; ;;-;;
		DamageScalar	 	= 130% ANY +DwarvenGimli ;;-FixedGimliAragornLink-;; ;;-;;
		DamageScalar	 	= 130% ANY +ElvenElrond ;;-FixedGimliAragornLink-;; ;;-;;
		DamageScalar   	 	= 125% ANY +GondorGandalf +ElvenGlorfindel ;;-;;
		DamageScalar   	 	= 160% ANY +RohanEowyn +RohanEomer ;;-;;
	;//09v2CaveTrollsAgainstStructures//
		DamageScalar  		= 50% ANY +STRUCTURE ;;-;; Punch is not meant to hurt buildins. Use bash.
	;//09v2CaveTrollsAgainstPikes//
  		DamageScalar		= 90% ANY +PIKE -DwarvenPhalanx -GondorTowerShieldGuard -MordorEasterling -IsengardPikeman ;;-;; 
  		DamageScalar		= 78.3% ANY +DwarvenPhalanx ;;-;; 87% ;;=;; 82%
		DamageScalar		= 73.8% ANY +GondorTowerShieldGuard ;;-;; 82% ;;=;; 77%
		DamageScalar		= 85.5% ANY +MordorEasterling ;;-;; 95% ;;=;; 85%
        DamageScalar		= 90% ANY +IsengardPikeman ;;.;; 99% ;;-;; 110% ;;=;;
	;//--------------------------//
	DamageScalar  = 125% ANY +MACHINE ;;-;; 150% ;;-;; from only wagon. ;;=;; ;;=dwarfgob=;;
	;//--------------------------//
    Radius        = 50.0
    DamageArc	  = 40 ;;-;; 45
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 20.0
    ShockWaveRadius   = 50 ;;-;; 40.0
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40 ;;-;; 45
    ShockWaveZMult    = 1.20
	SpecialObjectFilter	= ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
  End
End

//----------------------------------------------------------------------------/
;			This are the building attack bash, not the AOE, rock, siege or tree
Weapon MountainTrollBash  ; BALANCE TrollBash ;;-;;
	LeechRangeWeapon	  = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	RadiusDamageAffects	  = ENEMIES 
	MeleeWeapon           = Yes
	FireFX                = FX_TrollBash
	DelayBetweenShots     = MORDOR_TROLL_SHOULDER_DELAYBETWEENSHOTS            ; time between shots, msec
	FiringDuration        = MORDOR_TROLL_SHOULDER_FIRINGDURATION
	PreAttackDelay        = MORDOR_TROLL_SHOULDER_PREATTACKDELAY
	PreAttackType         = PER_SHOT
	PreAttackFX           = FX_TrollTreeSwing
	AcceptableAimDelta	  = 35.0 
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= MORDOR_TROLL_SHOULDER_DAMAGE
		DamageScalar  		= 60% ANY +COMMANDCENTER ;;-;; 68% ;;-;; 90% ;;=;;
		DamageScalar  		= 75% ANY +ECONOMY_STRUCTURE -DwarvenMineShaft ;;-;; 90% ;;=;;
		DamageScalar  		= 90% ANY +DwarvenMineShaft
 		DamageScalar  		= 125% ANY +WargLair +BarrowWightLair +CaveTrollLair +SpiderLair +MoriarGoblinLair ;;-;;
		Radius        		= 0.0
		DelayTime     		= 0
		DamageType    		= SIEGE
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= MORDOR_TROLL_SHOULDER_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLBASH
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End
;----------------------------
Weapon CaveTrollBash		;	BALANCE TrollBash ;;-;;
	LeechRangeWeapon	  = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	RadiusDamageAffects	  = ENEMIES 
	MeleeWeapon           = Yes
	FireFX                = FX_TrollBash
	DelayBetweenShots     = CAVE_TROLL_SHOULDER_DELAYBETWEENSHOTS            ; time between shots, msec
	FiringDuration        = CAVE_TROLL_SHOULDER_FIRINGDURATION
	PreAttackDelay        = CAVE_TROLL_SHOULDER_PREATTACKDELAY
	PreAttackType         = PER_SHOT
	PreAttackFX           = FX_TrollTreeSwing
	AcceptableAimDelta	  = 35.0 
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= CAVE_TROLL_SHOULDER_DAMAGE
 		DamageScalar  		= 73% ANY +COMMANDCENTER ;;-;; 81% ANY +COMMANDCENTER ;;-;; 90% ;;=;;
		DamageScalar  		= 95% ANY +ECONOMY_STRUCTURE -DwarvenMineShaft -GondorFarm -IsengardFurnace;;-;; 90% 
		DamageScalar  		= 107% ANY +DwarvenMineShaft ;;-;; 
		DamageScalar  		= 67% ANY +GondorFarm ;;-;; 
		DamageScalar  		= 80% ANY +IsengardFurnace ;;-;; 
 		DamageScalar  		= 125% ANY +WargLair +BarrowWightLair +CaveTrollLair +SpiderLair +MoriarGoblinLair ;;-;;
		Radius        		= 0.0
		DelayTime     		= 0
		DamageType    		= SIEGE
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= CAVE_TROLL_SHOULDER_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLBASH
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

//----------------------------------------------------------------------------/
; This are the building attack bash with the damage/scalar on building of clubswing.
Weapon MountainTrollBashWithTree	;	BALANCE		BashWithTree
	LeechRangeWeapon	  = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	RadiusDamageAffects	  = ENEMIES 
	MeleeWeapon           = Yes
	FireFX                = FX_TrollBash
	DelayBetweenShots     = MORDOR_TROLL_SHOULDER_DELAYBETWEENSHOTS            ; time between shots, msec
	FiringDuration        = MORDOR_TROLL_SHOULDER_FIRINGDURATION
	PreAttackDelay        = MORDOR_TROLL_SHOULDER_PREATTACKDELAY
	PreAttackType         = PER_SHOT
	PreAttackFX           = FX_TrollTreeSwing
	AcceptableAimDelta	  = 35.0 
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)

	DamageNugget
		Damage				= MORDOR_TROLL_SHOULDER_DAMAGE_WITH_TREE
		DamageScalar  		= 60% ANY +COMMANDCENTER ;;-;; 68% ;;-;; 90% ;;=;;
		DamageScalar  		= 75% ANY +ECONOMY_STRUCTURE -DwarvenMineShaft ;;-;; 90% ;;=;;
		DamageScalar  		= 90% ANY +DwarvenMineShaft
 		DamageScalar  		= 125% ANY +WargLair +BarrowWightLair +CaveTrollLair +SpiderLair +MoriarGoblinLair ;;-;;
		Radius				= 0.00
		DelayTime     		= 0
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= MORDOR_TROLL_SHOULDER_DAMAGE_WITH_TREE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLBASH
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End
;----------------------------
Weapon CaveTrollBashWithTree	;	BALANCE		BashWithTree
	LeechRangeWeapon	  = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	RadiusDamageAffects	  = ENEMIES 
	MeleeWeapon           = Yes
	FireFX                = FX_TrollBash
	DelayBetweenShots     = CAVE_TROLL_SHOULDER_DELAYBETWEENSHOTS            ; time between shots, msec
	FiringDuration        = CAVE_TROLL_SHOULDER_FIRINGDURATION
	PreAttackDelay        = CAVE_TROLL_SHOULDER_PREATTACKDELAY
	PreAttackType         = PER_SHOT
	PreAttackFX           = FX_TrollTreeSwing
	AcceptableAimDelta	  = 35.0 
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)

	DamageNugget
		Damage				= CAVE_TROLL_SHOULDER_DAMAGE_WITH_TREE
 		DamageScalar  		= 73% ANY +COMMANDCENTER ;;-;; 81% ANY +COMMANDCENTER ;;-;; 90% ANY +COMMANDCENTER ;;=;;
		DamageScalar  		= 95% ANY +ECONOMY_STRUCTURE -DwarvenMineShaft -GondorFarm -IsengardFurnace;;-;; 90% 
		DamageScalar  		= 107% ANY +DwarvenMineShaft ;;-;; 
		DamageScalar  		= 67% ANY +GondorFarm ;;-;; 
		DamageScalar  		= 80% ANY +IsengardFurnace ;;-;; 
 		DamageScalar  		= 125% ANY +WargLair +BarrowWightLair +CaveTrollLair +SpiderLair +MoriarGoblinLair ;;-;;
 		Radius        		= 0.0
		DelayTime     		= 0
		DamageType    		= SIEGE
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= CAVE_TROLL_SHOULDER_DAMAGE_WITH_TREE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLBASH
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
End

//----------------------------------------------------------------------------/
; This is the attack with a tree in hand
Weapon MountainTrollClubSwing		;	BALANCE TrollClubSwing ;;-;;
	LeechRangeWeapon			= Yes
	RadiusDamageAffects			= ENEMIES
    MeleeWeapon					= Yes
	AttackRange					= 20									; this was tuned with the Damage and shock wave nugget so it looks good with club
	FireFX						= FX_TrollClubHit
	DelayBetweenShots			= MORDOR_TROLL_TREE_DELAYBETWEENSHOTS	; time between shots, msec
	FiringDuration				= MORDOR_TROLL_TREE_FIRINGDURATION
	PreAttackDelay				= MORDOR_TROLL_TREE_PREATTACKDELAY
	PreAttackType				= PER_SHOT								; Do the delay each time we attack a new target
	PreAttackFX					= FX_TrollTreeSwing
	DamageDealtAtSelfPosition	= Yes									; A melee based AoE.  Arc radiates from me, not them
	AcceptableAimDelta			= 35.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)

	DamageNugget									; A basic Nugget that just does damage
		Damage				= MORDOR_TROLL_TREE_DAMAGE
		DamageScalar		= 50% ANY +STRUCTURE ;;-;; ClubSwing is not meant to hurt buildings anymore. Use bash.
 		DamageScalar		= 87% ANY +DwarvenPhalanx ;;=;; 82%
		DamageScalar		= 82% ANY +GondorTowerShieldGuard ;;=;; 77%
		DamageScalar		= 95% ANY +MordorEasterling ;;=;; 85%
        DamageScalar		= 110% ANY +IsengardPikeman ;;=;;
		DamageScalar		= 125% ANY +MACHINE ;;-;; from only wagon ;;-;; 150%
		Radius				= 60.0						; matches impact nugget so it throws them back and hurts them
		DamageArc			= 90
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
	End
	MetaImpactNugget								; A Nugget that throws things back with force
		SpecialObjectFilter = ALL -MONSTER ;;-;;
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 55 ;;-;; 50.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 90
		ShockWaveZMult    = 1.20
;		HeroResist		  = 0.90					; 90% resistance to heroes
	End

	MetaImpactNugget		//BALANCE.ClubSwingAgainstMonster//
		SpecialObjectFilter = ANY +MONSTER ;;-;;
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 55 ;;-;; 50.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 45 ;;-;; 90
		ShockWaveZMult    = 1.20
 	End
End
;----------------------------
Weapon CaveTrollClubSwing		;	BALANCE TrollClubSwing
	LeechRangeWeapon			= Yes
	RadiusDamageAffects			= ENEMIES
    MeleeWeapon					= Yes
	AttackRange					= 20									; this was tuned with the Damage and shock wave nugget so it looks good with club
	FireFX						= FX_TrollClubHit
	DelayBetweenShots			= CAVE_TROLL_TREE_DELAYBETWEENSHOTS	; time between shots, msec
	FiringDuration				= CAVE_TROLL_TREE_FIRINGDURATION
	PreAttackDelay				= CAVE_TROLL_TREE_PREATTACKDELAY
	PreAttackType				= PER_SHOT								; Do the delay each time we attack a new target
	PreAttackFX					= FX_TrollTreeSwing
	DamageDealtAtSelfPosition	= Yes									; A melee based AoE.  Arc radiates from me, not them
	AcceptableAimDelta			= 35.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;
	;;=;;CanFireWhileMoving			= Yes	
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)
	DamageNugget									; A basic Nugget that just does damage
		Damage				= CAVE_TROLL_TREE_DAMAGE
		DamageTaperOff		= CAVE_TROLL_TREE_DAMAGE_TAPEROFF ;;-;;
		;//09v2CaveTrollsAgainstHeroes//
			DamageScalar   	 	= 115% ANY +HERO -RohanEowyn -GondorGandalf -ElvenGlorfindel -GondorAragorn -DwarvenGimli -ElvenElrond ;;-;;
			DamageScalar	 	= 130% ANY +GondorAragorn ;;-FixedGimliAragornLink-;; ;;-;;
			DamageScalar	 	= 130% ANY +DwarvenGimli ;;-FixedGimliAragornLink-;; ;;-;;
			DamageScalar	 	= 130% ANY +ElvenElrond ;;-FixedGimliAragornLink-;; ;;-;;
			DamageScalar   	 	= 125% ANY +GondorGandalf +ElvenGlorfindel ;;-;;
			DamageScalar   	 	= 160% ANY +RohanEowyn +RohanEomer ;;-;;
		;//09v2CaveTrollsAgainstStructures//
			DamageScalar		= 50% ANY +STRUCTURE ;;-;; ClubSwing is not meant to hurt buildings anymore. Use bash.
		;//09v2CaveTrollsAgainstPikes//
			DamageScalar		= 90% ANY +PIKE -DwarvenPhalanx -GondorTowerShieldGuard -MordorEasterling -IsengardPikeman ;;-;; 
			DamageScalar		= 78.3% ANY +DwarvenPhalanx ;;-;; 87% ;;=;; 82%
			DamageScalar		= 73.8% ANY +GondorTowerShieldGuard ;;-;; 82% ;;=;; 77%
			DamageScalar		= 85.5% ANY +MordorEasterling ;;-;; 95% ;;=;; 85%
			DamageScalar		= 90% ANY +IsengardPikeman ;;.;; 99% ;;-;; 110% ;;=;;
		;//--------------------------//
		DamageScalar		= 120% ANY +CAVALRY -MACHINE ;;-;;
		DamageScalar		= 187% ANY +MACHINE ;;-;; 150% ;;-;;
 		DamageScalar		= 225% ANY +CREEP ;;-;; 
		;//--------------------------//
 		Radius				= 60 ;;-;; 55.0 ;;=;; 60.0
		DamageArc			= 80 ;;-;; 90
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
	End
	MetaImpactNugget								; A Nugget that throws things back with force
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 60 ;;-;; 50.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 80 ;;-;; 90
		ShockWaveZMult    = 1.20
		HeroResist		  = 0.33 ;;-;; 0.10 ;;-;; 90% chances of knockback
		SpecialObjectFilter = ALL -GondorBoromir ;;-;;
	End
	MetaImpactNugget								; A Nugget that throws things back with force
		SpecialObjectFilter = ANY +GondorBoromir ;;-;;
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 60 ;;-;; 50.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 80 ;;-;; 90
		ShockWaveZMult    = 1.20
		HeroResist		  = 0% ;;-;; 0.33 ;;-;; 0.10 ;;-;; 
	End

	MetaImpactNugget		//BALANCE.ClubSwingAgainstMonster//
		SpecialObjectFilter = ANY +MONSTER ;;-;;
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 60 ;;-;; 50.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 40 ;;-;; 80 ;;-;; 90
		ShockWaveZMult    = 1.20
 	End
End
;----------------------------
Weapon MordorAttackTrollClubSwing	;	BALANCE TrollClubSwing ;;-;;
	LeechRangeWeapon			= Yes
	RadiusDamageAffects			= ENEMIES								; Turning off friendly fire for all allies, but ya know, this could say NotSimilar and then he could hit friendlies except for trolls
	MeleeWeapon					= Yes
	AttackRange					= 30									; this was tuned with the Damage and shock wave nugget so it looks good with club
	FireFX						= FX_TrollClubHit
	DelayBetweenShots			= MORDOR_ATTACKTROLL_TREE_DELAYBETWEENSHOTS	; time between shots, msec
	FiringDuration				= MORDOR_ATTACKTROLL_TREE_FIRINGDURATION
	PreAttackDelay				= MORDOR_ATTACKTROLL_TREE_PREATTACKDELAY
	PreAttackType				= PER_SHOT								; Do the delay each time we attack a new target
	PreAttackFX					= FX_TrollTreeSwing
	DamageDealtAtSelfPosition	= Yes									; A melee based AoE.  Arc radiates from me, not them
	AcceptableAimDelta			= 35.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;
	HoldAfterFiringDelay 		= 500 ;;-;; 400(little bit glitchy) ;;; 600 (fair enough) ;;; 1000 (ideal)

	DamageNugget
		Damage				= MORDOR_ATTACKTROLL_TREE_STRUCTURES_DAMAGE
		DamageTaperOff		= MORDOR_ATTACKTROLL_TREE_STRUCTURES_DAMAGE_TAPEROFF
 		; DamageScalar		= 120% ANY +FS_FACTORY -COMMANDCENTER ;;.;;
 		DamageScalar		= 73% ANY +COMMANDCENTER ;;.;; 81% ;;-;; 90% ANY +COMMANDCENTER ;;-;; 
		DamageScalar    	= 200% ANY +WargLair +BarrowWightLair +CaveTrollLair +SpiderLair +MoriarGoblinLair ;;=;; 140%
		Radius				= 60.0
		DelayTime     		= 0
		DamageArc			= 80 ;;-;; 90
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		SpecialObjectFilter = ANY +STRUCTURE
	End
	DamageNugget
		Damage				= MORDOR_ATTACKTROLL_TREE_DAMAGE
		DamageTaperOff		= MORDOR_ATTACKTROLL_TREE_DAMAGE_TAPEROFF
 		DamageScalar			= 115% ANY +HERO -RohanEowyn -GondorGandalf -ElvenGlorfindel -GondorAragorn -DwarvenGimli -ElvenElrond -RohanTreeBerd; ;
		DamageScalar			= 130% ANY +GondorAragorn ;;-FixedGimliAragornLink-;; ; ;
		DamageScalar			= 130% ANY +DwarvenGimli ;;-FixedGimliAragornLink-;; ; ;
		DamageScalar			= 130% ANY +ElvenElrond ;;-FixedGimliAragornLink-;; ; ;
		DamageScalar			= 125% ANY +GondorGandalf +ElvenGlorfindel ; ;
		DamageScalar			= 160% ANY +RohanEowyn +RohanEomer ; ;
		DamageScalar		= 75% ANY +PIKE -IsengardPikeman ;;=;;
  		Radius				= 60.0
		DamageArc			= 80 ;;-;; 90
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		SpecialObjectFilter = ALL -STRUCTURE
	End

	MetaImpactNugget								; A Nugget that throws things back with force
		SpecialObjectFilter = ALL -MONSTER ;;-;;
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 60.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 90
		ShockWaveZMult    = 1.20
;		HeroResist		  = 0.90					; 90% resistance to heroes
	End

	MetaImpactNugget		//BALANCE.ClubSwingAgainstMonster//
		SpecialObjectFilter = ANY +MONSTER ;;-;;
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 60.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 45 ;;-;; 90
		ShockWaveZMult    = 1.20
 	End
End

//----------------------------------------------------------------------------/
; This is the attack with rock in hand
Weapon MordorCaveTrollRockThrow  // OBSOLETE WEAPON
	IdleAfterFiringDelay	= 2167 ; So I don't chuck rock, and then chase it because the target doesn't die until the rock hits him
	AttackRange				= MORDOR_TROLL_ROCK_RANGE	
	WeaponSpeed				= 240.0        ; dist/sec (huge value == effectively instant)
	ProjectileFilterInContainer	= ANY +ROCK +INFANTRY; We don't make the projectile, it is in our Contain module.
	;FireFX					= FX_TrollTreeHit
	PreAttackDelay			= MORDOR_TROLL_ROCK_PREATTACKDELAY
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= MORDOR_TROLL_ROCK_FIRINGDURATION
	DelayBetweenShots		= MORDOR_TROLL_ROCK_DELAYBETWEENSHOTS
	NoVictimNeeded			= Yes ; Need no target
    LeechRangeWeapon		= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		WarheadTemplateName = MordorCaveTrollRockThrowWarhead
	End
End
//----------------------------------------------------------------------------/
;	This is the toggle weapon for troll. They will reload, throw, reload straight away, and constantly hold a rock.
Weapon CaveTrollRockThrow	;		BALANCE		TrollRockThrow ;;-;;
	;IdleAfterFiringDelay		= 2000							; Do NOT idle after throwing or Bombard will break
	HoldDuringReload			= Yes
	AttackRange					= CAVE_TROLL_ROCK_RANGE
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= CAVE_TROLL_ROCK_PREATTACKDELAY
	FiringDuration				= CAVE_TROLL_ROCK_FIRINGDURATION
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= CAVE_TROLL_ROCK_DELAYBETWEENSHOTS
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	AutoReloadWhenIdle			= 1500							; should be a bit less than IdleAfterFiringDelay
	ClipSize 					= 1

	AutoReloadsClip 			= Yes
	ClipReloadTime 				= CAVE_TROLL_ROCK_CLIP_RELOAD

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTroll
		WarheadTemplateName		= CaveTrollRockThrowWarhead
	End
End
//----------------------------------------------------------------------------/
//BALANCE ActiveTrollRockWeaponWarhead//
Weapon CaveTrollRockThrowWarhead	;	BALANCE TrollRockWarhead
	ProjectileCollidesWith =  ENEMIES NEUTRAL STRUCTURES WALLS			; Remember, the projectile is a rock, who has no allies
;		FireFX = FX_RockDetonation
	DamageNugget															; A basic Nugget that just does damage
		Damage			= CAVE_TROLL_ROCK_DAMAGE
		DamageTaperOff	= #MULTIPLY( CAVE_TROLL_ROCK_DAMAGE CAVE_TROLL_ROCK_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE ;;-;;
		DamageScalar  	= 80% ANY +STRUCTURE -COMMANDCENTER ; ;
		DamageScalar  	= 60% ANY +COMMANDCENTER ;;=;;
		Radius			= CAVE_TROLL_ROCK_RADIUS
		DamageType		= SIEGE
		DamageFXType	= SMALL_ROCK
		DeathType		= NORMAL
		DamageScalar  	= 0% NONE ALLIES +STRUCTURE  ;;-;;			; No damage to allied structures. 
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage				= CAVE_TROLL_ROCK_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLROCKS
		DamageType			= SIEGE
		DamageFXType  		= BIG_ROCK
		DeathType    		= EXPLODED
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End

	MetaImpactNugget															; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 12.0
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.20
	End
End
;----------------------------
Weapon MountainTrollRockThrow	;	BALANCE	MordorMountainTrollRockThrow ;;-;;
	HoldDuringReload			= Yes
	AttackRange					= MORDOR_TROLL_ROCK_RANGE
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= MORDOR_TROLL_ROCK_PREATTACKDELAY
	FiringDuration				= MORDOR_TROLL_ROCK_FIRINGDURATION
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= MORDOR_TROLL_ROCK_DELAYBETWEENSHOTS
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	AutoReloadWhenIdle			= 1500							; should be a bit less than IdleAfterFiringDelay
	ClipSize 					= 1

	AutoReloadsClip 			= Yes
	ClipReloadTime 				= MORDOR_TROLL_ROCK_CLIP_RELOAD

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTroll
		WarheadTemplateName		= MordorCaveTrollRockThrowWarhead
	End
End
//----------------------------------------------------------------------------/
//BALANCE ActiveTrollRockWeaponWarhead//
Weapon MordorCaveTrollRockThrowWarhead	;	BALANCE TrollRockWarhead
	ProjectileCollidesWith =  ENEMIES NEUTRAL STRUCTURES WALLS			; Remember, the projectile is a rock, who has no allies
;		FireFX = FX_RockDetonation
	DamageNugget															; A basic Nugget that just does damage
		Damage			= MORDOR_TROLL_ROCK_DAMAGE
		DamageTaperOff	= #MULTIPLY( MORDOR_TROLL_ROCK_DAMAGE MORDOR_TROLL_ROCK_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE ;;-;;
		DamageScalar  	= 80% ANY +STRUCTURE -COMMANDCENTER ; ;
		DamageScalar  	= 60% ANY +COMMANDCENTER ;;=;;
		Radius			= MORDOR_TROLL_ROCK_RADIUS
		DamageType		= SIEGE
		DamageFXType	= SMALL_ROCK
		DeathType		= NORMAL
		DamageScalar  	= 0% NONE ALLIES +STRUCTURE  ;;-;;			; No damage to allied structures. 
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage				= MORDOR_TROLL_ROCK_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLROCKS
		DamageType			= SIEGE
		DamageFXType  		= BIG_ROCK
		DeathType    		= EXPLODED
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End

	MetaImpactNugget															; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 12.0
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.20
	End
End

//----------------------------------------------------------------------------/
;	This is the weapon for a troll picking up a nearby goblin and throwing him. 
Weapon CaveTrollGoblinThrow		;	BALANCE  ;;-;;
	;IdleAfterFiringDelay		= 2000							; Do NOT idle after throwing or Bombard will break
	HoldDuringReload			= Yes
	AttackRange					= CAVE_TROLL_GOBLINTHROW_RANGE
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1400
	FiringDuration				= 2000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6100
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	AutoReloadWhenIdle			= 1500							; should be a bit less than IdleAfterFiringDelay
	ClipSize 					= 1
	AutoReloadsClip 			= No
	ClipReloadTime 				= 2100
	
	ProjectileFilterInContainer = ANY +INFANTRY				; Throw out contained infantry

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		WarheadTemplateName			= CaveTrollGoblinThrowWarhead
	End
End
;-----------------------------------
Weapon CaveTrollGoblinThrowWarhead	;	BALANCE ;;-;;
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; ; ALLIES			; Remember, the projectile is a rock, who has no allies
 ;		FireFX = FX_RockDetonation
	DamageNugget															; A basic Nugget that just does damage
		Damage			= CAVE_TROLL_GOBLINTHROW_DAMAGE
		DamageTaperOff  = #MULTIPLY( CAVE_TROLL_GOBLINTHROW_DAMAGE CAVE_TROLL_GOBLINTHROW_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= CAVE_TROLL_GOBLINTHROW_RADIUS
		DamageScalar	= 50% ANY +COMMANDCENTER ;;-;; 50% ANY +STRUCTURE ;;=;;
		DamageScalar	= 80% ANY +DwarvenPhalanx ;;.;;
		DamageScalar	= 80% ANY +DwarvenGuardian ;;.;;
		DamageScalar	= 80% ANY +DwarvenAxeThrower ;;.;;
		DamageType		= SIEGE
		DamageFXType	= SMALL_ROCK
		DeathType		= NORMAL
		DamageScalar	= 0% NONE ALLIES +STRUCTURE  ;;-;;			; No damage to allied structures. 
		DamageScalar	= 300% ANY +DwarvenSentryTower +MordorBattleTower +IsengardBattleTower +WildSentryTower +ElvenSentryTower +GondorSentryTower -DwarvenSentryTower_Independent -GondorSentryTower_Independant ;;-;;
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage				= CAVE_TROLL_GOBLINTHROW_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_TROLLROCKS
		DamageType			= SIEGE
		DamageFXType  		= BIG_ROCK
		DeathType    		= EXPLODED
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End
	MetaImpactNugget															; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= CAVE_TROLL_GOBLINTHROW_RADIUS
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.20
		SpecialObjectFilter	= ALL ENEMIES ;;-;;
	End
 	LuaEventNugget	;;-;;
		LuaEvent			= BeTerrified ;;-;;
		Radius				= CAVE_TROLL_GOBLINTHROW_RADIUS
		SendToEnemies		= Yes
		SendToAllies		= No
		SendToNeutral		= Yes
 	End
	;;.;;	EmotionWeaponNugget
	;;.;;		EmotionType			= TERROR
	;;.;;		Radius				= CAVE_TROLL_GOBLINTHROW_RADIUS ;;-;; 24 ;;=;;  48 
	;;.;;		Duration			= 5
	;;.;;		SpecialObjectFilter	= ANY ENEMIES +INFANTRY +MONSTER ;;=;;
	;;.;;	End
End

//----------------------------------------------------------------------------/
Weapon MordorCaveTrollRampage
  AttackRange = 160.0
  FireFX           = FX_RampageDust
  RadiusDamageAffects = ENEMIES SAME_HEIGHT_ONLY ;;=;; ALLIES
  DelayBetweenShots = 1000                 ; time between shots, msec
  ClipSize = 5                            ; how many shots in a Clip (0 == infinite)
  ClipReloadTime = 1000                      ; how long to reload a Clip, msec

  ; Sequential order of the target positions to follow this list
  IgnoreLinearFirstTarget = Yes
  LinearTarget = X: 0.0   Y: 0.0	T:5
  LinearTarget = X: 20.0  Y: 10.0	T:4
  LinearTarget = X: 0.0   Y: 20.0	T:5
  LinearTarget = X:-20.0  Y: 0.0	T:5
  LinearTarget = X: 0.0   Y:-20.0	T:0
  LinearTarget = X: 0.0   Y: 0.0	T:5

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100
    Radius        = 20.0
    DamageType            = CRUSH
    DeathType             = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist			= 100% ;;=;; 
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 20.0
    ShockWaveTaperOff = 1.0
  End
End

;------------------------------------------------------------------------------
Weapon MordorCaveTrollTreeRampage
  AttackRange = 160.0
  FireFX           = FX_RampageDust
  RadiusDamageAffects =  ENEMIES SAME_HEIGHT_ONLY  ;;=;; ALLIES
  DelayBetweenShots = 1000                 ; time between shots, msec
  ClipSize = 5                            ; how many shots in a Clip (0 == infinite)
  ClipReloadTime = 1000                      ; how long to reload a Clip, msec

  ; Sequential order of the target positions to follow this list
  IgnoreLinearFirstTarget = Yes
  LinearTarget = X: 0.0   Y: 0.0	T:5
  
  LinearTarget = X: 20.0  Y: 10.0	T:4 ;punch

  LinearTarget = X: 0.0   Y: 30.0	T:5 ;tree

  LinearTarget = X:-20.0  Y: 0.0	T:5 ;punch

  LinearTarget = X: 0.0   Y:-30.0	T:0 ;tree
  LinearTarget = X: 0.0   Y: 0.0	T:5 ;clearout

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100
    Radius        = 20.0
    DamageType            = CRUSH
    DeathType             = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist			= 100% ;;=;; 
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 20.0
    ShockWaveTaperOff = 1.0
  End

End

;------------------------------------------------------------------------------
Weapon MumakilRampage
	AttackRange = 160.0
;	FireFX           = FX_RampageDust
	RadiusDamageAffects = ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots = 0                ; time between shots, msec
	ClipSize = INFINITE_CLIP_SIZE                            ; how many shots in a Clip (0 == infinite)
	ClipReloadTime = 0                      ; how long to reload a Clip, msec
   
     ; Sequential order of the target positions to follow this list
	
	LinearTarget = X: 0			Y: 0		T: 7		; T: 43 -42	+1
	LinearTarget = X: 72.272	Y: 7.216	T: 6		; T: 43	-42	+2
	LinearTarget = X: 84.496	Y: 9.25 	T: 1		; T: 6	-6	+2
	LinearTarget = X: 80.55	 	Y: 48.24 	T: 0		; T: 3	-6	-1
	LinearTarget = X: 60.88		Y: 64.00	T: 1		; T: 3	-0	+2
	LinearTarget = X: 29.13   	Y: 78.37	T: 0		; T: 2		+4
	LinearTarget = X: -2.55 	Y: 85.55	T: 1		; T: 3		+1
	LinearTarget = X:-34.80  	Y: 76.95	T: 0		; T: 3	
	LinearTarget = X: -66.8  	Y: 62.64	T: 1		; T: 3		+1
	LinearTarget = X:-81.65 	Y: 30.48	T: 0		; T: 1		+2
	LinearTarget = X: -92.18	Y: -2.72	T: 1		; T: 4		+0
	LinearTarget = X:-81.2 		Y: -31.48	T: 0		; T: 4		+4
	LinearTarget = X: -58.93  	Y: -63.19	T: 1		; T: 4		+2
	LinearTarget = X:-35.4		Y: -82.56	T: 1		; T: 4		+0
	LinearTarget = X: -13.91	Y: -80.33	T: 2		; T: 14		+2
	LinearTarget = X: -13.91	Y: -80.33	T: 1		; T: 5		+1
	LinearTarget = X:-35.404  	Y: -82.56	T: 0		; T: 2		+3
	LinearTarget = X: -58.93	Y: -63.19	T: 1		; T: 1		-2
	LinearTarget = X:-81.17 	Y: -31.48	T: 0		; T: 2		+0
	LinearTarget = X: -92.18 	Y: -2.72	T: 0		; T: 2		+2
	LinearTarget = X:-81.65 	Y: 30.48	T: 1		; T: 3		-1
	LinearTarget = X: -66.80	Y: 62.64	T: 1		; T: 5		-2
	LinearTarget = X:-34.80  	Y: 76.95	T: 1		; T: 6		-2
;	LinearTarget = X: -2.554  	Y: 85.56	T: 1		; T: 8		+0
	LinearTarget = X:-34.80  	Y: 76.95	T: 1		; T: 2	
	LinearTarget = X: -66.80	Y: 62.64	T: 1		; T: 3		-1
	LinearTarget = X:-81.65 	Y: 30.48	T: 0		; T: 4		+3
	LinearTarget = X: -92.18	Y: -2.72	T: 1		; T: 2		-1
	LinearTarget = X:-81.18 	Y: -31.48	T: 0		; T: 3		+2
	LinearTarget = X: -58.94	Y: -63.19	T: 1		; T: 3		-1
	LinearTarget = X:-35.40	    Y: -82.56	T: 0		; T: 3		+2
	LinearTarget = X: -13.9 	Y: -80.33	T: 1		; T: 2		-2
	LinearTarget = X:20.14		Y: -80.38	T: 0		; T: 3		+1
	LinearTarget = X:52.44		Y: -60.40	T: 0		; T: 2		+3
	LinearTarget = X:79.11		Y:-46.74	T: 1		; T: 3		+0
	LinearTarget = X:92.25	 	Y: -19.45	T: 0		; T: 3		+3
	LinearTarget = X:98.89		Y:9.25		T: 3		; T: 5		+2
;	LinearTarget = X:90.95	 	Y: 48.24	T: 1		; T: 7		+3
;	LinearTarget = X:60.89    	Y:64.01		T: 1		; T: 9		+0
	LinearTarget = X:90.95 		Y: 48.24	T: 2		; T: 6		+-
	LinearTarget = X:98.99		Y:9.25		T: 3.2		; T: 3		+3
  
   
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 100
		Radius				= 25.6
		DelayTime			= 0
		DamageType			= FORCE
		DeathType			= NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 25.6
		ShockWaveTaperOff	= 0.8
		;ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 0.920
	End

End

;------------------------------------------------------------------------------
Weapon CorsairSword
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = GONDOR_SOLDIER_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
	PreAttackDelay        = GONDOR_SOLDIER_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_GondorSwordHit
	FireFlankFX			= FX_Flanking
	FiringDuration        = GONDOR_SOLDIER_SWORD_FIRINGDURATION    ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= MORDOR_CORSAIR_SWORD
		DamageScalar			= 77% ANY +STRUCTURE -IsengardFurnace -ElvenMallornTree ;;-;; 82.5% ;;-;;
		DamageScalar  			= 80% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
    	DamageScalar  			= 120% ANY +DwarvenPhalanx ;;=dwarfmordor=;;
        DamageScalar  			= 110% ANY +DwarvenGuardian ;;=dwarfmordor=;;
		DamageScalar			= 75% ANY +PORTER
		DamageScalar			= 115% ANY +IsengardBeserker ;;-;; //BerserkerEarlyGame//
        ;;-;;DamageScalar  			= 94% ANY +WildMineShaft ; ; ;;=mordorgob=;;
		DamageScalar			= 69% ANY +IsengardFurnace ;;-;; 72.25% ;;-;;  85%;;=;; 94%
		DamageScalar			= 69% ANY +ElvenMallornTree ;;.;; 72.25% ;;-;;  85%;;=;; 94%
		;;-;;DamageScalar			= 87% ANY +GondorFarm ;;-;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
		ForbiddenUpgradeNames	= Upgrade_MordorForgedBlades Upgrade_WildForgedBlades ;// Corsair used by both Mordor and Wild
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        			= MORDOR_CORSAIR_SWORD_UPGRADE
    	DamageScalar  			= 200% ANY +INFANTRY -HERO -WildSpiderling -IsengardBeserker ; ;
		DamageScalar			= 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar			= 160% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
    	DamageScalar  			= 135% ANY +HERO ; ; 150% ANY +HERO ; ;
		DamageScalar			= 82.5% ANY +CAVALRY ;;=;;
		DamageScalar			= 70% ANY +STRUCTURE -IsengardFurnace -ElvenMallornTree ;;-;; 75% ;;-;; 82.5% ;;=;;
		DamageScalar			= 63% ANY +IsengardFurnace ;;-;; 70% ;;-;;66% ;;-;; 82.5%
		DamageScalar			= 63% ANY +ElvenMallornTree ;;.;; 70%
		;;-;;DamageScalar			= 75% ANY +GondorFarm ;;-;; 82.5%
 		Radius        			= 0.0
		DelayTime     			= 0
		DamageType    			= SLASH
		DamageFXType  			= SWORD_SLASH
		DeathType     			= NORMAL
		FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames	= Upgrade_MordorForgedBlades
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        			= MORDOR_CORSAIR_SWORD_UPGRADE
    	DamageScalar  			= 200% ANY +INFANTRY -HERO -WildSpiderling -IsengardBeserker ; ;
		DamageScalar			= 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar			= 160% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
    	DamageScalar  			= 135% ANY +HERO ; ; 150% ANY +HERO ; ;
		DamageScalar			= 82.5% ANY +CAVALRY ;;=;;
		DamageScalar			= 82.5% ANY +STRUCTURE -IsengardFurnace -GondorFarm;;=;;
		DamageScalar			= 75% ANY +IsengardFurnace ;;-;; 82.5%
		DamageScalar			= 75% ANY +GondorFarm ;;-;; 82.5%
		Radius        			= 0.0
		DelayTime     			= 0
		DamageType    			= SLASH
		DamageFXType  			= SWORD_SLASH
		DeathType     			= NORMAL

		FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames	= Upgrade_WildForgedBlades
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBomb
	AttackRange			= MORDOR_CORSAIR_FIRE_BOMB_RANGE    			; Horde member so it needs to be bigger than the horde weapon attack range.
	MinimumAttackRange	= MORDOR_CORSAIR_FIRE_BOMB_MIN_RANGE    ; ;
	WeaponSpeed			= 100										; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FirebombThrow
	HitPercentage		= MORDOR_CORSAIR_FIRE_BOMB_HIT_PERCENTAGE	; When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= MORDOR_CORSAIR_FIRE_BOMB_SCATTER_RADIUS	; When this weapon misses it can randomly miss by as much as this distance.
	NoVictimNeeded			= No ;;-;; Yes //If this is Yes, it breaks the bombard of the Tertiary weapon.

	OverrideVoiceAttackSound = CorsairVoiceAttackFirebomb
	OverrideVoiceEnterStateAttackSound = CorsairVoiceEnterStateAttackFirebomb

	AcceptableAimDelta		= 20									; prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0 ;;-;;
	PreAttackDelay			= MORDOR_CORSAIR_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	FiringDuration			= MORDOR_CORSAIR_FIRE_BOMB_FIRING_DURATION
	PreAttackRandomAmount	= MORDOR_CORSAIR_FIRE_BOMB_RANDOM_PREATTACK

  	ClipSize			= 1 ;;-;;
	AutoReloadsClip		= Yes ;;-;;
	AutoReloadWhenIdle	= 1	 ;;-;;
	ClipReloadTime		= MORDOR_CORSAIR_FIRE_BOMB_DELAYBETWEENSHOTS  ;;-;;
	ContinuousFireOne	= 0
	ContinuousFireCoast	= MORDOR_CORSAIR_FIRE_BOMB_DELAYBETWEENSHOTS  ;;-;;

	ShareTimers			= Yes ;;-;;
 	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CorsairFireBombWarhead
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBombBombard
	AttackRange			= MORDOR_CORSAIR_FIRE_BOMB_RANGE
	MinimumAttackRange	= MORDOR_CORSAIR_FIRE_BOMB_MIN_RANGE
	WeaponSpeed			= 100										; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FirebombThrow
	AcceptableAimDelta	= 20										; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0 ;;-;;
	PreAttackDelay		= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_PREATTACKDELAY
	PreAttackType		= PER_SHOT
	FiringDuration		= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_FIRING_DURATION
	PreAttackRandomAmount	= MORDOR_CORSAIR_FIRE_BOMB_RANDOM_PREATTACK

	HitPercentage		= 0											; Always scatter
	ScatterRadius		= ARCHER_BOMBARD_SCATTER_RADIUS

	
  	ClipSize			= 1 ;;-;;
	AutoReloadsClip		= Yes ;;-;;
	AutoReloadWhenIdle	= 1	 ;;-;;
	ClipReloadTime		= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_DELAYBETWEENSHOTS
	ContinuousFireOne	= 0 ;;-;;
	ContinuousFireCoast	= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_DELAYBETWEENSHOTS
	
	
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	;;-;;NoVictimNeeded			= Yes ; ;Need no target
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectileBombard ;;-;;
		WarheadTemplateName     = CorsairFireBombWarheadBombard ;;-;; 
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBombWarhead
	FireFX		      		= FX_ImpactCorsairFireBomb
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= MORDOR_CORSAIR_FIRE_BOMB_DAMAGE
		Radius			= MORDOR_CORSAIR_FIRE_BOMB_RADIUS
		DamageTaperOff  = #MULTIPLY( MORDOR_CORSAIR_FIRE_BOMB_DAMAGE MORDOR_CORSAIR_FIRE_BOMB_DAMAGE_TAPEROFF )
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 150% ANY +STRUCTURE
                DamageScalar	= 60% ANY +RohanGenericEnt ;;.;; 50% ;;=;;
                DamageScalar	= 80% ANY +RohanTreeBerd ;;.;; 50% ;;=;;
				DamageScalar	= 50% ANY +GondorFarm
		; more damage to buildings.
;;-;;
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 2 ; ;5
		Damage			= MORDOR_CORSAIR_FIRE_BOMB_INCREASE_BURN_RATE_DAMAGE
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 15 ; ;5; 25
		Damage			= MORDOR_CORSAIR_FIRE_BOMB_INCREASE_FUEL_DAMAGE
		DamageTaperOff  = #MULTIPLY( MORDOR_CORSAIR_FIRE_BOMB_INCREASE_FUEL_DAMAGE MORDOR_CORSAIR_FIRE_BOMB_DAMAGE_TAPEROFF )
		MinMaxBurnRate	= 20
		MinDecay		= 20 ;16; 2.5 ; ;25
		MaxResistance		= 0.5 ; ;0
	End	

End

;------------------------------------------------------------------------------
Weapon CorsairFireBombWarheadBombard ;;-;;
	FireFX		      		= FX_ImpactCorsairFireBomb
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_DAMAGE
		Radius			= MORDOR_CORSAIR_FIRE_BOMB_RADIUS
		DamageTaperOff  = #MULTIPLY( MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_DAMAGE MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_DAMAGE_TAPEROFF )
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 150% ANY +STRUCTURE
                DamageScalar	= 60% ANY +RohanGenericEnt ;;.;; 50% ;;=;;
                DamageScalar	= 80% ANY +RohanTreeBerd ;;.;; 50% ;;=;;
				DamageScalar	= 50% ANY +GondorFarm
		; more damage to buildings.
;;-;;
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 2 ; ;5
		Damage			= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_INCREASE_BURN_RATE_DAMAGE
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 15 ; ;5; 25
		Damage			= MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_INCREASE_FUEL_DAMAGE
		DamageTaperOff  = #MULTIPLY( MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_INCREASE_FUEL_DAMAGE MORDOR_CORSAIR_BOMBARD_FIRE_BOMB_DAMAGE_TAPEROFF ) ;;-;; 0.2 ;;-;;
		MinMaxBurnRate	= 20
		MinDecay		= 20 ;16; 2.5 ; ;25
		MaxResistance		= 0.5 ; ;0
	End	

End

;------------------------------------------------------------------------------
Weapon CorsairFireBombMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange				= MORDOR_CORSAIR_HORDE_FIRE_BOMB_RANGE   
	MinimumAttackRange		= MORDOR_CORSAIR_HORDE_FIRE_BOMB_MIN_RANGE
	DelayBetweenShots	= 1000 ;;-;; 222 ; ;5766 ; ;1000
	;;-;;	PreAttackDelay		= MORDOR_CORSAIR_FIRE_BOMB_PREATTACKDELAY
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes ;;-;; No ; ;Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBombMissileHordeRangefinderBombard
	AttackRange				= MORDOR_CORSAIR_HORDE_FIRE_BOMB_RANGE
	MinimumAttackRange		= MORDOR_CORSAIR_HORDE_FIRE_BOMB_MIN_RANGE
	DelayBetweenShots	= 1000 ;;-;; 5766 ; ;1000
	;;-;; PreAttackDelay		= MORDOR_CORSAIR_FIRE_BOMB_PREATTACKDELAY
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon MordorArcherBow       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= MORDOR_ARCHER_RANGE    ;Horde member so it needs to be bigger than the horde weapon attack range.

	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_ARCHER_RANGE .01 )   
   
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 180 ; ;300         ; dist/sec 
	MinWeaponSpeed		= 90 ; ;121
	MaxWeaponSpeed		= 250 ; ;400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 60 ; ;100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 20.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = MORDOR_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:MORDOR_ARCHER_BOW_RELOADTIME_MIN Max:MORDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= MORDOR_ARCHER_BOW_RELOADTIME_MAX   
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = MordorArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_MordorFireArrows
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName     = MordorArcherBowFireWarhead
		RequiredUpgradeNames    = Upgrade_MordorFireArrows
	End
End

Weapon MordorArcherBowBombard       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= MORDOR_ARCHER_BOMBARD_MAXRANGE   ;Horde member so it needs to be bigger than the horde weapon attack range.
	MinimumAttackRange	= #SUBTRACT( MORDOR_ARCHER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_ARCHER_BOMBARD_MAXRANGE .01 )   
	
	
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 0     ;Always scatter
	ScatterRadius		= ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = MORDOR_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:MORDOR_ARCHER_BOW_RELOADTIME_MIN Max:MORDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= MORDOR_ARCHER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrowBombard
		WarheadTemplateName     = MordorArcherBowBombardWarhead
		ForbiddenUpgradeNames   = Upgrade_MordorFireArrows
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = EvilFactionFireArrowBombard
		WarheadTemplateName     = MordorArcherBowBombardFireWarhead
		RequiredUpgradeNames    = Upgrade_MordorFireArrows
	End
End

;------------------------------------------------------------------------------
Weapon MordorBarricadeArcherBow       ; BALANCE Archer Weapon ;orc archer
	AttackRange					= 320 ; ; MORDOR_ARCHER_RANGE    ;Horde member so it needs to be bigger than the horde weapon attack range.
    LeechRangeWeapon    		= Yes
	WeaponSpeed					= 300         ; dist/sec 
	MinWeaponSpeed				= 121
	MaxWeaponSpeed				= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX						= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage				= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius				= 20.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta			= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots			= 0

	PreAttackDelay      		= MORDOR_ARCHER_PREATTACKDELAY
	PreAttackType       		= PER_POSITION
	PreAttackRandomAmount		= 200 
	FiringDuration				= 0
	
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1	
	ClipReloadTime				= Min:800 Max:1100 ; ;Min:MORDOR_ARCHER_BOW_RELOADTIME_MIN Max:MORDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne			= 0
	ContinuousFireCoast			= MORDOR_ARCHER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	CanBeDodged					= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = MordorArcherBarricadeBowWarhead
		ForbiddenUpgradeNames   = Upgrade_MordorFortressFireArrowsTrigger ; ;Upgrade_EvilFortressFlamingMunitions
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName     = MordorArcherBarricadeBowFireWarhead
		RequiredUpgradeNames    = Upgrade_MordorFortressFireArrowsTrigger ; ;Upgrade_EvilFortressFlamingMunitions
	End
End

;-----------------------------------
Weapon MordorArcherBarricadeBowWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_ARCHER_BARRICADE_DAMAGE
    DamageScalar  = 60% ANY +HERO ; ;
    DamageScalar  = 10% ANY +STRUCTURE ; ;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon MordorArcherBarricadeBowFireWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.

  DamageNugget                       
    Damage        = MORDOR_ARCHER_BARRICADE_DAMAGE_FIRE_FLAME
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
    DamageScalar  = 50% ALL -STRUCTURE -RohanGenericEnt -RohanTreeBerd ; ;25%
    DamageScalar  = 10% ANY +STRUCTURE ; ;
	DamageScalar  = 20% ANY +RohanGenericEnt +RohanTreeBerd ;;-;; 25% ;;=;;
  End

;;-;;
  DamageNugget                       
    Damage        = MORDOR_ARCHER_BARRICADE_DAMAGE_FIRE_PIERCE		
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
    DamageScalar  = 60% ANY +HERO ; ;
    DamageScalar  = 10% ANY +STRUCTURE ; ;
  End
End



;-----------------------------------
Weapon MordorArcherBowWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_ARCHER_DAMAGE
    DamageScalar  = 115% ANY +INFANTRY -ARCHER -IsengardFighter -DwarvenPhalanx -DwarvenGuardian -ElvenMithlondSentry -ElvenLorienWarrior -GondorFighter; ;  ;;=mordorelf=;;
    DamageScalar  = 110% ANY +CANNOT_RETALIATE ;;=;;
    DamageScalar  = 110% ANY +ElvenLorienWarrior ;;.;; 100%
    DamageScalar  = 115% ANY +IsengardFighter ;;.;; 110%  ; ; ;;=mordorisen=;;
    DamageScalar  = 120% ANY +GondorFighter ;;.;; 115%
    DamageScalar  = 140% ANY +DwarvenGuardian  ; ; ;;=dwarfmordor=;;
    DamageScalar  = 130% ANY +DwarvenPhalanx ; ;  ;;=dwarfmordor=;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon MordorArcherBowBombardWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_ARCHER_DAMAGE
    DamageScalar  = 115% ANY +INFANTRY -ARCHER -IsengardFighter -DwarvenPhalanx -DwarvenGuardian -ElvenMithlondSentry -ElvenLorienWarrior -GondorFighter; ;  ;;=mordorelf=;;
    DamageScalar  = 110% ANY +CANNOT_RETALIATE ;;=;;
    DamageScalar  = 110% ANY +ElvenLorienWarrior ;;.;; 100%
    DamageScalar  = 115% ANY +IsengardFighter ;;.;; 110%  ; ; ;;=mordorisen=;;
    DamageScalar  = 120% ANY +GondorFighter ;;.;; 115%
    DamageScalar  = 140% ANY +DwarvenGuardian  ; ; ;;=dwarfmordor=;;
    DamageScalar  = 130% ANY +DwarvenPhalanx ; ;  ;;=dwarfmordor=;;
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon MordorArcherBowFireWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.

  DamageNugget                       
    Damage        = MORDOR_ARCHER_DAMAGE_FIRE_FLAME
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
	;;.;;109v3FireArrowDesign_Flame;;.;;
	DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
    DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
	DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
	DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	;;.;;
  End

  DamageNugget                       
    Damage        = MORDOR_ARCHER_DAMAGE_FIRE_PIERCE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
    DamageScalar  = 115% ANY +INFANTRY -ARCHER -IsengardFighter -DwarvenPhalanx -DwarvenGuardian -ElvenMithlondSentry -ElvenLorienWarrior -GondorFighter; ;  ;;=mordorelf=;;
    DamageScalar  = 110% ANY +CANNOT_RETALIATE ;;=;;
    DamageScalar  = 110% ANY +ElvenLorienWarrior ;;.;; 100%
    DamageScalar  = 115% ANY +IsengardFighter ;;.;; 110%  ; ; ;;=mordorisen=;;
    DamageScalar  = 120% ANY +GondorFighter ;;.;; 115%
    DamageScalar  = 140% ANY +DwarvenGuardian  ; ; ;;=dwarfmordor=;;
    DamageScalar  = 130% ANY +DwarvenPhalanx ; ;  ;;=dwarfmordor=;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
	
;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
;;.;;		Damage          = #MULTIPLY( MORDOR_ARCHER_DAMAGE_FIRE_PIERCE .15 )
;;.;;    DamageScalar  = 115% ANY +INFANTRY -ARCHER -IsengardFighter -DwarvenPhalanx -DwarvenGuardian -ElvenMithlondSentry -ElvenLorienWarrior; ;  ;;=mordorelf=;;
;;.;;    DamageScalar  = 110% ANY +CANNOT_RETALIATE ;;=;;
;;.;;    DamageScalar  = 115% ANY +IsengardFighter ;;.;; 110%  ; ; ;;=mordorisen=;;
;;.;;    DamageScalar  = 140% ANY +DwarvenGuardian  ; ; ;;=dwarfmordor=;;
;;.;;    DamageScalar  = 130% ANY +DwarvenPhalanx ; ;  ;;=dwarfmordor=;;
;;.;;		Radius          = 0.0
;;.;;		DelayTime       = 0
;;.;;		DamageType      = PIERCE
;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
;;.;;		DeathType       = NORMAL
;;.;;		AcceptDamageAdd = No
;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
;;.;;	End
End

Weapon MordorArcherBowBombardFireWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 

  DamageNugget                       
    Damage        = MORDOR_ARCHER_DAMAGE_FIRE_FLAME
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
	;;.;;109v3FireArrowDesign_Flame;;.;;
	DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
    DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
	DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
	DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	;;.;;
  End

  DamageNugget                       
    Damage        = MORDOR_ARCHER_DAMAGE_FIRE_PIERCE	
    DamageScalar  = 115% ANY +INFANTRY -ARCHER -IsengardFighter -DwarvenPhalanx -DwarvenGuardian -ElvenMithlondSentry -ElvenLorienWarrior -GondorFighter; ;  ;;=mordorelf=;;
    DamageScalar  = 110% ANY +CANNOT_RETALIATE ;;=;;
    DamageScalar  = 110% ANY +ElvenLorienWarrior ;;.;; 100%
    DamageScalar  = 115% ANY +IsengardFighter ;;.;; 110%  ; ; ;;=mordorisen=;;
    DamageScalar  = 120% ANY +GondorFighter ;;.;; 115%
    DamageScalar  = 140% ANY +DwarvenGuardian  ; ; ;;=dwarfmordor=;;
    DamageScalar  = 130% ANY +DwarvenPhalanx ; ;  ;;=dwarfmordor=;;
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
	
;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
;;.;;		Damage          = #MULTIPLY( MORDOR_ARCHER_DAMAGE_FIRE_PIERCE .15 )
;;.;;    DamageScalar  = 115% ANY +INFANTRY -ARCHER -IsengardFighter -DwarvenPhalanx -DwarvenGuardian -ElvenMithlondSentry -ElvenLorienWarrior; ;  ;;=mordorelf=;;
;;.;;    DamageScalar  = 110% ANY +CANNOT_RETALIATE ;;=;;
;;.;;    DamageScalar  = 115% ANY +IsengardFighter ;;.;; 110%  ; ; ;;=mordorisen=;;
;;.;;    DamageScalar  = 140% ANY +DwarvenGuardian  ; ; ;;=dwarfmordor=;;
;;.;;    DamageScalar  = 130% ANY +DwarvenPhalanx ; ;  ;;=dwarfmordor=;;
;;.;;		Radius          = 0.0
;;.;;		DelayTime       = 0
;;.;;		DamageType      = PIERCE
;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
;;.;;		DeathType       = NORMAL
;;.;;		AcceptDamageAdd = No
;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
;;.;;	End

	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End

;------------------------------------------------------------------------------
Weapon MordorArcherBowMelee       ; BALANCE Archer Weapon
  LeechRangeWeapon      = Yes

  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_RohanArcherBowWeaponFlaming;
  DelayBetweenShots     = 1700            ; time between shots, msec
  PreAttackDelay        = 666             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 1000    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_ARCHER_DAMAGE_MELEE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;--------------------------------------------------------------------
;;-;;
Weapon MordorArcherBowForBlackGate       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= 350.0  ; 350 ; Horde member so it needs to be bigger than the horde weapon attack range.
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots	= 1900
	PreAttackDelay      = 1888
	PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration      = 466    ; Duration of the archer firing shot is 500ms.

	ProjectileNugget			; Fire arrow available through fire upgrade
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = MordorArcherBowWarheadForBlackGate
	End
End

;-----------------------------------
;;-;;
Weapon MordorArcherBowWarheadForBlackGate
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1 ;;-;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
	AcceptDamageAdd = No ;;-;;
  End
End

;------------------------------------------------------------------------------
Weapon MordorGoblinArcherBow ;;.;; 09v3
	AttackRange			= 250
	RangeBonusMinHeight	= 10
	RangeBonus			= 1
	RangeBonusPerFoot	= 1
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 180
	MinWeaponSpeed		= 90
	MaxWeaponSpeed		= 250
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes
	HitPercentage		= 60
	ScatterRadius		= 20.0
	AcceptableAimDelta	= 20
	DelayBetweenShots	= 0
	PreAttackDelay      = MORDOR_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:MORDOR_ARCHER_BOW_RELOADTIME_MIN Max:MORDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= MORDOR_ARCHER_BOW_RELOADTIME_MAX   
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes
	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = MordorGoblinArcherBowWarhead ;;.;; 09v3
		ForbiddenUpgradeNames   = Upgrade_MordorFireArrows
	End
End

;-----------------------------------
Weapon MordorGoblinArcherBowWarhead ;;.;; 09v3
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 25 ;;.;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
	SpecialObjectFilter = ALL -STRUCTURE ;;.;;
  End
End

;------------------------------------------------------------------------------
Weapon MordorArcherBowNoFire       ; BALANCE Archer Weapon
  AttackRange = 240.0 ;700
  WeaponSpeed = 321         ; dist/sec 
  MinWeaponSpeed = 61
  MaxWeaponSpeed = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
  HitPercentage     = 100     ;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius     = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots = 667               ; time between shots, msec
  PreAttackDelay        = 2167             ; 1467 is the prep time for archer.
  PreAttackRandomAmount = 200     ; amount of additional preattack variance for archer type attacks only
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration      = 667    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon = Yes

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName    = EvilFactionArrow
    WarheadTemplateName       = MordorArcherBowNoFireWarhead
    ForbiddenUpgradeNames     = Upgrade_MordorFireArrows

  End

  ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
    ProjectileTemplateName    = EvilFactionFireArrow
    WarheadTemplateName       = MordorArcherBowNoFireWarhead
    RequiredUpgradeNames      = Upgrade_MordorFireArrows
  End
End

;-----------------------------------
Weapon MordorArcherBowNoFireWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 20
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon HaradrimBow ; BALANCE Archer Weapon ;orc archer
  AttackRange 			= MORDOR_HARADRIM_BOW_RANGE
  
  	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_HARADRIM_BOW_RANGE .01 )   
  
  LeechRangeWeapon      = Yes
  WeaponSpeed 			= 270 ; ;401         ; dist/sec 
  MinWeaponSpeed 		= 121
  MaxWeaponSpeed 		= 440 ; ;601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX 				= FX_RohanArcherBowWeapon  
  ScaleWeaponSpeed	 	= Yes ; Used for lob weapons, scales speed proportional to range
  HitPercentage     	= 100     ;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius     	= 40.0     ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots 	= MORDOR_HARADRIM_BOW_DELAYBETWEENSHOTS
  PreAttackDelay        = MORDOR_HARADRIM_BOW_PREATTACKDELAY
  PreAttackRandomAmount     = 200 
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration      	= MORDOR_HARADRIM_BOW_FIRINGDURATION     ; Duration of the archer firing shot is 500ms.
  AntiAirborneVehicle	= Yes
  AntiAirborneMonster	= Yes
  CanBeDodged				= Yes

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName    = EvilFactionArrow
    WarheadTemplateName       = HaradrimBowWarhead
    ForbiddenUpgradeNames	  = Upgrade_MordorFireArrows
  End
  ProjectileNugget	; Fire arrow available through fire upgrade
    ProjectileTemplateName  = EvilFactionFireArrow
	WarheadTemplateName     = HaradrimBowFireWarhead
	RequiredUpgradeNames    = Upgrade_MordorFireArrows
  End

End

Weapon HaradrimBowBombard ; BALANCE Archer Weapon ;orc archer
	AttackRange 			= MORDOR_HARADRIM_BOW_BOMBARD_MAXRANGE
	MinimumAttackRange	= #SUBTRACT( MORDOR_HARADRIM_BOW_BOMBARD_MINRANGE 75 )

	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_HARADRIM_BOW_BOMBARD_MAXRANGE .01 )  
  
	LeechRangeWeapon      = Yes
	WeaponSpeed 			= 270 ; ;401         ; dist/sec 
	MinWeaponSpeed 		= 121
	MaxWeaponSpeed 		= 440 ; ;601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	 	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage     	= 0     ;Always scatter
	ScatterRadius     	= ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots 	= MORDOR_HARADRIM_BOW_DELAYBETWEENSHOTS
	PreAttackDelay        = MORDOR_HARADRIM_BOW_PREATTACKDELAY
	PreAttackRandomAmount     = 200 
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration      	= MORDOR_HARADRIM_BOW_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	CanBeDodged			= Yes
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget                    ; Default arrow
		ProjectileTemplateName    = EvilFactionArrowBombard
		WarheadTemplateName       = HaradrimBowBombardWarhead
		ForbiddenUpgradeNames	  = Upgrade_MordorFireArrows
	End
	ProjectileNugget	; Fire arrow available through fire upgrade
		ProjectileTemplateName  = EvilFactionFireArrowBombard
		WarheadTemplateName     = HaradrimBowBombardFireWarhead
		RequiredUpgradeNames    = Upgrade_MordorFireArrows
	End

End

;-----------------------------------
Weapon HaradrimBowWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_HARADRIM_BOW_DAMAGE
	DamageScalar  = 120% ANY +MONSTER ;;=;; 
	DamageScalar  = 120% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon HaradrimBowBombardWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = No
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_HARADRIM_BOW_DAMAGE
	DamageScalar  = 120% ANY +MONSTER ;;=;; 
	DamageScalar  = 120% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE

    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon HaradrimBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        
		Damage        = MORDOR_HARADRIM_FIRE_UPGRADE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End

;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = MORDOR_HARADRIM_FIRE_UPGRADE_DAMAGE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
	DamageScalar  = 120% ANY +MONSTER ;;=;; 
	DamageScalar  = 120% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
 		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( MORDOR_HARADRIM_FIRE_UPGRADE_DAMAGE .15 )
	;;.;;		DamageScalar  = 120% ANY +MONSTER +WildSpiderling;;=;; ;;-;; //SpiderLingPIERCE//
	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = PIERCE
	;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
	;;.;;	End
End

Weapon HaradrimBowBombardFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = No

	DamageNugget                        
		Damage        = MORDOR_HARADRIM_FIRE_UPGRADE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
		DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
		DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
		;;.;;
	End

;;-;;
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = MORDOR_HARADRIM_FIRE_UPGRADE_DAMAGE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
	DamageScalar  = 120% ANY +MONSTER ;;=;; 
	DamageScalar  = 120% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
		Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( MORDOR_HARADRIM_FIRE_UPGRADE_DAMAGE .15 )
	;;.;;		DamageScalar  = 120% ANY +MONSTER +WildSpiderling;;=;; ;;-;; //SpiderLingPIERCE//
	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = PIERCE
	;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
	;;.;;	End

	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End


;------------------------------------------------------------------------------
Weapon MordorGoblinSword     ; BALANCE Orc Warrior Weapon ;Orc Fighter
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = MORDOR_GOBLIN_SWORDSMAN_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = MORDOR_GOBLIN_SWORDSMAN_PREATTACKDELAY              ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = MORDOR_GOBLIN_SWORDSMAN_FIRINGDURATION     ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_GOBLIN_SWORDSMAN_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon MordorWarriorAxe     ; BALANCE Orc Warrior Weapon ;Orc Fighter ;mordorfighteraxe orcfighter
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = MORDOR_FIGHTER_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = MORDOR_FIGHTER_PREATTACKDELAY              ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX			= FX_Flanking ;;=;;
  FiringDuration        = MORDOR_FIGHTER_FIRINGDURATION     ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
	Damage        = MORDOR_FIGHTER_DAMAGE
	DamageScalar  = 115% ANY +DwarvenGuardian ; ;
	DamageScalar  = 115% ANY +GondorFighter ;;.;; 
	DamageScalar  = 170% ANY +STRUCTURE -COMMANDCENTER -IsengardFurnace -IsengardUrukPit -IsengardWargPit -ElvenMallornTree -ElvenBarracks -ElvenGreenPasture -DwarvenMineShaft -DwarfBarracks -DwarvenArcheryRange -DwarvenSiegeWorks -WildMineShaft -GondorFarm -GondorBarracks -GondorArcherRange -GondorStable;;=;; 165% ; ; 145% ; ; 180%
	DamageScalar  = 165% ANY +COMMANDCENTER
	DamageScalar  = 170% ANY +WildMineShaft ;;-;; 160% ;;-;; 165% ;;-;; 160% ;;=;;
	DamageScalar  = 180% ANY +GondorFarm +GondorBarracks +GondorArcherRange +GondorStable ;;.;; 170%
	DamageScalar  = 155% ANY +IsengardFurnace +IsengardUrukPit +IsengardWargPit ;;=;; ;;=;;  165% ; ; 180%
	DamageScalar  = 155% ANY +ElvenMallornTree +ElvenBarracks +ElvenGreenPasture ;;=;;  ;;=;; 165% ; ; 180%
	DamageScalar  = 190% ANY +DwarvenSiegeWorks +DwarvenArcheryRange +DwarvenMineShaft +DwarfBarracks;;=;; 200% ; ; 180% ;;=dwarfmordor=;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = URUK ; ;SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS ; ;
  End
End

Weapon MordorWorkerAxe     ; BALANCE Orc Worker Weapon
	LeechRangeWeapon	= Yes
	AttackRange			= STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon			= Yes
	DelayBetweenShots	= MORDOR_LABORER_DELAYBETWEENSHOTS            ; time between shots, msec
	PreAttackDelay		= MORDOR_LABORER_PREATTACKDELAY             ; 300 is mace swing delay time before contact with target.
	PreAttackType		= PER_SHOT ; Do the delay each time we attack

	FireFX				= FX_GondorSwordHit
	FiringDuration		= MORDOR_LABORER_FIRINGDURATION    ; Duration of the mace swing 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= MORDOR_LABORER_DAMAGE
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= CHOP
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		DamageScalar	= 300% ANY +RohanGenericEnt +RohanTreeBerd
	End
End

;------------------------------------------------------------------------------
Weapon BalrogSummoning	;used in the OCL that makes a Balrog.
  ;FireFX                = FX_GondorSwordHit
  RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
  AttackRange           = 4.0
	
	DamageNugget
		Damage        	= BALROG_SUMMONING_DAMAGE
		DamageTaperOff 	= #MULTIPLY( BALROG_SUMMONING_DAMAGE BALROG_SUMMONING_DAMAGE_TAPEROFF )
		Radius        	= BALROG_SUMMONING_RADIUS
		DamageType    	= MAGIC
		DamageFXType  	= FLAME
		DeathType     	= BURNED
		DamageScalar  	= 0% ANY +MordorBalrog
		DamageScalar  	= 0% ANY +BANNER ;;.;; 5% ;;=;; 
		SpecialObjectFilter = ALL NOT_INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;-;;
	End
  
	DamageNugget ;;.NewAntiBannerNugget.;;
		Damage        	= BALROG_SUMMONING_DAMAGE
		DamageTaperOff	= #MULTIPLY( BALROG_SUMMONING_DAMAGE BALROG_SUMMONING_DAMAGE_TAPEROFF_FOR_BANNERS )
		Radius			= BALROG_SUMMONING_RADIUS
		DamageType    	= MAGIC
		DamageFXType  	= FLAME
		DeathType     	= BURNED
		SpecialObjectFilter = ANY +BANNER ;;.;;
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		;;-;; KillObjectFilter  = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount   = 100
		ShockWaveRadius   = BALROG_SUMMONING_RADIUS
		ShockWaveTaperOff = 0.9
		ShockWaveZMult    = 1.20
		SpecialObjectFilter = ALL NOT_INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;-;;
	End

	;;-NewAntiMachineNuggets-;;
 	DamageNugget 
		Damage				= #MULTIPLY( BALROG_SUMMONING_DAMAGE 14 )
		DamageTaperOff		= #MULTIPLY( BALROG_SUMMONING_DAMAGE 5 )
		Radius				= BALROG_SUMMONING_RADIUS
 		DamageType			= CRUSH
		DeathType			= CRUSHED
		SpecialObjectFilter = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
	End
	MetaImpactNugget
		ShockWaveAmount		= 100
		ShockWaveRadius		= 180.0
 		ShockWaveClearRadius = No ;;-;; Yes
		ShockWaveClearMult	= 0.75
		ShockWaveClearFlingHeight = 75
 		SpecialObjectFilter = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER 
	End
End

//------------------------------------------------------------------------------
Weapon CitadelSummoning	//used in the OCL that makes the Dwarven Summoned Citadel.
	//FireFX                = FX_GondorSwordHit
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	;;AttackRange				= 4.0
 	// A basic Nugget that just does damage
	;;.;; ;;.09v3UndermineWeapon.Enemies.;;
	DamageNugget                        
		Damage        				= DWARVEN_SUMMONED_CITADEL_SUMMONING_DAMAGE
		DamageTaperOff 				= DWARVEN_SUMMONED_CITADEL_SUMMONING_DAMAGE_TAPEROFF ;;-;;
		Radius        				= DWARVEN_SUMMONED_CITADEL_SUMMONING_RADIUS
		DamageScalar    			= 60% ANY +ElvenMirkwoodArcher +ElvenLorienArcher +ElvenMithlondSentry
		DelayTime     				= 333 ;;.;; 667 
		DamageType    				= SPECIALIST ;;=;; MAGIC
		DeathType     				= CRUSHED ;;=;; NORMAL
		DamageScalar  				= 1% ANY +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
		SpecialObjectFilter			= ALL ENEMIES ;;.;;
	End
	// A Nugget that throws things back with force
	MetaImpactNugget                    
		ShockWaveAmount				= DWARVEN_SUMMONED_CITADEL_SUMMONING_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= DWARVEN_SUMMONED_CITADEL_SUMMONING_RADIUS
		ShockWaveTaperOff			= 0.9
		ShockWaveZMult				= 1.20
		DelayTime     				= 333 ;;.;; 667 
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.85 ;;.;; 0.75
		ShockWaveClearFlingHeight	= DWARVEN_SUMMONED_CITADEL_SUMMONING_SHOCKWAVE_HEIGHT
		SpecialObjectFilter 		= ALL NOT_INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ENEMIES ;;.;;
	End
	;;.;; ;;.09v3UndermineWeapon.Allies.;;
	DamageNugget                        
		Damage        				= DWARVEN_SUMMONED_CITADEL_SUMMONING_DAMAGE
		DamageTaperOff 				= DWARVEN_SUMMONED_CITADEL_SUMMONING_DAMAGE_TAPEROFF ;;-;;
		Radius        				= DWARVEN_SUMMONED_CITADEL_SUMMONING_RADIUS_ALLIES
		DamageScalar    			= 60% ANY +ElvenMirkwoodArcher +ElvenLorienArcher +ElvenMithlondSentry
		DelayTime     				= 333 ;;.;; 667 
		DamageType    				= SPECIALIST ;;=;; MAGIC
		DeathType     				= CRUSHED ;;=;; NORMAL
		DamageScalar  				= 1% ANY +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
		SpecialObjectFilter			= ALL ALLIES ;;.;;
	End
	// A Nugget that throws things back with force
	MetaImpactNugget                    
		ShockWaveAmount				= DWARVEN_SUMMONED_CITADEL_SUMMONING_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= DWARVEN_SUMMONED_CITADEL_SUMMONING_RADIUS_ALLIES
		ShockWaveTaperOff			= 0.9
		ShockWaveZMult				= 1.20
		DelayTime     				= 333 ;;.;; 667 
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.85 ;;.;; 0.75
		ShockWaveClearFlingHeight	= DWARVEN_SUMMONED_CITADEL_SUMMONING_SHOCKWAVE_HEIGHT
		SpecialObjectFilter			= DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ALLIES
	End
	
	
	;;.;; ;;.09v3UndermineWeapon.Machines.;;
 	DamageNugget 
		Damage						= #MULTIPLY( BALROG_SUMMONING_DAMAGE 14 )
		DamageTaperOff				= #MULTIPLY( BALROG_SUMMONING_DAMAGE 5 )
		Radius						= DWARVEN_SUMMONED_CITADEL_SUMMONING_RADIUS_MACHINES
 		DamageType					= CRUSH
		DeathType					= CRUSHED
		SpecialObjectFilter 		= ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
		; DelayTime					= 200 ;;.;;667
	End
 	MetaImpactNugget 
		ShockWaveAmount				= DWARVEN_SUMMONED_CITADEL_SUMMONING_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= DWARVEN_SUMMONED_CITADEL_SUMMONING_RADIUS_MACHINES
		ShockWaveTaperOff			= 0.9
		ShockWaveZMult				= 1.20
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.65 ;;.;; 0.75
		ShockWaveClearFlingHeight	= DWARVEN_SUMMONED_CITADEL_SUMMONING_SHOCKWAVE_HEIGHT_MACHINES
		SpecialObjectFilter 		= ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
		; DelayTime					= 200 ;;.;;667
	End
End


Weapon LoneTowerSpawnWeapon ;;.;; 09v3
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	// A basic Nugget that just does damage
	;;.;; ;;.09v3UndermineWeapon.Enemies.;;
	DamageNugget	; ;
 		Damage						= LONETOWER_SPAWN_DAMAGE
		DamageTaperOff				= LONETOWER_SPAWN_DAMAGE_TAPEROFF
		DamageScalar				= 200% ANY +ORC ;;-;;
		DamageScalar				= 150% ANY +INFANTRY -ARCHER -WildSpiderling ;;-;;
		DamageScalar    			= 60% ANY +ElvenMirkwoodArcher +ElvenLorienArcher +ElvenMithlondSentry
 		Radius						= LONETOWER_SPAWN_RADIUS
 		DelayTime					= 200
 		DamageType					= SPECIALIST
 		DeathType					= CRUSHED
		DamageScalar  				= 1% ANY +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
		SpecialObjectFilter			= ALL ENEMIES ;;.;;
 	End
 	MetaImpactNugget 
		ShockWaveAmount				= LONETOWER_SPAWN_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= LONETOWER_SPAWN_RADIUS
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.75
		ShockWaveClearFlingHeight	= LONETOWER_SPAWN_SHOCKWAVE_HEIGHT
		SpecialObjectFilter			= DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ENEMIES ;;.;;
	End
	;;.;; ;;.09v3UndermineWeapon.Allies.;;
	DamageNugget 
 		Damage						= LONETOWER_SPAWN_DAMAGE
		DamageTaperOff				= LONETOWER_SPAWN_DAMAGE_TAPEROFF
		DamageScalar				= 200% ANY +ORC ;;-;;
		DamageScalar				= 150% ANY +INFANTRY -ARCHER -WildSpiderling ;;-;;
		DamageScalar    			= 60% ANY +ElvenMirkwoodArcher +ElvenLorienArcher +ElvenMithlondSentry
 		Radius						= LONETOWER_SPAWN_RADIUS_ALLIES
 		DelayTime					= 200
 		DamageType					= SPECIALIST
 		DeathType					= CRUSHED
		DamageScalar  				= 1% ANY +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
		SpecialObjectFilter			= ALL ALLIES ;;.;;
 	End
 	MetaImpactNugget 
		ShockWaveAmount				= LONETOWER_SPAWN_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= LONETOWER_SPAWN_RADIUS_ALLIES
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.75
		ShockWaveClearFlingHeight	= LONETOWER_SPAWN_SHOCKWAVE_HEIGHT
		SpecialObjectFilter			= DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ALLIES ;;.;;
	End
	
End


Weapon DwarvenUndermineSpawnWeapon	
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	// A basic Nugget that just does damage
	;;.;; ;;.09v3UndermineWeapon.Enemies.;;
	DamageNugget	; ;
 		Damage						= DWARVEN_UNDERMINE_SPAWN_DAMAGE
		DamageTaperOff				= DWARVEN_UNDERMINE_SPAWN_DAMAGE_TAPEROFF
		DamageScalar				= 200% ANY +ORC -ARCHER;;-;;
		DamageScalar				= 150% ANY +INFANTRY -ORC -ARCHER -WildSpiderling ;;-;;
		DamageScalar    			= 60% ANY +ElvenMirkwoodArcher +ElvenLorienArcher +ElvenMithlondSentry
 		Radius						= DWARVEN_UNDERMINE_SPAWN_RADIUS
 		DelayTime					= 200
 		DamageType					= SPECIALIST
 		DeathType					= CRUSHED
		DamageScalar  				= 1% ANY +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
		SpecialObjectFilter			= ALL ENEMIES ;;.;; DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ENEMIES ;;.;;
 	End
 	MetaImpactNugget 
		ShockWaveAmount				= DWARVEN_UNDERMINE_SPAWN_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= DWARVEN_UNDERMINE_SPAWN_RADIUS
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.85 ;;.;; 0.75
		ShockWaveClearFlingHeight	= DWARVEN_UNDERMINE_SPAWN_SHOCKWAVE_HEIGHT
		SpecialObjectFilter			= DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ENEMIES ;;.;;
	End
	;;.;; ;;.09v3UndermineWeapon.Allies.;;
	DamageNugget 
 		Damage						= DWARVEN_UNDERMINE_SPAWN_DAMAGE
		DamageTaperOff				= DWARVEN_UNDERMINE_SPAWN_DAMAGE_TAPEROFF
		DamageScalar				= 200% ANY +ORC -ARCHER;;-;;
		DamageScalar				= 150% ANY +INFANTRY -ORC -ARCHER -WildSpiderling ;;-;;
		DamageScalar    			= 60% ANY +ElvenMirkwoodArcher +ElvenLorienArcher +ElvenMithlondSentry
 		Radius						= DWARVEN_UNDERMINE_SPAWN_RADIUS_ALLIES
 		DelayTime					= 200
 		DamageType					= SPECIALIST
 		DeathType					= CRUSHED
		DamageScalar  				= 1% ANY +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
		SpecialObjectFilter			= ALL ALLIES ;;.;; DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ALLIES ;;.;;
 	End
 	MetaImpactNugget 
		ShockWaveAmount				= DWARVEN_UNDERMINE_SPAWN_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= DWARVEN_UNDERMINE_SPAWN_RADIUS_ALLIES
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.85 ;;.;; 0.75
		ShockWaveClearFlingHeight	= DWARVEN_UNDERMINE_SPAWN_SHOCKWAVE_HEIGHT
		SpecialObjectFilter			= DWARVEN_UNDERMINE_AFFECTS_OBJECT_FILTER ALLIES ;;.;;
	End
	;;.;; ;;.09v3UndermineWeapon.Machines.;;
 	DamageNugget 
		Damage						= #MULTIPLY( BALROG_SUMMONING_DAMAGE 14 )
		DamageTaperOff				= #MULTIPLY( BALROG_SUMMONING_DAMAGE 5 )
		Radius						= DWARVEN_UNDERMINE_SPAWN_RADIUS_MACHINES
 		DamageType					= CRUSH
		DeathType					= CRUSHED
		SpecialObjectFilter 		= ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
	End
 	MetaImpactNugget 
		ShockWaveAmount				= DWARVEN_UNDERMINE_SPAWN_SHOCKWAVE_AMOUNT
		ShockWaveRadius				= DWARVEN_UNDERMINE_SPAWN_RADIUS_MACHINES
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.65 ;;.;; 0.75
		ShockWaveClearFlingHeight	= DWARVEN_UNDERMINE_SPAWN_SHOCKWAVE_HEIGHT_MACHINES
		SpecialObjectFilter 		= ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
	End
	
End

;------------------------------------------------------------------------------
Weapon WatcherSummoning									; used in the OCL that makes a watcher.
	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange           = 4.0

	DamageNugget									; A basic Nugget that just does damage
		Damage			= BALROG_SUMMONING_DAMAGE
		DamageScalar	= 0% ANY +BANNER ;;.;; 5% ANY +BANNER ;;=;;
 		Radius			= 75.0
		DelayTime		= 667
		DamageType		= CRUSH
		DeathType		= CRUSHED
		SpecialObjectFilter = ALL NOT_INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;-;;
	End
 
	DamageNugget ;;.NewAntiBannerNugget.;;
		Damage				= BALROG_SUMMONING_DAMAGE ;;.;; #MULTIPLY( BALROG_SUMMONING_DAMAGE .95 ) ;;=;; 95% here and 5% there.
		DamageTaperOff		= #MULTIPLY( BALROG_SUMMONING_DAMAGE BALROG_SUMMONING_DAMAGE_TAPEROFF_FOR_BANNERS )
		Radius				= 75.0 ;;.;; 7.5 ;;=;; 75.0
		DelayTime			= 667
		DamageType			= CRUSH
		DeathType			= CRUSHED
		SpecialObjectFilter = ANY +BANNER
	End
 
	MetaImpactNugget								; A Nugget that throws things back with force
;;-;;	KillObjectFilter	= ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount		= 100
		ShockWaveRadius		= 85.0
		DelayTime			= 667
		ShockWaveClearRadius = Yes
		ShockWaveClearMult	= 0.75
		ShockWaveClearFlingHeight = 75
		SpecialObjectFilter = ALL NOT_INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;-;;
	End

	;;-NewAntiMachineNuggets-;;
 	DamageNugget
		Damage				= #MULTIPLY( BALROG_SUMMONING_DAMAGE 14 )
		DamageTaperOff		= #MULTIPLY( BALROG_SUMMONING_DAMAGE 5 )
		Radius				= 95 ;;-;; 85
		DelayTime			= 667
		DamageType			= CRUSH
		DeathType			= CRUSHED
		SpecialObjectFilter = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
	End
	;;
	MetaImpactNugget
		ShockWaveAmount		= 100
		ShockWaveRadius		= 85.0
		DelayTime			= 667
		ShockWaveClearRadius = No ;;-;; Yes
		ShockWaveClearMult	= 0.75
		ShockWaveClearFlingHeight = 75
 		SpecialObjectFilter = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER 
	End
End

;------------------------------------------------------------------------------
Weapon ArmyOfTheDeadSummoning	;used in the OCL that makes a Balrog.
  RadiusDamageAffects	= ENEMIES NOT_SIMILAR
  AttackRange           = 4.0

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1000 ;300
    Radius        = 200.0
    DelayTime     = 667
    DamageType    = FLAME
    DamageFXType  = FLAME
    DeathType     = BURNED
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 70 ;70.0
    ShockWaveRadius   = 200.0
    ShockWaveTaperOff = 0.9
    ShockWaveZMult    = 1.20
    DelayTime         = 667
  End
End

;------------------------------------------------------------------------------
Weapon MordorBalrogHeroEffect     ; BALANCE Orc Warrior Weapon
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
  LeechRangeWeapon      = No
  AttackRange           = 20.0
  MeleeWeapon           = No
  DelayBetweenShots     = 1300            ; time between shots, msec
  PreAttackDelay        = 533             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FiringDuration        = 733    ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_IGNITE_AURA_DAMAGE
    Radius        = 50.0
    DamageType    = MAGIC
	DamageFXType	= FLAME
	DeathType		= BURNED
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 50.0
    ShockWaveTaperOff = 1.0
  End
End




;------------------------------SAURONSHIELD------------------------------------------------
Weapon MordorSauronAura ;;-;;
  LeechRangeWeapon      = No
  RadiusDamageAffects			= ENEMIES NOT_SIMILAR
  AttackRange           = 190
  MeleeWeapon           = No
  DelayBetweenShots     = 300        ; time between shots, msec
  PreAttackDelay        = 125            ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FiringDuration        = 300    ; Duration of the mace swing 
  DamageDealtAtSelfPosition = Yes
 
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 500 ;;-;; 700
    Radius        = 185
	DamageType    = SIEGE
    DeathType     = NORMAL
	DamageScalar    = 15% ANY +STRUCTURE -COMMANDCENTER
	DamageScalar  = 7% ANY +COMMANDCENTER
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 131
    ShockWaveRadius   = 173
    ShockWaveTaperOff = 1.0
  End
End

;------------------------------------------------------------------------------
Weapon SummonedDragonDeathCrush  ; Used when the SummonedDragon crush enemies when it dies.
	LeechRangeWeapon      = Yes
	AttackRange           = 9999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0							; time between shots, msec
	PreAttackDelay        = 0
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0

	DamageNugget										; A basic Nugget that just does damage
		Damage        = SUMMONED_DRAGON_CRUSH_DAMAGE
		Radius        = 75.0
		DamageType    = CRUSH
		DeathType     = CRUSHED
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount		= 70
		ShockWaveRadius		= 100.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
	End
End
 ;------------------------------------------------------------------------------
Weapon SummonedDragonFireBreath
 	LeechRangeWeapon      		= Yes
 	AttackRange					= SUMMONED_DRAGON_FLAME_RANGE
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	MeleeWeapon					= Yes ;;-;; No ;;.;; Yes
;;.;;  Beta59: bulshit. It precisely causes that effect. in v2 dragon works fine. ;;.;; ""important: MeleeYes implies he is able to chase units while moving. MeleeNo means he can't chase them, but he can target them properly. He will just fire-breath where you say and not try to crush them.""
	WeaponSpeed					= SUMMONED_DRAGON_FLAME_SPEED
	DelayBetweenShots			= SUMMONED_DRAGON_FLAME_DELAYBETWEENSHOTS
	FiringDuration				= SUMMONED_DRAGON_FLAME_FIRINGDURATION
	HoldAfterFiringDelay 		= SUMMONED_DRAGON_FLAME_FIRINGDURATION
	PreAttackDelay				= SUMMONED_DRAGON_FLAME_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	AcceptableAimDelta			= 10 ;;.;; 35 ;;.;;
	LockWhenUsing				= Yes ;;.;;
	HitStoredTarget 			= Yes ;;.;; fixes not following alt paths.
 	//---------------------//
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
 		DamageScalar		= 225% ANY +TomBombadil
		DamageScalar		= 33% ANY +CANNOT_RETALIATE
		DamageScalar		= 50% NONE ALLIES +STRUCTURE
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS_MELEE ;;.;;
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= FLAME
		DamageFXType		= FLAME
		DeathType			= BURNED
		DamageMaxHeight		= 50
		DamageSpeed			= 400
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC_MELEE
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
 		DamageScalar		= 225% ANY +TomBombadil
		DamageScalar		= 33% ANY +CANNOT_RETALIATE
		DamageScalar		= 50% NONE ALLIES +STRUCTURE
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= FLAME
		DamageFXType		= FLAME
		DeathType			= BURNED
		DamageMaxHeight 	= 50
		DamageSpeed			= 363 ;;-;; 400
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
 		DamageScalar		= 225% ANY +TomBombadil
		DamageScalar		= 33% ANY +CANNOT_RETALIATE
		DamageScalar		= 50% NONE ALLIES +STRUCTURE
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= FLAME
		DamageFXType		= FLAME
		DeathType			= BURNED
		DamageMaxHeight 	= 50
		DamageSpeed			= 326 ;;-;; 400
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	//---------------------//
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS_MELEE ;;.;;
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 225% ANY +TomBombadil ;;=;;
		DamageScalar		= 33% ANY +CANNOT_RETALIATE ;;=;;
		DamageScalar		= 50% NONE ALLIES +STRUCTURE ;;=;;
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= FLAME
		DamageFXType		= FLAME
		DeathType			= BURNED
		DamageMaxHeight 	= 50
		DamageSpeed			= 289 ;;-;; 300
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC_MELEE
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 225% ANY +TomBombadil ;;=;;
		DamageScalar		= 33% ANY +CANNOT_RETALIATE ;;=;;
		DamageScalar		= 50% NONE ALLIES +STRUCTURE ;;=;;
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= FLAME
		DamageFXType		= FLAME
		DeathType			= BURNED
		DamageMaxHeight 	= 50
		DamageSpeed			= 252 ;;-;; 300
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 225% ANY +TomBombadil ;;=;;
		DamageScalar		= 33% ANY +CANNOT_RETALIATE ;;=;;
		DamageScalar		= 50% NONE ALLIES +STRUCTURE ;;=;;
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= FLAME
		DamageFXType		= FLAME
		DeathType			= BURNED
		DamageMaxHeight 	= 50
		DamageSpeed			= 215 ;;-;; 300
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	//---------------------//
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		DamageScalar		= 55% ANY +COMMANDCENTER ;;.;; 50% ; ;
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
		DamageScalar		= 225% ANY +HERO -SUMMONED -CANNOT_RETALIATE
		DamageScalar		= 67% ANY +MordorBalrog ;;.;; 50% ;;=;; 25%
		DamageScalar		= 33% ANY +CANNOT_RETALIATE ;;=;;
		DamageScalar		= 50% NONE ALLIES +STRUCTURE ;;=;;
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS_MELEE ;;.;;
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= MAGIC
		DamageMaxHeight 	= 50
		DamageSpeed			= 178 ;;-;; 200
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC_MELEE
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		DamageScalar		= 55% ANY +COMMANDCENTER ;;.;; 50% ; ;
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
		DamageScalar		= 225% ANY +HERO -SUMMONED -CANNOT_RETALIATE
		DamageScalar		= 67% ANY +MordorBalrog ;;.;; 50% ;;=;; 25%
		DamageScalar		= 33% ANY +CANNOT_RETALIATE ;;=;;
		DamageScalar		= 50% NONE ALLIES +STRUCTURE ;;=;;
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= MAGIC
		DamageMaxHeight 	= 50
		DamageSpeed			= 141 ;;-;; 200
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	DamageNugget
		Damage        = #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 )
		DamageScalar		= 55% ANY +COMMANDCENTER ;;.;; 50% ; ;
		DamageScalar		= 80% ANY +DwarfBarracks +DwarvenArcheryRange +DwarvenMineShaft +DwarvenSiegeWorks ;;-;;
		DamageScalar		= 225% ANY +HERO -SUMMONED -CANNOT_RETALIATE
		DamageScalar		= 67% ANY +MordorBalrog ;;.;; 50% ;;=;; 25%
		DamageScalar		= 33% ANY +CANNOT_RETALIATE ;;=;;
		DamageScalar		= 50% NONE ALLIES +STRUCTURE ;;=;;
		Radius				= SUMMONED_DRAGON_FLAME_RADIUS
		DamageTaperOff		= #MULTIPLY( #DIVIDE( SUMMONED_DRAGON_FLAME_DAMAGE 9 ) SUMMONED_DRAGON_FLAME_TAPEROFF_PERCENT )
		DamageScalar		= 200% ANY +MACHINE -CAVALRY ;;=;;
 		DamageType			= MAGIC
		DamageMaxHeight 	= 50
		DamageSpeed			= 104 ;;-;; 200
		DamageArc			= SUMMONED_DRAGON_FLAME_ARC
		DelayTime			= SUMMONED_DRAGON_FLAME_DELAY
	End
	//---------------------//
 	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= SUMMONED_DRAGON_FLAME_INCREASEBURNRATE_RADIUS
		Damage			= SUMMONED_DRAGON_FLAME_INCREASEBURNRATE_AMOUNT
		DamageArc		= SUMMONED_DRAGON_FLAME_ARC
	End

End
;------------------------------------------------------------------------------
Weapon SummonedDragonTailSwipe ;;-;; Enabled
  LeechRangeWeapon      = Yes
  RadiusDamageAffects   = ENEMIES  NOT_SIMILAR ;;-;;
  AttackRange           = 100
  FireFX                = FX_TrollClubHit
  ClipSize              = INFINITE_CLIP_SIZE               ; how many shots in a Clip (0 == infinite)
  AutoReloadsClip		= No	;We need a rock explicitly picked up.
  DelayBetweenShots     = 5000            ; time between shots, msec
  FiringDuration        = 3000
  PreAttackDelay        = 1000
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX           = FX_TrollTreeSwing
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta	= 180.0  ; Don't ever turn to use

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100 ;;-;; 200
    DamageScalar	= 200% ANY +HERO
    Radius        = 75 ;;-;; 110.0  ;matches impact nugget so it throws them back and hurts them
    DamageArc      = 90
    DamageArcInverted = Yes	;Affects behind, not in front
    DamageType    = CRUSH ;;-;; SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
	SpecialObjectFilter = ALL -STRUCTURE 
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 75 ;;-;; 110.0
    ShockWaveTaperOff = 0.75
    ShockWaveArc      = 90
    ShockWaveArcInverted = Yes	;Affects behind, not in front
    ShockWaveZMult    = 1.20
	HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

;------------------------------------------------------------------------------
Weapon SummonDragonAppear // aka SummonedDragonSummoningWeapon
	RadiusDamageAffects   = ENEMIES ALLIES

	DamageNugget
		Damage			= SUMMONED_DRAGON_SUMMONING_DAMAGE
		DamageTaperOff  = SUMMONED_DRAGON_SUMMONING_DAMAGE_TAPEROFF
		Radius			= SUMMONED_DRAGON_SUMMONING_RADIUS
		DamageType		= CRUSH
		DeathType		= CRUSHED
		DamageScalar	= 1000% ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
	End
;;.;; Useful MetaImpactNugget. Knockdown units in range to fire-breath them.
	MetaImpactNugget
		ShockWaveAmount   = 100
		ShockWaveRadius   = SUMMONED_DRAGON_SUMMONING_RADIUS
		ShockWaveTaperOff = 0.6 ;; 1	
		ShockWaveZMult    = 0.4 ;; 1
		ShockWaveSpeed	  = 300
	End
	;;.;;	MetaImpactNugget
	;;.;;		HeroResist		  = 100% ;;=;; 
	;;.;;		ShockWaveAmount   = 100 ;;=;; 150.0 ; ; 50.0
	;;.;;		ShockWaveRadius   = 110 ;;=;; 175 ; ; 55.0
	;;.;;		ShockWaveTaperOff = 0.75
	;;.;;		ShockWaveZMult    = 1.20
	;;.;;	End
	;;.;;	MetaImpactNugget
	;;.;;		ShockWaveAmount   = 100 ;;; 50.0
	;;.;;		ShockWaveRadius   = 55.0
	;;.;;		ShockWaveTaperOff = 0.38 ;; 75
	;;.;;		ShockWaveZMult    = 1.20
	;;.;;	End
End

;------------------------------------------------------------------------------
Weapon SummonDragonBlowBackGoblinWorm09v2
	RadiusDamageAffects   = ENEMIES ALLIES

	DamageNugget
		Damage			= SUMMONED_DRAGON_REPOSITION_DAMAGE
		DamageTaperOff  = SUMMONED_DRAGON_REPOSITION_DAMAGE_TAPEROFF
		Radius			= SUMMONED_DRAGON_REPOSITION_RADIUS
		DamageType		= CRUSH
		DeathType		= CRUSHED
		DamageSpeed		= 300
		DamageScalar	= 1000% ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
		DelayTime		= 1000 ;;-;; 1800
	End
;;.;; Useful MetaImpactNugget. Knockdown units in range to fire-breath them.
	MetaImpactNugget
		ShockWaveAmount   = 100
		ShockWaveRadius   = SUMMONED_DRAGON_REPOSITION_RADIUS
		ShockWaveTaperOff = 0.6 ;; 1	
		ShockWaveZMult    = 0.4 ;; 1
		ShockWaveSpeed	  = 300
		DelayTime		= 1000 ;;-;; 1800
	End

	;;.;;	MetaImpactNugget
	;;.;;		HeroResist		  = 100% ;;=;; 
	;;.;;		DelayTime		  = 1000 ;;-;; 1700 ;;=;; 1800
	;;.;;		ShockWaveAmount   = 100 ;;=;; 150.0 ; ; 50.0
	;;.;;		ShockWaveRadius   = 110 ;;=;; 175 ; ; 55.0
	;;.;;		ShockWaveTaperOff = 0.75
	;;.;;		ShockWaveZMult    = 1.20
	;;.;;		ShockWaveSpeed	  = 300
	;;.;;	End
	;;.;;	MetaImpactNugget
	;;.;;		DelayTime		  = 1000 ;;-;; 1700 ;;=;; 1800
	;;.;;		ShockWaveAmount   = 50.0
	;;.;;		ShockWaveRadius   = 55.0
	;;.;;		ShockWaveTaperOff = 0.75
	;;.;;		ShockWaveZMult    = 1.20
	;;.;;		ShockWaveSpeed	  = 300
	;;.;;	End
End

;------------------------------------------------------------------------------
Weapon SummonDragonBlowBack
	RadiusDamageAffects   = ENEMIES ALLIES

	DamageNugget
		Damage			= SUMMONED_DRAGON_REPOSITION_DAMAGE
		DamageTaperOff  = SUMMONED_DRAGON_REPOSITION_DAMAGE_TAPEROFF
		Radius			= 75 ;;.;; 120 ;;=;; 130 ; ; 75.0
		DamageType		= CRUSH
		DeathType		= CRUSHED
		DamageSpeed		= 300
		DamageScalar	= 1000% ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
		DelayTime		= 1800 ;;-;; 1800
	End
;;.;; Useful MetaImpactNugget. Knockdown units in range to fire-breath them.
	MetaImpactNugget
		ShockWaveAmount   = 100
		ShockWaveRadius   = 75
		ShockWaveTaperOff = 0.6 ;; 1	
		ShockWaveZMult    = 0.4 ;; 1
		ShockWaveSpeed	  = 300
		DelayTime		= 1800 ;;-;; 1800
	End

	;;.;;	MetaImpactNugget
	;;.;;		HeroResist		  = 100% ;;=;; 
	;;.;;		DelayTime		  = 1800 ;;=;; 1800
	;;.;;		ShockWaveAmount   = 100 ;;=;; 150.0 ; ; 50.0
	;;.;;		ShockWaveRadius   = 110 ;;=;; 175 ; ; 55.0
	;;.;;		ShockWaveTaperOff = 0.75
	;;.;;		ShockWaveZMult    = 1.20
	;;.;;		ShockWaveSpeed	  = 300
	;;.;;	End
	;;.;;	MetaImpactNugget
	;;.;;		DelayTime		  = 1800 ;;=;; 1800
	;;.;;		ShockWaveAmount   = 50.0
	;;.;;		ShockWaveRadius   = 55.0
	;;.;;		ShockWaveTaperOff = 0.75
	;;.;;		ShockWaveZMult    = 1.20
	;;.;;		ShockWaveSpeed	  = 300
	;;.;;	End
End

;------------------------------------------------------------------------------


Weapon WaveCrushEffect     ; BALANCE Wave Crush Weapon
  LeechRangeWeapon      = No
  RadiusDamageAffects   = ENEMIES NEUTRALS
  AttackRange           = 100.0
  MeleeWeapon           = No
  DelayBetweenShots     = 250            ; time between shots, msec
  PreAttackDelay        = 125             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FiringDuration        = 125    ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 9999.0
    Radius        = 100.0
    DelayTime     = 0
    DamageType    = CRUSH
	DeathType		= CRUSHED
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0

    ShockWaveRadius   = 100.0
    ShockWaveTaperOff = 1.0
  End
End

;------------------------------------------------------------------------------
Weapon MordorBalrogSwordSwipe     ; BALANCE Balrog Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 40.0
  MeleeWeapon           = No
  DelayBetweenShots     = 1500            ; time between shots, msec
  PreAttackDelay        = 1300             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_BalrogSwordHit
  FiringDuration        = 1500    ; Duration of the mace swing 
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_SWORD_SWIPE_DAMAGE_FLAME		
	DamageTaperOff = #MULTIPLY( BALROG_SWORD_SWIPE_DAMAGE_FLAME 0.66 )
    Radius        = 100 ; ; 70.0
    DamageType    = FLAME
    DamageFXType  = BALROG_SWORD
    DeathType     = BURNED
    DamageArc      = 90
  End

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_SWORD_SWIPE_DAMAGE_NORMAL
	DamageTaperOff = #MULTIPLY( BALROG_SWORD_SWIPE_DAMAGE_NORMAL 0.66 )
    DamageScalar  = 300% ANY +HERO
    DamageScalar  = 70% ANY +STRUCTURE -COMMANDCENTER ;;.;; 80% ;;-;;
    DamageScalar  = 6% ANY +COMMANDCENTER ;;.;; 8% ;;-;; 12.5% ANY +COMMANDCENTER		
    Radius        = 100 ; ; 70.0
    DamageType    = SIEGE
    DamageFXType  = BALROG_SWORD
    DeathType     = NORMAL
    DamageArc      = 90
  End
  
	FireLogicNugget						; Lights flammables on fire
		LogicType	= INCREASE_BURN_RATE
		Radius		= 70.0
		Damage		= BALROG_SWORD_SWIPE_DAMAGE_FLAME
		DamageArc		= 90 ;;-;; Awesome
	End

  MetaImpactNugget
	KillObjectFilter  = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
	HeroResist		  = 100% ;;=;; 
    ShockWaveAmount   = 250 ; ; 140.0
    ShockWaveRadius   = 150 ; ; 70.0
    ShockWaveTaperOff = 0.75
    ShockWaveArc      = 90
    ShockWaveZMult    = 0.600
  End
  MetaImpactNugget	;;=;; 
	KillObjectFilter  = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
    ShockWaveAmount   = 140.0
    ShockWaveRadius   = 70.0
    ShockWaveTaperOff = 0.75
    ShockWaveArc      = 90
    ShockWaveZMult    = 0.600
  End


End

;------------------------------------------------------------------------------
Weapon MordorBalrogSwordChop     ; BALANCE Balrog Weapon
  LeechRangeWeapon      = Yes		
  AttackRange           = 40.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 2000            ; time between shots, msec
  PreAttackDelay        = 1400
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_BalrogSwordHit
  FiringDuration        = 1200    ; Duration of the mace swing 
  HitStoredTarget 		= Yes ;;.;; fixes not following alt paths.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_SWORD_CHOP_DAMAGE_FLAME	
    Radius        = 20.0
    DamageType    = FLAME
    DamageFXType  = BALROG_SWORD
    DeathType     = BURNED
  End

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_SWORD_CHOP_DAMAGE_STRUCTURAL	
    DamageScalar  = 9% ANY +COMMANDCENTER ;;-;; 10% ;;-;; 8.5% ;;-;; 10% ANY +COMMANDCENTER	; ;12.5%
    Radius        = 20.0
    DamageType    = SIEGE
    DamageFXType  = BALROG_SWORD
    DeathType     = NORMAL
    DamageScalar  = 25000% ANY +MinisGateDoor
  End
  
  	FireLogicNugget						; Lights flammables on fire
		LogicType	= INCREASE_BURN_RATE
		Radius		= 20.0
		Damage		= BALROG_SWORD_CHOP_DAMAGE_FLAME
	End
End

;------------------------------------------------------------------------------
Weapon MordorBalrogWhip     ; BALANCE Orc Warrior Weapon
	LeechRangeWeapon			= Yes
	AttackRange				= 240.0
	RadiusDamageAffects	= ENEMIES NEUTRALS ;;=;;
	MeleeWeapon				= No
	HitPercentage		= 100		; ;When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots			= BALROG_WHIP_RECHARGE            		; time between shots, msec
	PreAttackDelay			= 1400 
	PreAttackType			= PER_SHOT				; Do the delay each time we attack
	;FireFX				= FX_BalrogSpecialPowerRoar	; this plays when Balrog starts his whip, not when right click-trageting
	FiringDuration			= 1600 
	AntiAirborneVehicle	= Yes ; ; 
	AntiAirborneMonster	= Yes ; ;Fried chicken please
	AcceptableAimDelta	= 15 ; ;

	
	ForceDisplayPercentReady	= Yes 				; As opposed to displaying clip reload time


	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = BALROG_WHIP_DAMAGE_FLAME
		DamageScalar  = 25% ANY +COMMANDCENTER
		Radius        = 25.0
		DelayTime     = 0
		DamageType    = FLAME
		DamageScalar  = 75% ANY +FS_TECHNOLOGY ;;=;;
		DamageFXType  = BALROG_WHIP
		DeathType     = NORMAL
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = BALROG_WHIP_DAMAGE
		DamageScalar  = 4.5% ANY +COMMANDCENTER ;;-;; 5% ; ; 20%
		DamageScalar  = 200% ANY +GondorGwaihir_Summoned ; ;
		DamageScalar  = 200% ANY +ElvenFortressEagle ; ;
		DamageScalar  = 200% ANY +MordorFellBeast  ; ;
		DamageScalar  = 120% ANY +MordorWitchKingOnFellBeast ;;.;; 200% ; ;
		DamageScalar  = 120% ANY +Drogoth ; ;
		DamageScalar  = 75% ANY +FS_TECHNOLOGY
		DamageScalar  = 5000% ANY +TomBombadil
		Radius        = 25.0
		DelayTime     = 0
		DamageType    = SIEGE 

		DamageFXType  = BALROG_WHIP
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .25
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 25.0
		ShockWaveTaperOff	= 1.0
		ShockWaveZMult		= 1.20
		InvertShockWave		= Yes
	End
	
  	FireLogicNugget						; Lights flammables on fire
		LogicType	= INCREASE_BURN_RATE
		Radius		= 25.0
		Damage		= BALROG_WHIP_DAMAGE_FLAME
	End
End

;------------------------------------------------------------------------------
Weapon MordorBalrogBreath
  IdleAfterFiringDelay = 0
  AttackRange = 60.0
  WeaponSpeed = 401         ; dist/sec 
  RadiusDamageAffects = ALLIES ENEMIES NOT_SIMILAR
  DelayBetweenShots = 5000               ; time between shots, msec
  PreAttackDelay        = 2600
  PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
  PreAttackFX           = FX_GandalfPreAttackBlast
  FireFX                = NONE ;FX_BalrogBreath ---- commented out for E3, now controled by particle spawning
  FiringDuration      = 1400
 DamageDealtAtSelfPosition = Yes 

	// Half FLAME begin. //Please keep scalars identical.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( BALROG_BREATH_DAMAGE 3 )
		DamageTaperOff  = #MULTIPLY( #DIVIDE( BALROG_BREATH_DAMAGE 3 ) BALROG_BREATH_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= BALROG_BREATH_RADIUS
		DamageScalar  	= 25% ANY +COMMANDCENTER
		DamageScalar  	= 100% ANY +GondorGandalf ;;.;; 200%
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		DamageScalar  	= 70% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DelayTime		= 0 ;;-;; 900 ;;=;; 1000
		DamageType		= FLAME
		DamageFXType	= FLAME
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast +MordorFellBeast +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;;
		DeathType		= BURNED
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 300 ;;-;; 200 ;;-;; 400
	End
 	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( BALROG_BREATH_DAMAGE 3 )
		DamageTaperOff  = #MULTIPLY( #DIVIDE( BALROG_BREATH_DAMAGE 3 ) BALROG_BREATH_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= BALROG_BREATH_RADIUS
		DamageScalar  	= 25% ANY +COMMANDCENTER
		DamageScalar  	= 100% ANY +GondorGandalf ;;.;; 200%
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		DamageScalar  	= 70% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DelayTime		= 0 ;;-;; 900 ;;=;; 1000
		DamageType		= FLAME
		DamageFXType	= FLAME
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast +MordorFellBeast +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;;
		DeathType		= BURNED
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 250 ;;-;; 400
	End
 	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( BALROG_BREATH_DAMAGE 3 )
		DamageTaperOff  = #MULTIPLY( #DIVIDE( BALROG_BREATH_DAMAGE 3 ) BALROG_BREATH_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= BALROG_BREATH_RADIUS
		DamageScalar  	= 25% ANY +COMMANDCENTER
		DamageScalar  	= 100% ANY +GondorGandalf ;;.;; 200%
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		DamageScalar  	= 70% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DelayTime		= 0 ;;-;; 900 ;;=;; 1000
		DamageType		= FLAME
		DamageFXType	= FLAME
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast +MordorFellBeast +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;;
		DeathType		= BURNED
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 200 ;;-;; 400
	End
	// Half MAGIC begin. //Please keep scalars identical.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( BALROG_BREATH_DAMAGE 3 )
		DamageTaperOff  = #MULTIPLY( #DIVIDE( BALROG_BREATH_DAMAGE 3 ) BALROG_BREATH_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= BALROG_BREATH_RADIUS
		DamageScalar	= 20% ANY +COMMANDCENTER
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast +MordorFellBeast +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		DamageScalar  	= 70% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DelayTime		= 1000
		DamageType		= MAGIC
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 150 ;;-;; 400
		DamageScalar  = 25000% ANY +MinisGateDoor
	End
 	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( BALROG_BREATH_DAMAGE 3 )
		DamageTaperOff  = #MULTIPLY( #DIVIDE( BALROG_BREATH_DAMAGE 3 ) BALROG_BREATH_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= BALROG_BREATH_RADIUS
		DamageScalar	= 20% ANY +COMMANDCENTER
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast +MordorFellBeast +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		DamageScalar  	= 70% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DelayTime		= 0 ;;-;; 1000
		DamageType		= MAGIC
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 100 ;;-;; 400
		DamageScalar  = 25000% ANY +MinisGateDoor
	End
 	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( BALROG_BREATH_DAMAGE 3 )
		DamageTaperOff  = #MULTIPLY( #DIVIDE( BALROG_BREATH_DAMAGE 3 ) BALROG_BREATH_DAMAGE_TAPEROFF ) ;;-;;
		Radius			= BALROG_BREATH_RADIUS
		DamageScalar	= 20% ANY +COMMANDCENTER
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast +MordorFellBeast +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		DamageScalar  	= 70% ANY +STRUCTURE -COMMANDCENTER ;;-;;
		DelayTime		= 0 ;;-;; 1000
		DamageType		= MAGIC
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 50 ;;-;; 400
		DamageScalar  = 25000% ANY +MinisGateDoor
	End

 ; 	FireLogicNugget						; Increases fuel where it hits
;		LogicType	= INCREASE_FUEL
;		Radius		= 100.0
;		Damage		= BALROG_BREATH_DAMAGE
;		MinMaxBurnRate	= 10
;		MaxResistance	= 5
;	End

  	FireLogicNugget						; Lights flammables on fire
		LogicType	= INCREASE_BURN_RATE
		Radius		= 50.0
		Damage		= BALROG_BREATH_DAMAGE
		DamageArc		= 90 ;;-;; Awesome
	End


End

;------------------------------------------------------------------------------
Weapon BalrogFireBreathFieldWeapon ;;=;;
  AttackRange = 60.0
  WeaponSpeed = 401         ; dist/sec 
  RadiusDamageAffects = ALLIES ENEMIES NOT_SIMILAR
  DelayBetweenShots           = 1000 ;;=;;                 ; time between shots, msec
 ;DamageDealtAtSelfPosition = Yes ;;=;; THIS MAKES GAME CRASH. WEAPON DOESN'T KNOW WHERE IS DAMAGE COMING FROM.
  DamageNugget                        ; A basic Nugget that just does damage
	Damage			= BALROG_BREATH_DAMAGE
	Radius			= BALROG_BREATH_RADIUS
	SpecialObjectFilter        = ANY +REBUILD_HOLE
	ForceKillObjectFilter    = ANY +REBUILD_HOLE
	DamageArc	  = 90 ;;;=;; i don't recognise where i come from, that's the problem
    DelayTime     = 1000 ;;=;; 
    DamageType    = FLAME
    DamageFXType  = FLAME
    DeathType     = BURNED
  End
End
;------------------------------------------------------------------------------
Weapon DrogothFireball
	LeechRangeWeapon			= Yes
	AttackRange               = DROGOTH_FIREBALL_RANGE		; set this in his special power
	WeaponSpeed               = 150         ; dist/sec 
	MinWeaponSpeed            = 100
	MaxWeaponSpeed            = 200      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed          = Yes      ; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100      ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = 5000     ; time between shots, msec
	PreAttackDelay            = 1     ; 1467 is the prep time for archer.
	PreAttackRandomAmount     = 0      ; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = 1     ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AcceptableAimDelta		= 15
	AntiAirborneVehicle       = Yes
	AntiAirborneMonster		= Yes
	FireFX					= FX_DrogothFireball_01
	DamageType				= FLAME

	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = DrogothFireballProjectile
		WarheadTemplateName     = DrogothFireballWarhead
	End
End

;----------------------------
Weapon DrogothFireballWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ; ALLIES
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
	End	

	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = DROGOTH_FIREBALL_DAMAGE
         Radius        = DROGOTH_FIREBALL_RADIUS
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
         DamageScalar  = 150% ANY +MordorFellBeast +MordorWitchKingOnFellBeast ;
;;-;;
	End

	DamageNugget                        ; to make the fireball more mighty against enemy heroes
	    Damage        = 50	
	    Radius        = DROGOTH_FIREBALL_RADIUS
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
		DamageScalar  = 500% ANY +HERO -MordorFellBeast -MordorWitchKingOnFellBeast ;
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DROGOTH_FIREBALL_DAMAGE_SIEGE
	    Radius        = DROGOTH_FIREBALL_RADIUS
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 375% ANY +ElvenFortressEagle ; ; 100%
		DamageScalar  = 90% ANY +MordorWitchKingOnFellBeast ;;=;; 100% ; ; 300%
		DamageScalar  = 100% ANY +MordorFellBeast ;;=;; 375%; ; 300%
		DamageScalar  = 175% ANY +GondorGwaihir_Summoned ;;=;; 1100% ; ; 100%
		DamageScalar  = 200% ANY +STRUCTURE	; ;
		DamageScalar  = 200% ANY +HERO -CANNOT_RETALIATE -IsengardSaruman ; ;
	End

	DamageNugget ;;=;; new 1.07 nugget, removed but now used with a purpose
	    Damage        = DROGOTH_FIREBALL_DAMAGE_SIEGE	
	    Radius        = 45 ;;=;; 30
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 250% ANY +ElvenFortressEagle ;;=;; 100%
		DamageScalar  = 90% ANY +MordorWitchKingOnFellBeast ;;=;; 90%
		DamageScalar  = 250% ANY +MordorFellBeast ;;=;;  100% // 1300. from 1800
		DamageScalar  = 850% ANY +GondorGwaihir_Summoned ;;=;; 100%
		SpecialObjectFilter = ANY +CANNOT_RETALIATE
		AcceptDamageAdd = No ;;=;; 
	End

   	MetaImpactNugget                         ; A Nugget that throws things back with force
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = DROGOTH_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

;------------------------------------------------------------------------------
Weapon DrogothIncinerate
	IdleAfterFiringDelay		= 0
	AttackRange					= DROGOTH_INCINERATE_RANGE
	WeaponSpeed					= 401							; dist/sec 
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= 5000							; time between shots, msec
	PreAttackDelay				= 2600
	PreAttackType				= PER_ATTACK					; Do the delay each time we attack a new target
	PreAttackFX					= FX_DrogothPreAttackBlast		;FX_GandalfPreAttackBlast	;is this even getting triggered?
	;FireFX						= FX_DrogothIncinerate			;too much delay
	FiringDuration				= 1400
	AntiAirborneVehicle       = No ;;-;; Yes
	AntiAirborneMonster		= No ;;-;;Yes
	AntiAirborneInfantry   = No ;;-;;Yes
	;;.;; DamageDealtAtSelfPosition	= Yes ;;=;;
	;;.;; DamageArcs only works with this option disabled.
	;DamageArc		= 95 ;;.;; kills 0 flyer
	;DamageArc		= 115 ;;.;; kills 1 flyer
	;DamageArc		= 125 ;;.;; killers 3 flyers
	;DamageArc		= 145 ;;.;; kills 4 flyers. Looks like a 90 arc
	;DamageArc		= 180 ;;.;; kills in 180 indeed.
	//Damage that matches the fire fx perfectly.
	DamageNugget												; A basic Nugget that just does damage
		Damage			= #MULTIPLY( DROGOTH_INCINERATE_DAMAGE .5 )
		DamageTaperOff	= #MULTIPLY( #MULTIPLY( DROGOTH_INCINERATE_DAMAGE .5 ) DROGOTH_INCINERATE_DAMAGE_TAPEROFF ) ;;.;;
		Radius			= DROGOTH_INCINERATE_RADIUS
		;;.;; DelayTime		= 700 ;;=;; 500
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageArc		= DROGOTH_INCINERATE_ARC ;;.;;
		;;.;; Need this DamageArc to avoid "invisibile damage". But only works if DamageDealtAtSelfPosition = Not.
		DamageScalar    = 600% ANY +HERO
		DamageScalar    = 300% ANY +STRUCTURE
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		;;-;; DamageMaxHeight = 350									; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 100 ;;.;; 400
		SpecialObjectFilter = ALL -CANNOT_RETALIATE ;;.;; 
	End
	//Damage that matches the fire fx perfectly.
	DamageNugget
		Damage			= #MULTIPLY( DROGOTH_INCINERATE_DAMAGE .5 )
		DamageTaperOff	= #MULTIPLY( #MULTIPLY( DROGOTH_INCINERATE_DAMAGE .5 ) DROGOTH_INCINERATE_DAMAGE_TAPEROFF ) ;;.;;
		Radius			= DROGOTH_INCINERATE_RADIUS
		;;.;; DelayTime		= 550 ;;=;; 500
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageArc		= DROGOTH_INCINERATE_ARC ;;.;;
		;;.;; Need this DamageArc to avoid "invisibile damage". But only works if DamageDealtAtSelfPosition = Not.
		DamageScalar    = 600% ANY +HERO
		DamageScalar    = 300% ANY +STRUCTURE
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		;;-;; DamageMaxHeight = 350									; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 200 ;;.;; 400
		SpecialObjectFilter = ALL -CANNOT_RETALIATE ;;.;; 
	End
	//Damage beneath + Damage against flyers. // Perfect
		;;.;; Need this nuggets to cause damage slightly behind the 90 half moon. but not entirely behind, hence the new 145 arc instead of 180.
	DamageNugget												; A basic Nugget that just does damage
		Damage			= #MULTIPLY( DROGOTH_INCINERATE_CENTRE_DAMAGE .5 )
		DamageTaperOff	= #MULTIPLY( #MULTIPLY( DROGOTH_INCINERATE_CENTRE_DAMAGE .5 ) DROGOTH_INCINERATE_DAMAGE_TAPEROFF ) ;;.;;
		Radius			= DROGOTH_INCINERATE_CENTRE_RADIUS
		;;.;; DelayTime		= 400 ;;=;; 250
		DamageType		= FLAME
		DamageFXType	= FLAME
		DamageScalar    = 600% ANY +HERO -CANNOT_RETALIATE ;;.;;
		DamageScalar    = 300% ANY +STRUCTURE
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;; 
  			DamageScalar		= 1250% ANY +MordorFellBeast ;;.;; 
			DamageScalar		= 1250% ANY +Drogoth ;;.;; 
			DamageScalar		= 2000% ANY +ElvenFortressEagle ;;.;; 
			DamageScalar		= 2500% ANY +GondorGwaihir_Summoned ;;.;; 
			DamageScalar		= 600% ANY +MordorWitchKingOnFellBeast ;;.;; 
		DeathType		= BURNED
		;;-;; DamageMaxHeight = 350									; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 300 ;;.;; 400
		DamageArc		= 145 ;;.;; 180 // (no damage arc means 180)
		;;.;; Need this wider DamageArc to kill flyers. But 180 implies invisible damage.
	End
	//Damage beneath + Damage against flyers. // Perfect
		;;.;; Need this nuggets to cause damage slightly behind the 90 half moon. but not entirely behind, hence the new 145 arc instead of 180.
	DamageNugget												; A basic Nugget that just does damage
		Damage			= #MULTIPLY( DROGOTH_INCINERATE_CENTRE_DAMAGE .5 )
		DamageTaperOff	= #MULTIPLY( #MULTIPLY( DROGOTH_INCINERATE_CENTRE_DAMAGE .5 ) DROGOTH_INCINERATE_DAMAGE_TAPEROFF ) ;;.;;
		Radius			= DROGOTH_INCINERATE_CENTRE_RADIUS
		;;.;; DelayTime		= 250
		DamageType		= FLAME
		DamageFXType	= FLAME
		DamageScalar    = 600% ANY +HERO -CANNOT_RETALIATE ;;.;;
		DamageScalar    = 300% ANY +STRUCTURE 
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
  			DamageScalar		= 1250% ANY +MordorFellBeast ;;.;; 
			DamageScalar		= 1250% ANY +Drogoth ;;.;; 
			DamageScalar		= 2000% ANY +ElvenFortressEagle ;;.;; 
			DamageScalar		= 2500% ANY +GondorGwaihir_Summoned ;;.;; 
			DamageScalar		= 600% ANY +MordorWitchKingOnFellBeast ;;.;; 
		DeathType		= BURNED
		;;-;; DamageMaxHeight = 350									; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
		DamageArc		= 145 ;;.;; 180 // (no damage arc means 180)
		;;.;; Need this wider DamageArc to kill flyers. But 180 implies invisible damage.
	End

End

;------------------------------------------------------------------------------
Weapon DrogothWingBlast
	IdleAfterFiringDelay		= 0
	AttackRange					= 60.0
	WeaponSpeed					= 100         ; dist/sec 
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= 1000               ; time between shots, msec
	PreAttackDelay				= 0
	PreAttackType				= PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX					= FX_GandalfPreAttackBlast
	;FireFX						=
	FiringDuration				= 500
	DamageDealtAtSelfPosition	= Yes 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= DROGOTH_WING_FLAP_DAMAGE_SMALL
		Radius			= DROGOTH_WING_FLAP_RADIUS_SMALL
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= FLAME
		DeathType		= NORMAL
		AcceptDamageAdd	= No			; No extra damage when going up levels, otherwise we'll just kill the victims outright.
		DamageScalar	= 0% ALL ALLIES	; only meta impact for allied units
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= DROGOTH_WING_FLAP_DAMAGE_LARGE
		Radius			= DROGOTH_WING_FLAP_RADIUS_LARGE
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= FLAME
		DeathType		= NORMAL
		AcceptDamageAdd	= No			; No extra damage when going up levels, otherwise we'll just kill the victims outright.
		DamageScalar	= 0% ALL ALLIES	; only meta impact for allied units
	End

	; Fan the flames...
	FireLogicNugget
		LogicType		= INCREASE_FUEL_ON_EXISTING_FIRE
		Radius			= DROGOTH_WING_FLAP_RADIUS_SMALL
		Damage			= 40
		MinMaxBurnRate	= 20
		MaxResistance	= 5
	End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE_ON_EXISTING_FIRE
		Radius			= DROGOTH_WING_FLAP_DAMAGE_LARGE
		Damage			= 20
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= DROGOTH_WING_FLAP_SHOCK_AMOUNT_SMALL
		ShockWaveRadius		= DROGOTH_WING_FLAP_SHOCK_RADIUS_SMALL
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.5
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= DROGOTH_WING_FLAP_SHOCK_AMOUNT_LARGE
		
		ShockWaveRadius		= DROGOTH_WING_FLAP_SHOCK_RADIUS_LARGE
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.2
	End
  
End

;------------------------------------------------------------------------------
Weapon DrogothFireflight
	LeechRangeWeapon			= Yes
	AttackRange               = DROGOTH_FIREFLIGHT_RANGE		; set this in his special power too
	WeaponSpeed               = 150         ; dist/sec 
	MinWeaponSpeed            = 100
	MaxWeaponSpeed            = 200			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed          = Yes			; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100			;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius             = 0.0			;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = 5000		; time between shots, msec
	PreAttackDelay            = 2600			; 1467 is the prep time for archer.
	PreAttackRandomAmount     = 0			; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = 1			; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AcceptableAimDelta		= 15
	AntiAirborneVehicle       = Yes
	AntiAirborneMonster		= Yes
	FireFX				= FX_DrogothFireFlight
	DamageType				= FLAME

	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = DrogothFireflightProjectile
		WarheadTemplateName     = DrogothFireflightWarhead
	End
End

;------------------------------------------------------------------------------
Weapon DrogothFireflightWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR MINES
	
	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = DROGOTH_FIREFLIGHT_DAMAGE
         DamageTaperOff = #MULTIPLY( DROGOTH_FIREFLIGHT_DAMAGE DROGOTH_FIREFLIGHT_DAMAGE_TAPEROFF ) ;;.;;
         Radius        = DROGOTH_FIREFLIGHT_RADIUS
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK


         DeathType     = BURNED
	End

	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = DROGOTH_FIREFLIGHT_DAMAGE
         Damage        = #MULTIPLY( DROGOTH_FIREFLIGHT_DAMAGE DROGOTH_FIREFLIGHT_DAMAGE_TAPEROFF ) ;;.;;
         Radius        = DROGOTH_FIREFLIGHT_RADIUS
         DelayTime     = 0
         DamageType    = HERO
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
	End


	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= DROGOTH_FIREFLIGHT_RADIUS
		DelayTime		= 0
		;Damage			= 100
		MinMaxBurnRate	= 10
		MaxResistance	= 5
	End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= DROGOTH_FIREFLIGHT_RADIUS
		DelayTime		= 0
		Damage			= 10
	End	


	MetaImpactNugget                         ; A Nugget that throws things back with force
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = DROGOTH_FIREFLIGHT_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End

End

;------------------------------------------------------------------------------
Weapon MordorBalrogLeap 
  IdleAfterFiringDelay	= 0
  AttackRange           = 840.0
  MinimumAttackRange	= 120.0
  WeaponSpeed           = 160.0        ; dist/sec (huge value == effectively instant)
  ProjectileSelf		= Yes ; We don't make the projectile throw ourself
  ClipSize              = 1               ; how many shots in a Clip (0 == infinite)
  ClipReloadTime        = 2200   ;1467 min for animation           ; how long to reload a Clip, msec
  AutoReloadsClip		= Yes	
  PreAttackDelay        = 600
  FiringDuration		= 1500            
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  HitPercentage       = 0 ; Never auto hits, always shoots at a ground position
  ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    WarheadTemplateName = MordorBalrogLeapWarhead
  End
End

;-----------------------------------
Weapon MordorBalrogLeapWarhead
  ProjectileCollidesWith = ENEMIES
;  FireFX = FX_BalrogLand
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_JUMP_DAMAGE
    Radius        = 40.0
    DelayTime     = 1	; Moves damage from when tippy toes hit to a visually better spot
    DamageType            = CRUSH
    DamageFXType          = SMALL_ROCK
    DeathType             = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 40.0
    ShockWaveTaperOff = 0.5
    ShockWaveZMult    = 1.20
    DelayTime     = 1	; Moves damage from when tippy toes hit to a visually better spot
  End
  FireLogicNugget
	LogicType	= INCREASE_BURN_RATE
	Radius		= 40.0
	Damage		= BALROG_JUMP_DAMAGE
  End
End

;------------------------------------------------------------------------------
Weapon MordorLance     ; BALANCE Haradrim Lance Weapon
  ; IdleAfterFiringDelay	= 1110 ; no do not do this.  This means go directly to idle after one attack. like troll rock throw, when he only has 1 rock to throw.
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1000 ;;=;; 2000            ; time between shots, msec
  PreAttackDelay        = 867             ; 867 is lance pierce delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = 1110    ; Duration of the lance pierce attack

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_HARADRIM_LANCER_MELEE_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SPECIALIST ; ;PIERCE
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon MordorLanceThrownOnMumakil	;;-;; BALANCE HaradrimLancerMumakilLance
  AttackRange 			= MORDOR_HARADRIM_LANCER_RANGE
  ;;-;;LeechRangeWeapon      = Yes
  WeaponSpeed 			= 261
  MinWeaponSpeed 		= 61
  MaxWeaponSpeed 		= 361
  FireFX 				= FX_HaradrimSpearThrow
  ScaleWeaponSpeed 		= Yes
  AcceptableAimDelta	= 15.0 
  HitPercentage       	= 100
  ScatterRadius     	= 20.0
  PreAttackDelay        = MORDOR_HARADRIM_LANCER_PREATTACKDELAY
  PreAttackType         = PER_SHOT
  FiringDuration      	= MORDOR_HARADRIM_LANCER_FIRINGDURATION
  CanBeDodged			= Yes
  AntiAirborneVehicle	= Yes
  AntiAirborneMonster	= Yes
  RequireFollowThru		= Yes
  IsAimingWeapon        = Yes

  ClipSize 					= 1
  AutoReloadsClip 			= Yes
  ClipReloadTime 			= Min:2800 Max:2800

  ProjectileNugget
    ProjectileTemplateName = MordorLanceProjectile
    WarheadTemplateName = MordorLanceThrownOnMumakilWarhead
  End
End


;----------------------------------- 
Weapon MordorLanceThrownOnMumakilWarhead ;;-;; MordorHaradrimLancerLanceOnMumakil
  HitStoredTarget = Yes
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  DamageNugget
    Damage        = MORDOR_HARADRIM_LANCER_ON_MUMAKIL_DAMAGE
	DamageScalar  = 80% ANY +STRUCTURE -COMMANDCENTER
	DamageScalar  = 50% ANY +COMMANDCENTER +FS_BASE_DEFENSE; ;
	DamageScalar  = 50% ANY +CANNOT_RETALIATE
	DamageScalar  = 135% ANY +GoblinCaveTroll ;;=;;
	DamageScalar  = 135% ANY +CaveTroll_Slaved ;;=;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon MordorLanceThrown       ; BALANCE HaradrimLancerLance as Thrown Weapon  ; ; 
  AttackRange 			= MORDOR_HARADRIM_LANCER_RANGE
  LeechRangeWeapon      = Yes
;  MinimumAttackRange	= MORDOR_HARADRIM_LANCER_SWITCH_RANGE_HORDE
  WeaponSpeed 			= 261         ; dist/sec 
  MinWeaponSpeed 		= 61
  MaxWeaponSpeed 		= 361      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX 				= FX_HaradrimSpearThrow
  ScaleWeaponSpeed 		= Yes ; Used for lob weapons, scales speed proportional to range
  AcceptableAimDelta	= 15.0 
  HitPercentage       	= 100
  ScatterRadius     	= 20.0         ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots 	= MORDOR_HARADRIM_LANCER_DELAYBETWEENSHOTS        ; time between shots, msec
  PreAttackDelay        = MORDOR_HARADRIM_LANCER_PREATTACKDELAY     ; 1500 is the prep time for archer.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration      	= MORDOR_HARADRIM_LANCER_FIRINGDURATION     ; Duration of the archer firing shot is 1000ms.
  CanBeDodged				= Yes
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
  
  RequireFollowThru			= Yes
  IsAimingWeapon            = Yes

  ClipSize 					= 1
  AutoReloadsClip 			= Yes
  ClipReloadTime 			= MORDOR_HARADRIM_LANCER_RELOAD_TIME

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = MordorLanceProjectile
    WarheadTemplateName = MordorLanceThrownWarhead
  End
End


;----------------------------------- 
Weapon MordorLanceThrownWarhead ;;=;; MordorHaradrimLancerLance
  HitStoredTarget = Yes	; Always hits initial target.
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_HARADRIM_LANCER_DAMAGE
	DamageScalar  = 80% ANY +STRUCTURE -COMMANDCENTER
	DamageScalar  = 50% ANY +COMMANDCENTER +FS_BASE_DEFENSE; ;
	DamageScalar  = 50% ANY +CANNOT_RETALIATE ;;=;; since we can hurt flyers now.
;;	DamageScalar  = 50% ANY +ARCHER
;;	DamageScalar  = 60% ANY +DwarvenBattleWagon


;;	DamageScalar  = 60% ANY +STRUCTURE ; ;
;;	DamageScalar  = 85% ANY +HERO ; ; 120% ANY +HERO; ; 170% ANY +HERO ; ;
	DamageScalar  = 135% ANY +GoblinCaveTroll ;;=;;
	DamageScalar  = 135% ANY +CaveTroll_Slaved ;;=;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH ; ; PIERCE
    DamageFXType  = SWORD_SLASH ; ; GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;-----------------------------------
Weapon WhirlwindWindWeapon09 ;;.;; aka ElrondWhirlwindWindWeaponLvl5_09v3 ;;=;;
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= ELROND_WHIRLWIND_LVL5_DAMAGE
		DamageTaperOff		= ELROND_WHIRLWIND_LVL5_DAMAGE_TAPEROFF
		Radius				= ELROND_WHIRLWIND_LVL5_RADIUS
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= TORNADO
		DeathType			= NORMAL
		DamageScalar		= 50% ANY +COMMANDCENTER ;;.;; 35% ANY +STRUCTURE
		CylinderAOE			= Yes
		AcceptDamageAdd 	= No ;;.;;
	End

	MetaImpactNugget
		ShockWaveAmount   = ELROND_WHIRLWIND_LVL5_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = ELROND_WHIRLWIND_LVL5_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		CyclonicFactor	  = 0.66
		HeroResist		  = 0.90 ;;.;;
	End

End

;-----------------------------------
Weapon ElrondWhirlwindWindWeaponLvl7_09v3
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= ELROND_WHIRLWIND_LVL7_DAMAGE
		DamageTaperOff		= ELROND_WHIRLWIND_LVL7_DAMAGE_TAPEROFF
		Radius				= ELROND_WHIRLWIND_LVL7_RADIUS
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= TORNADO
		DeathType			= NORMAL
		DamageScalar		= 50% ANY +COMMANDCENTER ;;.;; 35% ANY +STRUCTURE
		CylinderAOE			= Yes
		AcceptDamageAdd 	= No ;;.;;
	End

	MetaImpactNugget
		ShockWaveAmount   = ELROND_WHIRLWIND_LVL7_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = ELROND_WHIRLWIND_LVL7_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		CyclonicFactor	  = 0.66
		HeroResist		  = 0.90 ;;.;;
	End

End

;-----------------------------------
Weapon ElrondWhirlwindWindWeaponLvl10_09v3
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= ELROND_WHIRLWIND_LVL10_DAMAGE
		DamageTaperOff		= ELROND_WHIRLWIND_LVL10_DAMAGE_TAPEROFF
		Radius				= ELROND_WHIRLWIND_LVL10_RADIUS
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= TORNADO
		DeathType			= NORMAL
		DamageScalar		= 50% ANY +COMMANDCENTER ;;.;; 35% ANY +STRUCTURE
		CylinderAOE			= Yes
		AcceptDamageAdd 	= No ;;.;;
	End

	MetaImpactNugget
		ShockWaveAmount   = ELROND_WHIRLWIND_LVL10_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = ELROND_WHIRLWIND_LVL10_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		CyclonicFactor	  = 0.66
		HeroResist		  = 0.90 ;;.;;
	End

End

;-----------------------------------
;;.;; This is obsolete
Weapon WhirlwindWindWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 90
		Radius        = 20.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% ANY +STRUCTURE
		CylinderAOE   = Yes
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 20
		Radius        = 50.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% ANY +STRUCTURE
		CylinderAOE   = Yes
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		KillObjectFilter  = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount   = WHIRLWIND_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = WHIRLWIND_SHOCKWAVE_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		CyclonicFactor	  = 0.66
	End

End

;-----------------------------------
Weapon TornadoWindWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = TORNADO_DAMAGE_INNER
		Radius        = 20.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% ANY +STRUCTURE
		CylinderAOE   = Yes
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = TORNADO_DAMAGE_OUTER
		Radius        = 50.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% ANY +STRUCTURE
		CylinderAOE   = Yes
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		KillObjectFilter  = ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount   = TORNADO_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = TORNADO_SHOCKWAVE_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		
		CyclonicFactor	  = 0.66
	End

End

;-----------------------------------
Weapon WhirlpoolWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
  	DelayBetweenShots	= 0
	ClipSize			= INFINITE_CLIP_SIZE
	;FireFX				= FX_GoodShipWhirlpoolAttack					; fires multiple times

	DamageNugget														; A basic Nugget that just does damage
		Damage		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_AMOUNT_01
		Radius		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_RADIUS_01
		DelayTime	= 300	
		DamageType	= FORCE
		DeathType	= NORMAL
	End
	DamageNugget
		Damage		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_AMOUNT_02
		Radius		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_RADIUS_02
		DelayTime	= 300
		DamageType	= FORCE
		DeathType	= NORMAL
	End

	MetaImpactNugget													; A Nugget that sucks things in with force
		ShockWaveAmount		= 99.0
		ShockWaveRadius		= GOOD_FIRE_SHIP_WHIRLPOOL_RADIUS
		ShockWaveTaperOff	= 1.0 
		ShockWaveZMult		= 0.0
		InvertShockWave		= Yes										// makes it "suck"
		CyclonicFactor		= .66
	End

End


;-----------------------------------
Weapon MordorEasterlingPike     ; BALANCE Mordor Easterling Pike
  LeechRangeWeapon      = Yes
  AttackRange           = 30
  MeleeWeapon           = Yes ; Melee means to square off next to opponent.  This is more of a ranged weapon with no projectile
  PreAttackDelay        = MORDOR_SOLDIERRHUN_PREATTACKDELAY             ; 867 is lance pierce delay time before contact with target.
  FiringDuration        = MORDOR_SOLDIERRHUN_FIRINGDURATION    ; Duration of the lance pierce attack
  DelayBetweenShots     = MORDOR_SOLDIERRHUN_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  
  AcceptableAimDelta	= 15.0 
  RequireFollowThru		= Yes

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        			= MORDOR_SOLDIERRHUN_DAMAGE
	DamageScalar  			= 90% ANY +DwarvenDain ;;-;;
	DamageScalar			= 69% ANY +MordorMountainTroll ;;-;;
    Radius        			= 0.0
    DelayTime     			= 0
    DamageType    			= SPECIALIST
    DamageFXType  			= SWORD_SLASH
    DeathType     			= NORMAL
    ForbiddenUpgradeNames	= Upgrade_MordorForgedBlades
	FlankingBonus = GENERIC_MELEE_FLANKING_BONUS ;;-;; this makes them good vs Lings damaging buildings & heros escaping. (all pikes have it)
  End

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        			= MORDOR_SOLDIERRHUN_DAMAGE_UPGRADED
    DamageScalar			= 200% ANY +INFANTRY -HERO ; ;
    DamageScalar			= 75% ANY +HERO -DwarvenDain; ;
	DamageScalar  			= 67.5% ANY +DwarvenDain ;;-;;
	DamageScalar			= 69% ANY +MordorMountainTroll ;;-;;
    Radius        			= 0.0
    DelayTime     			= 0
    DamageType    			= SPECIALIST
    DamageFXType  			= SWORD_SLASH
    DeathType     			= NORMAL
    RequiredUpgradeNames	= Upgrade_MordorForgedBlades
	FlankingBonus = GENERIC_MELEE_FLANKING_BONUS ;;-;;
  End
End

;------------------------------------------------------------------------------
;Weapon MordorEasterlingButt     ; BALANCE Mordor Easterling Butt
;  LeechRangeWeapon      = Yes
;  AttackRange           = 10.0
;  MeleeWeapon           = Yes
;  DelayBetweenShots     = 2000            ; time between shots, msec
;  FireFX                = FX_GondorSwordHit
;  FiringDuration        = 2000
;
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 40
;    Radius        = 1.0
;    DelayTime     = 0
;    DamageType    = SPECIALIST
;    DeathType     = NORMAL
;  End
;End

;------------------------------------------------------------------------------
Weapon MenFortressBoilingOilWeapon 
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	;PreAttackFX           = FX_GandalfPreAttackBlast
	;FireFX                = FX_GandalfBlast
	FireFX                = FX_GenericFortressOilDecal09v3 ;;.;;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= GENERIC_FORTRESS_OIL_DAMAGE
		DamageTaperOff  = GENERIC_FORTRESS_OIL_DAMAGE_TAPEROFF
		Radius			= GENERIC_FORTRESS_OIL_DAMAGE_RADIUS
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
	End
End

;------------------------------------------------------------------------------
Weapon MordorFortressMagmaCauldronsWeapon
	IdleAfterFiringDelay	= 0
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	DelayBetweenShots		= 5000					;// time between shots, msec
	PreAttackDelay        	= 600
	PreAttackType         	= PER_ATTACK			;// Do the delay each time we attack a new target
	;PreAttackFX           	= FX_MagmaCauldronAttack	;FX_GandalfPreAttackBlast	;this didn't work
	;FireFX                	= FX_MagmaCauldronAttack	;FX_GandalfBlast	;this triggers too late
	FireFX                = FX_GenericFortressOilDecal09v3 ;;.;;
	DamageNugget									;// A basic Nugget that just does damage
		Damage			= GENERIC_FORTRESS_OIL_DAMAGE
		DamageTaperOff  = GENERIC_FORTRESS_OIL_DAMAGE_TAPEROFF
		Radius			= GENERIC_FORTRESS_OIL_DAMAGE_RADIUS
		DamageType    	= FLAME
		DamageFXType  	= FLAME
		DeathType     	= BURNED
	End
End

;------------------------------------------------------------------------------
Weapon DwarvenFortressOilCasksWeapon
	IdleAfterFiringDelay	= 0
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	WeaponSpeed				= 75         
	DelayBetweenShots		= 5000					// time between shots, msec
	PreAttackDelay			= 700
	PreAttackType			= PER_ATTACK			// Do the delay each time we attack a new target
	//PreAttackFX				= FX_GandalfPreAttackBlast
	//FireFX					= FX_GandalfBlast
	FireFX                = FX_DwarvenFortressOilDecal09v3 ;;.;;
	
	// A basic Nugget that just does damage
	DamageNugget
		Damage			= GENERIC_FORTRESS_OIL_DAMAGE
		DamageTaperOff  = GENERIC_FORTRESS_OIL_DAMAGE_TAPEROFF
		Radius			= DWARVEN_FORTRESS_OIL_DAMAGE_RADIUS
		DelayTime       = 500 ;;-;;
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageScalar	= 0% ANY +DwarvenCatapultFortress
	End

	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 70.0
		Damage			= 20
		DelayTime       = 500 ;;-;;
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 100.0
		Damage			= 30 ;;-;; 40
		MinMaxBurnRate	= 20
		MinDecay		= 1
		MaxResistance	= 0
		DelayTime       = 500 ;;-;;
	End	
	
	//Oil Cask Projectiles
	ProjectileNugget                    
		ProjectileTemplateName			= OilCaskProjectileProjectile 
		WarheadTemplateName				= OilCaskWarhead
		WeaponLaunchBoneSlotOverride	= SECONDARY
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:40 Y:75 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
	ProjectileNugget                    
		ProjectileTemplateName			= OilCaskProjectileProjectile 
		WarheadTemplateName				= OilCaskWarhead
		WeaponLaunchBoneSlotOverride	= TERTIARY
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:40 Y:-75 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
	ProjectileNugget                    
		ProjectileTemplateName			= OilCaskProjectileProjectile 
		WarheadTemplateName				= OilCaskWarhead
		WeaponLaunchBoneSlotOverride	= QUATERNARY
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:-40 Y:75 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
	ProjectileNugget                    
		ProjectileTemplateName			= OilCaskProjectileProjectile 
		WarheadTemplateName				= OilCaskWarhead
		WeaponLaunchBoneSlotOverride	= QUINARY
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:-40 Y:-75 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End
End

//-----------------------------------
Weapon OilCaskWarhead
	ProjectileCollidesWith 	= ENEMIES NEUTRAL STRUCTURES WALLS MONSTERS ;;-;; ENEMIES NEUTRALS NOT_SIMILAR MINES			// Structures is the default, btw.


	RadiusDamageAffects		= ENEMIES NEUTRALS ALLIES NOT_SIMILAR MINES ;;-;; ENEMIES ALLIES NOT_SIMILAR

	DamageNugget ;;-;;
		Damage        	= DWARVEN_FORTRESS_OILCASK_DAMAGE
		DamageTaperOff 	= DWARVEN_FORTRESS_OILCASK_DAMAGE_TAPEROFF
		DamageScalar	= 200% ANY +MONSTER ;;-;;
		Radius        	= DWARVEN_FORTRESS_OILCASK_DAMAGE_RADIUS
		DelayTime     	= 0
		DamageType    	= FLAME ;;-;; CRUSH
		DamageFXType  	= FLAME
		DeathType     	= CRUSHED
		DamageScalar	= 0% ANY +STRUCTURE ;;-;; 
	End
 	FireLogicNugget ;;-;;
		LogicType		= INCREASE_BURN_RATE
		Radius			= 1
		Damage			= 40
	End	
 	FireLogicNugget ;;-;;
		LogicType		= INCREASE_FUEL
		Radius			= 40
		Damage			= 45 ; ;20
		MinMaxBurnRate	= 40
		MinDecay		= 1.5 ;;-;; 23.5 ;1.5 ; ;25
		MaxResistance	= 1
	End	
End

;------------------------------------------------------------------------------
Weapon SauronMace
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon			= Yes
	AcceptableAimDelta		= 60				; Just needs to sort of face in the general direction.
	FireFX				= FX_SauronMaceHit
	DelayBetweenShots		= 3000			; time between shots, msec
	PreAttackDelay			= 2000				; 300 is mace swing delay time before contact with target.
	PreAttackType			= PER_SHOT			; Do the delay each time we attack
	FiringDuration			= 3000 ; ; 3667				; Duration of the mace swing
	DamageDealtAtSelfPosition = Yes				; A melee based AoE.  Arc radiates from me, not them

	; Crush damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= SAURON_DAMAGE
		DamageTaperOff	= #MULTIPLY( SAURON_DAMAGE SAURON_DAMAGE_TAPEROFF ) ;;.;;
		Radius			= 120 ; ; 80.0
		DamageScalar	= 25% ANY +MordorBalrog
		DamageScalar	= 90% ANY +SummonedDragon ;;-;; 25%
		DamageScalar	= 80% ANY +HERO -SummonedDragon -MordorBalrog ;;.;; 40% ; ;
		DamageScalar    = 5% ANY +COMMANDCENTER
		DamageArc		= 75
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= MAGIC
		DeathType		= NORMAL
		DamageSpeed		= 290 ;;-;;
	End

	; Magic damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= SAURON_DAMAGE
		DamageTaperOff	= #MULTIPLY( SAURON_DAMAGE SAURON_DAMAGE_TAPEROFF ) ;;.;;
		Radius			= 120 ; ; 80.0
		DamageScalar	= 25% ANY +MordorBalrog
		DamageScalar	= 90% ANY +SummonedDragon ;;-;; 25%
		DamageScalar	= 80% ANY +HERO -SummonedDragon -MordorBalrog ;;.;; 40% ; ;
		DamageArc		= 75
		DelayTime		= 0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= NORMAL
		DamageSpeed		= 290 ;;-;;
	End

	; Push back units
	MetaImpactNugget
		SpecialObjectFilter = ALL -HERO ;;-;;
		ShockWaveAmount		= 110 ; ; 70
		ShockWaveRadius		= 110 ; ; 75
		ShockWaveArc		= 75				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.5 ;;.;; 1.0
		ShockWaveSpeed		= 290 ;;.;; 0.0
		ShockWaveZMult		= 1.0 ;;.;; 1.6
	End
	
	; Push back heroes ;;.;;
	MetaImpactNugget ;;.;; Against 1k heroe.
		SpecialObjectFilter = ANY +HERO ;;-;;
		HeroResist			= 0.50
		ShockWaveAmount		= 70 ;;.;; 110 ; ; 70
		ShockWaveRadius		= 110 ; ; 75
		ShockWaveArc		= 75
		ShockWaveTaperOff	= 1.2 ;;.;; 1.0
		ShockWaveSpeed		= 290 ;;.;; 0.0
		ShockWaveZMult		= 1.0 ;;.;; 1.6
	End
	MetaImpactNugget ;;.;; Against all the other heroes.
		SpecialObjectFilter = ANY +HERO ;;-;;
		HeroResist			= 0.80
		ShockWaveAmount		= 90 ;;.;; 110 ; ; 70
		ShockWaveRadius		= 110 ; ; 75
		ShockWaveArc		= 75
		ShockWaveTaperOff	= 1.1 ;;.;; 1.0
		ShockWaveSpeed		= 290 ;;.;; 0.0
		ShockWaveZMult		= 1.0 ;;.;; 1.6
	End
End

;------------------------------------------------------------------------------
Weapon RingHeroDeathShockwave		; Big Blue Ring Blast
	IdleAfterFiringDelay	= 0
	AttackRange				= 120
	MinimumAttackRange		= 0.8
	WeaponSpeed				= 401							; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 601							; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed		= Yes							; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots		= 5000							; time between shots, msec
	PreAttackDelay			= 2600
	PreAttackType			= PER_ATTACK					; Do the delay each time we attack a new target
	PreAttackFX				= FX_RingHeroPreAttackBlast
	FireFX					= FX_RingHeroBlast
	FiringDuration			= 1400
	
	DamageNugget											; A basic Nugget that just does damage
		Damage			= SAURON_DEATH_EXPLOSION_DAMAGE
		Radius			= 250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0								; must match the ShockWaveSpeed below
	    DamageScalar	= 0% ALL ALLIES						; only meta impact affects allied units.
	End

	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 70.0
		ShockWaveRadius		= 500.0
		ShockWaveTaperOff	= 1.0
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon SauronFiresOfDoomWeapon // Old
	AttackRange			= 300
	WeaponSpeed			= 801		; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 2000		; time between shots, msec
	PreAttackDelay      = 400
	PreAttackType       = PER_SHOT	; ; Do the delay each time we attack a new target
 	FiringDuration      = 1100
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	WeaponOCLNugget
			WeaponOCLName = OCL_FiresOfDoom
	End

End

;------------------------------------------------------------------------------
;;-;; No longer used, but useful for map.ini stuff.
Weapon SauronRainOfFireWeapon ;;-;;
	AttackRange			= 300
	WeaponSpeed			= 801
	HitPercentage		= 100
	DelayBetweenShots	= 2000
	PreAttackDelay      = 400
	PreAttackType       = PER_SHOT
 	FiringDuration      = 1100
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	FireFX              = FX_SauronROF ;;-;; 

	WeaponOCLNugget
			WeaponOCLName = OCL_SauronROFSeedFinal ;;-;; 
 	End

End

;------------------------------------------------------------------------------
;;-;; No longer used, but useful for map.ini stuff.
Weapon GaladrielLightOfLightWeapon ;;-;;
	AttackRange			= 300
	FireFX              = FX_SummonLoL ;;-;; 
 
	WeaponOCLNugget
			WeaponOCLName = OCL_LadyOfLightSeedFinal ;;-;; 
 	End

End

;------------------------------------------------------------------------------
Weapon EvilEyeWeapon  ; BALANCE EvilEyeWeapon
	AttackRange			= GANDALF_PHASER_RANGE				;600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		; time between shots, msec
	FireFX              = FX_EvilEyeWeapon
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage

		Damage        = MOUTH_OF_SAURON_EVILEYE_DAMAGE
		DamageScalar  = 115% ANY +HERO -CANNOT_RETALIATE -ElvenLegolas -GondorAragorn -ElvenElrond -DwarvenGimli;;.;;
 		DamageScalar  = 50% ANY +STRUCTURE ;;-;;
		DamageScalar  = 50% ANY +RohanGenericEnt +RohanTreeBerd
		DamageScalar  = 65% ANY +GoblinCaveTroll
		DamageScalar  = 65% ANY +CaveTroll_Slaved
		DamageScalar  = 65% ANY +MordorMountainTroll
		DamageScalar  = 100% ANY +MordorDrummerTroll
		DamageScalar  = 100% ANY +MordorAttackTroll
		DamageScalar  = 65% ANY +MordorMumakil ;;-;;
		DamageScalar  = 50% ANY SPELLBOOK_SUMMONED_UNITS ;;-;; +SUMMONED ; ;
		DamageScalar  = 80% ANY +MordorWitchKingOnFellBeast ;;.;; 85% ; ; 150% ; ; +GondorGwaihir +Drogoth	
		DamageScalar  = 140% ANY +Drogoth ;;.;; 100% 
		DamageScalar  = 90% ANY +MordorFellBeast ;;-;; 85% ;;=;; 85% ;; 130%
		DamageScalar  = 40% ANY +ElvenLegolas ; ; btp 3.0, 2.6 was 70%
		DamageScalar  = 130% ANY +GondorAragorn ;;.;; 115% ;;-FixedGimliAragornLink-;;
		DamageScalar  = 130% ANY +ElvenElrond ;;.;; 115% ;;-FixedGimliAragornLink-;;
		DamageScalar  = 130% ANY +DwarvenGimli ;;.;; 115% ;;-FixedGimliAragornLink-;;
		DamageScalar  = 115% ANY +ElvenFortressEagle ;;-;; 
		DamageScalar  = 120% ANY +GondorGwaihir_Summoned ;;.;; 115% ;;-;; 
		Radius        = 17.6
		DamageSpeed	  = 801 ;;-;; DelayTime     = 200           ;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist          =   0.75 ; ;
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 17.6
		ShockWaveTaperOff	= 0.5
		ShockWaveSpeed	  = 801 ;;-;; DelayTime			= 200		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End
End

;------------------------------------------------------------------------------
Weapon WildFortressBatCloudWeapon
	AttackRange			= 80
	WeaponSpeed			= 801		; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 2000		; time between shots, msec
	PreAttackDelay      = 400
	PreAttackType       = PER_SHOT	; ; Do the delay each time we attack a new target
	
	FiringDuration      = 1100
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	WeaponOCLNugget
		WeaponOCLName = OCL_WildFortressBatCloud
	End
End

;------------------------------------------------------------------------------
Weapon WildFortressBatCloudBasicWeapon
	AttackRange			= 100
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots	= 1000               ; time between shots, msec	
	FiringDuration      = 1000
	CanFireWhileMoving	= Yes
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 10
		Radius			= 50.0
		DamageType		= PIERCE
		;DamageFXType	= MAGIC
		DeathType		= NORMAL
		DamageSpeed		= 1400.0
	End
End

;------------------------------------------------------------------------------
Weapon IsengardFortressMurderOfCrowsWeapon
	AttackRange			= 80
	WeaponSpeed			= 801		; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 2000		; time between shots, msec
	PreAttackDelay      = 400
	PreAttackType       = PER_SHOT	; ; Do the delay each time we attack a new target
	
	FiringDuration      = 1100
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	WeaponOCLNugget
		WeaponOCLName = OCL_IsengardFortressMurderOfCrows
	End
End

;------------------------------------------------------------------------------
Weapon IsengardFortressMurderOfCrowsBasicWeapon
	AttackRange			= 100
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots	= 1000               ; time between shots, msec	
	FiringDuration      = 1000
	CanFireWhileMoving	= Yes
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 10
		Radius			= 50.0
		DamageType		= PIERCE
		;DamageFXType	= MAGIC

		DeathType		= NORMAL
		DamageSpeed		= 1400.0
	End
End

;------------------------------------------------------------------------------
Weapon IsengardSharkuManEaterGrab
	LeechRangeWeapon = Yes ;;.;; //BALANCE RangedAbilitiesNotFailing_2022//
	AttackRange        		= 25 ;;.;; 500 ;;-;; 25 ;;-;; 20.0 ;;-;; 8.0
	// Even if this fails, it's gonna trigger the modifier anyways. So let him eat in peace.
	DelayBetweenShots		= 30            ; time between shots, msec
	FiringDuration			= 30
	MeleeWeapon			= Yes
	ChaseWeapon			= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	GrabNugget                    			; A Nugget that makes me grab you
		SpecialObjectFilter		= ANY +INFANTRY -HERO -PORTER
		ContainTargetOnEffect   = Yes
		RemoveTargetFromOtherContain = Yes	; Rip out of any other contain (eg horde)
		ImpactTargetOnEffect	= Yes ;... if for some reason, I can not contain you, I'll try to give you a shove
		ShockWaveAmount   	= 50.0
		ShockWaveRadius   	= 16.0
		ShockWaveTaperOff 	= 0.75
		ShockWaveZMult    	= 1.1
	End
	
	SpecialModelConditionNugget
		ModelConditionNames = STUNNED_FLAILING
		ModelConditionDuration = 1250
	End
End

;------------------------------------------------------------------------------
Weapon IsengardSharkuManEaterWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS SELF				; Self for when this warhead is attached to an already grabbed unit being thrown as projectile instead of a rock
  DamageNugget
	SpecialObjectFilter		= ANY +INFANTRY -HERO -PORTER
	Radius		  = 0.0				; Second damage nugget does instant death for only the direct target (which will be the unit thrown)
	DamageType    = CRUSH
    DeathType     = CRUSHED
    ForceKillObjectFilter	= ANY +INFANTRY -HERO -PORTER
  End
End



;--------------------------------Fellbeast.Weapon-------------------------------------
Weapon FellbeastGrabWeapon  ; BALANCE Fellbeast grabbing victim fire weapon
  CanSwoop		= Yes  
  RadiusDamageAffects    = ENEMIES NEUTRALS

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = NAZGUL_GRAB_SPLASH_DAMAGE
    Radius        = NAZGUL_GRAB_RADIUS_OF_DAMAGE
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	SpecialObjectFilter = ALL -STRUCTURE
	ForbiddenUpgradeNames	= Upgrade_ObjectLevel6
  End
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = NAZGUL_GRAB_SPLASH_DAMAGE
    Radius        = NAZGUL_GRAB_RADIUS_OF_DAMAGE_LVL6
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	SpecialObjectFilter = ALL -STRUCTURE
	RequiredUpgradeNames	= Upgrade_ObjectLevel6
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist          = NAZGUL_SHOCKWAVE_HERO_RESIST_CHANCES
	ShockWaveArc		= NAZGUL_GRAB_ARC_OF_SHOCK
    ShockWaveAmount		= NAZGUL_GRAB_AMOUNT_OF_SHOCK
    ShockWaveRadius		= NAZGUL_GRAB_RADIUS_OF_SHOCK
    ShockWaveTaperOff	= 0.75
  End
End

;------------------------------------------------------------------------------

Weapon SummonedEagleGrabWeapon  ; BALANCE Fellbeast grabbing victim fire weapon
  CanSwoop		= Yes  
  RadiusDamageAffects    = ENEMIES NEUTRALS

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = EAGLE_GRAB_SPLASH_DAMAGE
    Radius        = SUMMONED_EAGLE_GRAB_RADIUS_OF_DAMAGE
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	DamageScalar   = 0% ANY +ARCHER -CAVALRY +STRUCTURE ;;=;;
  End

  DamageNugget ;;=;;
    Damage        = EAGLE_GRAB_SPLASH_DAMAGE
    Radius        = FLYER_GRAB_RADIUS_OF_DAMAGE_AGAINST_ARCHER
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	SpecialObjectFilter = ANY +ARCHER -CAVALRY ;;-;; substracted cavalry
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist         	= EAGLE_SHOCKWAVE_HERO_RESIST_CHANCES
	ShockWaveArc		= NAZGUL_GRAB_ARC_OF_SHOCK
    ShockWaveAmount		= NAZGUL_GRAB_AMOUNT_OF_SHOCK
    ShockWaveRadius		= NAZGUL_GRAB_RADIUS_OF_SHOCK
    ShockWaveTaperOff	= 0.75
  End
End

;------------------------------------------------------------------------------

Weapon EagleGrabWeapon  ; BALANCE Fellbeast grabbing victim fire weapon
  CanSwoop		= Yes  
  RadiusDamageAffects    = ENEMIES NEUTRALS

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = EAGLE_GRAB_SPLASH_DAMAGE
    Radius        = FORTRESS_EAGLE_GRAB_RADIUS_OF_DAMAGE
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	DamageScalar   = 0% ANY +ARCHER -CAVALRY +STRUCTURE ;;=;;
  End

  DamageNugget ;;=;;
    Damage        = EAGLE_GRAB_SPLASH_DAMAGE
    Radius        = FLYER_GRAB_RADIUS_OF_DAMAGE_AGAINST_ARCHER
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	SpecialObjectFilter = ANY +ARCHER -CAVALRY ;;-;; substracted cavalry
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist         	= EAGLE_SHOCKWAVE_HERO_RESIST_CHANCES
	ShockWaveArc		= EAGLE_GRAB_ARC_OF_SHOCK
    ShockWaveAmount		= EAGLE_GRAB_AMOUNT_OF_SHOCK
    ShockWaveRadius		= EAGLE_GRAB_RADIUS_OF_SHOCK
    ShockWaveTaperOff	= 0.75
  End
End

;------------------------------------------------------------------------------

Weapon WitchKingGrabWeapon  ; BALANCE Fellbeast grabbing victim fire weapon
  CanSwoop		= Yes  
  RadiusDamageAffects    = ENEMIES NEUTRALS

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WITCHKING_GRAB_SPLASH_DAMAGE
    Radius        = WITCHKING_GRAB_RADIUS_OF_DAMAGE
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	DamageScalar   = 0% ANY +ARCHER -CAVALRY +STRUCTURE ;;=;;
  End

  DamageNugget ;;=;;
    Damage        = WITCHKING_GRAB_SPLASH_DAMAGE
    Radius        = FLYER_GRAB_RADIUS_OF_DAMAGE_AGAINST_ARCHER
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	SpecialObjectFilter = ANY +ARCHER -CAVALRY ;;-;; substracted cavalry
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	HeroResist          = WITCHKING_SHOCKWAVE_HERO_RESIST_CHANCES
	ShockWaveArc		= NAZGUL_GRAB_ARC_OF_SHOCK
    ShockWaveAmount		= NAZGUL_GRAB_AMOUNT_OF_SHOCK
    ShockWaveRadius		= NAZGUL_GRAB_RADIUS_OF_SHOCK
    ShockWaveTaperOff	= 0.75
  End
End

;--------------------------------Fellbeast.Weapon---------------------------------
; This is the Nazgul Grab Attack
Weapon NazgulGrabAttack  				; BALANCE NazgulGrabAttack
	AttackRange				= 20.0
	RadiusDamageAffects		= ENEMIES NEUTRALS 
	FireFX					= FX_FellbeastGrab_BTP ;;=;; FX_BuildingHitByFellbeastClaw  ; ; FX_FellbeastGrab  //;;=;; now it's a merge of both sound effects, since the 1.08 one is played only 40% of the times.
	DelayBetweenShots		= 30            ; time between shots, msec
	FiringDuration			= 30
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        		; A basic Nugget that just does damage
		Damage        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE
		Radius        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE_RADIUS
;;No grabbing the heroes (Who won't fit in the container anyway.)
;;This is a hack because canWeaponAffect doesn't check that the weapon is a grabbing weapon and the unit isn't grabbable.
;;-CB (only an intern, I just does what I's told)
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		DamageScalar  		= 0% ANY +STRUCTURE ;;-;;
		DamageScalar  		= 0% ANY +HERO ;;-;;
		DamageScalar  		= 0% ANY +PORTER ;;-;;
		DamageScalar  		= 0% ANY +SHIP ;;-;;
		DamageScalar  		= 0% ANY +DwarvenBattleWagon ;;-;;
	End
	;;-;; 109v2; added taperoff against Wagons.
	DamageNugget
		Damage        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE
		DamageTaperOff		= #MULTIPLY( GENERIC_FLYER_GRAB_ATTACK_DAMAGE GENERIC_FLYER_GRAB_ATTACK_DAMAGE_TAPEROFF_VS_WAGONS )
		DamageScalar		= 180% ANY +DwarvenBattleWagon ;;=;;
  		Radius        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE_RADIUS
 		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		SpecialObjectFilter = ANY +DwarvenBattleWagon ;;-;;
	End

	GrabNugget                    			; A Nugget that makes me grab you
		SpecialObjectFilter		= ANY +GRAB_AND_DROP
		ContainTargetOnEffect   = Yes
		ImpactTargetOnEffect	= Yes ;... if for some reason, I can not contain you, I'll try to give you a shove
		ShockWaveAmount   		= 50.0
		ShockWaveRadius   		= 16.0
		ShockWaveTaperOff 		= 0.75
		ShockWaveZMult    		= 1.1
	End
End

;------------------------------------------------------------------------------

Weapon WitchKingGrabAttack  				; BALANCE NazgulGrabAttackWitchKing
	AttackRange				= 20.0
	RadiusDamageAffects		= ENEMIES NEUTRALS 
	FireFX					= FX_FellbeastGrab_BTP ;;=;; FX_BuildingHitByFellbeastClaw  ; ; FX_FellbeastGrab  //;;=;; now it's a merge of both sound effects, since the 1.08 one is played only 40% of the times.
	DelayBetweenShots		= 30            ; time between shots, msec
	FiringDuration			= 30
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        		; A basic Nugget that just does damage
		Damage        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE
 		Radius        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE_RADIUS
;;No grabbing the heroes (Who won't fit in the container anyway.)
;;This is a hack because canWeaponAffect doesn't check that the weapon is a grabbing weapon and the unit isn't grabbable.
;;-CB (only an intern, I just does what I's told)
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		DamageScalar  		= 0% ANY +STRUCTURE ;;-;;
		DamageScalar  		= 0% ANY +HERO ;;-;;
		DamageScalar  		= 0% ANY +PORTER ;;-;;
		DamageScalar  		= 0% ANY +SHIP ;;-;;
		DamageScalar  		= 0% ANY +DwarvenBattleWagon ;;-;;
	End
	;;-;; 109v2; added taperoff against Wagons.
	DamageNugget
		Damage        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE
		DamageTaperOff		= #MULTIPLY( GENERIC_FLYER_GRAB_ATTACK_DAMAGE GENERIC_FLYER_GRAB_ATTACK_DAMAGE_TAPEROFF_VS_WAGONS )
		DamageScalar  		= 300% ANY +DwarvenBattleWagon ;;-;; 400% ;;=;;
  		Radius        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE_RADIUS
 		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		SpecialObjectFilter = ANY +DwarvenBattleWagon ;;-;;
	End
	
	GrabNugget                    			; A Nugget that makes me grab you
		SpecialObjectFilter		= ANY +GRAB_AND_DROP
		ContainTargetOnEffect   = Yes
		ImpactTargetOnEffect	= Yes ;... if for some reason, I can not contain you, I'll try to give you a shove
		ShockWaveAmount   	= 50.0
		ShockWaveRadius   	= 16.0
		ShockWaveTaperOff 	= 0.75
		ShockWaveZMult    	= 1.1
	End
End

;------------------------------------------------------------------------------
Weapon EagleGrabAttack 
	AttackRange				= 20.0
	RadiusDamageAffects		= ENEMIES NEUTRALS ; ;
	FireFX					= FX_EagleGrab  
	DelayBetweenShots		= 30            ; time between shots, msec
	FiringDuration			= 30
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        		; A basic Nugget that just does damage
		Damage        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE
 		Radius        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE_RADIUS
;;No grabbing the heroes (Who won't fit in the container anyway.)
;;This is a hack because canWeaponAffect doesn't check that the weapon is a grabbing weapon and the unit isn't grabbable.
;;-CB (only an intern, I just does what I's told)
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		DamageScalar  		= 0% ANY +STRUCTURE ;;-;;
		DamageScalar  		= 0% ANY +HERO ;;-;;
		DamageScalar  		= 0% ANY +PORTER ;;-;;
		DamageScalar  		= 0% ANY +SHIP ;;-;;
		DamageScalar  		= 0% ANY +DwarvenBattleWagon ;;-;;
	End
	;;-;; 109v2; added taperoff against Wagons.
	DamageNugget
		Damage        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE
		DamageTaperOff		= #MULTIPLY( GENERIC_FLYER_GRAB_ATTACK_DAMAGE GENERIC_FLYER_GRAB_ATTACK_DAMAGE_TAPEROFF_VS_WAGONS )
		DamageScalar  		= 180% ANY +DwarvenBattleWagon ;;=;;
  		Radius        		= GENERIC_FLYER_GRAB_ATTACK_DAMAGE_RADIUS
 		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
		SpecialObjectFilter = ANY +DwarvenBattleWagon ;;-;;
	End
	
	GrabNugget                    			; A Nugget that makes me grab you
		SpecialObjectFilter		= ANY +GRAB_AND_DROP 
		ContainTargetOnEffect   = Yes
		ImpactTargetOnEffect	= Yes ;... if for some reason, I can not contain you, I'll try to give you a shove
		ShockWaveAmount   		= 50.0
		ShockWaveRadius   		= 16.0
		ShockWaveTaperOff 		= 0.75
		ShockWaveZMult    		= 1.1
	End
End

;------------------------------------------------------------------------------
Weapon EaglePlowAttack  
    RadiusDamageAffects		= ENEMIES NEUTRALS ;; removed ALLIES
	AttackRange				= 24.0
	AcceptableAimDelta		= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots		= 4000			; time between shots, msec
	;;;FireFX				= FX_TrollTreeHit
	FireFX					= FX_BuildingHitByFlyer
	AntiAirborneVehicle		= Yes			;allows attack of flying units
	AntiAirborneMonster		= Yes			;no... THIS allows attack of flying units because somebody was a funny man.
	AntiAirborneInfantry	= Yes	  
	MeleeWeapon				= No
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= EAGLE_PLOW_DAMAGE_OUTER
 		DamageTaperOff		= #MULTIPLY( EAGLE_PLOW_DAMAGE_OUTER EAGLE_PLOW_DAMAGE_TAPEROFF )
		DamageScalar		= 90% ANY +STRUCTURE -CAN_SHOOT_OVER_WALLS -COMMANDCENTER -FS_BASE_DEFENSE ;;-;; 
		DamageScalar  		= 30% ANY +FS_BASE_DEFENSE ;;=;;
		DamageScalar		= 65% ANY +COMMANDCENTER ;;-;; 70% ;;-;; 75% ;;-;; 80% ; ;
		DamageScalar		= 39% ANY +HERO -MONSTER -CANNOT_RETALIATE -ElvenGaladriel -MordorSauron ;;=;; 40.5% ;;=;; 30%
 		DamageScalar		= 30% ANY +CANNOT_RETALIATE +ElvenGaladriel +MordorSauron
		Radius				= EAGLE_OUTER_RADIUS
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		DamageScalar		= 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
	End
	DamageNugget                    		    		; A basic Nugget that just does damage
		Damage				= EAGLE_FLY_INTO_DAMAGE  
  		DamageTaperOff		= #MULTIPLY( EAGLE_FLY_INTO_DAMAGE EAGLE_PLOW_DAMAGE_TAPEROFF )
		DamageScalar		= 90% ANY +STRUCTURE -CAN_SHOOT_OVER_WALLS -COMMANDCENTER ;;-;; 
		DamageScalar		= 130% ANY +HERO -MONSTER -CANNOT_RETALIATE -ElvenGaladriel -MordorSauron ;;=;; 135% ;;=;; 100% 
		DamageScalar		= 65% ANY +COMMANDCENTER ;;-;; 70% ;;-;; 75% ;;-;; 80% ; ;
		Radius				= EAGLE_OUTER_RADIUS
		DelayTime			= 1
		DamageType			= FLY_INTO
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
	End
	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= EAGLE_PLOW_DAMAGE_INNER
 		DamageTaperOff		= #MULTIPLY( EAGLE_PLOW_DAMAGE_INNER EAGLE_PLOW_DAMAGE_TAPEROFF )
		DamageScalar		= 90% ANY +STRUCTURE -CAN_SHOOT_OVER_WALLS -COMMANDCENTER -FS_BASE_DEFENSE ;;-;; 
		DamageScalar  		= 30% ANY +FS_BASE_DEFENSE ;;=;;
		DamageScalar		= 65% ANY +COMMANDCENTER ;;-;; 70% ;;-;; 75% ;;-;; 80% ; ;
		DamageScalar		= 39% ANY +HERO -MONSTER -CANNOT_RETALIATE -ElvenGaladriel -MordorSauron ;;=;; 40.5% ;;=;; 30% 
		DamageScalar		= 30% ANY +CANNOT_RETALIATE +ElvenGaladriel +MordorSauron
		Radius				= EAGLE_INNER_RADIUS
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		DamageScalar		= 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
		DamageScalar		= 50% ANY +DwarvenBattleWagon ;;=;; 
	End


	MetaImpactNugget        				        ; A Nugget that throws things back with force
		HeroResist         		= EAGLE_SHOCKWAVE_HERO_RESIST_CHANCES
		ShockWaveAmount   		= GENERIC_PLOW_SHOCKWAVE_AMOUNT
		ShockWaveRadius   		= EAGLE_PLOW_SHOCKWAVERADIUS
		ShockWaveTaperOff 		= 0.5
	End
End


;--------------------------------Fellbeast.Weapon-------------------------------------
; This is the normal Nazgul Plow Attack
Weapon NazgulPlowAttack  						; BALANCE 
	RadiusDamageAffects		= ENEMIES NEUTRALS ; ; removed ALLIES NOT_SIMILAR
	AttackRange				= 24.0
	AcceptableAimDelta		= 5			      ; Just needs to sort of face in the general direction.
	DelayBetweenShots		= 3500 ;;.;; 4000			; time between shots, msec
	;;.;; FiringDuration			= 4500			; has to be as long as the swoop-follow-through, or you can use an interrupt exploit to re-attack repeatedly
	FireFX					= FX_BuildingHitByFlyer_FellbeastBTP ;;=;; FX_BuildingHitByFellbeast ; ; FX_BuildingHitByFlyer
	AntiAirborneVehicle		= Yes			;allows attack of flying units
	AntiAirborneMonster		= Yes			;no... THIS allows attack of flying units because somebody was a funny man.
	AntiAirborneInfantry	= Yes	  
	MeleeWeapon				= No
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget     ; A basic Nugget that just does damage
		Damage         = NAZGUL_PLOW_DAMAGE_OUTER
 		DamageTaperOff = #MULTIPLY( NAZGUL_PLOW_DAMAGE_OUTER NAZGUL_PLOW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		DamageScalar   = 1% ANY +STRUCTURE
		DamageScalar   = 50% ANY +HERO -GondorGwaihir -ElvenFortressEagle -GondorGwaihir_Summoned ; ; 30%
		DamageScalar   = 30% ANY +GondorGwaihir +ElvenFortressEagle +GondorGwaihir_Summoned
		Radius         = NAZGUL_OUTER_RADIUS
		DelayTime      = 1
		DamageType     = SIEGE
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
		DamageScalar		= 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
	End

	DamageNugget     ; A basic Nugget that just does damage
		Damage         = NAZGUL_FLY_INTO_DAMAGE 
 		DamageTaperOff = #MULTIPLY( NAZGUL_FLY_INTO_DAMAGE NAZGUL_PLOW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		Radius         = NAZGUL_OUTER_RADIUS
		DelayTime      = 1
		DamageType     = FLY_INTO
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
	End

	DamageNugget     ; Another one that also does damage
		Damage		   = NAZGUL_PLOW_DAMAGE_INNER
 		DamageTaperOff = #MULTIPLY( NAZGUL_PLOW_DAMAGE_INNER NAZGUL_PLOW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		DamageScalar   = 85% ANY +STRUCTURE -CAN_SHOOT_OVER_WALLS -ECONOMY_STRUCTURE -FS_FACTORY -IsengardFurnace; ; 75% ANY +STRUCTURE
		DamageScalar   = 85% ANY +ECONOMY_STRUCTURE -FS_FACTORY ; ;
		DamageScalar   = 95% ANY +FS_FACTORY -COMMANDCENTER ;;-;;
		DamageScalar   = 85% ANY +COMMANDCENTER ; ;
		DamageScalar   = 75% ANY +IsengardFurnace ;;=;; 85%
		DamageScalar   = 50% ANY +HERO -GondorGwaihir -ElvenFortressEagle -GondorGwaihir_Summoned ; ; 30% NONE
		DamageScalar   = 30% ANY +GondorGwaihir +ElvenFortressEagle +GondorGwaihir_Summoned
		Radius         = NAZGUL_INNER_RADIUS
		DelayTime      = 0
		DamageType     = HERO ; ; SIEGE
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
		DamageScalar		= 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
		DamageScalar		= 75% ANY +DwarvenBattleWagon
	End

	MetaImpactNugget     ; A Nugget that throws things back with force
		HeroResist         = NAZGUL_SHOCKWAVE_HERO_RESIST_CHANCES
		ShockWaveAmount   		= GENERIC_PLOW_SHOCKWAVE_AMOUNT
		ShockWaveRadius    = NAZGUL_PLOW_SHOCKWAVERADIUS
		ShockWaveTaperOff  =  0.5
	End
End

;------------------------------------------------------------------------------

Weapon WitchKingPlowAttack  		; BALANCE
	RadiusDamageAffects		= ENEMIES NEUTRALS ; ; ; ; RadiusDamageAffects    = ENEMIES ALLIES NOT_SIMILAR
     AttackRange			= 24.0
     AcceptableAimDelta		= 5			      ; Just needs to sort of face in the general direction.
     DelayBetweenShots		= 3500 ;;.;; 4000			; time between shots, msec
	;;.;; FiringDuration			= 4500			; has to be as long as the swoop-follow-through, or you can use an interrupt exploit to re-attack repeatedly
	FireFX					= FX_BuildingHitByFlyer_FellbeastBTP ;;=;; FX_BuildingHitByFellbeast ; ; FX_BuildingHitByFlyer

	AntiAirborneVehicle    = Yes			;allows attack of flying units
	AntiAirborneMonster    = Yes			;no... THIS allows attack of flying units because somebody was a funny man.
	AntiAirborneInfantry   = Yes	  
	MeleeWeapon            = No
	CanSwoop               = Yes
	ChaseWeapon            = Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget     ; A basic Nugget that just does damage
		Damage         = WITCHKING_PLOW_DAMAGE_OUTER
 		DamageTaperOff = #MULTIPLY( WITCHKING_PLOW_DAMAGE_OUTER WITCHKING_PLOW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		DamageScalar	= 1% ANY +STRUCTURE
		DamageScalar   = 50% ANY +HERO -GondorGwaihir -ElvenFortressEagle -GondorGwaihir_Summoned ; ; 30% ANY +HERO
		DamageScalar   = 30% ANY +GondorGwaihir +ElvenFortressEagle +GondorGwaihir_Summoned
		Radius         = WITCHKING_OUTER_RADIUS
		DelayTime      = 1
		DamageType     = SIEGE
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
		DamageScalar		= 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
	End

	DamageNugget     ; A basic Nugget that just does damage
		Damage         = WITCHKING_FLY_INTO_DAMAGE 
 		DamageTaperOff = #MULTIPLY( WITCHKING_FLY_INTO_DAMAGE WITCHKING_PLOW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		Radius         = WITCHKING_OUTER_RADIUS
		DelayTime      = 1
		DamageType     = FLY_INTO
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
	End

	DamageNugget     ; Another one that also does damage
		Damage			= WITCHKING_PLOW_DAMAGE_INNER
 		DamageTaperOff = #MULTIPLY( WITCHKING_PLOW_DAMAGE_INNER WITCHKING_PLOW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar	= 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		DamageScalar   = 85% ANY +STRUCTURE -CAN_SHOOT_OVER_WALLS -ECONOMY_STRUCTURE -FS_FACTORY -IsengardFurnace; ; 75% ANY +STRUCTURE
		DamageScalar   = 85% ANY +ECONOMY_STRUCTURE -FS_FACTORY ; ;
		DamageScalar   = 95% ANY +FS_FACTORY -COMMANDCENTER ;;-;;
		DamageScalar   = 85% ANY +COMMANDCENTER ; ;
		DamageScalar	= 50% ANY +HERO -GondorGwaihir -ElvenFortressEagle -GondorGwaihir_Summoned ; ; 30% ANY +HERO
		DamageScalar	= 30% ANY +GondorGwaihir +ElvenFortressEagle +GondorGwaihir_Summoned		
		Radius			= WITCHKING_INNER_RADIUS
		DelayTime		= 0
		DamageType		= HERO ; ; SIEGE
		DamageFXType	= CLUBBING
		DeathType		= NORMAL
		DamageScalar	= 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
		DamageScalar	= 75% ANY +DwarvenBattleWagon ;;-;; 135% ;;-;; 180% ;;=;;
	End

	MetaImpactNugget     ; A Nugget that throws things back with force
		HeroResist         = WITCHKING_SHOCKWAVE_HERO_RESIST_CHANCES
		ShockWaveAmount   		= GENERIC_PLOW_SHOCKWAVE_AMOUNT
		ShockWaveRadius    = WITCHKING_PLOW_SHOCKWAVERADIUS
		ShockWaveTaperOff  =  0.5
	End
End



; ;------------------------------------------------------------------------------
Weapon DrogothPlowAttack  						; 
	RadiusDamageAffects			= ENEMIES NEUTRALS ; ; ; ; RadiusDamageAffects    = ENEMIES ALLIES NOT_SIMILAR
	AttackRange					= 24.0
	AcceptableAimDelta			= 5			      ; Just needs to sort of face in the general direction.
	DelayBetweenShots			= 3500 ;;.;; 4000 ;;-;; 400 ; ;4000			; time between shots, msec
;;.;;	FiringDuration				= 4500 ;;-;; 450 ; ;4500			; has to be as long as the swoop-follow-through, or you can use an interrupt exploit to re-attack 	
	FireFX						= FX_BuildingHitByFlyer
	AntiAirborneVehicle			= Yes			;allows attack of flying units
	AntiAirborneMonster			= Yes			;no... THIS allows attack of flying units because somebody was a funny man.
	AntiAirborneInfantry		= Yes	  
	MeleeWeapon					= No
	CanSwoop					= Yes
	ChaseWeapon					= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget     ; A basic Nugget that just does damage
		Damage         = DROGOTH_PLOW_DAMAGE_OUTER
    	DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		DamageScalar   = 1% ANY +STRUCTURE ;;=;;
		DamageScalar   = 1% ANY +SHIP ;;=;;
    	DamageScalar   = 50% ANY +HERO -IsengardSaruman ; ; 30% ANY +HERO
		DamageScalar   = 30% ANY +IsengardSaruman
		DamageScalar   = 115% ANY +MordorAttackTroll ;;-;;
		Radius         = DROGOTH_OUTER_RADIUS
		DelayTime      = 1
		DamageType     = SIEGE
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
		DamageScalar   = 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
	End
	DamageNugget     ; A basic Nugget that just does damage
		Damage         = DROGOTH_FLY_INTO_DAMAGE  
		DamageScalar   = 0% ANY +SHIP ;;=;;
    	DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		Radius         = DROGOTH_OUTER_RADIUS
		DelayTime      = 1
		DamageType     = FLY_INTO
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
	End
	DamageNugget     ; Another one that also does damage
		Damage         = DROGOTH_PLOW_DAMAGE_INNER
    	DamageScalar   = 0% ANY +MordorWitchKingOnFellBeast +MordorFellBeast
		DamageScalar   = 85% ANY +STRUCTURE -CAN_SHOOT_OVER_WALLS -IsengardFurnace  ; ; 75% ANY +STRUCTURE
		DamageScalar   = 75% ANY +IsengardFurnace
    	DamageScalar   = 50% ANY +HERO -IsengardSaruman; ; 30% ANY +HERO
		DamageScalar   = 40% ANY +IsengardSaruman ;;-;; 30%
		DamageScalar   = 115% ANY +MordorAttackTroll ;;-;;
		Radius         = DROGOTH_INNER_RADIUS
		DelayTime      = 0
		DamageType     = HERO ; ; SIEGE
		DamageFXType   = CLUBBING
		DeathType      = NORMAL
		DamageScalar   = 1000% ANY +MACHINE -MordorGrond -DwarvenBattleWagon
	End

	MetaImpactNugget     ; A Nugget that throws things back with force
		HeroResist         = DROGOTH_SHOCKWAVE_HERO_RESIST_CHANCES
		ShockWaveAmount   		= GENERIC_PLOW_SHOCKWAVE_AMOUNT
		ShockWaveRadius    = DROGOTH_PLOW_SHOCKWAVERADIUS
		ShockWaveTaperOff  =  0.5
	End
End


;------------------------------------------------------------------------------
; This is the normal WitchKing Claw Attack
Weapon WitchKingClawAttack							; BALANCE GenericClawAttack
	AttackRange					= 20.0
	RadiusDamageAffects			= ENEMIES NEUTRALS ; ; 
	AcceptableAimDelta			= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots			= 250			; time between shots, msec
	ClipSize					= 2			;4	; how many shots in a Clip (0 == infinite)
	ClipReloadTime				= 2000
	AutoReloadsClip				= Yes	
	FireFX						= FX_FellbeastClawAttack_BTP ;;=;;FX_BuildingHitByFellbeastClaw ; ; FX_FellbeastClawAttack		;FX_TrollTreeHit
	AntiAirborneVehicle			= Yes			;allows attack of flying units
	AntiAirborneInfantry		= Yes	  
	AntiAirborneMonster			= Yes
	MeleeWeapon					= Yes
	CanSwoop					= Yes
	ChaseWeapon					= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= WITCHKING_CLAW_DAMAGE
		DamageTaperOff		= #MULTIPLY( WITCHKING_CLAW_DAMAGE WITCHKING_CLAW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar		= 150% ANY +MordorMumakil ;;-;; 250%
		DamageScalar		= 65% ANY +WildShelob ;;=;;
		DamageScalar		= 65% ANY +MordorWitchKing ;;=;;
		DamageScalar		= 50% ANY +MordorMountainTroll ;;-;; 65% ;;-;;
		DamageScalar		= 50% ANY +MordorDrummerTroll ;;-;; 70% ;;-;;
		Radius				= WITCHKING_CLAW_RADIUS
		DelayTime     		= 1		
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
     SpecialObjectFilter	= ALL -STRUCTURE; ;
	End
End


;--------------------------------Fellbeast.Weapon-------------------------------------
; This is the normal Nazgul Claw Attack
Weapon NazgulClawAttack							; BALANCE GenericClawAttack
	AttackRange					= 20.0
	RadiusDamageAffects			= ENEMIES NEUTRALS ; ; 
	AcceptableAimDelta			= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots			= 250			; time between shots, msec
	ClipSize					= 2			;4	; how many shots in a Clip (0 == infinite)
	ClipReloadTime				= 2000
	AutoReloadsClip				= Yes	
	FireFX						= FX_FellbeastClawAttack_BTP ;;=;;FX_BuildingHitByFellbeastClaw ; ; FX_FellbeastClawAttack		;FX_TrollTreeHit
	AntiAirborneVehicle			= Yes			;allows attack of flying units
	AntiAirborneInfantry		= Yes	  
	AntiAirborneMonster			= Yes
	MeleeWeapon					= Yes
	CanSwoop					= Yes
	ChaseWeapon					= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= NAZGUL_CLAW_DAMAGE
		DamageTaperOff		= #MULTIPLY( NAZGUL_CLAW_DAMAGE NAZGUL_CLAW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar		= 150% ANY +MordorMumakil ;;-;; 250%
		DamageScalar		= 65% ANY +WildShelob ;;=;;
		DamageScalar		= 65% ANY +MordorWitchKing ;;=;;
		DamageScalar		= 50% ANY +MordorMountainTroll ;;-;; 65% ;;-;;
		DamageScalar		= 50% ANY +MordorDrummerTroll ;;-;; 70% ;;-;;
		Radius				= NAZGUL_CLAW_RADIUS
		DelayTime     		= 1		
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
     SpecialObjectFilter	= ALL -STRUCTURE; ;
	End
End

;------------------------------------------------------------------------------

Weapon EagleClawAttack							; BALANCE GenericClawAttack
	AttackRange				= 20.0
	RadiusDamageAffects		= ENEMIES NEUTRALS ; ;
	AcceptableAimDelta		= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots		= 250			; time between shots, msec
	ClipSize				= 2			;4	; how many shots in a Clip (0 == infinite)
	ClipReloadTime			= 2000
	AutoReloadsClip			= Yes	
	FireFX					= FX_EagleClawAttack
	AntiAirborneVehicle		= Yes			;allows attack of flying units
	AntiAirborneInfantry	= Yes	  
	AntiAirborneMonster		= Yes
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	PreferredTargetBone 	= B_HEAD

	DamageNugget							; A basic Nugget that just does damage
		Damage				= EAGLE_CLAW_DAMAGE
		DamageTaperOff		= #MULTIPLY( EAGLE_CLAW_DAMAGE EAGLE_CLAW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar		= 75% ANY +RohanGenericEnt +RohanTreeBerd
		DamageScalar		= 65% ANY +WildShelob ;;=;;
		DamageScalar		= 65% ANY +MordorWitchKing ;;=;;
		DamageScalar		= 220% ANY +MordorMumakil ;;-;; 250%
		DamageScalar		= 50% ANY +MordorBalrog ; ;
		DamageScalar		= 80% ANY +Drogoth ; ;
		DamageScalar		= 112% ANY +MordorFellBeast +MordorWitchKingOnFellBeast
		DamageScalar		= 50% ANY +MordorMountainTroll ;;-;; 65% ;;-;;
		DamageScalar		= 50% ANY +MordorDrummerTroll ;;-;; 70% ;;-;;
		Radius				= EAGLE_CLAW_RADIUS
		DelayTime    		= 1		
		DamageType			= HERO ; ;SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		SpecialObjectFilter	= ALL -STRUCTURE; ;
	End
End
;------------------------------------------------------------------------------
; Basically the same as the EagleClawAttack but with a different FX
Weapon EagleClawWyrmAttack
	AttackRange				= 20.0
	AcceptableAimDelta		= 5							; Just needs to sort of face in the general direction.
	DelayBetweenShots		= 250						; time between shots, msec
	ClipSize               	= 2							; how many shots in a Clip (0 == infinite)
	ClipReloadTime         	= 2000
	AutoReloadsClip		    = Yes
	FireFX					= FX_GwaihirVsWyrm
	AntiAirborneVehicle		= Yes						; allows attack of flying units
	AntiAirborneInfantry	= Yes
	AntiAirborneMonster		= Yes
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon				= Yes						; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	PreferredTargetBone		= B_HEAD


	DamageNugget										; A basic Nugget that just does damage
		Damage				= EAGLE_CLAW_DAMAGE
		DamageTaperOff		= #MULTIPLY( EAGLE_CLAW_DAMAGE EAGLE_CLAW_DAMAGE_TAPEROFF ) ;;-;;
		Radius				= EAGLE_CLAW_RADIUS
		DelayTime     		= 1
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
		SpecialObjectFilter	= ALL -STRUCTURE; ;
	End
End

;------------------------------------------------------------------------------

Weapon DrogothClawAttack					; BALANCE GenericClawAttack
	AttackRange					= 20.0
	RadiusDamageAffects			= ENEMIES NEUTRALS ; ; 
	AcceptableAimDelta			= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots			= 250			; time between shots, msec
	ClipSize					= 2			;4	; how many shots in a Clip (0 == infinite)
	ClipReloadTime				= 2000
	AutoReloadsClip				= Yes	
	FireFX						= FX_FellbeastClawAttack 	;FX_TrollTreeHit
	AntiAirborneVehicle			= Yes			;allows attack of flying units
	AntiAirborneInfantry		= Yes	  
	AntiAirborneMonster			= Yes
	MeleeWeapon					= Yes
	CanSwoop					= Yes
	ChaseWeapon					= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= DROGOTH_CLAW_DAMAGE
		DamageTaperOff		= #MULTIPLY( DROGOTH_CLAW_DAMAGE DROGOTH_CLAW_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar   		= 170% ANY +MordorMumakil ;;-;; 250%
		DamageScalar   		= 115% ANY +MordorAttackTroll ;;-;;
		DamageScalar		= 65% ANY +WildShelob ;;=;;
		DamageScalar		= 65% ANY +MordorWitchKing ;;=;;
		DamageScalar		= 50% ANY +MordorMountainTroll ;;-;; 65% ;;-;;
		DamageScalar		= 50% ANY +MordorDrummerTroll ;;-;; 70% ;;-;;
		Radius				= DROGOTH_CLAW_RADIUS
		DelayTime     		= 1		
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
        SpecialObjectFilter	= ALL -STRUCTURE ; ;
	End
End

;------------------------------------------------------------------------------
Weapon NormalMeleeHordeRangefinder
	AttackRange			= 12.0
	DelayBetweenShots	= 1000 ; one second.
	AcceptableAimDelta	= 45
	MeleeWeapon			= Yes
	FinishAttackOnceStarted = No
	
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon TowerGuardHordeRangefinder
	AttackRange			= 25.0
	DelayBetweenShots	= 1000 ; one second.
	AcceptableAimDelta	= 45
	MeleeWeapon			= Yes
	FinishAttackOnceStarted = No
	
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon HaradrimCrushedWeapon
	AttackRange = 20.0
	WeaponSpeed = 261         ; dist/sec 
	MinWeaponSpeed = 61
	MaxWeaponSpeed = 301      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX = FX_HaradrimSpearThrow
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100
	ScatterRadius     = 20.0         ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots = 3000        ; time between shots, msec
	PreAttackDelay        = 1500    ; 1500 is the prep time for archer.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration      = 1000    ; Duration of the archer firing shot is 1000ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 100
		Radius        = 20
		DelayTime     = 10
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End

End

;------------------------------------------------------------------------------
Weapon EasterlingPorcupineDamage
	AttackRange				= 5.0
	FireFX					= FX_HaradrimSpearThrow

	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 0
		Radius				= 5
		DelayTime			= 10
		DamageType			= PIERCE
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
	End
End

Weapon EasterlingPorcupineCrushDamage
	AttackRange				= 100.0

	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 100
		DelayTime			= 0
		DamageType			= PIERCE
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon PikemenPorcupineDamage
	AttackRange				= 25.0

	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 0
		Radius				= 5
		DelayTime			= 10
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
	End
End

Weapon PikemenPorcupineCrushDamage
	 RadiusDamageAffects = ENEMIES 
	AttackRange				= 25.0 ; ;10.0
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= URUK_PIKE_PORCUPINE_DAMAGE
		DamageScalar  		= 10% ANY +CREEP
		DamageScalar		= 50% ANY +HERO ; ;
		Radius				= 5 ; ;
		DelayTime			= 0
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
	End
End
	
	
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Temp and Testing
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Weapon HobbitMissileHordeRangefinder
	AttackRange			= #SUBTRACT( HOBBIT_ROCK_RANGE 125 ) ; ;30
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( HOBBIT_ROCK_RANGE .01 )
	
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon NormalMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange			= #SUBTRACT( DWARVEN_MENOFDALE_RANGE 125 )   ; ;100 
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_RANGE .01 )
	
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	CanFireWhileMoving		= Yes ;;-Testing-;; No
	HordeAttackNugget
	End
End

Weapon NormalMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( DWARVEN_MENOFDALE_BOMBARD_MAXRANGE 125 )   ; ;100 
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_MENOFDALE_BOMBARD_MAXRANGE .01 )
	
	MinimumAttackRange		= DWARVEN_MENOFDALE_BOMBARD_MINRANGE
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon DwarvenMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange			= #SUBTRACT( DWARVEN_AXETHROWER_RANGE 125 )   ; ;100  ;;;; 300 is too far! 220.0 ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_AXETHROWER_RANGE .01 )
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	CanFireWhileMoving		= Yes ;;-Testing-;; No
	HordeAttackNugget
	End
End

Weapon DwarvenMissileHordeRangefinderBombard
	AttackRange			= #SUBTRACT( DWARVEN_AXETHROWER_BOMBARD_MAXRANGE 125 )   ; ;100 
	MinimumAttackRange		= DWARVEN_AXETHROWER_BOMBARD_MINRANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( DWARVEN_AXETHROWER_BOMBARD_MAXRANGE .01 )
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon HaradrimArcherMissileHordeRangefinder
	AttackRange			= #SUBTRACT( MORDOR_HARADRIM_BOW_RANGE 125 )   ; ;100  ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_HARADRIM_BOW_RANGE .01 )
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon HaradrimArcherMissileHordeRangefinderBombard
	AttackRange			= #SUBTRACT( MORDOR_HARADRIM_BOW_BOMBARD_MAXRANGE 125 )   ; ;100 
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_HARADRIM_BOW_BOMBARD_MAXRANGE .01 )
	
	MinimumAttackRange		= MORDOR_HARADRIM_BOW_BOMBARD_MINRANGE
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon MordorArcherMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange			= #SUBTRACT( MORDOR_ARCHER_RANGE 100 )   ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_ARCHER_RANGE .01 )
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon MordorArcherMissileHordeRangefinderBombard
	AttackRange			= #SUBTRACT( MORDOR_ARCHER_BOMBARD_MAXRANGE 100 )   
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( MORDOR_ARCHER_BOMBARD_MAXRANGE .01 )
	
	MinimumAttackRange		= MORDOR_ARCHER_BOMBARD_MINRANGE
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End


Weapon GoblinArcherMissileHordeRangefinder

	AttackRange			= #SUBTRACT( GOBLIN_ARCHER_RANGE 125 )   ; ;100 ;Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GOBLIN_ARCHER_RANGE .01 )
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon GoblinArcherMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( GOBLIN_ARCHER_BOMBARD_MAXRANGE 125 )   ; ;100 
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GOBLIN_ARCHER_BOMBARD_MAXRANGE .01 )
	
	MinimumAttackRange		= GOBLIN_ARCHER_BOMBARD_MINRANGE
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon HaradrimMountedHordeRangefinder ;;-;; Obsolete
	AttackRange			= 380
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

;Weapon BadArcherMissileHordeRangefinder
;	AttackRange			= 190.0 ; Slightly shorter than the archer's actual weapon
;	DelayBetweenShots		= 1000
;	LeechRangeWeapon		= Yes
;	AcceptableAimDelta		= 45
;	AntiAirborneVehicle		= Yes
;	AntiAirborneMonster		= Yes
;	FinishAttackOnceStarted = No
;	HordeAttackNugget
;	End
;End

Weapon LorienArcherMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange			= #SUBTRACT( ELVEN_LORIENARCHER_ARCHER_RANGE 125 )   ; ;100  ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .01 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon LorienArcherMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( ELVEN_LORIENARCHER_ARCHER_BOMBARD_MAXRANGE 125 )   ; ;100
	MinimumAttackRange		= ELVEN_LORIENARCHER_ARCHER_BOMBARD_MINRANGE

	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_BOMBARD_MAXRANGE .01 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon MirkwoodArcherMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange			= #SUBTRACT( ELVEN_MIRKWOOD_ARCHER_RANGE 125 )   ; ;100  ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_RANGE .01 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon MirkwoodArcherMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( ELVEN_MIRKWOOD_ARCHER_BOMBARD_MAXRANGE 125 )   ; ;100 
	MinimumAttackRange		= ELVEN_MIRKWOOD_ARCHER_BOMBARD_MINRANGE
	
	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_BOMBARD_MAXRANGE .01 )
		
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	
	HordeAttackNugget
	End
End

Weapon GoodArcherMissileHordeRangefinder
	AttackRange			= #SUBTRACT( GONDOR_ARCHER_RANGE 125 )   ; ;100
	
	RangeBonusMinHeight		= 10
	RangeBonus			= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( GONDOR_ARCHER_RANGE .01 ) ; attempting to match the % vision increase on the units vision range. 
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted 	= No
	HordeAttackNugget
	End
End

Weapon GoodArcherMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( GONDOR_ARCHER_BOMBARD_MAXRANGE 125 )   ; ;100 
	MinimumAttackRange		= GONDOR_ARCHER_BOMBARD_MINRANGE
	
	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( GONDOR_ARCHER_BOMBARD_MAXRANGE .01 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon GondorRangerMissileHordeRangefinder
	AttackRange			= #SUBTRACT( GONDOR_RANGER_RANGE 125 )   ; ;100
	
	RangeBonusMinHeight		= 10
	RangeBonus			= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( GONDOR_RANGER_RANGE .01 ) ; attempting to match the % vision increase on the units vision range. 
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted 	= No
	HordeAttackNugget
	End
End

Weapon GondorRangerMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( GONDOR_RANGER_BOMBARD_MAXRANGE 125 )   ; ;100 
	MinimumAttackRange		= GONDOR_RANGER_BOMBARD_MINRANGE
	
	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( GONDOR_RANGER_BOMBARD_MAXRANGE .01 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius

	HordeAttackNugget
	End
End

Weapon ElvenArcherMissileHordeRangefinder	//ActiveRangeFinderID//
	AttackRange			= 330 ;250.0 ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes ;;-;;
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon MovingArcherMissileHordeRangefinder
	AttackRange			= 250.0 ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	CanFireWhileMoving	    = Yes
	HordeAttackNugget
	End
End

Weapon NormalArtilleryHordeRangefinder
	AttackRange				= 530 ; ;450.0 ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 3500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End

End


;------------------------------------------------------------------------------
; The range finder for anti-ship ships

Weapon ShipMissileRangefinder
	AttackRange			= #SUBTRACT( EVIL_SHIP_ANTI_SHIP_WEAPON_RANGE 200 ) ; a lot shorter than the archer's actual weapon cause ships are quite long.
	MinimumAttackRange		= 25
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= No ; ;Yes
	AcceptableAimDelta		= 180		; All round so we don't try and rotate towards a victim.
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon ShortRangedMissileHordeRangefinder
	AttackRange			= #SUBTRACT( MORDOR_HARADRIM_LANCER_RANGE 125 ) ;;.;; 250  ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 50
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
; ;	HitPassengerPercentage	= 10%
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

; // Test weapon for the sea of bobbing heads unit
;------------------------------------------------------------------------------
;Weapon BobbingHeadsMeleeWeapon
;  AttackRange           = 0.0
;  MeleeWeapon           = Yes
;  DelayBetweenShots     = 900               ; time between shots, msec
;  PreAttackDelay        = 900
;  PreAttackType         = PER_SHOT ; Do the delay each time we attack
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 1
;    Radius        = 0.0
;    DelayTime     = 0
;    DamageType    = FORCE
;    DeathType     = NORMAL
;  End
;End

;------------------------------------------------------------------------------
; This is the AOE swipe with the drummer stick. ;;-;; This is the normal punch, not the AOE, rock, siege or tree
Weapon MordorDrummerTrollPunch; BALANCE DrummerTroll Weapon Normal
  LeechRangeWeapon = Yes
  RadiusDamageAffects = ENEMIES 
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = MORDOR_DRUMMERTROLL_DELAYBETWEENSHOTS            			; time between shots, msec
  FiringDuration        = MORDOR_DRUMMERTROLL_FIRINGDURATION            			; min 1900 for anim
  PreAttackDelay        = MORDOR_DRUMMERTROLL_PREATTACKDELAY
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX           = FX_TrollTreeSwing
  FireFX                = FX_TrollPunchGeneric								;FX_TrollTreeHit
  DamageDealtAtSelfPosition = Yes 										; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta	= 35.0 ;;-;; 10.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_DRUMMERTROLL_DAMAGE
    DamageScalar  = 50% ANY +STRUCTURE ;;=;; 700% ;;
    Radius        = 60.0
    DamageArc     = 70 ;;-;; 90 ;;-;; 50
    DamageType    = SIEGE ;;=;; CRUSH
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	SpecialObjectFilter = ALL -MONSTER ;;-;;
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 60.0
    ShockWaveArc      = 70 ;;-;; 90
    ShockWaveTaperOff = .75
    ShockWaveZMult    = 1.2
    HeroResist		  = 0.66 ;;-;; 85		; ;90% resistance to heroes
  End

	MetaImpactNugget		//BALANCE.ClubSwingAgainstMonster//
		SpecialObjectFilter = ANY +MONSTER ;;-;;
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 60.0
		ShockWaveArc      = 35 ;;-;; 90
		ShockWaveTaperOff = .75
		ShockWaveZMult    = 1.2
 	End
End

;------------------------------------------------------------------------------
; This is the kick used against Structures and Monster. Since 1.09v2, only structures.
Weapon MordorDrummerTrollKick ;;-;;
  LeechRangeWeapon = Yes
  RadiusDamageAffects = ENEMIES 
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = MORDOR_DRUMMERTROLL_DELAYBETWEENSHOTS            			; time between shots, msec
  FiringDuration        = MORDOR_DRUMMERTROLL_FIRINGDURATION            			; min 1900 for anim
  PreAttackDelay        = MORDOR_DRUMMERTROLL_PREATTACKDELAY
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX           = FX_TrollTreeSwing
  FireFX                = FX_TrollPunchGeneric								;FX_TrollTreeHit
  DamageDealtAtSelfPosition = Yes 										; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta	= 10.0 
	ClipSize					= INFINITE_CLIP_SIZE	;;=;;
	AutoReloadsClip				= Yes					;;=;;	
	HitStoredTarget 			= No					;;=;;
	InstantLoadClipOnActivate	= Yes					;;=;;

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_DRUMMERTROLL_DAMAGE
	SpecialObjectFilter = ANY +MONSTER +STRUCTURE ;;-;; 
    DamageScalar  = 50% ANY +STRUCTURE ;;=;; 700% ;;
    Radius        = 60.0
    DamageArc     = 40 ;;-;; 50
    DamageType    = SIEGE ;;=;; CRUSH
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
  End
  MetaImpactNugget		//BALANCE.ClubSwingAgainstMonster//
		SpecialObjectFilter = ANY +MONSTER ;;-;;
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 60.0
		ShockWaveArc      = 20 ;;-;; 40
		ShockWaveTaperOff = .75
		ShockWaveZMult    = 1.2
 	End
End
;------------------------------------------------------------------------------
Weapon RohanElvenWarriorSword // Active  // aka RohanElvenWarriorSword
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = ROHAN_ELVENWARRIOR_SWORD_DELAYBETWEENSHOTS
	PreAttackDelay        = ROHAN_ELVENWARRIOR_SWORD_PREATTACKDELAY
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_GondorSwordHit
	FireFlankFX			  = FX_Flanking
	FiringDuration        = ROHAN_ELVENWARRIOR_SWORD_FIRINGDURATION
	OverrideVoiceAttackSound = BFME1_ElvenWarriorVoiceAttack ;;-;;

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        			= ELVEN_FIGHTER_MELEE_DAMAGE
		DamageScalar  			= 90% ANY +IsengardBeserker ;;-;; 
		DamageScalar  			= 50% ANY +STRUCTURE ; ;
	    Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH
	    DamageFXType  			= SWORD_SLASH
	    DeathType     			= NORMAL
	    FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
	   	ForbiddenUpgradeNames	= Upgrade_GondorForgedBlades ; ;
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        			= ELVEN_FIGHTER_MELEE_DAMAGE_UPGRADE
		DamageScalar  			= 150% ANY +INFANTRY -HERO -WildSpiderling -IsengardBeserker ; ;
		DamageScalar			= 120% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar			= 120% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
		DamageScalar  			= 75% ANY +HERO ; ;
		Radius        			= 0.0
		DelayTime     			= 0
		DamageType    			= SLASH
		DamageFXType  			= SWORD_SLASH
		DeathType     			= NORMAL
		FlankingBonus 			= GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames	= Upgrade_GondorForgedBlades
	End
End

;-----------------------------09v2New--------------------------------------
Weapon ElvenArcherBowObsolete ;;-;;
  AttackRange               = 320.0
  WeaponSpeed               = 321         ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes      ; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      ;When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 3000     ; time between shots, msec
  PreAttackDelay            = 1850     ; 1467 is the prep time for archer.
  PreAttackRandomAmount     = 200      ; amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = 1000     ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes
  LeechRangeWeapon      = Yes

  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = ElvenArcherBowWarhead ;;-;;
    ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
  End

  ProjectileNugget          ; Fire arrow available through fire upgrade
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = ElvenArcherBowFireWarhead ;;.;;
    RequiredUpgradeNames    = Upgrade_RohanFireArrows
  End
End

;----------------------------
Weapon ElvenArcherBowWarhead  ;;-;;
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 90
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End
Weapon ElvenArcherBowFireWarhead  ;;.;;
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 90
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
  DamageNugget ;;.;;
	Damage          = 65
	Radius          = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	DelayTime       = 0
	DamageType      = FLAME
	DamageFXType    = GOOD_ARROW_PIERCE
	DeathType       = BURNED
	AcceptDamageAdd = No
	;;.;;109v3FireArrowDesign_Flame;;.;;
	DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
    DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
	DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
	DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	;;.;;
  End
End

;;.;;	Weapon ElvenArcherBowBombardWarhead  ;;.;;
;;.;;	  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
;;.;;	  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
;;.;;	  HitStoredTarget = No
;;.;;	  DamageNugget                        ; A basic Nugget that just does damage
;;.;;	    Damage        = 90
;;.;;	    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
;;.;;	    DelayTime     = 0
;;.;;	    DamageType    = PIERCE
;;.;;	    DamageFXType  = GOOD_ARROW_PIERCE
;;.;;	    DeathType     = NORMAL
;;.;;	  End
;;.;;	End

;----------------------------
Weapon ElvenMirkwoodArcherBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ELVEN_MIRKWOOD_ARCHER_DAMAGE
		DamageScalar		= 80% ANY +CAVALRY -GoblinSpiderRider ;;=;;
		DamageScalar		= 80% ANY +MordorMumakil ;;=;;
		DamageScalar		= 80% ANY +IsengardBeserker ;;=;;
		DamageScalar		= 90% ANY +MordorWitchKing 	;;=;;
		DamageScalar		= 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		;DamageScalar		= 69% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon ElvenMirkwoodArcherBowBombardWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = No
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ELVEN_MIRKWOOD_ARCHER_DAMAGE
		DamageScalar		= 80% ANY +CAVALRY -GoblinSpiderRider ;;=;;
		DamageScalar		= 80% ANY +MordorMumakil ;;=;;
		DamageScalar		= 80% ANY +IsengardBeserker ;;=;;
		DamageScalar		= 90% ANY +MordorWitchKing 	;;=;;
		DamageScalar		= 90% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		;DamageScalar		= 69% ANY +WildSpiderling ;;-;; //SpiderLingPIERCE//
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon WargRiderWeapon
  LeechRangeWeapon		= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackDelay		= ISENGARD_WARGRIDER_PREATTACKDELAY
  DelayBetweenShots     = ISENGARD_WARGRIDER_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration		= ISENGARD_WARGRIDER_FIRINGDURATION
  
  FireFX                = FX_GondorSwordHit
  ;AimDirection			= 270		; In order to aim at something, we aim this far off (to the right would be aiming at -90 degrees)
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_WARGRIDER_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End  
End

;-------------------------------------------------------------------
;;.;; 09v3BalancingBannerCarriers
Weapon WargRiderBannerWeapon09v3
  LeechRangeWeapon		= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackDelay		= ISENGARD_WARGRIDER_PREATTACKDELAY
  DelayBetweenShots     = ISENGARD_WARGRIDER_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration		= ISENGARD_WARGRIDER_FIRINGDURATION
  
  FireFX                = FX_GondorSwordHit
  ;AimDirection			= 270		; In order to aim at something, we aim this far off (to the right would be aiming at -90 degrees)
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_WARGRIDER_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End  
End

;----------------------------
Weapon SharkuWeapon
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0 ;;-;; 15.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = SHARKU_DELAYBETWEENSHOTS ;;-;; 0
  PreAttackDelay        = SHARKU_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = SHARKU_FIRINGDURATION  				; min 600 for anim
  AcceptableAimDelta    = 10 
  FireFX                = FX_GondorSwordHit ;;.;;
  
  
  ;;-;;	RequireFollowThru		= Yes
  ;;-;;	IsAimingWeapon        = Yes
  ;;-;;	ClipSize 				= 1
  ;;-;;	AutoReloadsClip 		= Yes
  ;;-;;	ClipReloadTime 		= SHARKU_DELAYBETWEENSHOTS
  ;;-;;AimDirection			= 270		; In order to aim at something, we aim this far off (to the right would be aiming at -90 degrees)
  ;;-;;
  DamageNugget                        ; A basic Nugget that just does damage
	Damage        = SHARKU_DAMAGE
	DamageTaperOff = #MULTIPLY( SHARKU_DAMAGE SHARKU_DAMAGE_TAPEROFF )
	DamageScalar  = 87% ANY +STRUCTURE ; ;
 	DamageScalar  = 130% ANY +MordorAttackTroll  ;;-;;
 	DamageScalar  = 130% ANY +MordorMountainTroll ;;-;;
 	DamageScalar  = 130% ANY +MordorDrummerTroll ;;-;;
	DamageScalar  = 110% ANY +GoblinCaveTroll ;;-;; 130%
	DamageScalar  = 110% ANY +CaveTroll_Slaved ;;-;; 130%
	Radius        = 11.0 ; ;0
	DelayTime     = 0
	DamageType    = HERO
	DamageFXType  = SWORD_SLASH
	DeathType     = NORMAL
  End
;;-;;	  DamageNugget ; ;
;;-;;	    Damage        = #DIVIDE( SHARKU_DAMAGE 2 )
;;-;;	    DamageScalar  = 0% ANY +STRUCTURE
;;-;;	    Radius        = 11.0
;;-;;	    DelayTime     = 0
;;-;;	    DamageType    = HERO
;;-;;	    DamageFXType  = SWORD_SLASH
;;-;;	    DeathType     = NORMAL
;;-;;		AcceptDamageAdd = No
;;-;;	  End
;;-;;	  DamageNugget ; ;
;;-;;	    Damage        = #DIVIDE( SHARKU_DAMAGE 2 )
;;-;;	    DamageScalar  = 74% ANY +STRUCTURE ;;=;; 
;;-;;	    Radius        = 0.0
;;-;;	    DelayTime     = 0
;;-;;	    DamageType    = HERO
;;-;;	    DamageFXType  = SWORD_SLASH
;;-;;	    DeathType     = NORMAL
;;-;;		AcceptDamageAdd = Yes
;;-;;	  End  
  
End

;----------------------------
Weapon SharkuWeaponHeroMode ;;-;;
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0 ;;-;; 15.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = SHARKU_HERO_MODE_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = SHARKU_HERO_MODE_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = SHARKU_HERO_MODE_FIRINGDURATION  				; min 600 for anim
  AcceptableAimDelta    = 10 
  
  
  ;;-;;	LeechRangeWeapon		= Yes
  ;;-;;	AttackRange           = 25.0
  ;;-;;	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  ;;-;;	MeleeWeapon           = Yes
  ;;-;;	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  ;;-;;	PreAttackDelay		= SHARKU_HERO_MODE_PREATTACKDELAY
  ;;-;;	DelayBetweenShots     = 0
  ;;-;;	FiringDuration		= SHARKU_HERO_MODE_FIRINGDURATION
  ;;-;;	RequireFollowThru		= Yes
  ;;-;;	IsAimingWeapon        = Yes
  ;;-;;	AcceptableAimDelta    = 10 
  ;;-;;	ClipSize 				= 1
  ;;-;;	AutoReloadsClip 		= Yes
  ;;-;;	ClipReloadTime 		= SHARKU_HERO_MODE_DELAYBETWEENSHOTS
  ;;-;;	FireFX                = FX_GondorSwordHit
  DamageNugget
	Damage        = SHARKU_DAMAGE
	DamageTaperOff = #MULTIPLY( SHARKU_DAMAGE SHARKU_DAMAGE_TAPEROFF ) 
	DamageScalar  = 87% ANY +STRUCTURE ; ;
 	DamageScalar  = 130% ANY +MordorAttackTroll  ;;-;;
 	DamageScalar  = 130% ANY +MordorMountainTroll ;;-;;
 	DamageScalar  = 130% ANY +MordorDrummerTroll ;;-;;
	DamageScalar  = 110% ANY +GoblinCaveTroll ;;-;; 130%
	DamageScalar  = 110% ANY +CaveTroll_Slaved ;;-;; 130%
	Radius        = 11.0 ; ;0
	DelayTime     = 0
	DamageType    = HERO
	DamageFXType  = SWORD_SLASH
	DeathType     = NORMAL
  End
End

;----------------------------
Weapon WargRiderWeaponUpgraded
  LeechRangeWeapon		= Yes

  AttackRange           = 25.0
  MeleeWeapon           = Yes
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackDelay		= ISENGARD_WARGRIDER_PREATTACKDELAY
  DelayBetweenShots     = ISENGARD_WARGRIDER_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration		= ISENGARD_WARGRIDER_FIRINGDURATION
  RequireFollowThru		= Yes
  IsAimingWeapon        = Yes
  AcceptableAimDelta    = 10 
  
  ClipSize 				= 1
  AutoReloadsClip 		= Yes
  ClipReloadTime 		= ISENGARD_WARGRIDER_FIRINGDURATION
  
  FireFX                = FX_GondorSwordHit
;  AimDirection			= 270		; In order to aim at something, we aim this far off (to the right would be aiming at -90 degrees)
  
  //CavalryForgedBlade09v2//
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_WARGRIDER_DAMAGE_UPGRADE
    DamageScalar  = 150% ANY +STRUCTURE -FS_BASE_DEFENSE ; ;200%
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon WargRiderlessWeapon ;;=;; aka NeutralWargWeapon NeutralWargBite 
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  PreAttackDelay		= ISENGARD_WARGRIDER_WARG_PREATTACKDELAY
  DelayBetweenShots     = ISENGARD_WARGRIDER_WARG_DELAYBETWEENSHOTS             ; time between shots, msec
  FiringDuration		= ISENGARD_WARGRIDER_WARG_FIRINGDURATION
  FireFX                = FX_WargRiderlessAttack

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 120 ; ; ISENGARD_WARGRIDER_WARG_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    ;DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageScalar  = 50% ANY +STRUCTURE ; ;10% 
  End
End

//------------------------------------------------------------------------------
Weapon WargSentryWargWeapon
	LeechRangeWeapon	= No ; ;Yes
	AttackRange         = 5.0 ; ;30.0
	MeleeWeapon         = Yes
	PreAttackDelay		= ISENGARD_WARG_SENTRY_WARG_PREATTACKDELAY
	DelayBetweenShots   = ISENGARD_WARG_SENTRY_WARG_DELAYBETWEENSHOTS            // time between shots, msec
	FiringDuration		= ISENGARD_WARG_SENTRY_WARG_FIRINGDURATION
	FireFX              = FX_WargRiderlessAttack
;	FinishAttackOnceStarted		= Yes    ; ;

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage			= ISENGARD_WARG_SENTRY_WARG_DAMAGE
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= CAVALRY
		;DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		DamageScalar	= 10% ANY +STRUCTURE
	End
End

;------------------------------------------------------------------------------
Weapon GoodShipRangedAntiShipWeapon 
	AttackRange				= GOOD_SHIP_ANTI_SHIP_WEAPON_RANGE
	MinimumAttackRange		= 0.0
	WeaponSpeed				= 330 ; ;401		    ; dist/sec 
	MinWeaponSpeed			= 330 ; ;401
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 75 ;95 ; ;180
	CanFireWhileMoving		= Yes			; So we can shoot whilst shipping about
	FireFX					= FX_GoodShipBowArrowWeaponFire		;audio only

	PreAttackDelay			= 0				; No time, the weapon is hidden so doesn't matter. We want asap.
	FiringDuration			= 0
	DelayBetweenShots		= 10	; ;500		; randomise
	LeechRangeWeapon		= Yes
	HitStoredTarget			= Yes
	AntiAirborneVehicle     = Yes
	AntiAirborneMonster		= Yes

	ClipSize 				= 5
	AutoReloadsClip 		= Yes

	ClipReloadTime 			= 166 ; ;100
	  
	HitPercentage			= 100			; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius			= 0.0			; When this weapon misses it can randomly miss by as much as this distance.

	ProjectileNugget
		ProjectileTemplateName  = GoodFactionNavySilverArrow09v3 ;;.;; MirkwoodArcherSilverthornProjectile
		WarheadTemplateName     = GoodShipRangedAntiShipWarhead
	End

	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_BattleShip
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End

;----------------------------
Weapon GoodShipRangedAntiShipWarhead	// BALANCE goodSHIPBOW

  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes						; Always hits initial target.
	
  	DamageNugget
	    Damage        = GOOD_SHIP_ANTI_SHIP_WEAPON_DAMAGE
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = MAGIC
	    DeathType     = EXPLODED
	    DamageScalar  = 10% ANY +ShipWright ; ;1%
	End

	; infantry meta impact just like a mirkwood arrow.
	MetaImpactNugget
		SpecialObjectFilter = ANY +INFANTRY
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 10.0
		ShockWaveArc		= 90							; in degrees to each side 180 is full circle
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.0
		OnlyWhenJustDied	= Yes
	End		
	
End

;------------------------------------------------------------------------------
Weapon GoodShipRangedBombardWeapon
	AttackRange				= GOOD_SHIP_BOMBARD_WEAPON_RANGE
	MinimumAttackRange		= GOOD_SHIP_BOMBARD_WEAPON_MIN_RANGE

	WeaponSpeed				= 401		    ; dist/sec 
	MinWeaponSpeed			= 401
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 180
	CanFireWhileMoving		= No
	FireFX					= FX_GoodShipRangedBombardWeapon			;audio only

	PreAttackDelay			= 0				; No time, the weapon is hidden so doesn't matter.
	FiringDuration			= 0
	DelayBetweenShots		= GOOD_SHIP_BOMBARD_WEAPON_FIRE_RATE
	LeechRangeWeapon		= Yes
	NoVictimNeeded			= Yes

	ClipSize 				= 8 ; ;INFINITE_CLIP_SIZE
	AutoReloadsClip 		= Yes
	ClipReloadTime          = GOOD_SHIP_BOMBARD_WEAPON_FIRE_RATE  ; how long to reload a Clip, msec
	  
  	HitPercentage             = 0     ; ;100; Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius             = 0.0     ; ;50.0;When this weapon misses it can randomly miss by as much as this distance.
	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
	ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
	ScatterTarget           = X: 155 Y: 53
	ScatterTarget           = X:-90 Y: 130
	ScatterTarget           = X: 68 Y: 69
	ScatterTarget           = X: 0.000 Y: 0.000 
	ScatterTarget           = X: 95 Y: 68
	ScatterTarget           = X:-80 Y:-73
	ScatterTarget           = X:-58 Y: 58
	ScatterTarget           = X: 0.000 Y: 0.000 
	ScatterIndependently    = Yes		;Each projectile fired at once from this weapon should scatter independently of each other.

	ProjectileNugget
		ProjectileTemplateName  = GoodShipBombardProjectile
		WarheadTemplateName     = GoodShipRangedBombardWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy

	End

End

;----------------------------
Weapon GoodShipRangedBombardWarhead

  	RadiusDamageAffects		= ENEMIES
	ProjectileCollidesWith	= ENEMIES

  	DamageNugget
	    Damage        = #MULTIPLY( GOOD_SHIP_BOMBARD_WEAPON_DAMAGE 0.5 ); ;
		DamageScalar  = 85% ANY +COMMANDCENTER ;;-;;
		Radius        = 30.0 ; ;50.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = NORMAL
	    ; ;DamageScalar  = 1% ANY +ShipWright
	End

  	DamageNugget
	    Damage        = #MULTIPLY( GOOD_SHIP_BOMBARD_WEAPON_DAMAGE 0.5 ); ;
		DamageScalar  = 85% ANY +COMMANDCENTER ;;-;;
		Radius        = 50.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = NORMAL
	    ; ;DamageScalar  = 1% ANY +ShipWright
	End

	MetaImpactNugget								; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 45.0
		ShockWaveTaperOff	= 0.5
	End
	
End

;------------------------------------------------------------------------------
Weapon GoodShipFireWeapon

	RadiusDamageAffects			= ENEMIES ALLIES SELF
	AttackRange					= 0
	MinimumAttackRange			= 0
	LeechRangeWeapon			= Yes
	AcceptableAimDelta			= 180		; All round so we don't try and rotate towards a victim.
	DamageDealtAtSelfPosition	= Yes
	PreAttackType				= PER_SHOT
	PreAttackDelay				= 0
	FiringDuration				= 1
	AutoReloadsClip 			= Yes
	ClipSize 					= INFINITE_CLIP_SIZE
	CanFireWhileMoving			= Yes

	DamageNugget
	    Damage        = 1000000			; always want to die
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = FORCE
	    DeathType     = EXTRA_2			; to trigger the fire.
	End

End

;------------------------------------------------------------------------------
Weapon EvilShipAntiShipWeapon 
	AttackRange				= EVIL_SHIP_ANTI_SHIP_WEAPON_RANGE
	MinimumAttackRange		= 0.0
	WeaponSpeed				= 330 ; ;401		    ; dist/sec 
	MinWeaponSpeed			= 330 ; ;401
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 75 ; ;95 ; ;180
	CanFireWhileMoving		= Yes			; So we can shoot whilst shipping about
	FireFX					= FX_EvilShipBowArrowWeaponFire		;audio only

	PreAttackDelay			= 0				; No time, the weapon is hidden so doesn't matter. We want asap.
	FiringDuration			= 0
	DelayBetweenShots		= 10 ; ;	500
	LeechRangeWeapon		= Yes
	HitStoredTarget			= Yes
	AntiAirborneVehicle     = Yes
	AntiAirborneMonster		= Yes

	ClipSize 				= 5
	AutoReloadsClip 		= Yes
	ClipReloadTime 			= 166 ; ;100

	HitPercentage			= 100			; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius			= 0.0			; When this weapon misses it can randomly miss by as much as this distance.

	ProjectileNugget
		ProjectileTemplateName  = EvilFactionNavyFireArrow
		WarheadTemplateName     = EvilShipRangedAntiShipWarhead
	End

	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_BattleShip
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End

;----------------------------
Weapon EvilShipRangedAntiShipWarhead		// BALANCE evilSHIPBOW

  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes	; Always hits initial target.
	
  	DamageNugget
	    Damage        = EVIL_SHIP_ANTI_SHIP_WEAPON_DAMAGE
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DeathType     = BURNED
	    DamageScalar  = 10% ANY +ShipWright ; ;1% 
		SpecialObjectFilter = ALL -CANNOT_RETALIATE;;-;;
	End
  	DamageNugget
	    Damage        = EVIL_SHIP_ANTI_SHIP_WEAPON_DAMAGE
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = PIERCE ;;-;; FLAME
	    DeathType     = BURNED
	    DamageScalar  = 10% ANY +ShipWright ; ;1% 
		SpecialObjectFilter = ANY +CANNOT_RETALIATE ;;-;;
	End
End

;------------------------------------------------------------------------------
Weapon EvilShipRangedBombardWeapon
	AttackRange				= EVIL_SHIP_BOMBARD_WEAPON_RANGE
	MinimumAttackRange		= EVIL_SHIP_BOMBARD_WEAPON_MIN_RANGE

	WeaponSpeed				= 301										; dist/sec
	MinWeaponSpeed			= 301
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 180
	CanFireWhileMoving		= No
	FireFX					= FX_EvilShipRangedBombardWeapon			;audio only

	PreAttackDelay			= 266 ; ;333
	FiringDuration			= 3000										; Should match anim, as we can't use weapon timing in the anim state.
	DelayBetweenShots		= EVIL_SHIP_BOMBARD_WEAPON_FIRE_RATE
	LeechRangeWeapon		= Yes
	NoVictimNeeded			= Yes

	ClipSize 				= 9 ; ;INFINITE_CLIP_SIZE
	AutoReloadsClip 		= Yes
	  
  HitPercentage             = 0     ; ;100; Make sure that scatter radius is called so that multiple projectiles will land separately.
  ScatterRadius             = 0.0     ; ;50.0;When this weapon misses it can randomly miss by as much as this distance.
  ; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  ScatterTargetScalar = 1; replaces the ScatterRadius, above, for scaling this table, below
  ScatterTarget           = X: 155 Y: 53
  ScatterTarget           = X: 73 Y:-115
  ScatterTarget           = X:-90 Y: 130
  ScatterTarget           = X: 68 Y: 69
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterTarget           = X: 95 Y: 68
  ScatterTarget           = X:-80 Y:-73
  ScatterTarget           = X:-58 Y: 58
  ScatterTarget           = X: 0.000 Y: 0.000 
  ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.


	ProjectileNugget
		ProjectileTemplateName  = EvilShipBombardProjectile
		WarheadTemplateName     = EvilShipRangedBombardWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End


End

;----------------------------
Weapon ShipRevealBombardWarhead_Dummy
End

;----------------------------
Weapon EvilShipRangedBombardWarhead

  	RadiusDamageAffects		= ENEMIES
	ProjectileCollidesWith	= ENEMIES

  	DamageNugget
	    Damage        = #MULTIPLY( EVIL_SHIP_BOMBARD_WEAPON_DAMAGE 0.5 )
		DamageScalar  = 85% ANY +COMMANDCENTER ;;-;;
		Radius        = 30.0 ; ;50.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DeathType     = NORMAL
	    ; ;DamageScalar  = 1% ANY +ShipWright
	End
; ;
  	DamageNugget
	    Damage        = #MULTIPLY( EVIL_SHIP_BOMBARD_WEAPON_DAMAGE 0.5 )
		DamageScalar  = 85% ANY +COMMANDCENTER ;;-;;
		Radius        = 50.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DeathType     = NORMAL
	End

	MetaImpactNugget								; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 45.0
		ShockWaveTaperOff	= 0.5
	End
	
End

;------------------------------------------------------------------------------
Weapon EvilShipExplodeWeapon
	
	RadiusDamageAffects = ENEMIES ALLIES NEUTRALS
	FireFX = FX_EvilExplode
	
	DamageNugget												; A basic Nugget that just does damage
		Damage			= EVIL_FIRE_SHIP_WEAPON_DAMAGE_01
		Radius			= EVIL_FIRE_SHIP_WEAPON_RADIUS_01
		DelayTime		= 0
		DamageType		= FLAME
		DeathType		= BURNED
		DamageScalar  = 1% ANY +ShipWright
	End
	
	DamageNugget
		Damage			= EVIL_FIRE_SHIP_WEAPON_DAMAGE_02
		Radius			= EVIL_FIRE_SHIP_WEAPON_RADIUS_02
		DelayTime		= 250
		DamageType		= FLAME
		DeathType		= BURNED
		DamageScalar  = 0% ANY +ShipWright ; ;1%
		
	End

	DamageNugget
		Damage			= EVIL_FIRE_SHIP_WEAPON_DAMAGE_03
		Radius			= EVIL_FIRE_SHIP_WEAPON_RADIUS_03
		DelayTime		= 500
		DamageType		= FLAME
		DeathType		= BURNED
		DamageScalar  = 0% ANY +ShipWright ; ;1%
	End


End


;------------------------------------------------------------------------------
Weapon EvilShipFireWeapon

	RadiusDamageAffects			= ENEMIES ALLIES SELF
	AttackRange					= EVIL_FIRE_SHIP_RANGE
	MinimumAttackRange			= 0
	LeechRangeWeapon			= Yes
	AcceptableAimDelta			= 180		; All round so we don't try and rotate towards a victim.
	DamageDealtAtSelfPosition	= Yes
	PreAttackType				= PER_SHOT
	PreAttackDelay				= 0
	FiringDuration				= 1
	AutoReloadsClip 			= Yes
	ClipSize 					= INFINITE_CLIP_SIZE
	CanFireWhileMoving			= Yes

	DamageNugget
	    Damage        = 1000000			; always want to die
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = FORCE
	    DeathType     = EXTRA_2			; to trigger the fire.
	End

End

//------------------------------------------------------------------------------
//Fake weapon so that the expansion will pick targets that the slaved catapult can attack
Weapon IsengardBallistaExpansionWeapon		
	AttackRange					= ISENGARD_BALLISTA_RANGE
	MinimumAttackRange			= ISENGARD_BALLISTA_EXPANSION_MINRANGE ;;-;; 300
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= ISENGARD_BALLISTA_DELAYBETWEENSHOTS  
	PreAttackDelay				= ISENGARD_BALLISTA_PREATTACKDELAY
	FiringDuration      		= ISENGARD_BALLISTA_FIRINGDURATION
	AcceptableAimDelta			= ISENGARD_BALLISTA_EXPANSION_AIM_DELTA  
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon IsengardBallistaWeapon	//BALANCE ActiveArtilleryWeapon//
	AttackRange = ISENGARD_BALLISTA_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( ISENGARD_BALLISTA_RANGE .01 )
	
	MinimumAttackRange = ISENGARD_BALLISTA_MINRANGE ;;-;; 40
	WeaponSpeed = 481 ; ;401         ; dist/sec 
	MinWeaponSpeed = 481 ; ;401

	FXTrigger = CATAPULT_ROCK
	PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target

	PreAttackDelay      = ISENGARD_BALLISTA_PREATTACKDELAY
	FiringDuration      = ISENGARD_BALLISTA_FIRINGDURATION
	DelayBetweenShots	= ISENGARD_BALLISTA_DELAYBETWEENSHOTS
	RequireFollowThru	= Yes
	NoVictimNeeded		= Yes ; Need no target
	LeechRangeWeapon = Yes
	
	ClipSize 			= 1
	AutoReloadsClip 	= Yes
	ClipReloadTime 		= ISENGARD_BALLISTA_FIRINGDURATION
	  
	HitPercentage       = 100 ; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = IsengardSiegeBallistaProjectile
		WarheadTemplateName = IsengardBallistaWeaponWarhead
    	WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

; ;------------------------------------------------------------------------------
Weapon IsengardBallistaAntiShipWeapon	//BALANCE BT2DCAntiShipsWeapon//
	AttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2 ; ;#MULTIPLY( ISENGARD_BALLISTA_RANGE .01 )
	
	MinimumAttackRange = BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
	WeaponSpeed = 481 ; ;401         ; dist/sec 
	MinWeaponSpeed = 481 ; ;401

	FXTrigger = CATAPULT_ROCK
	PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target

	PreAttackDelay      = ISENGARD_BALLISTA_PREATTACKDELAY
	FiringDuration      = ISENGARD_BALLISTA_FIRINGDURATION
	DelayBetweenShots	= 12000 ; ; ISENGARD_BALLISTA_DELAYBETWEENSHOTS
	RequireFollowThru	= Yes
	NoVictimNeeded		= Yes ; Need no target
	LeechRangeWeapon = Yes
	
	ClipSize 				= 6 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime 		= 12000 ; ; ISENGARD_BALLISTA_DELAYBETWEENSHOTS
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1.0 ; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 86 Y: 28
  	ScatterTarget           = X: 100 Y:-62
  	ScatterTarget           = X:-50 Y: 72
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-32 Y: 88
  	ScatterTarget           = X: 38 Y: 32
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = IsengardSiegeBallistaProjectileBombard ; ;IsengardSiegeBallistaProjectile
		WarheadTemplateName = IsengardBallistaAntiShipWeaponWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End


;-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon IsengardBallistaWeaponWarhead
  RadiusDamageAffects = ENEMIES ALLIES; NOT_SIMILAR
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_BALLISTA_DAMAGE	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
	DamageScalar  = 93% ANY +COMMANDCENTER ;;-;;
    Radius         = ISENGARD_BALLISTA_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = BIG_ROCK
    DeathType     = EXPLODED
	DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
	DamageScalar = 50% ANY +MACHINE +WildMountainGiant +RohanGenericEnt +RohanTreeBerd
	DamageScalar	= 0% ANY +SHIP ; ;
  End
  
  DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = #MULTIPLY( ISENGARD_BALLISTA_DAMAGE 0.75 ) ;;.;; ISENGARD_BALLISTA_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_BALLISTA
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar = 50% ANY +MACHINE ; ;
		DamageScalar = 50% ANY +FS_BASE_DEFENSE  ; ;
  End
  
  
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    HeroResist			= .75
    ShockWaveAmount   = 10.0
    ShockWaveRadius   = 10.0
    ShockWaveTaperOff = 0.5
	SpecialObjectFilter = ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
  End
End

; ;-----------------------------------
Weapon IsengardBallistaAntiShipWeaponWarhead ;;=;; //BALANCE BT2DCAntiShipsWarhead//
  RadiusDamageAffects = ENEMIES ALLIES; NOT_SIMILAR
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_BALLISTA_DAMAGE	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
	DamageScalar  = 93% ANY +COMMANDCENTER ;;-;;
	DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
    Radius         = BT2DC_ARTILLERY_BOMBARD_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = BIG_ROCK
    DeathType     = EXPLODED
	DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
  End
  
	;;.;;	  DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;			Damage        = #MULTIPLY( ISENGARD_BALLISTA_DAMAGE 0.5 ) ;;-;;
	;;.;;			DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;			Radius        = 50.0 ; ;100.0
	;;.;;			DelayTime     = 0
	;;.;;			DamageType    = SIEGE
	;;.;;			DamageFXType  = BIG_ROCK
	;;.;;			DeathType     = EXPLODED
	;;.;;			SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
	;;.;;			DamageScalar = 50% ANY +MACHINE ; ;
	;;.;;			DamageScalar = 50% ANY +FS_BASE_DEFENSE  ; ;
	;;.;;	  End
  
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    HeroResist			= .75
    ShockWaveAmount   = 10.0
    ShockWaveRadius   = 10.0
    ShockWaveTaperOff = 0.5
	SpecialObjectFilter = ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
  End
End


;-----------------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural//
Weapon IsengardBallistaWeaponWarhead_Structural
  RadiusDamageAffects = ENEMIES ALLIES; NOT_SIMILAR
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ISENGARD_BALLISTA_DAMAGE	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
	DamageScalar  = 93% ANY +COMMANDCENTER ;;-;;
    Radius        = ISENGARD_BALLISTA_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = BIG_ROCK
    DeathType     = EXPLODED
	DamageScalar = 50% ANY +MACHINE +WildMountainGiant +RohanGenericEnt +RohanTreeBerd
	DamageScalar  = 0% NONE ALLIES +STRUCTURE			; No damage to allied structures.
  End
  
  DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = #MULTIPLY( ISENGARD_BALLISTA_DAMAGE 0.75 ) ;;.;; ISENGARD_BALLISTA_DAMAGE ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_BALLISTA
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar = 50% ANY +MACHINE ; ;
		DamageScalar = 50% ANY +FS_BASE_DEFENSE  ; ;
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 10.0
    ShockWaveRadius   = 10.0
    ShockWaveTaperOff = 0.5
  End
End

;------------------------------------------------------------------------------
Weapon IsengardFortressBallistaWeapon	;// BALANCE Fortress Ballista Weapon
	AttackRange			= ISENGARD_BALLISTA_RANGE
	MinimumAttackRange	= ISENGARD_BALLISTA_WALL_MINRANGE
	WeaponSpeed			= 481 ; ;401         ; dist/sec 
	MinWeaponSpeed		= 481 ; ;401
	FireFX				= FX_BallistaWeapon
	FXTrigger			= CATAPULT_ROCK
	PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target

	PreAttackDelay      = ISENGARD_BALLISTA_PREATTACKDELAY
	FiringDuration      = ISENGARD_BALLISTA_FIRINGDURATION
	DelayBetweenShots	= ISENGARD_BALLISTA_DELAYBETWEENSHOTS
	RequireFollowThru	= Yes
	NoVictimNeeded		= Yes ; Need no target
	LeechRangeWeapon	= Yes
	
	ClipSize 			= 1
	AutoReloadsClip 	= Yes
	ClipReloadTime 		= ISENGARD_BALLISTA_FIRINGDURATION
	  
	HitPercentage       = 100 ; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= IsengardSiegeBallistaProjectile
		WarheadTemplateName		= IsengardBallistaWeaponWarhead_Structural
		ForbiddenUpgradeNames	= Upgrade_EvilFortressFlamingMunitions
	End

	ProjectileNugget          ;// Upgraded ballista
		ProjectileTemplateName  = IsengardSiegeBallistaFireProjectile
		WarheadTemplateName     = IsengardBallistaWeaponUpgradedWarhead_Structural
		RequiredUpgradeNames	= Upgrade_EvilFortressFlamingMunitions
	End
End

;-----------------------------------
Weapon IsengardBallistaWeaponUpgradedWarhead
	RadiusDamageAffects = ENEMIES ALLIES	;// NOT_SIMILAR
	DamageNugget		;//Adding Fire Damamge Nugget
		Damage        	= 50
		Radius        	= 0.0			;// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     	= 0
		DamageType    	= FLAME
		DamageFXType  	= FLAME
		DeathType     	= BURNED
	End	
	DamageNugget                        ;// A basic Nugget that just does damage
		Damage        	= ISENGARD_BALLISTA_UPGRADED_DAMAGE	;// Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius         = 20.0
		DelayTime     	= 0
		DamageType    	= SIEGE
		DamageFXType  	= BIG_ROCK
		DeathType     	= EXPLODED
		DamageScalar	= 0% NONE ALLIES +STRUCTURE	;// No damage to allied structures.
		DamageScalar 	= 50% ANY +MACHINE ; ;
	End	
	MetaImpactNugget		;// A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   	= 10.0
		ShockWaveRadius   	= 5.0
		ShockWaveTaperOff 	= 0.5
	End
	
	  DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_BALLISTA_UPGRADED_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = 100.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar = 50% ANY +MACHINE ; ;
		DamageScalar = 50% ANY +FS_BASE_DEFENSE  ; ;
  End
End

;-----------------------------------
Weapon IsengardBallistaWeaponUpgradedWarhead_Structural
	RadiusDamageAffects = ENEMIES ALLIES	;// NOT_SIMILAR
	DamageNugget		;//Adding Fire Damamge Nugget
		Damage        	= 50
		Radius        	= 0.0			;// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     	= 0
		DamageType    	= FLAME
		DamageFXType  	= FLAME
		DeathType     	= BURNED
	End	
	DamageNugget                        ;// A basic Nugget that just does damage
		Damage        	= ISENGARD_BALLISTA_UPGRADED_DAMAGE	;// Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius        	= 20.0
		DelayTime     	= 0
		DamageType    	= SIEGE
		DamageFXType  	= BIG_ROCK
		DeathType     	= EXPLODED
		DamageScalar	= 0% NONE ALLIES +STRUCTURE	;// No damage to allied structures.
		DamageScalar 	= 50% ANY +MACHINE
	End	
	
	  DamageNugget  ;;=;; added on 09 to kill walls
		Damage        = ISENGARD_BALLISTA_UPGRADED_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = 100.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER  ; ;
		DamageScalar = 50% ANY +MACHINE ; ;
		DamageScalar = 50% ANY +FS_BASE_DEFENSE  ; ;
  End
	MetaImpactNugget		;// A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   	= 10.0
		ShockWaveRadius   	= 5.0
		ShockWaveTaperOff 	= 0.5
	End
End

;------------------------------------------------------------------------------

Weapon RohanEowynSmiteThrown
	AttackRange			= 300.0
	LeechRangeWeapon		= Yes
	WeaponSpeed			= 161					; dist/sec 
	MinWeaponSpeed			= 201
	MaxWeaponSpeed			= 241					; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_EowynSmiteSpearThrow
	ScaleWeaponSpeed		= Yes					; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100
	ScatterRadius			= 0.0					; When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 1				; time between shots, msec
	PreAttackDelay			= 1					; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT				; Do the delay each time we attack a new target
	FiringDuration			= 1				; Duration of the archer firing shot is 500ms.

	ProjectileNugget
		ForbiddenUpgradeNames	=  Upgrade_ObjectLevel4 Upgrade_ObjectLevel7
		ProjectileTemplateName	= RohanEowynSpearProjectile ;;-;; RohanEomerSpearProjectile
		WarheadTemplateName	= RohanEowynSmiteWarhead
	End
	ProjectileNugget
		RequiredUpgradeNames	= Upgrade_ObjectLevel4
		ForbiddenUpgradeNames	=  Upgrade_ObjectLevel7
		ProjectileTemplateName	= RohanEowynSpearProjectile
		WarheadTemplateName	= RohanEowynSmiteWarheadLevel4_09v3
	End
	ProjectileNugget
		RequiredUpgradeNames	= Upgrade_ObjectLevel7
		ProjectileTemplateName	= RohanEowynSpearProjectile
		WarheadTemplateName	= RohanEowynSmiteWarheadLevel7_09v3
	End
End

;------------------------------------------------------------------------------

Weapon RohanEowynSmiteWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects	= ENEMIES NEUTRALS NOT_SIMILAR
	FireFX			= FX_GondorSwordHit
	HitStoredTarget		= Yes
	DamageNugget
		Damage			= EOWYN_SMITE_DAMAGE
		DamageTaperOff	= #MULTIPLY( EOWYN_SMITE_DAMAGE EOWYN_SMITE_DAMAGE_TAPEROFF ) ;;.;;
		DamageScalar 	= 85% ANY +MordorMumakil ;;=menmordor=;;
		DamageScalar	= 5% ANY +STRUCTURE
		Radius          = EOWYN_SMITE_RADIUS_LEVEL1
		DamageScalar	= 391% ANY +MordorFellBeast +MordorWitchKingOnFellBeast ;;.;; 435% ;;=;; 350%
		DamageScalar	= 135% ANY +HERO -MordorFellBeast -MordorWitchKingOnFellBeast ;;.;; 150%
		;HitStoredTarget means we hurt the person we launched at.	And nobody else.	So a miss hurts nobody.
		DelayTime		= 0
		DamageType		= HERO ; ; MAGIC
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
	End	
End
Weapon RohanEowynSmiteWarheadLevel4_09v3
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects	= ENEMIES NEUTRALS NOT_SIMILAR
	FireFX			= FX_GondorSwordHit
	HitStoredTarget		= Yes
	DamageNugget
		Damage			= EOWYN_SMITE_DAMAGE
		DamageTaperOff	= #MULTIPLY( EOWYN_SMITE_DAMAGE EOWYN_SMITE_DAMAGE_TAPEROFF ) ;;.;;
		DamageScalar 	= 85% ANY +MordorMumakil ;;=menmordor=;;
		DamageScalar	= 5% ANY +STRUCTURE
		Radius          = EOWYN_SMITE_RADIUS_LEVEL4
		DamageScalar	= 435% ANY +MordorFellBeast +MordorWitchKingOnFellBeast ;;=;; 350%
		DamageScalar	= 150% ANY +HERO -MordorFellBeast -MordorWitchKingOnFellBeast  ;;.;; 150%
		;HitStoredTarget means we hurt the person we launched at.	And nobody else.	So a miss hurts nobody.
		DelayTime		= 0
		DamageType		= HERO ; ; MAGIC
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
	End	
  	AttributeModifierNugget
		AttributeModifier        = EowynSmiteModifierLevel4_09v3
		DamageFXType			 = SWORD_SLASH
 		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End
End
Weapon RohanEowynSmiteWarheadLevel7_09v3
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects	= ENEMIES NEUTRALS NOT_SIMILAR
	FireFX			= FX_GondorSwordHit
	HitStoredTarget		= Yes
	DamageNugget
		Damage			= EOWYN_SMITE_DAMAGE
		DamageTaperOff	= #MULTIPLY( EOWYN_SMITE_DAMAGE EOWYN_SMITE_DAMAGE_TAPEROFF ) ;;.;;
		DamageScalar 	= 85% ANY +MordorMumakil ;;=menmordor=;;
		DamageScalar	= 5% ANY +STRUCTURE
		Radius          = EOWYN_SMITE_RADIUS_LEVEL7
		DamageScalar	= 478% ANY +MordorFellBeast +MordorWitchKingOnFellBeast ;;.;; 435% ;;=;; 350%
		DamageScalar	= 165% ANY +HERO -MordorFellBeast -MordorWitchKingOnFellBeast ;;.;; 150%
		;HitStoredTarget means we hurt the person we launched at.	And nobody else.	So a miss hurts nobody.
		DelayTime		= 0
		DamageType		= HERO ; ; MAGIC
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
	End	
  	AttributeModifierNugget
		AttributeModifier        = EowynSmiteModifierLevel7_09v3
		DamageFXType			 = SWORD_SLASH
 		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End
End


;------------------------------------------------------------------------------

Weapon RohanEomerSpear						; BALANCE Rohan Eomer Spear Weapon
	AttackRange 		= 300.0
	LeechRangeWeapon		= Yes
	WeaponSpeed			= 261				; dist/sec 
	MinWeaponSpeed		= 161
	MaxWeaponSpeed 		= 301				; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 			= FX_EomerSpearThrow
	ScaleWeaponSpeed 		= Yes				; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100
	ScatterRadius     	= 0.0				;When this weapon misses it can randomly miss by as much as this distance.
	AntiAirborneVehicle     = Yes
	AntiAirborneMonster	= Yes

	PreAttackDelay		= 1
	PreAttackType		= PER_SHOT			; Do the delay each time we attack a new target
	FiringDuration		= 2000			; Duration of the archer firing shot is 500ms.
	HoldAfterFiringDelay	= 2000

	ProjectileNugget						; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RohanEomerSpearProjectile
		WarheadTemplateName	= RohanEomerSpearWarhead
	End
End

;-----------------------------------

Weapon RohanEomerSpearWarhead
	RadiusDamageAffects	= ENEMIES NEUTRALS NOT_SIMILAR 
	FireFX			= FX_GondorSwordHit
	HitStoredTarget		= Yes
	DamageNugget       				                 ; A basic Nugget that just does damage
 		Damage			= EOMER_SPEAR_DAMAGE
		DamageScalar	= 5% ANY +STRUCTURE	
		DamageScalar	= 450% ANY +MordorMumakil ;;=;;
		DamageScalar	= 115% ANY TROLL_UNITS ;;-;; CT only ;;=;;
		Radius			= 15 ; ;10
		
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
 	End
End

;------------------------------------------------------------------------------
Weapon GamlingSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = GAMLING_DELAYBETWEENSHOTS 			
             ; time between shots, msec
  PreAttackDelay        = GAMLING_PREATTACKDELAY 				; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FiringDuration        = GAMLING_FIRINGDURATION 				; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GAMLING_DAMAGE					
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;-----------------------------------

Weapon TheodenSword
  LeechRangeWeapon		= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = THEODEN_DELAYBETWEENSHOTS  ; time between shots, msec
  FireFX                = FX_GondorSwordHit
  PreAttackDelay        = THEODEN_PREATTACKDELAY   ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = THEODEN_FIRINGDURATION   ; Duration of the sword swing
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = THEODEN_DAMAGE
    Radius        = 0.0
    ;;-;;DelayTime     = 600.0 ; ;0.0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;-----------------------------------
Weapon TheodenSwordMounted
  LeechRangeWeapon		= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = THEODEN_MOUNTED_DELAYBETWEENSHOTS  ; time between shots, msec
  FireFX                = FX_GondorSwordHit
  PreAttackDelay        = THEODEN_MOUNTED_PREATTACKDELAY   ; ;is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = THEODEN_MOUNTED_FIRINGDURATION   ; Duration of the sword swing
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = THEODEN_MOUNTED_DAMAGE
    DamageScalar  = 77% ANY +STRUCTURE ;;-;; -COMMANDCENTER ; ; 87% ANY +STRUCTURE -COMMANDCENTER ; ;
	DamageScalar  = 115% ANY +MordorMountainTroll ;;-;;
    Radius		  = 0.0
    ;;-;;DelayTime     = 600.0 ; ;0.0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;-----------------------------------
Weapon EomerSword
  LeechRangeWeapon		= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = EOMER_DELAYBETWEENSHOTS  	; time between shots, msec
  FireFX                = FX_GondorSwordHit
  PreAttackDelay        = EOMER_PREATTACKDELAY  				; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = EOMER_FIRINGDURATION  		; Duration of the sword swing
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = EOMER_DAMAGE	
    DamageScalar  = 77% ANY +STRUCTURE ;;-;; -COMMANDCENTER ; ; 87% ANY +STRUCTURE -COMMANDCENTER ; ;
	DamageScalar  = 115% ANY +MordorMountainTroll ;;-;;	
    Radius        = 0.0
    ;;-;;		DelayTime     = 390.0 ; ;
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon ArwenSword ; BALANCE Arwen Sword Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = ARWEN_DELAYBETWEENSHOTS  			; time between shots, msec
  PreAttackDelay        = ARWEN_PREATTACKDELAY   	; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ARWEN_FIRINGDURATION  			; min 600 for anim
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage        = ARWEN_DAMAGE
    DamageScalar  = 75% ANY +COMMANDCENTER ;;.;;
	DamageScalar  = 125% ANY +CAVALRY ; ;
	;;.;; DamageScalar  = 70% ANY +STRUCTURE ; ;80%; 70%
    Radius        = 0.0
    ;DelayTime     = 100
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
; ;
;;.;;	DamageNugget
;;.;;		Damage        = 20
;;.;;		Radius        = 0.0
;;.;;		;DelayTime     = 100 ;; 0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No ;;-;; NOT ANYMORE. I GIVE YOU THE DMG I WANT.
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 7 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel2
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 7 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel3
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 5 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel4
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 5 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel5
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 5 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel6
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 5 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel7
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 3 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel8
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 3 ;;-;; 10
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel9
;;.;;	End
;;.;;	DamageNugget ;;-;; 
;;.;;		Damage        = 10 ;;-;; 20
;;.;;		Radius        = 0.0
;;.;;		DamageType    = SLASH
;;.;;		DamageFXType  = SWORD_SLASH
;;.;;		DeathType     = NORMAL
;;.;;		AcceptDamageAdd	= No
;;.;;		RequiredUpgradeNames	= Upgrade_ObjectLevel10
;;.;;	End
End

;------------------------------------------------------------------------------
Weapon SarumanPersonalLightning09v3
	MinimumAttackRange		= 150
	AttackRange				= 450

	WeaponOCLNugget
		WeaponOCLName		= OCL_SarumanLightningBlastLightingEgg09v3
	End
End

;------------------------------------------------------------------------------
Weapon ArwenPersonalFlood
	FireFX					= FX_ArwenFlood
	AttackRange				= 150

	WeaponOCLNugget
		WeaponOCLName		= OCL_ArwenPersonalFlood
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
End
;------------------------------------------------------------------------------
;;-;;
Weapon GlorfindelStarlightEmotions09v2
 	AttackRange				= 250
	EmotionWeaponNugget
		EmotionType			= UNCONTROLLABLE_FEAR
		Radius				= GLORFINDEL_STARLIGHT_RADIUS
		Duration			= 3 ;;.;; 2
		SpecialObjectFilter	= ALL ENEMIES ;;-;;
	End
End
;------------------------------------------------------------------------------
;;-;; no longer used but useful for map.ini
Weapon GlorfindelPersonalStarlight
 	AttackRange				= 250

	WeaponOCLNugget
		WeaponOCLName		= OCL_GlorfindelStarlightObject
	End
End
;------------------------------------------------------------------------------
Weapon SauronPersonalBalrogs ;;-;;
 	AttackRange				= 400

	WeaponOCLNugget
		WeaponOCLName		= OCL_BalrogSummoningSauron
	End
End

;------------------------------------------------------------------------------
Weapon ElvenFloodgateWeapon
  AttackRange               = ELVEN_FLOODGATEEXPANSION_RANGE    
  HitPercentage             = 100										;//When this weapon is used it will hit exactly 50% of the time.    
  PreAttackDelay            = ELVEN_FLOODGATEEXPANSION_PREATTACKDELAY   ;//prep time for the unit/structure to fire.

  PreAttackType             = PER_SHOT									;//Do the delay each time we attack a new target
  FiringDuration            = ELVEN_FLOODGATEEXPANSION_FIRINGDURATION   ;//Duration of the archer firing shot is 500ms.  
  AcceptableAimDelta		= 90 ;;=;; 180.0										;//We want to be able to shoot all round, as we cant move.   
;;NO WE DONT
;we don't want to waste horses if an enemy is found in a 360 circle. as we only attack to one position only
  DelayBetweenShots         = ELVEN_FLOODGATEEXPANSION_DELAYBETWEENSHOTS


	FireFX					= FX_FloodGates ;;-;;
	WeaponOCLNugget
		WeaponOCLName = OCL_ElvenFloodgateFlood
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ELVEN_FLOODGATEEXPANSION_DECREASEBURNRATE_RADIUS
		Damage			= ELVEN_FLOODGATEEXPANSION_DECREASEBURNRATE_AMOUNT
	End
End

;------------------------------------------------------------------------------
; This is the weapon used by crushing buildings.  It's supposed to kill everything it hits.
Weapon ToppledStructureWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	AttackRange = 80.0
	WeaponSpeed = 79999.2
	DelayBetweenShots = 0                   ; time between shots, msec
	ClipSize = 1                        ; how many shots in a Clip (0 == infinite)
	ClipReloadTime = 0               ; how long to reload a Clip, msec
	AutoReloadsClip = No 
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 9999.0
		Radius        = 16.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
End
;------------------------------------------------------------------------------
Weapon SarumanWeapon ;BALANCE Saruman
  IdleAfterFiringDelay  = 0
  LeechRangeWeapon      = Yes
  RadiusDamageAffects   = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = SARUMAN_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = SARUMAN_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = SARUMAN_FIRINGDURATION 				; min 600 for anim
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = SARUMAN_DAMAGE					
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
  MetaImpactNugget     ;;-;;
	HeroResist        =  0.75 ; ;
	ShockWaveAmount   = 40.00
	ShockWaveRadius   = 10
	ShockWaveTaperOff =  0.75
	ShockWaveZMult    =  1.20
	SpecialObjectFilter = ALL -GoblinCaveTroll ;;-;;
  End
End

;---------------------------------------Original, don't edit on beta pls---------------------------------------
Weapon SarumanLightningBlastWeapon
	AttackRange					= SARUMAN_LIGHTNING_RANGE				;600
	WeaponSpeed					= 801      ; dist/sec 
	HitPercentage				= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots			= 4500		; time between shots, msec
	PreAttackDelay            = 200  ; 1467 is the prep time for archer.  
	PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = 1   ; Duration of the archer firing shot is 500ms.
	FireFX						= FX_SarumanLightning		;audio only
	FiringDuration      		= 50
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= SARUMAN_LIGHTNING_DAMAGE_FLAME			
		DamageScalar		= 250% ANY +HERO ; ;350%
		DamageType    		= FLAME
		DamageFXType  		= BOLT
		DeathType     		= BURNED
		Radius				 = SARUMAN_LIGHTNING_RADIUS
		DelayTime			 = 200  
	End


	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= SARUMAN_LIGHTNING_DAMAGE			
		DamageScalar		= 250% ANY +HERO ; ;350%
		DamageType    		= MAGIC
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
		Radius				 = SARUMAN_LIGHTNING_RADIUS
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist          =   0.75
		ShockWaveAmount		= 90.0
		ShockWaveRadius		= 100
		ShockWaveTaperOff	= 0.2
		DelayTime			= 200		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End

	WeaponOCLNugget
		WeaponOCLName	= OCL_SarumanLightningBlastLighting
	End
	
	//BALANCE 09v3ElectrifyTheBalrog//
  	AttributeModifierNugget
		AttributeModifier        = HitLevel2ReactionModifier09v3
		Radius                   = #MULTIPLY( SARUMAN_LIGHTNING_RADIUS 0.33 )
 		SpecialObjectFilter      = ANY SPELLBOOK_SUMMONED_UNITS
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
End

;-------------------------------------New Lightning word of power style-----------------------------------------

Weapon SarumanLightningBlastWeaponAoE ; Big Blue Ring Blast
	AttackRange					= SARUMAN_LIGHTNING_RANGE				;600
	WeaponSpeed					= 801      ; dist/sec 
	HitPercentage				= 100		; When this weapon is used it will hit exactly 100% of the time.
	;;DelayBetweenShots			= 4500		; time between shots, msec
	;;PreAttackDelay            = 200  ; 1467 is the prep time for archer.  
	;;PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = 1   ; Duration of the archer firing shot is 500ms.
	FireFX						= FX_SarumanLightningBTP 
	FiringDuration      		= 5
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
	
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 500 ;; 700 ; ; 
		Radius			= 250 ;; 300
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 125  ; ; 75.0
		ShockWaveRadius   = 350
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End

	WeaponOCLNugget
		WeaponOCLName	= OCL_SarumanLightningBlastLightingBTP
	End
End
;;--------------------LightningStorm.Weapon--------------------
Weapon SarumanLightningBlastWeapon09v2
	AttackRange					= SARUMAN_LIGHTNING_STORM_RANGE
 	RadiusDamageAffects 		= ENEMIES ALLIES NOT_SIMILAR	// yea don't expect this power to save your own saruman.
	WeaponSpeed					= 801
	HitPercentage				= 100
	DelayBetweenShots			= 50
	PreAttackDelay            	= 200
	PreAttackType             	= PER_SHOT
 	FiringDuration      		= 50
	;It doesn work on flyers anywys;AntiAirborneVehicle			= Yes
	;It doesn work on flyers anywys;AntiAirborneMonster			= Yes
	DamageNugget
		Damage        		= SARUMAN_LIGHTNING_STORM_DAMAGE_FLAME
		DamageScalar		= 33% ANY +STRUCTURE -COMMANDCENTER;;-;;
		DamageScalar		= 25% ANY +COMMANDCENTER ;;-;;
		DamageScalar		= 200% ANY +HERO ;;.;;
		DamageTaperOff		= #MULTIPLY( SARUMAN_LIGHTNING_STORM_DAMAGE_FLAME SARUMAN_LIGHTNING_STORM_DAMAGE_TAPEROFF )
 		DamageType    		= FLAME
		DamageFXType  		= BOLT ;;-;; Not rlly necesary.
		DeathType     		= BURNED
		Radius				= SARUMAN_LIGHTNING_STORM_RADIUS
		DelayTime			= 200  
	End
	DamageNugget
		Damage        		= SARUMAN_LIGHTNING_STORM_DAMAGE
		DamageScalar		= 33% ANY +STRUCTURE -COMMANDCENTER;;-;;
		DamageScalar		= 25% ANY +COMMANDCENTER ;;-;;
		DamageScalar		= 66% ANY +MordorBalrog ;;-;;
		DamageScalar		= 200% ANY +HERO -MordorBalrog ;;.;;
		DamageTaperOff		= #MULTIPLY( SARUMAN_LIGHTNING_STORM_DAMAGE SARUMAN_LIGHTNING_STORM_DAMAGE_TAPEROFF )
 		DamageType    		= MAGIC
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
		Radius				= SARUMAN_LIGHTNING_STORM_RADIUS
	End
	MetaImpactNugget
		HeroResist          = 0.50 ;;-;;
		ShockWaveAmount		= 90.0
		ShockWaveRadius		= SARUMAN_LIGHTNING_STORM_RADIUS
		ShockWaveTaperOff	= 0.10 ;; 0.2
		DelayTime			= 200
		;ShockWaveZMult    =  0.7 ;;.;;
		;InvertShockWave   = Yes		// makes it "suck"
		;CyclonicFactor	  = 0.66
	End
	
	//BALANCE 09v3ElectrifyTheBalrog//
  	AttributeModifierNugget
		AttributeModifier        = HitLevel2ReactionModifier09v3
		Radius                   = #MULTIPLY( SARUMAN_LIGHTNING_STORM_RADIUS 0.33 )
 		SpecialObjectFilter      = ANY SPELLBOOK_SUMMONED_UNITS
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
End
;------------------------------------------------------------------------------
Weapon WormtongueWeapon ;BALANCE Wormtongue
  IdleAfterFiringDelay  = 0
  LeechRangeWeapon      = Yes
  AttackRange           = WORMTONGUE_WEAPON_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = WORMTONGUE_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = WORMTONGUE_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = WORMTONGUE_FIRINGDURATION 				; min 600 for anim
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WORMTONGUE_DAMAGE		
    DamageScalar  = 150% ANY +HERO ; ;			
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

Weapon WormtongueBackstab
	IdleAfterFiringDelay	= 0
	LeechRangeWeapon		= Yes
	AttackRange				= WORMTONGUE_WEAPON_RANGE
	MeleeWeapon				= Yes
	DelayBetweenShots		= WORMTONGUE_DELAYBETWEENSHOTS
	PreAttackDelay			= WORMTONGUE_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	FiringDuration			= WORMTONGUE_FIRINGDURATION
	FireFX					= FX_WormtongueBackstab
	DamageNugget
		Damage				= WORMTONGUE_BACKSTAB_DAMAGE
		DamageScalar		= 150% ANY +MordorWitchKing;;-;; 
		DamageScalar		= 150% ANY +MordorWitchKingOnFellBeast;;-;; 
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= POISON ;;.;; FIRE3
		DeathType			= NORMAL
	End
	ParalyzeNugget ;;.;; This causes the FIRE3 fx.
		SpecialObjectFilter	= ANY +HERO -CANNOT_RETALIATE ;;.;;
		Duration = 1000
  		ParalyzeFX = FX_PoisonHit
	End
	//109v2DotNuggets// ;;-;; Done
	DOTNugget
		Damage				= #DIVIDE( WORMTONGUE_BACKSTAB_DAMAGE_POISON 25 )
		AcceptDamageAdd = No ;;-;; Yes 
			;;-;;
  			DamageScalar		= 105% ANY +MordorFellBeast ;;-;; 100%
			DamageScalar		= 78% ANY +Drogoth ;;-;; 100%
			DamageScalar		= 47% ANY +ElvenFortressEagle ;;-;; 100%
			DamageScalar		= 65% ANY +GondorGwaihir_Summoned ;;-;; 100%
			DamageScalar		= 0% ANY +MordorWitchKing
			DamageScalar		= 0% ANY +MordorWitchKingOnFellBeast
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= POISON
		DamageFXType		= POISON
		DeathType			= NORMAL
		DamageInterval		= 1000
		DamageDuration		= 25000 ; ;20000
		SpecialObjectFilter	= AFFECTED_BY_POISON_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon BattleWagonOilBarrel
	LeechRangeWeapon			= Yes
	AttackRange					= BATTLEWAGON_OILBARREL_RANGE
	WeaponSpeed					= 100
	MinWeaponSpeed				= 80
	MaxWeaponSpeed				= 150
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	PreAttackType				= PER_SHOT
	FiringDuration				= 0
	FireFX						= FX_OilBarrelLaunch
	DamageType					= FLAME
	AcceptableAimDelta			= 180
	
	ProjectileNugget
		ProjectileTemplateName	= BattleWagonOilBarrelProjectile
		WarheadTemplateName		= BattleWagonOilBarrelWarhead
	End
	

	
End

;------------------------------------------------------------------------------
Weapon DwarvenIronHillsCatapultOilBarrelWarhead ;;-;;
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ; ALLIES

	DamageNugget
		Damage        = DWARVEN_CATAPULT_OILBARREL_DAMAGE ;;-;;
		DamageScalar  = 200% ANY +MordorMumakil ;;-;;
		DamageScalar  = 200% ANY +MordorAttackTroll ;;-;;
		Radius        = DWARVEN_CATAPULT_OILBARREL_DAMAGE_RADIUS ;;-;;
		DelayTime     = 0
		DamageType    = FLAME ;;-;; CRUSH
		DamageFXType  = FLAME
		DeathType     = BURNED ;;-;; CRUSHED
	End

	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 1
		Damage			= 40
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 40
		Damage			= 45 ; ;20
		MinMaxBurnRate		= 40
		MinDecay		= 1.5 ;;-;; 23.5 ;1.5 ; ;25
		MaxResistance		= 1
	End	
	
End

;------------------------------------------------------------------------------
Weapon BattleWagonOilBarrelWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ; ALLIES

	DamageNugget
		Damage        = BATTLEWAGON_OILBARREL_IMPACT_DAMAGE
		DamageScalar  = 200% ANY +MordorMumakil ;;-;;
		DamageScalar  = 200% ANY +MordorAttackTroll ;;-;;
		DamageScalar  = 50% ANY +PIKE ;;-;;
		Radius        = BATTLEWAGON_OILBARREL_IMPACT_DAMAGE_RADIUS
		DelayTime     = 0
		DamageType    = FLAME ;;-;; CRUSH
		DamageFXType  = FLAME
		DeathType     = BURNED ;;-;; CRUSHED
		AcceptDamageAdd = No ;;-;;
		DamageTaperOff  = #MULTIPLY( BATTLEWAGON_OILBARREL_IMPACT_DAMAGE BATTLEWAGON_OILBARREL_IMPACT_DAMAGE_TAPEROFF ) ;;-;;
	End

	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 1
		Damage			= 40
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= BATTLEWAGON_OILBARREL_LOGICALFIRE_RADIUS
		Damage			= BATTLEWAGON_OILBARREL_LOGICALFIRE_DAMAGE
		MinMaxBurnRate		= BATTLEWAGON_OILBARREL_LOGICALFIRE_MIN_MAXBURNRATE
		MinDecay		= BATTLEWAGON_OILBARREL_LOGICALFIRE_MIN_DECAY
		MaxResistance		= BATTLEWAGON_OILBARREL_LOGICALFIRE_MAX_RESISTANCE
		DamageTaperOff	= #MULTIPLY( 45 BATTLEWAGON_OILBARREL_LOGICALFIRE_DAMAGE_TAPEROFF ) ;;-;;
	End	

	;;-;;	FireLogicNugget
	;;-;;		LogicType		= INCREASE_FUEL
	;;-;;		Radius			= 20 ;;-;; 40
	;;-;;		Damage			= 15 ;;-;; 30 ;;-;; 45 ; ;20
	;;-;;		MinMaxBurnRate	= 40
	;;-;;		MinDecay		= 23.5 ;1.5 ; ;25
	;;-;;		MaxResistance	= 1
	;;-;;	End	
    ;;-;;	
	;;-;;	FireLogicNugget
	;;-;;		LogicType		= INCREASE_FUEL
	;;-;;		Radius			= 40
	;;-;;		Damage			= 15 ;;-;; 30 ;;-;; 45 ; ;20
	;;-;;		MinMaxBurnRate	= 40
	;;-;;		MinDecay		= 23.5 ;1.5 ; ;25
	;;-;;		MaxResistance	= 1
 	;;-;;	End	
	
End

;------------------------------------------------------------------------------
Weapon SarumanFireball ;BALANCE Saruman
  LeechRangeWeapon			= Yes
  AttackRange               = #MULTIPLY( SARUMAN_FIREBALL_RANGE 1.15 )	; ;SARUMAN_FIREBALL_RANGE	; set this in his special power
  WeaponSpeed               = 220 ; ;150         ; dist/sec 
  MinWeaponSpeed            = 150 ; ;100
  MaxWeaponSpeed            = 250 ; ;200      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  ScaleWeaponSpeed          = Yes      ; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      ;When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 5000     ; time between shots, msec
  PreAttackDelay            = 1     ; 1467 is the prep time for archer.
  PreAttackRandomAmount     = 0      ; amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = 1     ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AcceptableAimDelta		= 15
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes
  FireFX					= FX_SarumanFireball
  DamageType				= FLAME
  
  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = SarumanFireballProjectile
    WarheadTemplateName     = SarumanFireballWarhead
  End
  ProjectileNugget ;;.;; 
    ProjectileTemplateName  = SarumanSecondFireballProjectile09v3
    WarheadTemplateName     = SarumanSecondFireballWarhead09v3
	RequiredUpgradeNames    = Upgrade_ObjectLevel5
  End

End

;----------------------------
Weapon SarumanFireballWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ALLIES ; ;
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	10 ;;.;; 30 ;; 40
		Damage		=	10
	End	
	FireLogicNugget ;;.;; 
		LogicType		=	INCREASE_FUEL
		Radius			=	20 ;; 40 ;; 80
		Damage			=	40
		MinMaxBurnRate	=	100
		MinDecay		=	1
		MaxResistance	=	0
	End

;	FireLogicNugget
;		LogicType		= INCREASE_FUEL
;		Radius			= 15 ; ;5; 25
;		Damage			= 10 ; 20 ; ;4 ;30
;		MinMaxBurnRate		= 20
;		MinDecay		= 16 ; 2.5 ; ;25
;		MaxResistance		= 0.5 ; ;0
;	End	

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= SARUMAN_FIREBALL_DAMAGE
		DamageScalar	= 200% ANY +MACHINE -DwarvenBattleWagon ;;-;;
 		Radius			= SARUMAN_FIREBALL_RADIUS
		DelayTime		= 0
		DamageScalar  = 120% ANY +ElvenThranduil ;,-;;
		DamageType		= FLAME
 		DamageFXType	= BIG_ROCK
		DeathType		= BURNED
; ;		DamageScalar	=  150% ANY +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth ;
		DamageScalar	= 90% ANY +MordorFellBeast ;;=;; 75% ; ; 150%
		DamageScalar	= 50% ANY +MordorWitchKingOnFellBeast ; ; 150%
		DamageScalar	= 450% ANY +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ;;=;; 400% ; ; 150%
;;-;;
		DamageScalar  = 150% ANY +STRUCTURE ; ;
         DamageScalar  = 65% ANY +RohanTreeBerd ;;-;;
	End

	DamageNugget                        ; to make the fireball more mighty against enemy heroes
	    Damage        = 50	
 	    Radius        = SARUMAN_FIREBALL_RADIUS
	    DelayTime     = 0
		DamageScalar  = 120% ANY +ElvenThranduil ;,-;;
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
		DamageScalar  = 500% ANY +HERO -MordorFellBeast -MordorWitchKingOnFellBeast  ; ; -GondorGwaihir -Drogoth
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = SARUMAN_FIREBALL_DAMAGE_SIEGE	
		DamageScalar	= 200% ANY +MACHINE -DwarvenBattleWagon ;;.;; substracted wagon. ;;-;;
 	    Radius        = SARUMAN_FIREBALL_RADIUS
	    DelayTime     = 0
		DamageScalar  = 120% ANY +ElvenThranduil ;,-;;
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 300% ANY +MordorFellBeast +MordorWitchKingOnFellBeast
		DamageScalar  = 150% ANY +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle ; ; 100%
 ; ;
	End
	
	

	MetaImpactNugget                         ; A Nugget that throws things back with force
		HeroResist        = 0.25 ; ;0.99 
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = SARUMAN_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

;----------------------------
;;.;; 1.06 Saruman used to also shot MordorCatapultHumanHeadsWarhead
Weapon SarumanSecondFireballWarhead09v3
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	20 ;; 40
		Damage		=	5 ;; 10
	End	
	FireLogicNugget ;@@@ fire logic testing
		LogicType		=	INCREASE_FUEL
		Radius			=	40 ;; 80
		Damage			=	20 ;; 40
		MinMaxBurnRate	=	100
		MinDecay		=	1
		MaxResistance	=	0
	End
	
	DamageNugget
		Damage        = 60
		Radius        = 4.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE
	End
	
	DamageNugget
		Damage        = 40
		Radius        = 20.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE
	End
End

;------------------------------------------------------------------------------
Weapon FireBallImpact
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ALLIES
	DamageNugget                        ; A basic Nugget that just does damage to trigger deployed mines
		Damage        = 1
		Radius        = 20
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageScalar  = 50000% ANY +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	End
End

;------------------------------------------------------------------------------
Weapon LurtzWeapon ;BALANCE Lurtz
  LeechRangeWeapon      = Yes
;  AttackRange           = 20.0
  AttackRange           = 15.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = LURTZ_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = LURTZ_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = LURTZ_FIRINGDURATION  				; min 600 for anim
  ; IdleAfterFiringDelay  = LURTZ_FIRINGDURATION ; don't set for any weapon other than rocks.  
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LURTZ_DAMAGE					
    Radius        = 0.0
    ;;-;;	DelayTime     = 100.0 ; ;
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon LurtzCarnageWeapon ;BALANCE Lurtz
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  RadiusDamageAffects 	 = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  MeleeWeapon           = Yes
  DelayBetweenShots     = LURTZ_CARNAGE_DELAYBETWEENSHOTS 		; time between shots, msec
  PreAttackDelay        = LURTZ_CARNAGE_PREATTACKDELAY 			; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = LURTZ_CARNAGE_FIRINGDURATION 			; min 600 for anim
  ; IdleAfterFiringDelay  = LURTZ_CARNAGE_FIRINGDURATION ; don't set for any weapon other than rocks.  
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LURTZ_CARNAGE_DAMAGE
	DamageTaperOff = #MULTIPLY( LURTZ_CARNAGE_DAMAGE LURTZ_CARNAGE_DAMAGE_TAPEROFF ) ;;-;;
    Radius        = LURTZ_CARNAGE_RADIUS
    DamageScalar  = 80% ANY +STRUCTURE ;;-;;
    DamageScalar  = 70% ANY +MONSTER -HERO -RohanGenericEnt -RohanTreeBerd -MordorMumakil ;;-;;
    DamageScalar  = 66% ANY +RohanGenericEnt +RohanTreeBerd ;;.;; 50%
	DamageScalar  = 87% ANY +GondorAragorn ;;-;; 
	DamageScalar  = 75% ANY +DwarvenGimli ;;-;; 87% ;;=;; 
	DamageScalar  = 66% ANY +DwarvenBattleWagon ;;.;; 50% ;;-;; 75% ;;-;;
	DamageScalar  = 90% ANY +WildShelob ;;-;;
	DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = ISENGARD_BERSERKER_ARC
    SpecialObjectFilter	= ALL -ORC -GoblinArcher -GoblinFighter -WildMarauder -GoblinSpiderRider ;;-;;
  End
  ;;-;;
  DamageNugget
    Damage        = LURTZ_CARNAGE_DAMAGE
	DamageTaperOff = #MULTIPLY( LURTZ_CARNAGE_DAMAGE LURTZ_CARNAGE_DAMAGE_TAPEROFF ) ;;-;;
    Radius        = LURTZ_ANTI_ORC_CARNAGE_RADIUS
	DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = ISENGARD_BERSERKER_ARC
    SpecialObjectFilter	= ANY +ORC +GoblinArcher +GoblinFighter +WildMarauder +GoblinSpiderRider ;;-;;
  End
End

;-----------------------------------
Weapon MordorMtTrollBored
  AttackRange           = 40.0
  PreAttackFX           = FX_TrollTreeSwing
  FireFX                = FX_TrollPunchGeneric		;FX_TrollTreeHit
  RadiusDamageAffects = ALLIES

	SpecialModelConditionNugget
		ModelConditionNames = USER_2			; Can be used to set multiple, and it doesn't use the normal hit reaction because this one is special
		ModelConditionDuration = 2000
		SpecialObjectFilter = TROLL_BORED_FILTER
	End

	SpecialModelConditionNugget
		ModelConditionNames = USER_3 
		ModelConditionDuration = 21000
		SpecialObjectFilter = TROLL_BORED_FILTER
	End
End

//------------------------------------------------------------------------------
Weapon MordorGateWatchersFearWeapon
	AttackRange			= MORDOR_GATEWATCHEREXPANSION_RANGE    
	HitPercentage       = 100											//When this weapon is used it will hit exactly 50% of the time.    
	PreAttackDelay      = MORDOR_GATEWATCHEREXPANSION_PREATTACKDELAY	//prep time for the unit/structure to fire.
	PreAttackType       = PER_SHOT										//Do the delay each time we attack a new target
	FiringDuration      = MORDOR_GATEWATCHEREXPANSION_FIRINGDURATION	//Duration of the archer firing shot is 500ms.  
	AcceptableAimDelta	= 180.0											//We want to be able to shoot all round, as we cant move.
	DelayBetweenShots   = MORDOR_GATEWATCHEREXPANSION_DELAYBETWEENSHOTS
	FireFX				= FX_FearBlast
	
	EmotionWeaponNugget
		EmotionType			= TERROR
		Radius				= MORDOR_GATEWATCHEREXPANSION_FEAR_RADIUS
		Duration			= MORDOR_GATEWATCHEREXPANSION_FEAR_DURATION		
		SpecialObjectFilter	= ALL -HERO ENEMIES ; -HERO needed because Shelob has terror/fear nuggets to respond to Black Arrows.
	End

End


;------------------------------------------------------------------------------
;Weapon HobbitJump ; BALANCE HobbitJump
;  IdleAfterFiringDelay = 0
;  AttackRange           = 0.0
;  MinimumAttackRange    = 8.0
;  WeaponSpeed           = 100.0        ; dist/sec (huge value == effectively instant)
;  ProjectileFilterInContainer = ANY +HOBBIT 
;  ClipSize              = 1               ; how many shots in a Clip (0 == infinite)
;  ClipReloadTime        = 2200   ;1467 min for animation           ; how long to reload a Clip, msec
;  AutoReloadsClip		= No	
;  PreAttackDelay        = 600
;  FiringDuration		= 1500            
;  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;  HitPercentage       = 0 ; Never auto hits, always shoots at a ground position
;  ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
;
;  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
;    WarheadTemplateName = HobbitJumpWarhead
;  End
;End

;-----------------------------------
;Weapon HobbitJumpWarhead
;  ProjectileCollidesWith = ENEMIES
; ; FireFX = FX_RockDetonation
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5
;    Radius        = 12.0
;    DelayTime     = 0
;    DamageType            = CRUSH
;    DamageFXType          = SMALL_ROCK
;    DeathType             = NORMAL
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 12.0
;    ShockWaveTaperOff = 0.5
;    ShockWaveZMult    = 1.20
;  End
;End

;------------------------------------------------------------------------------
; Merry and Pippin use these to throw rocks
Weapon HobbitRockThrow  ; BALANCE HobbitFriendRockThrow
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = HOBBIT_ROCK_WEAPONSPEED        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = HOBBIT_ROCK_PREATTACKDELAY
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage	      = 0 ; never auto hits, always hits ground
	ScatterRadius	      = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= HOBBIT_ROCK_FIRINGDURATION
	DelayBetweenShots		= HOBBIT_ROCK_DELAYBETWEENSHOTS
	CanFireWhileMoving		= Yes

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End

; Merry and Pippin use these to throw rocks
Weapon HobbitRockThrowMerryPippin  ; BALANCE MerryRockThrow PippinRockThrow
	AttackRange           = MERRYPIPPIN_ROCK_RANGE
	WeaponSpeed			= MERRYPIPPIN_ROCK_WEAPONSPEED
	MinWeaponSpeed		= 225 ;;-;; 191  ;;=;; 150
	MaxWeaponSpeed		= 300 ;;-;; 258   ;;=;; 150
	AcceptableAimDelta    = 20 
	PreAttackDelay        = MERRYPIPPIN_ROCK_PREATTACKDELAY
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage	      = 0 ; never auto hits, always hits ground
	ScatterRadius	      = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= MERRYPIPPIN_ROCK_FIRINGDURATION
	DelayBetweenShots		= MERRYPIPPIN_ROCK_DELAYBETWEENSHOTS
	CanFireWhileMoving		= Yes

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowMerryPippinWarhead ; ; HobbitRockThrowWarhead
	End
End
;------------------------------------------------------------------------------
; Frodo uses these to throw rocks
Weapon FrodoRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = FRODO_ROCK_RANGE
	WeaponSpeed           = FRODO_ROCK_WEAPONSPEED        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = FRODO_ROCK_PREATTACKDELAY
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= FRODO_ROCK_FIRINGDURATION
	DelayBetweenShots		= FRODO_ROCK_DELAYBETWEENSHOTS
	CanFireWhileMoving		= Yes

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead

		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowFrodoSamWarhead ;;.;; HobbitRockThrowWarhead
	End
End

;------------------------------------------------------------------------------
; Sam uses these to throw rocks
Weapon SamRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = SAM_ROCK_RANGE
	WeaponSpeed           = SAM_ROCK_WEAPONSPEED        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = SAM_ROCK_PREATTACKDELAY
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= SAM_ROCK_FIRINGDURATION
	DelayBetweenShots		= SAM_ROCK_DELAYBETWEENSHOTS
	CanFireWhileMoving		= Yes

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowFrodoSamWarhead ;;.;; HobbitRockThrowWarhead
	End

End

;------------------------------------------------------------------------------
; Merry and Pippin use these to throw rocks
;Weapon HobbitRockThrowTreebeard  ; BALANCE Hobbit Weapon Rock
;	AttackRange           = HOBBIT_ROCK_RANGE
;	MinimumAttackRange = 100.0
;	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
;	AcceptableAimDelta    = 10 
;	PreAttackDelay        = 633
;	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;	HitPercentage			= 0 ; never auto hits, always hits ground
;	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
;	FiringDuration			= 933
;	DelayBetweenShots		= 2000
;
;	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
;		ProjectileTemplateName = HobbitRockProjectileTreebeard
;		WarheadTemplateName = HobbitRockThrowWarhead
;	End
;End

;----------------------------
Weapon HobbitRockThrowWarhead// BALANCE Warhead of:  HobbitFriendRockThrow GarrisonedWildmanRockThrow
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = HOBBIT_ROCK_DAMAGE
		
		//HobbitRockScalars//
		DamageScalar  = 50% ANY +ARCHER ;;.;; 50% ;;.;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 75% ANY +INFANTRY -ARCHER -HERO;;.;; 50% ;;.;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 75% ANY +HERO ;;.;; 50% ;;-;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 50% ANY +MONSTER -HERO -MordorMumakil; ;
		DamageScalar  = 33% ANY +MordorMumakil ;;=;;
		DamageScalar  = 25% ANY +STRUCTURE ; ;
		
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
	
	;;=;; this was 1.06s ;;=;; DamageScalar  = 25% ANY +HERO +STRUCTURE +INFANTRY -MONSTER ; ;
	;;-;; Useless scalar, because there's no Hero that is not Infantry and Monster at same time. Sharku is the only exception since 1.09 ;;-;; DamageScalar  = 25% ANY +HERO -INFANTRY -MONSTER ; ;
	
	;MetaImpactNugget                    ; A Nugget that throws things back with force
	;	HeroResist			= .75
	;	ShockWaveAmount   = 10.0
	;	ShockWaveRadius   = 30.0
	;	ShockWaveTaperOff = 0.75
	;End
End

;;.;; Created in 1.09v3 for FrodoSam
Weapon HobbitRockThrowFrodoSamWarhead	// BALANCE Warhead of:  FrodoRockThrow SamRockThrow
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = FRODOSAM_ROCK_DAMAGE
		
		//HobbitRockScalars//
		DamageScalar  = 50% ANY +ARCHER ;;.;; 50% ;;.;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 75% ANY +INFANTRY -ARCHER -HERO;;.;; 50% ;;.;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 75% ANY +HERO ;;.;; 50% ;;-;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 50% ANY +MONSTER -HERO -MordorMumakil; ;
		DamageScalar  = 33% ANY +MordorMumakil ;;=;;
		DamageScalar  = 25% ANY +STRUCTURE ; ;
		
		Radius        = 0 ;;=;; 13	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED ;;=;; SLASH
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
	;MetaImpactNugget                    ; A Nugget that throws things back with force
	;	HeroResist			= .75
	;	ShockWaveAmount   = 10.0
	;	ShockWaveRadius   = 30.0
	;	ShockWaveTaperOff = 0.75
	;End
End
;;.;; Created in 1.07 for MerryPippin, now will also be used for FrodoSam
Weapon HobbitRockThrowMerryPippinWarhead	// BALANCE Warhead of:  MerryRockThrow PippinRockThrow
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = MERRYPIPPIN_ROCK_DAMAGE
		
		//HobbitRockScalars//
		DamageScalar  = 50% ANY +ARCHER ;;.;; 50% ;;.;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 75% ANY +INFANTRY -ARCHER -HERO;;.;; 50% ;;.;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 75% ANY +HERO ;;.;; 50% ;;-;; 25% ;;-;; 33% ;;=;; 25%
		DamageScalar  = 50% ANY +MONSTER -HERO -MordorMumakil; ;
		DamageScalar  = 33% ANY +MordorMumakil ;;=;;
		DamageScalar  = 25% ANY +STRUCTURE ; ;
		
		Radius        = 0 ;;=;; 13	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED ;;=;; SLASH
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
	;MetaImpactNugget                    ; A Nugget that throws things back with force
	;	HeroResist			= .75
	;	ShockWaveAmount   = 10.0
	;	ShockWaveRadius   = 30.0
	;	ShockWaveTaperOff = 0.75
	;End
End
;------------------------------------------------------------------------------
; Sam in Shelob's Lair will use this Rock Throw
Weapon SLSamRockThrow 	//Obsolete
	AttackRange           = 350

	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 700
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.

	FiringDuration			= 1300
	DelayBetweenShots		= 2000

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = SLSamRockThrowWarhead
	End
End

;----------------------------
Weapon SLSamRockThrowWarhead	//Obsolete
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 50
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = CRUSH
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
	;MetaImpactNugget                    ; A Nugget that throws things back with force
	;	HeroResist			= .75
	;	ShockWaveAmount   = 10.0
	;	ShockWaveRadius   = 30.0
	;	ShockWaveTaperOff = 0.75
	;End
End

;------------------------------------------------------------------------------
; Garrisoned Wildmen throw these
Weapon GarrisonedWildmanRockThrow  ; BALANCE WildmanRockThrow
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 833
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1200
	DelayBetweenShots		= 2033

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End

;------------------------------------------------------------------------------
; Garrisoned Wildmen with torches throw these
Weapon GarrisonedWildmanTorchThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 833
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground

	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1200
	DelayBetweenShots		= 2033

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = WildmenTorchProjectile
		WarheadTemplateName = GarrisonedWildmanTorchThrowWarhead
	End
End

;----------------------------
Weapon GarrisonedWildmanRockThrowWarhead	// Obsolete
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_WILDMAN_ROCK_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FORCE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
End

;----------------------------
Weapon GarrisonedWildmanTorchThrowWarhead
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= ISENGARD_WILDMAN_THROWN_TORCH_DAMAGE
; ;		Radius			= ISENGARD_WILDMAN_THROWN_TORCH_RADIUS
		DelayTime		= 0
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd	= No
		RequiredUpgradeNames    = Upgrade_IsengardTorches
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_WILDMAN_ROCK_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FORCE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon IsengardWildmanCudgel  ; BALANCE
	RadiusDamageAffects = ENEMIES NEUTRALS ; ;
	LeechRangeWeapon	= Yes
	AttackRange			= 30.0
	MeleeWeapon			= Yes

	DelayBetweenShots	= ISENGARD_WILDMAN_DELAYBETWEENSHOTS             ; time between shots, msec
	PreAttackDelay		= ISENGARD_WILDMAN_PREATTACKDELAY              ; 433 is natural time of the stabbing animation.
	PreAttackType		= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration		= ISENGARD_WILDMAN_FIRINGDURATION             ; min 600 for anim
	FireFX				= FX_GondorSwordHit
	FireFlankFX			= FX_Flanking

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= ISENGARD_WILDMAN_TORCH_DAMAGE
		DamageScalar	= 25% ALL -STRUCTURE ;;-;; 20% ANY +CAVALRY ; ;
		Radius			= ISENGARD_WILDMAN_TORCH_RADIUS
		DelayTime		= 0
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd	= No
		RequiredUpgradeNames    = Upgrade_IsengardTorches
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= ISENGARD_WILDMAN_DAMAGE
		DamageScalar	= 110% ANY +ECONOMY_STRUCTURE ; ;
		DamageScalar	= 120% ANY +FS_BASE_DEFENSE; ;
		Radius			= ISENGARD_WILDMAN_RADIUS
		DelayTime		= 0
		DamageType		= SLASH
		DamageFXType		= CLUBBING
		DeathType		= NORMAL
		FlankingBonus	= GENERIC_MELEE_FLANKING_BONUS
	End
End

;------------------------------------------------------------------------------
Weapon IsenguardLurtzBow       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= LURTZ_BOW_RANGE					; 350 ; Horde member so it needs to be bigger than the horde weapon attack range.
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( LURTZ_BOW_RANGE .01 )  
	
	LeechRangeWeapon    = Yes	
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 40.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= LURTZ_BOW_DELAYBETWEENSHOTS	; time between shots, msec
	PreAttackDelay      = LURTZ_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = LURTZ_BOW_FIRINGDURATION		; Duration of the archer firing shot is 500ms.
;	RequireFollowThru	= Yes
;	IdleAfterFiringDelay = 0 ; don't set for any weapon other than rocks. 

;	HoldAfterFiringDelay = 1333 ; don't set for any weapon other than rocks. 

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:LURTZ_BOW_RELOADTIME_MIN Max:LURTZ_BOW_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= LURTZ_BOW_RELOADTIME_MAX

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget			; Fire arrow available through fire upgrade
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = IsengardLurtzBowWarhead
	End	
End

;------------------------------------------------------------------------------
Weapon IsenguardLurtzBowMelee       ; BALANCE Lurtz Melee  Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  FireFX                = FX_RohanArcherBowWeapon;
;  DelayBetweenShots     = 1500            ; time between shots, msec
  PreAttackDelay        = 1500             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 1500    ; Duration of the sword swing
  ; IdleAfterFiringDelay 	= 0 ; don't set for any weapon other than rocks. 
  ; HoldAfterFiringDelay 	= 1500 ; don't set for any weapon other than rocks.  

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LURTZ_BOW_DAMAGE_MELEE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO ;;-;; CRUSH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;-----------------------------------
Weapon IsengardLurtzBowWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LURTZ_BOW_DAMAGE      
	DamageScalar  = 90% ANY +DwarvenBattleWagon ;;-;; 
	DamageScalar  = 200% ANY +MordorFellBeast ;;=;; 
	DamageScalar  = 200% ANY +MordorWitchKingOnFellBeast ;;=;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.

    DelayTime     = 0
    ;DamageScalar  = 25000% ANY +MordorMumakil
    DamageType    = HERO_RANGED
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


//------------------------------------------------------------------------------
Weapon IsenguardLurtzBowStun       // BALANCE Archer Weapon //orc archer
	AttackRange			= LURTZ_CRIPPLE_RANGE_WEAPON
	
	LeechRangeWeapon = Yes ;;.;; //BALANCE RangedAbilitiesNotFailing_2022//
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( LURTZ_BOW_RANGE .01 ) 
	
	WeaponSpeed			= 300				   //dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400				   //dist/sec Upper	limit on scaling, when attacking past nominal "max"	range
	FireFX				= FX_LurtzCripplingStrike 
	ScaleWeaponSpeed	= Yes				   //Used for lob weapons, scales speed	proportional to	range
	HitPercentage		= 100				   //When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 0.0				   //When this weapon misses it	can	randomly miss by as	much as	this distance.
	DelayBetweenShots	= 1100
	PreAttackDelay		= 1
	PreAttackType		= PER_SHOT			   //Do	the	delay each time	we attack a	new	target
	FiringDuration		= 1000				   //Duration of the archer	firing shot	is 500ms.
	IdleAfterFiringDelay = 1000
	// HoldAfterFiringDelay = 1000 // 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget			// Fire arrow available through fire upgrade
		ProjectileTemplateName  = LurtzArrowProjectile
		WarheadTemplateName     = LurtzStunBowWarhead
		SpecialObjectFilter		= ALL -MACHINE
	End
End

;-----------------------------------

Weapon LurtzStunBowWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL
	RadiusDamageAffects = ENEMIES NEUTRALS 
	HitStoredTarget = Yes	; Always hits initial target.
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = LURTZ_BOW_STUN_DAMAGE 
   	 	DamageScalar  = 10% ANY +STRUCTURE 
   		DamageScalar  = 0% ANY +CANNOT_RETALIATE    ;;=LURTZ=;;
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End

	DamageNugget
		Damage                   = LURTZ_BOW_STUN_DAMAGE                                               
		Radius        		 = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageType               = HERO_RANGED
		DamageFXType             = EVIL_ARROW_PIERCE
		DeathType                = NORMAL
		SpecialObjectFilter      = ALL -HERO -CANNOT_RETALIATE
	End

;;=LURTZ=;;
;;=;;
	DamageNugget
		Damage				= #MULTIPLY( LURTZ_BOW_DAMAGE 4 ) ;;-;; 3.5
		DamageScalar 		= 200% ANY +MordorFellBeast ;;=;;  played with 190%. and 200% too//Back to 200% played with 220
		DamageScalar		= 200% ANY +MordorWitchKingOnFellBeast ;;=;; played with 180%.and 200% too//Back to 200% played with 220
		;DamageScalar		= 85% ANY +ElvenFortressEagle ;;=;; 
		;DamageScalar		= 90% ANY +Drogoth
		Radius				= 0.0
		DamageType			= HERO_RANGED
		DamageFXType		= BALROG_WHIP
		DeathType			= NORMAL
		SpecialObjectFilter	= ANY +CANNOT_RETALIATE
	End

	AttributeModifierNugget
		AttributeModifier        = LurtzCripplingStrike
		DamageFXType             = EVIL_ARROW_PIERCE 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER -WildShelob -ElvenThranduil ;;-;;
	End

    AttributeModifierNugget ;;-;;
		AttributeModifier        = LurtzCripplingStrike_Short09v2
		DamageFXType             = EVIL_ARROW_PIERCE 
		SpecialObjectFilter      = ANY ENEMIES +WildShelob ;;-;;
	End

    AttributeModifierNugget ;;-;;
		AttributeModifier        = LurtzCripplingStrike_Large09v2
		DamageFXType             = EVIL_ARROW_PIERCE 
		SpecialObjectFilter      = ANY ENEMIES +ElvenThranduil ;;-;;
	End
End

//-----------------------------
Weapon SunflareWeapon	
	RadiusDamageAffects		= ENEMIES NEUTRALS  ;;-;; added allies.
	FireFX = FX_SunflareBurnedDecal09v3 ;;.;;
	;;FireFX = FX_RainOfFirePhaseInitialWeapon02
	;;-;;	WeaponOCLNugget	;;-;; Doesn't do anything as val removed fx.
	;;-;;		WeaponOCLName		= OCL_SpecialPowerSunflareOriginal
	;;-;;	End
	
	
	;;.;; 1.09v3 beta59. Extra damage vs buildings and machines but with insane taperoff.
	DamageNugget                
		Damage        = SPELL_SUNFLARE_EXTRA_DAMAGE ;;.;; 
		DamageTaperOff = SPELL_SUNFLARE_EXTRA_DAMAGE_TAPEROFF  ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 110 ;;-;;
		SpecialObjectFilter = ANY +STRUCTURE +MACHINE -CAVALRY;;.;; 
	End
	
	

	//Turn the troll effectively to stone
	AttributeModifierNugget
		AttributeModifier        = SunFlareTrollToStone
		Radius					 = SPELL_SUNFLARE_EFFECT_RADIUS		
		SpecialObjectFilter      = ANY TROLL_UNITS
	End
	;;.;; Please keep scalars identical to SunflareWeaponAllies09v3
	DamageNugget ;;-;;
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 )
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 110 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 )
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 100 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 )
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 90 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 )
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 80 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 )
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 70 ;;-;;
	End
	DamageNugget                
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) ;;-;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS ;;-;; #MULTIPLY( SPELL_SUNFLARE_EFFECT_RADIUS .8 )	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 60 ;;-;;
	End
	;;=;;SpellSunflareMS
	DamageNugget                
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) ;;-;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 50 ;;-;;
	End
	DamageNugget                
		Damage        = #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) ;;-;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		; DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 40 ;;-;;
	End


	//Start a fire - Removed at the request of Wes "Ensign Crusher" Eckhart
	;FireLogicNugget 
	;	LogicType	=	INCREASE_BURN_RATE
	;	Radius		=	SPELL_SUNFLARE_EFFECT_RADIUS
	;	Damage		=	SPELL_SUNFLARE_FIRE_DAMAGE
	;End
	//Design knob
	;FireLogicNugget
	;	LogicType		=	INCREASE_FUEL
	;	Radius			=	SPELL_SUNFLARE_EFFECT_RADIUS
	;	Damage			=	SPELL_SUNFLARE_FIRE_FUEL
	;	MinMaxBurnRate	=	SPELL_SUNFLARE_FIRE_MINMAX_BURNRATE
	;	MinDecay		=	1
	;	MaxResistance	=	0
	;End

	//Paralyze everything that's light sensitive   
 	EmotionWeaponNugget
		EmotionType			= UNCONTROLLABLE_FEAR
		Radius				= SPELL_SUNFLARE_EFFECT_RADIUS
		Duration			= 10
		SpecialObjectFilter	= LIGHT_SENSITIVE_UNITS_OBJECTFILTER
	End
	;;-;;	ParalyzeNugget				
	;;-;;		Radius					= SPELL_SUNFLARE_EFFECT_RADIUS
	;;-;;		Duration				= SPELL_SUNFLARE_DURATION
	;;-;;		SpecialObjectFilter     = ANY +MordorFighter +MordorArcher +MordorBannerOrc +WildBannerGoblin +WildBannerMarauder +WildBannerSpiderling +GoblinFighter +GoblinArcher +WildSpiderling +GoblinSpiderRider +WildShelob +MordorGoblinSwordsman +MordorGoblinArcher +BarrowWight ENEMIES
	;;-;;	End

End
//-----------------------------
Weapon SunflareWeaponAllies09v3	
	RadiusDamageAffects		= ALLIES ;;-;; added allies.
	AttributeModifierNugget
		AttributeModifier        = SunFlareTrollToStone
		Radius					 = SPELL_SUNFLARE_EFFECT_RADIUS		
		SpecialObjectFilter      = ANY TROLL_UNITS
	End
	
	
	;;.;; 1.09v3 beta59. Extra damage vs buildings and machines but focused on tiny radius.
	DamageNugget                
		Damage        = #MULTIPLY( SPELL_SUNFLARE_EXTRA_DAMAGE SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;; 
		DamageTaperOff = #MULTIPLY( SPELL_SUNFLARE_EXTRA_DAMAGE_TAPEROFF SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;; 
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 110 ;;-;;
		SpecialObjectFilter = ANY +STRUCTURE +MACHINE;;.;; 
	End
	DamageNugget ;;-;;
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 110 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 100 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 90 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 80 ;;-;;
	End
	DamageNugget ;;-;;
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 70 ;;-;;
	End
	DamageNugget                
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS ;;-;; #MULTIPLY( SPELL_SUNFLARE_EFFECT_RADIUS .8 )	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 60 ;;-;;
	End
	DamageNugget                
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 50 ;;-;;
	End
	DamageNugget                
		Damage        = #MULTIPLY( #DIVIDE( SPELL_SUNFLARE_DAMAGE 8 ) SPELL_SUNFLARE_DAMAGE_PERCENT_ALLIES ) ;;.;;
		DamageScalar  = 56% ANY +MordorWitchKingOnFellBeast
		DamageScalar  = 250% ANY +HERO -CANNOT_RETALIATE -MordorWitchKing -MordorMouthOfSauron ;;-;; 200% ;;=;; 300%
		DamageScalar  = 295% ANY +MordorWitchKing ;;.;; 440% ;;-;; 400% ;;-;;
 		DamageScalar  = 330% ANY +MordorMouthOfSauron ;;-;; 300% ;;-;;
		DamageScalar  = 200% ANY +GoblinCaveTroll
		DamageScalar  = 200% ANY +CaveTroll_Slaved
		DamageScalar  = 100% ANY +MordorMountainTroll
		DamageScalar  = 200% ANY +MordorDrummerTroll
		DamageScalar  = 200% ANY +MordorAttackTroll
		DamageScalar  = 200% ANY +MACHINE ;;.;;
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed	  = 40 ;;-;;
	End
End

;-----------------------------
;Weapon CloudBreakSunbeamWeapon
;    FireFX = FX_CloudBreakRays
;    DelayBetweenShots = 10000
;End



;/// WARNING: These two weapons are hard coded in PhysicsUpdate at line 110. That needs to be fixed before they are removed.
;------------------------------------------------------------------------------
Weapon VehicleCrashesIntoBuildingWeapon
End

;------------------------------------------------------------------------------
Weapon VehicleCrashesIntoNonBuildingWeapon
End
;/// WARNING: These two weapons are hard coded in PhysicsUpdate at line 110. That needs to be fixed before they are removed.

;------------------------------------------------------------------------------
Weapon ShelobMandibles     ; BALANCE Shelob Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  RadiusDamageAffects 	 = ENEMIES NEUTRALS NOT_SIMILAR ; ;
  MeleeWeapon           = Yes
  DelayBetweenShots     = WILD_SHELOB_MANDIBLES_DELAYBETWEENSHOTS    ; time between shots, msec
  PreAttackDelay        = WILD_SHELOB_MANDIBLES_PREATTACKDELAY ; 300 is mace swing delay time before contact with target.

  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FiringDuration        = WILD_SHELOB_MANDIBLES_FIRINGDURATION  ; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_SHELOB_STINGER_DAMAGE
	DamageTaperOff = #MULTIPLY( WILD_SHELOB_STINGER_DAMAGE WILD_SHELOB_STINGER_DAMAGE_TAPEROFF ) ;;-;;
	DamageScalar  = 80% ANY +GoblinCaveTroll
	DamageScalar  = 80% ANY +CaveTroll_Slaved
	DamageScalar  = 80% ANY +MordorMountainTroll
	DamageScalar  = 100% ANY +MordorDrummerTroll
	DamageScalar  = 100% ANY +MordorAttackTroll
	DamageScalar	= 115% ANY +MordorWitchKing ;;-;;
    DamageScalar  = 56% ANY +STRUCTURE ;;-;; 50% ;;=;; 63%
	;;-;; DamageScalar  = 95% ANY +HERO ;;-;; 85%
    ;;.;; DamageScalar  = 80% ANY +RohanRohirrim ;;-;;
    ;;-;; DamageScalar  = 90% ANY +PIKE ;;-;;
    Radius        = WILD_SHELOB_STINGER_RADIUS
	;;-;;DelayTime     = 350 ;;-;; 450 ; ;0
	;;-;;	DamageSpeed	  = 140 ;;-;; 170 ;;-;; 200 ;;-;;
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = ISENGARD_BERSERKER_ARC
  End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
;		ShockWaveAmount   = 30.0
;		ShockWaveRadius   = 30.0
;		ShockWaveTaperOff = 0.75
;	End  
End

;------------------------------------------------------------------------------
Weapon MinorSpiderMandibles				; BALANCE Minor Spider Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1666			; time between shots, msec
  PreAttackDelay        = 900				; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT 			; Do the delay each time we attack
  FireFX                = FX_SpiderStabHit
  FiringDuration        = 766				; Duration of the mace swing 
  RequireFollowThru	= Yes
  
  DamageNugget						; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
;		ShockWaveAmount   = 30.0
;		ShockWaveRadius   = 30.0
;		ShockWaveTaperOff = 0.75
;	End  

End

;------------------------------------------------------------------------------;;=LINGSBALANCE=;;
Weapon SummonedSpiderlingMandibles				; BALANCE Wild Spiderling Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = WILD_SUMMONED_SPIDERLING_DELAYBETWEENSHOTS				; time between shots, msec
  PreAttackDelay        = WILD_SUMMONED_SPIDERLING_PREATTACKDELAY				; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT 			; Do the delay each time we attack
  FireFX                = FX_SpiderStabHit
  FiringDuration        = WILD_SUMMONED_SPIDERLING_FIRINGDURATION				; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget						; A basic Nugget that just does damage
    Damage        = WILD_SUMMONED_SPIDERLING_DAMAGE
;;=;;DamageScalar  = 55% ANY ; ; 65% ANY +HERO +STRUCTURE ; ;  70% ANY +HERO +STRUCTURE ; ; 80% ANY +HERO +STRUCTURE ; ; 50% ANY +HERO +STRUCTURE
	DamageScalar  = 50% ANY +STRUCTURE;;=;; 
	DamageScalar  = 70% ANY +HERO ;;=;; 
     DamageScalar = 123% ANY +MordorCorsairsOfUmbar ;;-;; 115% ;;-mordorgob-;;
     DamageScalar = 123% ANY +MordorFighter ;;-;; 115% ;;-mordorgob-;;
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
   ; DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End

	DOTNugget
	;;.;; 109v3PoisonNuggetRevision ;;.;; 
	Damage        = SUMMONED_SPIDERS_POISON_DAMAGE
	AcceptDamageAdd = No
	Radius        = 0.0
		DelayTime     			= 0
		DamageType    			= POISON
		DamageFXType  			= POISON
		DeathType     			= NORMAL
		DamageInterval			= 1000
		DamageDuration			= 10000 ; ;30000
		SpecialObjectFilter		= AFFECTED_BY_POISON_OBJECTFILTER 
	End

End

;------------------------------------------------------------------------------

Weapon LairSpiderlingMandibles ; ; split from SummonedSpiderlingMandibles for safety
  LeechRangeWeapon      = Yes

  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = MINOR_SPIDER_SLAVED_DELAYBETWEENSHOTS				; time between shots, msec

  PreAttackDelay        = MINOR_SPIDER_SLAVED_PREATTACKDELAY				; 300 is mace swing delay time before contact with target.

  PreAttackType         = PER_SHOT 			; Do the delay each time we attack

  FireFX                = FX_SpiderStabHit
  FiringDuration        = MINOR_SPIDER_SLAVED_FIRINGDURATION				; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget						; A basic Nugget that just does damage
    Damage			= MINOR_SPIDER_SLAVED_DAMAGE
	DamageScalar	= 123% ANY +MordorCorsairsOfUmbar ;;-;; 
	DamageScalar	= 123% ANY +MordorFighter ;;-;; 
	DamageScalar	= 35% ANY +PORTER ;;.;; 50% ;;-;;
	DamageScalar	= 50% ANY +STRUCTURE ;;.;; 
    Radius       	= 0.0
    DelayTime    	= 0
    DamageType   	= CAVALRY
    DeathType    	= NORMAL
    FlankingBonus	= GENERIC_MELEE_FLANKING_BONUS
  End

End

;------------------------------------------------------------------------------
Weapon WildSpiderlingMandibles				; BALANCE Wild Spiderling Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1666				; time between shots, msec
  PreAttackDelay        = 900				; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT 			; Do the delay each time we attack
  FireFX                = FX_SpiderStabHit
  FiringDuration        = 766				; Duration of the mace swing 
  RequireFollowThru		= Yes
  
	DamageNugget						; A basic Nugget that just does damage
		Damage        = WILD_SPIDERLING_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = CAVALRY
   ; DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
		; ; 50% STRUCTURE ; Balance: Spiderlings are fast and versatile against units so must not be so good against structures
		
		
		DamageScalar  = 80% ANY +ECONOMY_STRUCTURE -GondorFarm -ElvenMallornTree -DwarvenMineShaft -WildMineShaft -IsengardFurnace -MordorSlaughterHouse ;;.;; substracted good farms ;;-;; 85% ; ; 
		 
			DamageScalar  = 80% ANY +GondorFarm ;;.;; 85% ;;.;; 80% ;;-;; 
			DamageScalar  = 75% ANY +ElvenMallornTree ;;.;; 80%
			DamageScalar  = 89% ANY +DwarvenMineShaft ;;.;; 93% ;;.;; 85% ;;-;;
			
			DamageScalar  = 50% ANY +WildMineShaft ;;.;; 55% ;;.;; 50% ;;-;; 45% ;;-;; 
			DamageScalar  = 55% ANY +IsengardFurnace ;;.;; 55% ;;-;; 50% ;;-;; 
			DamageScalar  = 65% ANY +MordorSlaughterHouse ;;.;; 65% ;;-;; 60% ;;-;; 
			
		DamageScalar  = 83% ANY +FS_FACTORY ;;-;; 85%
			
		DamageScalar  = 107% ANY +CAVALRY ;;.;; 115% ;;-;; 120 ; ; 110% ; ; 
		
		DamageScalar = 115% ANY +MordorCorsairsOfUmbar ;;.;; 123% ;;.;; 115% ;;-mordorgob-;;
		DamageScalar = 115% ANY +MordorFighter ;;.;; 125% ;;.;; 115% ;;-mordorgob-;;
		DamageScalar = 112% ANY +DwarvenGuardian	; ; ;;=dwarfgob=;; 107%
		DamageScalar = 75% ANY +GondorArcher ;;-;;
	End
	
	DOTNugget ;;-;;
	;;.;; 109v3PoisonNuggetRevision ;;.;; 
		Damage        			= GOBLIN_SPIDERLING_POISON_DAMAGE
		AcceptDamageAdd 		= No
		Radius        			= 0.0
		DelayTime     			= 0
		DamageType    			= POISON
		DamageFXType  			= POISON
		DeathType     			= NORMAL
		DamageInterval 			= 1000
		DamageDuration 			= 10000 ; ;30000
		SpecialObjectFilter 	= AFFECTED_BY_POISON_OBJECTFILTER 
		RequiredUpgradeNames	= Upgrade_WildSpiderVenomSacks
	End
End
;------------------------------------------------------------------------------
;;.;; 09v3BalancingBannerCarriers
Weapon WildSpiderlingBannerMandibles09v3
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1666				; time between shots, msec
  PreAttackDelay        = 900				; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT 			; Do the delay each time we attack
  FireFX                = FX_SpiderStabHit
  FiringDuration        = 766				; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget						; A basic Nugget that just does damage
	 Damage        = WILD_SPIDERLING_DAMAGE
	 Radius        = 0.0
	 DelayTime     = 0
	 DamageType    = CAVALRY
	 DeathType     = NORMAL
	 FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
     DamageScalar  = 80% ANY +ECONOMY_STRUCTURE -DwarvenMineShaft -IsengardFurnace -WildMineShaft -MordorSlaughterHouse ;;-;; 85% ; ; 
	 DamageScalar  = 85% ANY +DwarvenMineShaft ;;-;; 
	 DamageScalar  = 50% ANY +WildMineShaft ;;-;; 45% ;;-;; 
	 DamageScalar  = 55% ANY +IsengardFurnace ;;-;; 50% ;;-;; 
	 DamageScalar  = 65% ANY +MordorSlaughterHouse ;;-;; 60% ;;-;; 
	 DamageScalar  = 83% ANY +FS_FACTORY ;;-;; 85%
     DamageScalar  = 115% ANY +CAVALRY ;;-;; 120 ; ; 110% ; ; 
     DamageScalar = 123% ANY +MordorCorsairsOfUmbar ;;-;; 115% ;;-mordorgob-;;
     DamageScalar = 123% ANY +MordorFighter ;;-;; 115% ;;-mordorgob-;;
     DamageScalar = 112% ANY +DwarvenGuardian	; ; ;;=dwarfgob=;; 107%
	 DamageScalar = 75% ANY +GondorArcher ;;-;;
  End
End
;------------------------------------------------------------------------------
;;-;;	Weapon WildSpiderlingVenomMandibles				; BALANCE Wild Spiderling Weapon 
;;-;;	  LeechRangeWeapon      = Yes
;;-;;	  AttackRange           = 25.0
;;-;;	  MeleeWeapon           = Yes
;;-;;	  DelayBetweenShots     = 1666				; time between shots, msec
;;-;;	  PreAttackDelay        = 900				; 300 is mace swing delay time before contact with target.
;;-;;	  PreAttackType         = PER_SHOT 			; Do the delay each time we attack
;;-;;	  FireFX                = FX_SpiderStabHit
;;-;;	  FiringDuration        = 766				; Duration of the mace swing 
;;-;;	  RequireFollowThru		= Yes
;;-;;	  
;;-;;	DOTNugget                        ; A basic Nugget that just does damage
;;-;;		Damage        = 4
;;-;;		AcceptDamageAdd = No
;;-;;		Radius        = 0.0
;;-;;		DelayTime     = 0
;;-;;		DamageType    = POISON
;;-;;		DamageFXType  = POISON
;;-;;		DeathType     = NORMAL
;;-;;		DamageInterval = 1000
;;-;;		DamageDuration = 10000 ; ;30000
;;-;;		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER 
;;-;;	End
;;-;;	
;;-;;	  
;;-;;	  DamageNugget						; A basic Nugget that just does damage
;;-;;	    Damage        =  WILD_SPIDERLING_DAMAGE_UPGRADE
;;-;;	    Radius        = 0.0
;;-;;	    DelayTime     = 0
;;-;;	    DamageType    = CAVALRY
;;-;;	    DamageFXType  = SWORD_SLASH
;;-;;	    DeathType     = NORMAL
;;-;;	    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
;;-;;	End

;------------------------------------------------------------------------------
Weapon WildSpiderHolesSpiderlingMandibles				; BALANCE Wild Spiderling Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1666				; time between shots, msec
  PreAttackDelay        = 900				; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT 			; Do the delay each time we attack
  FireFX                = FX_SpiderStabHit
  FiringDuration        = 766				; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget						; A basic Nugget that just does damage
    Damage        = WILD_SPIDERLING_SLAVED_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
   ; DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon WildSpiderRiderBow     ; BALANCE Wild Spider Rider bow Weapon
	AttackRange         	= WILD_SPIDERRIDER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( WILD_SPIDERRIDER_RANGE .01 )  
	
	WeaponSpeed         	= 321         ; dist/sec 
	MinWeaponSpeed      	= 241
	MaxWeaponSpeed      	= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              	= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    	= Yes		;Used for lob weapons, scales speed proportional to range
	HitPercentage       	= 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       	= 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta		= 20		; prevent twitchy reaiming in horde on horde
	
	DelayBetweenShots   	= 0
	
	PreAttackDelay      	= WILD_SPIDERRIDER_BOW_PREATTACKDELAY 
	PreAttackType			= PER_SHOT
	;PreAttackRandomAmount	= 200   
	FiringDuration			= 0
	RequireFollowThru		= Yes

	;OverrideVoiceAttackSound			= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackAirSound		= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackStructureSound	= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackMachineSound	= ElvenWarriorVoiceAttackBow
	  
	;AutoReloadWhenIdle		= 1	
	
	ClipSize				= 1
	AutoReloadsClip			= Yes
	ClipReloadTime			= Min:WILD_SPIDERRIDER_BOW_RELOADTIME_MIN Max:WILD_SPIDERRIDER_BOW_RELOADTIME_MAX
	
	;ContinuousFireOne		= 0
	;ContinuousFireCoast		= WILD_SPIDERRIDER_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = EvilFactionArrow
	    WarheadTemplateName       = WildSpiderRiderBowWarhead
	    ForbiddenUpgradeNames     = Upgrade_WildFireArrows
	End	
  		
	ProjectileNugget    ; Fire Arrow
		ProjectileTemplateName   = EvilFactionFireArrow
		WarheadTemplateName      = WildSpiderRiderBowFireWarhead
		RequiredUpgradeNames     = Upgrade_WildFireArrows
	End
End
;------------------------------------------------------------------------------

Weapon WildSpiderRiderBowWarhead
  ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects		= ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget			= Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_SPIDERRIDER_BOW_DAMAGE
	DamageScalar  = 50% ALL ;;-;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = CAVALRY_RANGED ; ; PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon WildSpiderRiderBowFireWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget			= Yes	; Always hits initial target.

	DamageNugget                        
		Damage        = WILD_SPIDERRIDER_FIRE_UPGRADE_DAMAGE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		;;.;;109v3FireArrowDesign_Flame_Mounted;;.;;
		DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
		DamageScalar  = 25% ALL -STRUCTURE -INFANTRY -CAVALRY;;.;; 
		DamageScalar  = 50% ANY +CAVALRY ;;.;; 25%
		DamageScalar  = 37.5% ANY +INFANTRY -PIKE ;;.;; 25%
		;;.;;
	End
	;;-;;
	DamageNugget
		Damage        = WILD_SPIDERRIDER_FIRE_UPGRADE_DAMAGE
		DamageScalar  = 50% ALL -PIKE ;;-;;
		DamageScalar  = 43.5% ANY +PIKE ;;.;;  ;;.;;NewFireArrowDesign_Pierce_Mounted;;.;;
  		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = CAVALRY_RANGED ; ; PIERCE
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End
	
	;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
	;;.;;		Damage          = #MULTIPLY( WILD_SPIDERRIDER_FIRE_UPGRADE_DAMAGE .15 )
	;;.;;		DamageScalar	= 50% ALL ;;-;;
 	;;.;;		Radius          = 0.0
	;;.;;		DelayTime       = 0
	;;.;;		DamageType      = CAVALRY_RANGED
	;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
	;;.;;		DeathType       = NORMAL
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ALL -PIKE ;;-;;
	;;.;;	End
End

;----------------------------
Weapon WildSpiderRiderBowPoisonArrows09v3 ;;.;; Unused weapon created for custom maps.
	AttackRange         	= WILD_SPIDERRIDER_RANGE
	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1
	WeaponSpeed         	= 321
	MinWeaponSpeed      	= 241
	MaxWeaponSpeed      	= 481
	FireFX              	= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    	= Yes
	HitPercentage       	= 100
	ScatterRadius       	= 16.0
	AcceptableAimDelta		= 20
	DelayBetweenShots   	= 0
	PreAttackDelay      	= WILD_SPIDERRIDER_BOW_PREATTACKDELAY 
	PreAttackType			= PER_SHOT
	FiringDuration			= 0
	RequireFollowThru		= Yes
	ClipSize				= 1
	AutoReloadsClip			= Yes
	ClipReloadTime			= Min:WILD_SPIDERRIDER_BOW_RELOADTIME_MIN Max:WILD_SPIDERRIDER_BOW_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes
	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = PoisonArrowProjectile
	    WarheadTemplateName       = WildSpiderRiderBowPoisonWarhead09v3
	End	
End
;----------------------------
Weapon WildSpiderRiderBowPoisonWarhead09v3
  ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects		= ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget			= Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_SPIDERRIDER_BOW_DAMAGE
	DamageScalar  = 50% ALL ;;-;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = CAVALRY_RANGED ; ; PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
	DOTNugget
		AcceptDamageAdd		= No
		Damage				= 2 ;;=;; 4 ; ;2
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= POISON
		DamageFXType		= POISON
		DeathType			= NORMAL
		DamageInterval		= 1000	; every second ...
		DamageDuration		= 3750 ;;=;; 7500 ; ;15000	; ... for 15 seconds
		SpecialObjectFilter	= AFFECTED_BY_POISON_OBJECTFILTER
	End
End
;------------------------------------------------------------------------------
Weapon WildSpiderRiderSword
	RadiusDamageAffects = ENEMIES NEUTRALS ; ;
	LeechRangeWeapon		= Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	DelayBetweenShots		= WILD_SPIDERRIDER_SWORD_DELAYBETWEENSHOTS ; time between shots, msec
	PreAttackDelay			= WILD_SPIDERRIDER_SWORD_PREATTACKDELAY ; 300 is mace swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack
	FireFX					= FX_GondorSwordHit
	FireFlankFX				= FX_Flanking
	FiringDuration			= WILD_SPIDERRIDER_SWORD_FIRINGDURATION ; Duration of the mace swing 

	DamageNugget
		Damage					= WILD_SPIDERRIDER_MELEE_DAMAGE
		DamageScalar			= 75% ANY +ElvenMallornTree ;;=goblinelf=;;
		DamageScalar			= 90% ANY +ElvenRivendellLancerBanner ;;-mordorelf-;;
		DamageScalar			= 90% ANY +ElvenRivendellLancer ;;-mordorelf-;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
		ForbiddenUpgradeNames	= Upgrade_WildForgedBlades
	End

  //CavalryForgedBlade09v2//
	DamageNugget                       
		Damage					= WILD_SPIDERRIDER_MELEE_DAMAGE_UPGRADE
    	DamageScalar  			= 200% ANY +STRUCTURE -FS_BASE_DEFENSE -ElvenMallornTree ; ;
		DamageScalar			= 150% ANY +ElvenMallornTree ;;-;; ;;=goblinelf=;;
		DamageScalar			= 90% ANY +ElvenRivendellLancerBanner ;;-mordorelf-;;
		DamageScalar			= 90% ANY +ElvenRivendellLancer ;;-mordorelf-;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType				= SWORD_SLASH
		DeathType				= NORMAL
		RequiredUpgradeNames			= Upgrade_WildForgedBlades
		FlankingBonus 				= GENERIC_MELEE_FLANKING_BONUS
	End
	
	DOTNugget
		Damage					= GOBLIN_SPIDERRIDER_POISON_DAMAGE
		AcceptDamageAdd			= No
		Radius					= 11.5 ;0.0 //-// i didn't know they had splash, lol.
		DelayTime				= 0
		DamageType				= POISON
		DamageFXType			= POISON
		DeathType				= NORMAL
		DamageInterval			= 1000
		DamageDuration			= 7500 ;10000
		RequiredUpgradeNames	= Upgrade_WildSpiderVenomSacks ;;-;;
		SpecialObjectFilter		= AFFECTED_BY_POISON_OBJECTFILTER 
	End
; ;
End

;-------------------------------------------------------------------
;;.;; 09v3BalancingBannerCarriers
Weapon WildSpiderRiderBannerSword09v3
	RadiusDamageAffects = ENEMIES NEUTRALS ; ;
	LeechRangeWeapon		= Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	DelayBetweenShots		= WILD_SPIDERRIDER_SWORD_DELAYBETWEENSHOTS ; time between shots, msec
	PreAttackDelay			= WILD_SPIDERRIDER_SWORD_PREATTACKDELAY ; 300 is mace swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack
	FireFX					= FX_GondorSwordHit
	FireFlankFX				= FX_Flanking
	FiringDuration			= WILD_SPIDERRIDER_SWORD_FIRINGDURATION ; Duration of the mace swing 

	DamageNugget
		Damage					= WILD_SPIDERRIDER_MELEE_DAMAGE
		DamageScalar			= 75% ANY +ElvenMallornTree ;;=goblinelf=;;
		DamageScalar			= 90% ANY +ElvenRivendellLancerBanner ;;-mordorelf-;;
		DamageScalar			= 90% ANY +ElvenRivendellLancer ;;-mordorelf-;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
	End
End

; ;------------------------------------------------------------------------------
;;-;;	Weapon WildSpiderRiderVenomSword
;;-;;		LeechRangeWeapon		= Yes
;;-;;		AttackRange				= 30.0
;;-;;	     RadiusDamageAffects 	= ENEMIES NEUTRALS ; ;
;;-;;		MeleeWeapon				= Yes
;;-;;		DelayBetweenShots		= WILD_SPIDERRIDER_SWORD_DELAYBETWEENSHOTS  ; time between shots, msec
;;-;;		PreAttackDelay			= WILD_SPIDERRIDER_SWORD_PREATTACKDELAY  ; 300 is mace swing delay time before contact with target.
;;-;;		PreAttackType			= PER_SHOT ; Do the delay each time we attack
;;-;;		FireFX					= FX_GondorSwordHit
;;-;;		FireFlankFX				= FX_Flanking
;;-;;		FiringDuration			= WILD_SPIDERRIDER_SWORD_FIRINGDURATION ; Duration of the mace swing 
;;-;;	
;;-;;		DamageNugget
;;-;;			Damage					= WILD_SPIDERRIDER_MELEE_DAMAGE
;;-;;			DamageScalar			= 75% ANY +ElvenMallornTree ;;=goblinelf=;;
;;-;;			Radius					= 0.0
;;-;;			DelayTime				= 0
;;-;;			DamageType				= CAVALRY
;;-;;			DeathType				= NORMAL
;;-;;			FlankingBonus				= GENERIC_MELEE_FLANKING_BONUS
;;-;;			ForbiddenUpgradeNames			= Upgrade_WildForgedBlades
;;-;;		End
;;-;;	
;;-;;		DamageNugget                       
;;-;;			Damage					= WILD_SPIDERRIDER_MELEE_DAMAGE_UPGRADE
;;-;;	    	DamageScalar  			= 200% ANY +STRUCTURE -FS_BASE_DEFENSE ;;=;;
;;-;;			Radius					= 0.0
;;-;;			DelayTime				= 0
;;-;;			DamageType				= CAVALRY
;;-;;			DamageFXType				= SWORD_SLASH
;;-;;			DeathType				= NORMAL
;;-;;			RequiredUpgradeNames			= Upgrade_WildForgedBlades
;;-;;			FlankingBonus 				= GENERIC_MELEE_FLANKING_BONUS
;;-;;		End
;;-;;	
;;-;;		DOTNugget
;;-;;			Damage					= 6 ;4
;;-;;			AcceptDamageAdd			= No
;;-;;			Radius					= 11.5 ;0.0
;;-;;			DelayTime				= 0
;;-;;			DamageType				= POISON
;;-;;			DamageFXType			= POISON
;;-;;			DeathType				= NORMAL
;;-;;			DamageInterval			= 1000
;;-;;			DamageDuration			= 7500 ;10000
;;-;;			RequiredUpgradeNames		= Upgrade_WildSpiderVenomSacks ; ;
;;-;;			SpecialObjectFilter		= AFFECTED_BY_POISON_OBJECTFILTER 
;;-;;		End
;;-;;	End

//------------------------------------------------------------------------------

//Fake weapon so that the expansion will pick targets that the slaved giant can attack
//BALANCE ActiveArtilleryWeaponStructuralContainer//
Weapon GiantSentryExpansionWeapon		
  AttackRange				= WILD_GIANTSENTRYEXPANSION_RANGE
	MinimumAttackRange		= WILD_GIANTSENTRYEXPANSION_MINRANGE ;;.;;
  LeechRangeWeapon			= Yes
  DelayBetweenShots			= WILD_GIANTSENTRYEXPANSION_DELAYBETWEENSHOTS  
  PreAttackDelay			= WILD_GIANTSENTRYEXPANSION_PREATTACKDELAY
  FiringDuration      		= WILD_GIANTSENTRYEXPANSION_FIRINGDURATION
  AcceptableAimDelta		= 90  
  FinishAttackOnceStarted	= Yes    

  //This nugget tells the objects slave to perform the attack
  SlaveAttackNugget
  End
End

;------------------------------------------------------------------------------
;// This is the attack with rock in hand
;// Mountain Giant
//BALANCE ActiveArtilleryWeaponStructural//
Weapon WildMountainGiantSentryRockThrow  ; BALANCE Mountaint Giant Weapon Rock
	AttackRange         	= WILD_GIANTSENTRYEXPANSION_RANGE ; ; 
	MinimumAttackRange		= WILD_GIANTSENTRYEXPANSION_MINRANGE ;;.;;
    LeechRangeWeapon    	= Yes
	WeaponSpeed         	= WILD_GIANTSENTRYEXPANSION_WEAPONSPEED				;// dist/sec 	
	FireFX              	= FX_EntThrowSmallRock	
	HitPercentage       	= 0						;//When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       	= 4.0					;//When this weapon misses it can randomly miss by as much as this distance.	  
	
	DelayBetweenShots   	= WILD_GIANTSENTRYEXPANSION_DELAYBETWEENSHOTS
	PreAttackDelay      	= WILD_GIANTSENTRYEXPANSION_PREATTACKDELAY  	
	PreAttackType       	= PER_SHOT
	FiringDuration      	= WILD_GIANTSENTRYEXPANSION_FIRINGDURATION
	NoVictimNeeded			= Yes	;// Need no target
	IsAimingWeapon			= Yes	;// Shooter will use his AimWeaponBehavior to get extra model condition flags	
	  
	ClipSize				= 0	

	ProjectileNugget	
		ProjectileTemplateName  = RockGiantSentry

		WarheadTemplateName     = WildMountainGiantRockThrowWarhead_Structural		
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;------------------------------------------------------------------------------
; This is the attack with rock in hand
; Mountain Giant
;Weapon WildMountainGiantRockThrow  ; BALANCE Mountaint Giant Weapon Rock
;	IdleAfterFiringDelay		= 2000 ;Yes if I want to throw rock, then wait until the followthrough is complete, then go idle.
;	AttackRange					= WILD_MOUNTAIN_GIANT_ROCK_RANGE
;	
;		RangeBonusMinHeight	= 10
;	RangeBonus		= 1
;	RangeBonusPerFoot	= #MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_RANGE .01 )
;	
;	WeaponSpeed					= 200.0        ; dist/sec (huge value == effectively instant)
;	ProjectileFilterInContainer	= ANY +ROCK +INFANTRY; We don't make the projectile, it is in our Contain module.
;	FireFX						= FX_EntThrowSmallRock
;	PreAttackDelay				= 1400
;	PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
;	HitPercentage				= 0 ; never auto hits, always hits ground
;	ScatterRadius				= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.
;	FiringDuration				= 2000
;	DelayBetweenShots			= 1000
;	IsAimingWeapon				= Yes	; Shooter will use his AimWeaponBehavior to get extra model condition flags
;	NoVictimNeeded				= Yes ; Need no target
;	LeechRangeWeapon			= Yes
;
;	ProjectileNugget                    	; A Nugget that creates an Object and sends it to the target with a Warhead
;		WarheadTemplateName 		= WildMountainGiantRockThrowWarhead
;	End
;End

;----------------------------------------------------------------------------------------------------------------
;
;	This is the toggle weapon for giants. They will reload, throw, reload straight away, and constantly hold a rock.
;
Weapon GiantRockThrow	//BALANCE ActiveArtilleryWeapon//
	;IdleAfterFiringDelay		= 2000							; Do NOT idle after throwing or Bombard will break
	HoldDuringReload			= Yes							
	AttackRange					= WILD_MOUNTAIN_GIANT_ROCK_RANGE
	MinimumAttackRange			= WILD_MOUNTAIN_GIANT_ROCK_MINRANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2.5 ; ;#MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_RANGE .01 )
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1200
	FiringDuration				= 2000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
	ClipSize 				= 6 ; ;
	AutoReloadsClip 		= Yes
	ClipReloadTime          = 6000; how long to reload a Clip, msec
; ;	HitPercentage				= 0								; never auto hits, always hits ground
; ;	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1.0 ; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 43 Y: 14
  	ScatterTarget           = X: 20 Y:-32
  	ScatterTarget           = X:-25 Y: 36
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-16 Y: 19
  	ScatterTarget           = X: 19 Y: 16
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 4200
	AutoReloadWhenIdle			= 1800							; should be a bit less than IdleAfterFiringDelay or HoldAfterFiringDelay
	//ClipSize 					= 1
	AutoReloadsClip 			= NO
	ClipReloadTime 				= 2000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigGiant
		WarheadTemplateName		= WildMountainGiantRockThrowWarhead
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

; ; ----------------------------------------------------------------------------------------------------------------
Weapon GiantAntiShipRockThrow	//BALANCE BT2DCAntiShipsWeapon//
	HoldDuringReload			= Yes							
	AttackRange					= BT2DC_ARTILLERY_BOMBARD_RANGE
	MinimumAttackRange			= BT2DC_ARTILLERY_BOMBARD_RANGE_MIN
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2.5 ; ;#MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_RANGE .01 )
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1200
	FiringDuration				= 2000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 12200 ; ;6000
	ClipSize 				= 6 ; ;
	AutoReloadsClip 		= Yes
; ;	HitPercentage				= 0								; never auto hits, always hits ground
; ;	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	HitPercentage				= 0     ;Make sure that scatter radius is called so that multiple projectiles will land separately.
	ScatterRadius				= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  	; ; Instead of a purely random scatter distance, this will divide a clip evenly and randomly at these spots
  	ScatterTargetScalar = 1.25 ; replaces the ScatterRadius, above, for scaling this table, below
  	ScatterTarget           = X: 86 Y: 98
  	ScatterTarget           = X: 40 Y:-62
  	ScatterTarget           = X:-50 Y: 72
  	ScatterTarget           = X: 0.000 Y: 0.000 
  	ScatterTarget           = X:-72 Y: 89
  	ScatterTarget           = X: 38 Y: 32
	ScatterIndependently		= Yes		;Each projectile fired at once from this weapon should scatter independently of each other.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 4200
	AutoReloadWhenIdle			= 11000 ; ;1800							; should be a bit less than IdleAfterFiringDelay or HoldAfterFiringDelay
	//ClipSize 					= 1
;	AutoReloadsClip 			= NO
;	ClipReloadTime          	= 6000; how long to reload a Clip, msec

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigGiantBombard ; ;RockBigGiant
		WarheadTemplateName		= WildMountainGiantAntiShipRockThrowWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------
Weapon GiantRockThrowCloseRange
	;IdleAfterFiringDelay		= 2000							; Do NOT idle after throwing or Bombard will break
	HoldDuringReload			= Yes							
	AttackRange					= WILD_MOUNTAIN_GIANT_ROCK_MINRANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 2.5 ; ;#MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_RANGE .01 )
	

	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1200
	FiringDuration				= 2000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 4200
	AutoReloadWhenIdle			= 1800							; should be a bit less than IdleAfterFiringDelay or HoldAfterFiringDelay
	//ClipSize 					= 1
	AutoReloadsClip 			= NO
	ClipReloadTime 				= 2000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigGiant
		WarheadTemplateName		= WildMountainGiantRockThrowWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------
Weapon WildMountainGiantRockMeleeAttack							// Smash straight down with the rock when too close to throw it
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  DelayBetweenShots			= 3600            ; time between shots, msec
  FiringDuration			= 2000            
  PreAttackDelay			= 1400			  
  PreAttackType				= PER_SHOT
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  ;DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_ROCK_MELEE_DAMAGE
    Radius        = WILD_MOUNTAIN_GIANT_ROCK_MELEE_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 180
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 60.0
    ShockWaveRadius   = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

;----------------------------------------------------------------------------------------------------------------
; This is the building attack and is also used against monsters
Weapon GiantBuildingTeardown
	RadiusDamageAffects		= ENEMIES NEUTRALS
	CanFireWhileMoving		= No
	LeechRangeWeapon		= Yes				;Just like the troll, this needs to go with Melee to let me hurt round buildings.

	AttackRange				= 20.0
	AntiStructure			= Yes				; Ram ONLY affects structures -- buildings, walls, gates
	AntiGround				= Yes				; Can attack monsters too
	MeleeWeapon				= Yes
	AcceptableAimDelta		= 20				; Can't ram sideways (but give a little slack)
	FireFX					= FX_TreeBeardBash
	DelayBetweenShots		= 3900				; time between shots, msec
	FiringDuration			= 1900				; min 1900 for anim
	PreAttackDelay			= 1100
	PreAttackType			= PER_SHOT			; Do the delay each time we attack a new target

	DamageNugget                        ; A basic Nugget that just does damage
		SpecialObjectFilter	= ANY +STRUCTURE +BLOCKING_GATE
		Damage        = WILD_MOUNTAIN_GIANT_BUILDINGATTACK_DAMAGE
		DamageScalar  = 85% ANY +COMMANDCENTER ;;=;;
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = CLUBBING
		DeathType     = NORMAL
		DamageScalar	= 0% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;.;;
	End
	;;.;;
	DamageNugget // ;;.AntiWallNuggetMelee.;;
		Damage				= WILD_MOUNTAIN_GIANT_BUILDINGATTACK_DAMAGE
		DamageTaperOff		= ANTIWALL_DAMAGE_TAPEROFF
		Radius				= ANTIWALL_RADIUS_MONSTERTEARDOWN
		DamageType			= SIEGE
		DamageFXType  		= STRUCTURAL
		DeathType			= NORMAL
		DelayTime			= 0
		SpecialObjectFilter	= ANY WALLS_AND_DEFENCES_OBJECTFILTER
	End

	DamageNugget                        ; A basic Nugget that just does damage
		SpecialObjectFilter = ANY +MONSTER
		Damage        = WILD_MOUNTAIN_GIANT_ANTIMONSTER_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = CLUBBING
		DeathType     = NORMAL
	End
End

;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead//
Weapon WildMountainGiantRockThrowWarhead
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES ; ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_ROCK_DAMAGE
	DamageScalar   = 85% ANY +COMMANDCENTER ;;=;; 
	Radius         = WILD_MOUNTAIN_GIANT_ROCK_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
		DamageScalar  = 0% NONE ALLIES +STRUCTURE  ;;-;; No damage to allied structures.
  End
  
  	 DamageNugget // ;;.AntiWallNuggetArtillery.;;
		Damage        = #MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_DAMAGE 0.75 ) ;;.;; WILD_MOUNTAIN_GIANT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_GIANT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER ; ;
		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End
  
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount		= 25.0
    ShockWaveRadius		= 20.0
    ShockWaveTaperOff	= 0.75
;   ShockWaveZMult		= 1.20
  End
End

; ;----------------------------
Weapon WildMountainGiantAntiShipRockThrowWarhead ;;=;; //BALANCE BT2DCAntiShipsWarhead//
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES ; ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WILD_MOUNTAIN_GIANT_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageScalar   = 85% ANY +COMMANDCENTER ;;=;; 
		DamageTaperOff = BT2DC_ARTILLERY_BOMBARD_TAPEROFF
		Radius        = BT2DC_ARTILLERY_BOMBARD_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE ;;-;; No damage to allied structures.
	End
  
  	;;.;;	 DamageNugget // ;;.AntiWallNuggetArtillery.AntiShip;;
	;;.;;		Damage        = #MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_DAMAGE 0.5 ) ;;-;;
	;;.;;		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
	;;.;;		Radius        = 100.0
	;;.;;		DelayTime     = 0
	;;.;;		DamageType    = SIEGE
	;;.;;		DamageFXType  = BIG_ROCK
	;;.;;		DeathType     = EXPLODED
	;;.;;		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER ; ;
	;;.;;		DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	;;.;;	End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount		= 25.0
    ShockWaveRadius		= 20.0
    ShockWaveTaperOff	= 0.75
  End
End

;----------------------------
//BALANCE ActiveArtilleryWeaponWarhead.Structural//
Weapon WildMountainGiantRockThrowWarhead_Structural
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ALLIES; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_ROCK_DAMAGE
	DamageScalar   = 85% ANY +COMMANDCENTER ;;=;; 
    Radius        = WILD_MOUNTAIN_GIANT_ROCK_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
		DamageScalar  = 0% NONE ALLIES +STRUCTURE  ;;-;; No damage to allied structures.
  End
  
  	 DamageNugget // ;;.AntiWallNuggetArtillery.Structural.;;
		Damage        = #MULTIPLY( WILD_MOUNTAIN_GIANT_ROCK_DAMAGE 0.75 ) ;;.;; WILD_MOUNTAIN_GIANT_ROCK_DAMAGE
		DamageTaperOff = ANTIWALL_DAMAGE_TAPEROFF
		Radius        = ANTIWALL_RADIUS_GIANT
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		SpecialObjectFilter = ANY WALLS_AND_DEFENCES_OBJECTFILTER ; ;
		;;.;; DamageScalar  = 120% ANY +FS_BASE_DEFENSE ; ;
	End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount		= 25.0
    ShockWaveRadius		= 20.0
    ShockWaveTaperOff	= 0.75
;   ShockWaveZMult		= 1.20
  End
End

;------------------------------------------------------------------------------
; This is the normal punch, not the AOE, rock, siege or tree
Weapon WildMountainGiantPunch1				; ATKA - Left arm swat
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  ;HoldAfterFiringDelay		= 1400			; don't let the unit AI do anything else until animation finishes
  DelayBetweenShots			= 1400			; slightly less than FiringDuration
  FiringDuration			= 1600			; remaining 48 frames of 90
  PreAttackDelay			= 1400			; anim frame 42/90
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  LockWhenUsing				= Yes

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_PUNCH_DAMAGE
    Radius        = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 60.0
    ShockWaveRadius   = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

Weapon WildMountainGiantPunch2				; ATKB - Right backhand
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  ;HoldAfterFiringDelay		= 1400			; don't let the unit AI do anything else until animation finishes
  DelayBetweenShots			= 1400			; slightly less than FiringDuration
  FiringDuration			= 1600			; remaining 47 frames of 81 (rounded to nearest logic frame)
  PreAttackDelay			= 1200			; anim frame 34/81 (rounded to nearest logic frame)
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  LockWhenUsing				= Yes

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_PUNCH_DAMAGE
    Radius        = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 60.0
    ShockWaveRadius   = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

Weapon WildMountainGiantPunch3				; ATKD - Right football kick
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  ;HoldAfterFiringDelay		= 1200			; don't let the unit AI do anything else until animation finishes
  DelayBetweenShots			= 1400
  FiringDuration			= 1400			; remaining 43 frames of 71 (rounded to nearest logic frame)
  PreAttackDelay			= 1000			; anim frame 28/71 (rounded to nearest logic frame)
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  LockWhenUsing				= Yes

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_PUNCH_DAMAGE
    Radius        = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 60.0
    ShockWaveRadius   = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

Weapon WildMountainGiantMovingPunch				; ATRA - Right backhand while moving
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  ;HoldAfterFiringDelay		= 1200			; don't let the unit AI do anything else until animation finishes
  DelayBetweenShots			= 1400
  FiringDuration			= 600			; remaining 20 frames of 44 (rounded to nearest logic frame)
  PreAttackDelay			= 800			; anim frame 22/44 (rounded to nearest logic frame)
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  LockWhenUsing				= Yes

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_PUNCH_DAMAGE
    Radius        = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 60.0
    ShockWaveRadius   = WILD_MOUNTAIN_GIANT_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

;----------------------------
Weapon WildMountainGiantRockFromThinAir  // obsolete
	AttackRange					= WILD_MOUNTAIN_GIANT_ROCK_RANGE
	WeaponSpeed					= 200.0        ; dist/sec (huge value == effectively instant)
	FireFX						= FX_TrollTreeSwing
	PreAttackDelay				= 6200
	FiringDuration				= 1800
	DelayBetweenShots			= 4000
	PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage				= 0 ; never auto hits, always hits ground
	ScatterRadius				= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes	; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes ; Need no target
	LeechRangeWeapon			= Yes

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName		= RockBigTreeberd
		WarheadTemplateName			= WildMountainGiantRockFromThinAirWarhead
		WeaponLaunchBoneSlotOverride = PRIMARY ; ;
	End
End

;----------------------------
Weapon WildMountainGiantRockFromThinAirWarhead  // obsolete
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_ROCK_DAMAGE
    Radius        = 10.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount		= 50.0
    ShockWaveRadius		= 30.0
    ShockWaveTaperOff	= 0.75
;   ShockWaveZMult		= 1.20
  End
End

;------------------------------------------------------------------------------
Weapon WildMountainGiantStomp ; Special ability
	IdleAfterFiringDelay = 0
	AttackRange = WILD_MOUNTAIN_GIANT_STOMP_RADIUS
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlast
	FireFX                = FX_GiantStomp
	FiringDuration      = 1400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= WILD_MOUNTAIN_GIANT_STOMP_DAMAGE
		DamageScalar	= 200% ANY +HERO
		Radius			= WILD_MOUNTAIN_GIANT_STOMP_RADIUS
		DamageType		= FORCE
		DeathType		= NORMAL
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .85 ; ; 0
		ShockWaveAmount   = 35.0
		ShockWaveRadius   = WILD_MOUNTAIN_GIANT_STOMP_RADIUS
		ShockWaveTaperOff = 1.0
		ShockWaveSpeed	  = 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon MountainGiantDeath  ; BALANCE Ent Death toppling over units
  RadiusDamageAffects = ALLIES ENEMIES NEUTRALS
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_MOUNTAIN_GIANT_DEATH_DAMAGE
    Radius        = WILD_MOUNTAIN_GIANT_DEATH_RADIUS
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount		= 40.0
    ShockWaveRadius		= 40.0
    ShockWaveTaperOff	= 1.0
  End
End

;------------------------------------------------------------------------------
Weapon WildMarauderPike     ; BALANCE Wild Marauder Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 35
  MeleeWeapon           = Yes	; Sorry, stand off doesn't work.  This is just a melee weapon.
  DelayBetweenShots     = WILD_MARAUDER_STAB_DELAYBETWEENSHOTS				; time between shots, msec
  PreAttackDelay        = WILD_MARAUDER_STAB_PREATTACKDELAY				
  PreAttackType         = PER_SHOT			; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = WILD_MARAUDER_STAB_FIRINGDURATION				
  HitStoredTarget 		= Yes	; Always hits initial target.
  RadiusDamageAffects 	= ENEMIES NOT_SIMILAR ; ;
    
	DamageNugget								; A basic Nugget that just does damage
		Damage				= WILD_MARAUDER_STAB_DAMAGE
		DamageScalar		= 90% ANY +STRUCTURE ;;-;; +IsengardFurnace +IsengardUrukPit +IsengardWargPit ;;-;;
		DamageScalar		= 90% ANY +GoblinCaveTroll ;;-;;
		DamageScalar		= 80% ANY +IsengardWargRider ;;.;; 75% ;;-;; 100% ;;-;; 50%
		DamageScalar		= 75% ANY +DwarvenBattleWagon ;;-;;
		DamageScalar  		= 125% ANY +EvilMenBlackRider
		DamageScalar  		= 90% ANY +MordorAttackTroll ;;=;; 120%.
				;;remove scalar to give dmg like on 1.06
		;;.;; DamageScalar  		= 105% ANY +MordorMountainTroll ;;-;;
		DamageType			= SPECIALIST
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
		;LostLeadershipUselessAgainst	= CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		ForbiddenUpgradeNames		= Upgrade_WildForgedBlades
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End

	DamageNugget								; A basic Nugget that just does damage
		Damage				= WILD_MARAUDER_DAMAGE_UPGRADE
		DamageScalar		= 90% ANY +STRUCTURE ;;-;; +IsengardFurnace +IsengardUrukPit +IsengardWargPit ;;-;;
		DamageScalar  		= 200% ANY +INFANTRY -HERO ; ;
		DamageScalar		= 75% ANY +HERO ; ;
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
		;LostLeadershipUselessAgainst	= CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		RequiredUpgradeNames		= Upgrade_WildForgedBlades
		FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
	End


; ; Splash damage with standard damage.
	DamageNugget								; A basic Nugget that just does damage
		SpecialObjectFilter		= ANY +CAVALRY ;;-;; -DwarvenBattleWagon ;;-;; btw, this kind of scalar affects battlewagon. ;;-;; NotAnymore.
		Damage				= 50
		;;-;; DamageTaperOff		= #MULTIPLY( 50 0.60 ) ;;-;;
		DamageScalar		= 55% ANY +IsengardWargRider ;;.;; 50% ;;-;;
     	AcceptDamageAdd = No ;;=;; Yes
    	Radius        = 7.5
		DamageType			= SPECIALIST
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
		;;-;;FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
		ForbiddenUpgradeNames		= Upgrade_WildForgedBlades
	End
 ;;-;; Splash damage with forged blade.
	DamageNugget
		SpecialObjectFilter		= ANY +CAVALRY ;;-;; -DwarvenBattleWagon ;;-;; btw, this kind of scalar affects battlewagon. ;;-;; NotAnymore.
		Damage				= 90 ;;-;; 50
		DamageTaperOff		= 50 ;;-;; 
		DamageScalar		= 55% ANY +IsengardWargRider ;;.;; 50% ;;-;;
     	AcceptDamageAdd = No ;;=;; Yes
    	Radius        = 7.5
		DamageType			= SPECIALIST
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
		;;-;;FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
		RequiredUpgradeNames		= Upgrade_WildForgedBlades
	End

End

;------------------------------------------------------------------------------
;Weapon IsengardExplosiveMineDroppingWeaponCAMPEA   ; BALANCE Mine Weapon
;	AttackRange           = 4.0
;	MeleeWeapon           = Yes
;	DelayBetweenShots     = 3000            ; time between shots, msec
;	PreAttackDelay        = 1466             ; 433 is natural time of the stabbing animation.
;	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;	FiringDuration        = 733            ; min 600 for anim
;
;	SpawnAndFadeNugget	
;		SpawnedObjectName = IsengardDeployedExplosiveMineCAMPEA
;		SpawnOffset = X:8 Y:1 Z:0
;	End
;End

;------------------------------------------------------------------------------
;Weapon IsengardExplosiveMineExplosionWeaponCAMPEA   ; BALANCE Mine Weapon
;	AttackRange           = 4.0
;	DelayBetweenShots     = 2000            ; time between shots, msec
;	FireFX                = FX_ExplosiveMine
;
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage        = 20
;		Radius        = 20.0
;		DelayTime     = 0
;		DamageType    = SIEGE
;		DamageFXType  = FLAME
;		DeathType     = BURNED
;		DamageScalar  = 500000% ANY +HelmsDeepCulvert +HelmsDeepGate +HelmsDeepSectionAi +HelmsDeepSectionC ;Make sure we one shot kill Culvert but Ballista have to shoot alot
;	End
;
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage        = 1000
;		Radius        = 205.0
;		DelayTime     = 0
;		DamageType    = FORCE
;		DeathType     = NORMAL
;	End
;	
;	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
;		ShockWaveAmount   = 90.0		
;		ShockWaveRadius   = 205.0
;		ShockWaveTaperOff = 0.66
;	End
;End



;------------------------------------------------------------------------------
Weapon IsengardScaffoldLargeCollapseWeapon     
	AttackRange			= 4.0
	DelayBetweenShots		= 2000				; time between shots, msec
	;FireFX			= FX_ScaffoldDie			; currently just used for audio only

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 800  				; A whole lot of damage.
		Radius        = 50.0
		DelayTime     = 0
		DamageType    = CRUSH
		DeathType     = CRUSHED
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 1000
		Radius        = 50.0
		DelayTime     = 0
		DamageType    = FORCE
		DeathType     = NORMAL
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 90.0		
		ShockWaveRadius   = 75.0
		ShockWaveTaperOff = 0.66
	End
End


;------------------------------------------------------------------------------
Weapon IsengardScaffoldSmallCollapseWeapon     
	AttackRange           = 4.0
	DelayBetweenShots     = 2000            ; time between shots, msec

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 400  				; A whole lot of damage.
		Radius        = 30.0
		DelayTime     = 0
		DamageType    = CRUSH
		DeathType     = CRUSHED
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 500
		Radius        = 30.0
		DelayTime     = 0
		DamageType    = FORCE
		DeathType     = NORMAL
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = 90.0		
		ShockWaveRadius   = 50.0
		ShockWaveTaperOff = 0.66
	End
End

;//-------------------------------------------------------------------------------------
;//------------	ELVEN ------------------------------------------------------------------
;//-------------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Weapon ElvenThranduilBow
	AttackRange         = THRANDUIL_BOW_RANGE	
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( THRANDUIL_BOW_RANGE .01 )  
	LeechRangeWeapon	= Yes
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	HitStoredTarget = Yes	; Always hits initial target.
	;ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	DelayBetweenShots   = 0
	PreAttackDelay      = 300 ; ;ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	PreAttackType       = PER_POSITION
	FiringDuration      = 0

	;OverrideVoiceAttackSound		= ElvenWarriorVoiceAttackBow
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:1450 Max:1450
	ContinuousFireOne	= 0
	ContinuousFireCoast	= 200 ; ; THRANDUIL_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%

	CanBeDodged				= No ; ;Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget                    ; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = ElvenThranduilBowWarhead
	    ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
	End

End

;----------------------------
Weapon ElvenThranduilBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = THRANDUIL_BOW_DAMAGE
    DamageScalar  = 50% ANY +MONSTER +HERO -EvilMenBlackRider -MordorMouthOfSauron ; ;
	DamageScalar  = 62% ANY +EvilMenBlackRider +MordorMouthOfSauron
    DamageScalar  = 50% ANY +MACHINE -DwarvenBattleWagon ;;=;; 40% ; ; 15% on 1.6 lol
    DamageScalar  = 50% ANY +DwarvenBattleWagon ;;  really? 
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon ElvenThranduilBowDeadeye
	AttackRange					= THRANDUIL_BOW_RANGE_DEADEYE
	WeaponSpeed					= 321
	MinWeaponSpeed				= 241
	MaxWeaponSpeed				= 481
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	HitStoredTarget				= Yes
	DelayBetweenShots			= 0
	PreAttackDelay				= ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY
	PreAttackType				= PER_POSITION
	FiringDuration				= 0
	;OverrideVoiceAttackSound	= ElvenWarriorVoiceAttackBow
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= Min:1000 Max:1000 ; ;Min:THRANDUIL_RELOADTIME_MIN Max:THRANDUIL_RELOADTIME_MAX
	ContinuousFireOne			= 0
	ContinuousFireCoast			= THRANDUIL_RELOADTIME_MAX
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	CanBeDodged					= No ; ;Yes

	ProjectileNugget
		ProjectileTemplateName	= GoodFactionArrowDeadeye
		WarheadTemplateName		= ElvenThranduilBowWarheadDeadeye
		ForbiddenUpgradeNames	= Upgrade_RohanFireArrows
	End

End

;----------------------------
Weapon ElvenThranduilBowWarheadDeadeye
	ProjectileCollidesWith		= ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects			= ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget				= Yes
	DamageNugget
		Damage					= THRANDUIL_BOW_DAMAGE_DEADEYE_HERO
		DamageScalar			= 130% ANY +GoblinSpiderRider ;;=goblinelf=;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO_RANGED
		DamageFXType			= MAGIC ;;-;; GOOD_ARROW_PIERCE
		DeathType				= NORMAL
	End
	DamageNugget
		Damage					= THRANDUIL_BOW_DAMAGE_DEADEYE_MAGICAL
		DamageScalar			= 10% ANY +COMMANDCENTER ;;-;; 20%
		DamageScalar			= 25% ANY +STRUCTURE -COMMANDCENTER ;;-;; 50%

		DamageScalar			= 35% ANY +MACHINE -DwarvenBattleWagon -MordorGrond
		DamageScalar			= 67% ANY +DwarvenBattleWagon ;;-;; 75% ;;=;; 

		DamageScalar			= 80% ANY +CANNOT_RETALIATE ;;=Elvesagainstflyersnerf=;;
		DamageScalar			= 80% ANY TROLL_UNITS ;;-;;
		DamageScalar			= 90% ANY +IsengardSaruman +IsengardLurtz +IsengardSharku +IsengardWormTongue ;;-;;
		DamageScalar			= 70% ANY +MordorMumakil ;;-;;
		DamageScalar			= 70% ANY +MordorBalrog ;;-;;
		
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= MAGIC
		DamageFXType			= ELECTRIC ;;-;; GOOD_ARROW_PIERCE
		DeathType				= NORMAL
	End
	MetaImpactNugget
		SpecialObjectFilter		= ANY +INFANTRY ; ; +CAVALRY ; ;
		ShockWaveAmount			= 50.0
		ShockWaveRadius			= 5.0
		ShockWaveArc			= 90
		ShockWaveTaperOff		= 1.0
		ShockWaveSpeed			= 0.0
		ShockWaveZMult			= 1.0
		OnlyWhenJustDied		= Yes
	End
	
End

;------------------------------------------------------------------------------

Weapon ThranduilThornofVengeance
	AttackRange				= THRANDUIL_THORN_RANGE
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX					= FX_ThranduilThornOfVengeance	;FX_FaramirWoundingArrow
	ScaleWeaponSpeed		= Yes ; Used for lob weapons, scales speed proportional to range
	HitStoredTarget			= Yes	; Always hits initial target.
	HitPercentage			= 100		 
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:THRANDUIL_THORN_RELOADTIME_MIN Max:THRANDUIL_THORN_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanBeDodged				= No ;;-;; 
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.

	
	
	ProjectileNugget										; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= ThranSpecialArrow
		WarheadTemplateName	= ThranduilThornofVengeanceWarhead
	End

End

;------------------------------

Weapon ThranduilThornofVengeanceWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects	 = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget		 = Yes	; Always hits initial target.
  HitPercentage		     = 100	

 	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= THRANDUIL_THORN_DAMAGE_HERO
		DamageTaperOff		= #MULTIPLY( THRANDUIL_THORN_DAMAGE_HERO THRANDUIL_THORN_DAMAGE_TAPEROFF )
		DamageScalar  		= 10% ANY +STRUCTURE
		DamageScalar  		= 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond
		DamageScalar  		= 75% ANY +DwarvenBattleWagon ;;=;; 87% ;;=;;
		DamageScalar  		= 60% ANY +IsengardWargRider ;;-;; 
		DamageScalar  		= 60% ANY +GoblinSpiderRider ;;-;; 
		DamageScalar  		= 60% ANY +ElvenRivendellLancer ;;-;; 
		DamageScalar  		= 85% ANY TROLL_UNITS ;;-;; ;;-;;
		DamageScalar		= 150% ANY +MordorWitchKing ;;-;; 100%
 		Radius        		= 35.0 ;;-;; 0.0
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= GOOD_ARROW_PIERCE
		DeathType     		= NORMAL
		AcceptDamageAdd		= No
	End
	//109v2DotNuggets//
	DOTNugget                        ; A basic Nugget that just does damage
		Damage        		= #DIVIDE( THRANDUIL_THORN_DAMAGE_POISON #DIVIDE( THRANDUIL_THORN_DAMAGE_POISON_DURATION 1000 ) ) ;;-;;
		AcceptDamageAdd		= No
			DamageScalar	= 80% ANY +IsengardSaruman +DwarvenGimli ;;-;;
			;;-;;
  			DamageScalar		= 52.5% ANY +MordorFellBeast ;;-;; 100%
			DamageScalar		= 39% ANY +Drogoth ;;-;; 100%
			DamageScalar		= 23.5% ANY +ElvenFortressEagle ;;-;; 100%
			DamageScalar		= 32.5% ANY +GondorGwaihir_Summoned ;;-;; 100%
			DamageScalar		= 100% ANY +MordorWitchKing
			DamageScalar		= 55% ANY +MordorWitchKingOnFellBeast
		Radius				= 0.0
		DamageType    		= POISON
		DamageFXType  		= POISON
		DeathType     		= NORMAL
		DelayTime			= 1000 ;;-;; 0
		DamageInterval 		= 1000
		DamageDuration 		= THRANDUIL_THORN_DAMAGE_POISON_DURATION
		SpecialObjectFilter = THORN_OF_VENGAENCE_OBJECT_FILTER
	End
	;;-;;
	AttributeModifierNugget
		AttributeModifier        = ThranduilThornOfVengeanceStrongModifier
		DamageFXType             = POISON
		SpecialObjectFilter      = THORN_OF_VENGAENCE_OBJECT_FILTER -DwarvenGimli -DwarvenDain -DwarvenGloin
	End
	AttributeModifierNugget
		AttributeModifier        = ThranduilThornOfVengeanceWeakModifier
		DamageFXType             = POISON
		SpecialObjectFilter      = ANY +DwarvenGimli +DwarvenDain +DwarvenGloin ENEMIES ;;-;;
	End
 

;;-;;	  DamageNugget                        ; A basic Nugget that just does damage
;;-;;	    Damage        = THRANDUIL_THORN_DAMAGE
;;-;;		DamageScalar  = 50% ANY +STRUCTURE
;;-;;		DamageScalar  = 200% ANY +CAVALRY -DwarvenBattleWagon -MordorMumakil ;;=;; THIS INCLUDES HEROES.
;;-;;	    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
;;-;;	    DelayTime     = 0
;;-;;	    DamageType    = HERO
;;-;;	    DamageFXType  = GOOD_ARROW_PIERCE
;;-;;	    DeathType     = NORMAL
;;-;;	  End
;;-;;	 
;;-;;	  DamageNugget                       
;;-;;		Damage        		= THRANDUIL_THORN_FIRE_DAMAGE	
;;-;;		DamageScalar		= 50% ANY +STRUCTURE
;;-;;		DamageType    		= MAGIC
;;-;;		DamageFXType  		= MAGIC
;;-;;		DeathType     		= BURNED
;;-;;		Radius				= 35
;;-;;	    DamageArc			= 75
;;-;;		DelayTime			= 5 ;;=;; 200  
;;-;;	  End
;;-;;	
;;-;;	  DamageNugget                      
;;-;;		Damage        		= THRANDUIL_THORN_MAGIC_DAMAGE	
;;-;;		DamageScalar		= 50% ANY +STRUCTURE
;;-;;		DamageType    		= MAGIC
;;-;;		DamageFXType  		= ELECTRIC
;;-;;		DeathType     		= BURNED
;;-;;		Radius				= 20 ;;=;;  0
;;-;;	    DamageArc			= 75
;;-;;		DelayTime			= 200
;;-;;	  End
  
;;-;;	  MetaImpactNugget                    ; A Nugget that throws things back with force
;;-;;		HeroResist			= 100%
;;-;;	    ShockWaveAmount   = 75.0 ; ; 70.0
;;-;;	    ShockWaveRadius   = 20.0 ; ; 15.0
;;-;;	    ShockWaveTaperOff = 0.7 ; ;  0.5
;;-;;	    ShockWaveZMult    = 1.30  ; ; 1.20
;;-;;	  End
;;-;;	
;;-;;	  MetaImpactNugget                    ; A Nugget that throws things back with force
;;-;;	;	HeroResist			= .25
;;-;;	    ShockWaveAmount   = 70.0
;;-;;	    ShockWaveRadius   = 15.0
;;-;;	    ShockWaveTaperOff = 0.5
;;-;;	    ShockWaveZMult    = 1.20
;;-;;	  End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 75 ;;.;; 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 5 ;;.;; 15 ; ; 25.0
		ShockWaveTaperOff = 1.0 ;;.;; 1.25
		ShockWaveZMult    = 0.8 ;;.;; 1.4
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 65 ;;.;; 35.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 25 ; ; 50.0
		ShockWaveTaperOff = 1.0 ;;.;; 1.25
		ShockWaveZMult    = 0.4 ;;.;; 0.8
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		;HeroResist			= 100%
		ShockWaveAmount   = 50 ;;.;; 30.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 50 ; ; 120.0
		ShockWaveTaperOff = 1.0 ;;.;; 1.25
		ShockWaveZMult    = 0.1 ;;.;; 0.5
	End
  
End

;------------------------------------------------------------------------------
Weapon ElvenThranduilSword  ; BALANCE Legolas Sword Weapon
	;LeechRangeWeapon     = Yes
	;AttackRange           = 400
	MeleeWeapon           = Yes
	DelayBetweenShots     = THRANDUIL_KNIFE_DELAYBETWEENSHOTS	       ; time between shots, msec
	PreAttackDelay        = THRANDUIL_KNIFE_PREATTACKDELAY 	;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 

	;FireFX                = FX_GondorSwordHit
	FiringDuration        = THRANDUIL_KNIFE_FIRINGDURATION 	;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	RadiusDamageAffects	  = ENEMIES NEUTRALS NOT_SIMILAR
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = THRANDUIL_KNIFE_DAMAGE	
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon GaladrielSword
	RadiusDamageAffects			= ENEMIES NEUTRALS NOT_SIMILAR
	LeechRangeWeapon			= Yes
	CanFireWhileMoving			= No
	AttackRange					= 30.0
	MeleeWeapon					= Yes
	AcceptableAimDelta			= 60				; Just needs to sort of face in the general direction
	FireFX						= FX_GondorSwordHit	; steal from gondor
	DelayBetweenShots			= 500				; time between shots, msec
	PreAttackDelay				= 550				; TEMP 350 is sword swing delay time before contact with target
	PreAttackType				= PER_SHOT			; Do the delay each time we attack
	FiringDuration				= 800				; TEMP Duration of the sword swing
	DamageDealtAtSelfPosition	= Yes				; A melee based AoE.  Arc radiates from me, not them

	; Magic damage
	DamageNugget									; A basic Nugget that just does damage
		Damage			= GALADRIEL_DAMAGE
		DamageTaperOff	= #MULTIPLY( GALADRIEL_DAMAGE GALADRIEL_DAMAGE_TAPEROFF )
		Radius			= GALADRIEL_DAMAGE_RADIUS
		DamageScalar	= 25% ANY +MordorBalrog
		DamageScalar	= 60% ANY +SummonedDragon ;;-;; 25%
		DamageScalar	= 200% ANY +HERO -MordorBalrog -SummonedDragon ;;.;; 
		DamageArc		= 75
		DelayTime		= 0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= NORMAL
		DamageSpeed		= 310 ;;-;;
	End

	; Push back
	MetaImpactNugget								; A Nugget that throws things back with force
		SpecialObjectFilter = ALL -HERO ;;-;;
		ShockWaveAmount		= 110 ; ; 60
		ShockWaveRadius		= 110 ; ; 70
		ShockWaveArc		= 75 ;;.;; 70					; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 310
		ShockWaveZMult		= 1.0 ;;.;; 1.6
	End
	MetaImpactNugget	;;=;;
		SpecialObjectFilter = ANY +HERO ;;-;;
		HeroResist			= 0.50
		ShockWaveAmount		= 60
		ShockWaveRadius		= 110 ;;.;; 70
		ShockWaveArc		= 75 ;;.;; 70
		ShockWaveTaperOff	= 0.5 ;;.;; 1.0
		ShockWaveSpeed		= 310
		ShockWaveZMult		= 1.0 ;;.;; 1.6
	End
	MetaImpactNugget	;;.;;
		SpecialObjectFilter = ANY +HERO ;;-;;
		HeroResist			= 0.80
		ShockWaveAmount		= 110
		ShockWaveRadius		= 110 ;;.;; 70
		ShockWaveArc		= 75 ;;.;; 70
		ShockWaveTaperOff	= 0.4 ;;.;; 1.0
		ShockWaveSpeed		= 310
		ShockWaveZMult		= 1.0 ;;.;; 1.6
	End
End

;------------------------------------------------------------------------------
Weapon ElrondBow           ; BALANCE Elven Archer Weapon
  AttackRange               = ELROND_BOW_RANGE
  
  	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELROND_BOW_RANGE .01 )
	
	

  WeaponSpeed               = 321         ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes      ; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      ;When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 0     ; time between shots, msec
  PreAttackDelay            = 833     ; 1467 is the prep time for archer.
  PreAttackRandomAmount     = 0      ; amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_POSITION ; Do the delay each time we attack a new target
  FiringDuration            = 0     ; Duration of the archer firing shot is 500ms.
  
    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:1800 Max:1800
    ContinuousFireOne	= 0
    ContinuousFireCoast	= 1800
  
  IsAimingWeapon            = Yes
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes

  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = ElvenArcherBowWarhead ;;-;;
    ForbiddenUpgradeNames   = Upgrade_RohanFireArrows
  End

  ProjectileNugget          ; Fire arrow available through fire upgrade
    ProjectileTemplateName  = GoodFactionFireArrow
		WarheadTemplateName     = ElvenArcherBowFireWarhead ;;.;; GondorArcherBowWarhead
    RequiredUpgradeNames    = Upgrade_RohanFireArrows
  End
End

;------------------------------------------------------------------------------
Weapon ElrondSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ELROND_DELAYBETWEENSHOTS 			
             ; time between shots, msec
  PreAttackDelay        = ELROND_PREATTACKDELAY  				; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FiringDuration        = ELROND_FIRINGDURATION				; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ELROND_DAMAGE		
    DamageScalar  = 150% ANY +HERO -MordorWitchKing ;;-;; 200% ; ; 
    DamageScalar  = 200% ANY +MordorWitchKing ;;-;; 200% ; ; 
	DamageScalar  = 70% ANY +STRUCTURE ;;.;; 85% ;;-AntiHeroLame;; 80%
	DamageScalar  = 150% ANY +MordorAttackTroll 
	DamageScalar  = 150% ANY +WildMountainGiant 
	DamageScalar  = 150% ANY +MordorMountainTroll
	DamageScalar  = 150% ANY +GoblinCaveTroll
	DamageScalar  = 150% ANY +CaveTroll_Slaved
    Radius        = 0.0
    DelayTime     = 0 ;;-;; 200.0 ; ;0.0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;-------------------------------------------------------------------------------
Weapon GlorfindelSword
	LeechRangeWeapon			= Yes
	AttackRange					= 20.0
	MeleeWeapon					= Yes
	DelayBetweenShots			= GLORFINDEL_SWORD_DELAYBETWEENSHOTS
	PreAttackDelay				= GLORFINDEL_SWORD_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	FireFX						= FX_GondorSwordHit
	FiringDuration				= GLORFINDEL_SWORD_FIRINGDURATION

	RadiusDamageAffects			= ENEMIES NEUTRALS NOT_SIMILAR
	DamageNugget
		Damage			= GLORFINDEL_SWORD_DAMAGE
		DamageTaperOff	= #MULTIPLY( GLORFINDEL_SWORD_DAMAGE GLORFINDEL_SWORD_DAMAGE_TAPEROFF ) ;;-;;
		DamageScalar	= 270% ANY +STRUCTURE -COMMANDCENTER ;;.;; 306.67% ;;.;;
		DamageScalar	= 70% ANY +COMMANDCENTER ;;.;; 49.92% ;;.;; 
		Radius			= GLORFINDEL_SWORD_DAMAGE_RADIUS
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= Normal
	End
; ;
	;;.;;	DamageNugget
	;;.;;		Damage			= GLORFINDEL_SWORD_DAMAGE_SIEGE
	;;.;;		DamageScalar	= 0% ANY +COMMANDCENTER ;;.;; 10%
	;;.;;		DamageScalar	= 50% ANY WALLS_AND_DEFENCES_OBJECTFILTER ;;-;;
	;;.;;		Radius			= 0.0
	;;.;;		DelayTime		= 0
	;;.;;		DamageType		= SIEGE
	;;.;;		DamageFXType	= SWORD_SLASH
	;;.;;		DeathType		= Normal
  	;;.;;		SpecialObjectFilter = ANY +STRUCTURE
	;;.;;	End
End


; ;-------------------------------------------------------------------------------
Weapon GlorfindelSwordMounted
	LeechRangeWeapon			= Yes
	AttackRange					= 20.0
	MeleeWeapon					= Yes
	DelayBetweenShots			= GLORFINDEL_SWORD_DELAYBETWEENSHOTS
	PreAttackDelay				= GLORFINDEL_SWORD_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	FireFX						= FX_GondorSwordHit
	FiringDuration				= GLORFINDEL_SWORD_FIRINGDURATION

	RadiusDamageAffects			= ENEMIES NEUTRALS NOT_SIMILAR
	DamageNugget
		Damage			= GLORFINDEL_SWORD_DAMAGE
		DamageTaperOff	= #MULTIPLY( GLORFINDEL_SWORD_DAMAGE GLORFINDEL_SWORD_DAMAGE_TAPEROFF ) ;;-;;
		;;.;; Ensure scalars against structures are 1/3 of dismounted.
		DamageScalar	= 90% ANY +STRUCTURE -COMMANDCENTER ;;.;; 102.22 ;;.;; 306.67 ;;.;;
		DamageScalar	= 23.333% ANY +COMMANDCENTER ;;.;; 16.64 ;;.;; 49.92% ;;.;;
		DamageScalar	= 200% ANY +MordorBalrog ;;.;;
		Radius			= GLORFINDEL_SWORD_DAMAGE_RADIUS
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= Normal
	End
	;;.;;	DamageNugget
	;;.;;		Damage			= 50 ;;-;; Means +50% dmg against Infantry.
 	;;.;;		Radius			= 0
	;;.;;		DelayTime		= 0
	;;.;;		DamageType		= HERO
	;;.;;		DamageFXType	= SWORD_SLASH
	;;.;;		DeathType		= Normal
	;;.;;		AcceptDamageAdd = No
	;;.;;		SpecialObjectFilter = ANY +INFANTRY -HERO ;;-;;
	;;.;;	End

;;-;; ; ;Warg Sentry Bugfix
	;;-;; DamageNugget
		;;-;; Damage			= GLORFINDEL_SWORD_DAMAGE
     ;;-;; DamageScalar  	= 0% ALL -IsengardWargSentry
		;;-;; DelayTime		= 0
		;;-;; DamageType		= HERO
		;;-;; DamageFXType		= SWORD_SLASH
		;;-;; DeathType		= Normal
		;;-;; AcceptDamageAdd = No
	;;-;; End

End

;-------------------------------------------------------------------------------
;Weapon WaterCharge
;	MinimumAttackRange			= 100.0
;	AttackRange					= 240.0
;	DelayBetweenShots			= 500            ; time between shots, msec
;	FiringDuration				= 0 ;min 933 for anim              ; how long to reload a Clip, msec
;	;PreAttackDelay				= 1400
;	PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
;	;PreAttackFX				= FX_TrollTreeSwing
;	CanFireWhileCharging		= yes
;	MeleeWeapon					= Yes
;	
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage					= 3000
;		Radius					= 24.0
;		DelayTime				= 0
;		DamageType				= CRUSH
;		DamageFXType			= CLUBBING
;		DeathType				= NORMAL
;	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
;		ShockWaveAmount			= 60.0
;		ShockWaveRadius			= 24.0
;		ShockWaveTaperOff		= 0.7
;	End
;End

;------------------------------------------------------

Weapon MumakilRampageTemp
	AttackRange = 160.0
;	FireFX           = FX_RampageDust
	RadiusDamageAffects = ALLIES ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots = 0                ; time between shots, msec
	ClipSize = INFINITE_CLIP_SIZE                            ; how many shots in a Clip (0 == infinite)
	ClipReloadTime = 0                      ; how long to reload a Clip, msec
   
     ; Sequential order of the target positions to follow this list
    LinearTarget = X: 0			Y: 0		T: 7		; T: 0		Frame 0
	LinearTarget = X: -19.816	Y: -68.049	T: 1		; T: 50		Frame 50
	LinearTarget = X: 12.397	Y: -58.504	T: 1		; T: 11.2	Frame 58
	LinearTarget = X: 55.467	Y: -46.43	T: 0		; T: 4		Frame 62
	LinearTarget = X: 72.587	Y: 1.865	T: 10		; T: 7		Frame 69
	LinearTarget = X: 12.397	Y: -58.504	T: 1		; T: 11.2	Frame 125
	LinearTarget = X: 55.467	Y: -46.43	T: 1		; T: 7		Frame 132
	LinearTarget = X: 73.409	Y: -14.204	T: 4		; T: 5.4	Frame 159
	LinearTarget = X: 98.414	Y: -10.092	T: 4		; T: 4		Frame 166
	LinearTarget = X: 0			Y: 0		T: 7		; T: 43 -42	+1
	LinearTarget = X: 72.272	Y: 7.216	T: 6		; T: 43	-42	+2
	LinearTarget = X: 84.496	Y: 9.25 	T: 1		; T: 6	-6	+2
	LinearTarget = X: 80.55	 	Y: 48.24 	T: 0		; T: 3	-6	-1
	LinearTarget = X: 60.88		Y: 64.00	T: 1		; T: 3	-0	+2
	LinearTarget = X: 29.13   	Y: 78.37	T: 0		; T: 2		+4
	LinearTarget = X: -2.55 	Y: 85.55	T: 1		; T: 3		+1
	LinearTarget = X:-34.80  	Y: 76.95	T: 0		; T: 3	
	LinearTarget = X: -66.8  	Y: 62.64	T: 1		; T: 3		+1
	LinearTarget = X:-81.65 	Y: 30.48	T: 0		; T: 1		+2
	LinearTarget = X: -92.18	Y: -2.72	T: 1		; T: 4		+0
	LinearTarget = X:-81.2 		Y: -31.48	T: 0		; T: 4		+4
	LinearTarget = X: -58.93  	Y: -63.19	T: 1		; T: 4		+2
	LinearTarget = X:-35.4		Y: -82.56	T: 1		; T: 4		+0
	LinearTarget = X: -13.91	Y: -80.33	T: 2		; T: 14		+2
	LinearTarget = X: -13.91	Y: -80.33	T: 1		; T: 5		+1
	LinearTarget = X:-35.404  	Y: -82.56	T: 0		; T: 2		+3
	LinearTarget = X: -58.93	Y: -63.19	T: 1		; T: 1		-2
	LinearTarget = X:-81.17 	Y: -31.48	T: 0		; T: 2		+0
	LinearTarget = X: -92.18 	Y: -2.72	T: 0		; T: 2		+2
	LinearTarget = X:-81.65 	Y: 30.48	T: 1		; T: 3		-1
	LinearTarget = X: -66.80	Y: 62.64	T: 1		; T: 5		-2
	LinearTarget = X:-34.80  	Y: 76.95	T: 1		; T: 6		-2
;	LinearTarget = X: -2.554  	Y: 85.56	T: 1		; T: 8		+0
	LinearTarget = X:-34.80  	Y: 76.95	T: 1		; T: 2	
	LinearTarget = X: -66.80	Y: 62.64	T: 1		; T: 3		-1
	LinearTarget = X:-81.65 	Y: 30.48	T: 0		; T: 4		+3
	LinearTarget = X: -92.18	Y: -2.72	T: 1		; T: 2		-1
	LinearTarget = X:-81.18 	Y: -31.48	T: 0		; T: 3		+2

	LinearTarget = X: -58.94	Y: -63.19	T: 1		; T: 3		-1
	LinearTarget = X:-35.40	    Y: -82.56	T: 0		; T: 3		+2
	LinearTarget = X: -13.9 	Y: -80.33	T: 1		; T: 2		-2
	LinearTarget = X:20.14		Y: -80.38	T: 0		; T: 3		+1
	LinearTarget = X:52.44		Y: -60.40	T: 0		; T: 2		+3
	LinearTarget = X:79.11		Y:-46.74	T: 1		; T: 3		+0
	LinearTarget = X:92.25	 	Y: -19.45	T: 0		; T: 3		+3
	LinearTarget = X:98.89		Y:9.25		T: 3		; T: 5		+2
;	LinearTarget = X:90.95	 	Y: 48.24	T: 1		; T: 7		+3
;	LinearTarget = X:60.89    	Y:64.01		T: 1		; T: 9		+0
	LinearTarget = X:90.95 		Y: 48.24	T: 2		; T: 6		+-
	LinearTarget = X:98.99		Y:9.25		T: 3.2		; T: 3		+3
  
   
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 10
		Radius				= 25.6

		DelayTime			= 0
		DamageType			= FORCE
		DeathType			= NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 25.6
		ShockWaveTaperOff	= 0.8
		;ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 0.920
	End

End

;----------------------------------------------------------------------------------
Weapon GondorIsildurSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes

  DelayBetweenShots     = ARAGORN_DELAYBETWEENSHOTS 		; time between shots, msec
  PreAttackDelay        = ARAGORN_PREATTACKDELAY 			; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT						; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  ;FireFX                = FX_IsildurSword
  FiringDuration        = ARAGORN_FIRINGDURATION 			; Duration of the sword swing

  DamageNugget												; A basic Nugget that just does damage
    Damage        = ARAGORN_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH

    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;================================SP MISSION WEAPON DO NOT BALANCE======================

;------------------------------------------------------------------------------
Weapon RohanElvenBow_EvilAmonHen	; BALANCE Elven warrior bow Weapon
	AttackRange         = ROHAN_ELVEN_RANGE
	WeaponSpeed         = 321		; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100		; When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0		; When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20		; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY   
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget				; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = RohanElvenBowWarhead_EvilAmonHen
	    ForbiddenUpgradeNames     = Upgrade_RohanFireArrows
	End
	ProjectileNugget				; Fire arrow available from fire arrow upgrade
	    ProjectileTemplateName    = GoodFactionFireArrow
	    WarheadTemplateName       = RohanElvenBowFireWarhead
	    RequiredUpgradeNames      = Upgrade_RohanFireArrows
  	End
End

;----------------------------
Weapon RohanElvenBowWarhead_EvilAmonHen
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes			; Always hits initial target.
  DamageNugget					; A basic Nugget that just does damage
    Damage        = 15
    Radius        = 0.0			; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End
;===================-------------------------------=============================-------------------------
Weapon RohanElvenBow_EvilIsen	; BALANCE Elven warrior bow Weapon
	AttackRange         = ROHAN_ELVEN_RANGE
	WeaponSpeed         = 321		; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100		; When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0		; When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20		; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY   
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget				; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = EvilIsenRohanElvenBowWarhead
	    ForbiddenUpgradeNames     = Upgrade_RohanFireArrows
	End
	ProjectileNugget				; Fire arrow available from fire arrow upgrade
	    ProjectileTemplateName    = GoodFactionFireArrow
	    WarheadTemplateName       = RohanElvenBowFireWarhead
	    RequiredUpgradeNames      = Upgrade_RohanFireArrows
  	End
End

;------------------------------------------------------------------------------
Weapon EvilIsenRohanElvenBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES ( 4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 1.6
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon RainOfFirePhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_RainOfFirePhaseInitialWeapon
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon RainOfFirePhaseInitialWeapon02 //OriginalGreenRainOfFire. Don't edit
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_RainOfFirePhaseInitialWeapon02
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End
 
;---------------------------------RainOfFire.Weapon--------------------------------------
Weapon RainOfFirePhaseOneWeapon
	;3 meteorites of 2 weapons of 3 nuggets=  3 x 2 x 3 = 18
	RadiusDamageAffects = ENEMIES NEUTRALS  
	FireFX = FX_RainOfFirePhaseOne
	DamageNugget
		Damage			= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE 18 )
		DamageTaperOff	= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_TAPEROFF 18 )
 		Radius        	= SPELLBOOK_RAIN_OF_FIRE_DAMAGE_RADIUS
 		;;.;; DamageScalar  	= 115% ANY +STRUCTURE -COMMANDCENTER ;;.;;
 		DamageScalar  	= 32.5% ANY +COMMANDCENTER ; ;50%
		DamageScalar	= 0% ANY +MINE ;;-;;
		DelayTime		= 0
		DamageType		= SIEGE
		DeathType		= NORMAL
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DamageSpeed     = 250 ;;-;;
	End
	DamageNugget
		Damage			= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE 18 )
		DamageTaperOff	= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_TAPEROFF 18 )
 		Radius        	= SPELLBOOK_RAIN_OF_FIRE_DAMAGE_RADIUS
 		;;.;; DamageScalar  	= 115% ANY +STRUCTURE -COMMANDCENTER ;;.;;
 		DamageScalar  	= 32.5% ANY +COMMANDCENTER ; ;50%
		DamageScalar	= 0% ANY +MINE ;;-;;
		DelayTime		= 0
		DamageType		= SIEGE
		DeathType		= NORMAL
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DamageSpeed     = 200 ;;-;;
	End
	DamageNugget
		Damage			= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE 18 )
		DamageTaperOff	= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_TAPEROFF 18 )
 		Radius        	= SPELLBOOK_RAIN_OF_FIRE_DAMAGE_RADIUS
 		;;.;; DamageScalar  	= 115% ANY +STRUCTURE -COMMANDCENTER ;;.;;
 		DamageScalar  	= 32.5% ANY +COMMANDCENTER ; ;50%
		DamageScalar	= 50000% ANY +MINE ;;-;;
		DelayTime		= 0
		DamageType		= SIEGE
		DeathType		= BURNED ;;-;; NORMAL //one to detonate mines
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DamageSpeed     = 150 ;;.;;
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
 		ShockWaveSpeed		= 150 ;;-;; 150
	End
	DamageContainedNugget ;;-;; rip campers
		KillCount = 5
		KillKindof = INFANTRY
		KillKindofNot = HERO
		DeathType = BURNED
	End
	;FireLogicNugget						; Increase the fuel where it hits

	;	LogicType		= INCREASE_FUEL
	;	Radius			= 150
	;	Damage			= 25
	;	MinMaxBurnRate	= 10
	;	MaxResistance	= 5
	;End
	;FireLogicNugget						; Light everything on fire
	;	LogicType		= INCREASE_BURN_RATE
	;	Radius			= 150
	;	Damage			= 100
	;End
End
Weapon RainOfFirePhaseOneWeaponAllies09v3
	RadiusDamageAffects =   ALLIES ;;-;; added allies
	DamageNugget
		Damage			= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_ALLIES 18 )
		DamageTaperOff	= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_ALLIES_TAPEROFF 18 )
 		Radius        	= SPELLBOOK_RAIN_OF_FIRE_DAMAGE_RADIUS
 		;;.;; DamageScalar  	= 115% ANY +STRUCTURE -COMMANDCENTER ;;.;;
 		DamageScalar  	= 32.5% ANY +COMMANDCENTER ; ;50%
		DamageScalar	= 0% ANY +MINE ;;-;;
		DelayTime		= 0
		DamageType		= SIEGE
		DeathType		= NORMAL
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DamageSpeed     = 250 ;;-;;
	End
	DamageNugget
		Damage			= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_ALLIES 18 )
		DamageTaperOff	= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_ALLIES_TAPEROFF 18 )
 		Radius        	= SPELLBOOK_RAIN_OF_FIRE_DAMAGE_RADIUS
 		;;.;; DamageScalar  	= 115% ANY +STRUCTURE -COMMANDCENTER ;;.;;
 		DamageScalar  	= 32.5% ANY +COMMANDCENTER ; ;50%
		DamageScalar	= 0% ANY +MINE ;;-;;
		DelayTime		= 0
		DamageType		= SIEGE
		DeathType		= NORMAL
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DamageSpeed     = 200 ;;-;;
	End
	DamageNugget
		Damage			= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_ALLIES 18 )
		DamageTaperOff	= #DIVIDE( SPELLBOOK_RAIN_OF_FIRE_DAMAGE_ALLIES_TAPEROFF 18 )
 		Radius        	= SPELLBOOK_RAIN_OF_FIRE_DAMAGE_RADIUS
 		;;.;; DamageScalar  	= 115% ANY +STRUCTURE -COMMANDCENTER ;;.;;
 		DamageScalar  	= 32.5% ANY +COMMANDCENTER ; ;50%
		DamageScalar	= 50000% ANY +MINE ;;-;;
		DelayTime		= 0
		DamageType		= SIEGE
		DeathType		= BURNED ;;-;; NORMAL //one to detonate mines
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DamageSpeed     = 150 ;;.;;
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
 		ShockWaveSpeed		= 150 ;;-;; 150
	End
End

;------------------------------------------------------------------------
Weapon RainOfFirePhaseOneWeapon02 //OriginalGreenRainOfFire. Don't edit
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_RainOfFirePhaseOne02
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = OBSOLETE_RAIN_OF_FIRE_DAMAGE
		DamageScalar  = 50% ANY +COMMANDCENTER
		DamageTaperOff = OBSOLETE_RAIN_OF_FIRE_DAMAGE_TAPEROFF
		Radius        = OBSOLETE_RAIN_OF_FIRE_DAMAGE_RADIUS
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
	;FireLogicNugget						; Increase the fuel where it hits
	;	LogicType		= INCREASE_FUEL
	;	Radius			= 150
	;	Damage			= 25
	;	MinMaxBurnRate	= 10
	;	MaxResistance	= 5
	;End
	;FireLogicNugget						; Light everything on fire
	;	LogicType		= INCREASE_BURN_RATE
	;	Radius			= 150
	;	Damage			= 100
	;End
End

;------------------------------------------------------------------------------
;;-;;
Weapon SauronRainOfFirePhaseOneWeapon09v2
	RadiusDamageAffects = ENEMIES NEUTRALS
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	FireFX = FX_RainOfFirePhaseOne
	DamageNugget
		Damage        = SAURON_RAIN_OF_FIRE_DAMAGE
		DamageTaperOff	= SAURON_RAIN_OF_FIRE_DAMAGE_TAPEROFF
		DamageScalar  = 32.5% ANY +COMMANDCENTER ; ;50%
 		Radius        = SAURON_RAIN_OF_FIRE_DAMAGE_RADIUS
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
		DamageSpeed     = 500 ;;-;;
 	End
	DamageNugget
		Damage        = SAURON_RAIN_OF_FIRE_DAMAGE
		DamageTaperOff	= SAURON_RAIN_OF_FIRE_DAMAGE_TAPEROFF
		DamageScalar  = 32.5% ANY +COMMANDCENTER ; ;50%
 		Radius        = SAURON_RAIN_OF_FIRE_DAMAGE_RADIUS
		DamageMaxHeightAboveTerrain = 50 ;;-;; 1
		DelayTime     = 0
		DamageType    = FLAME
		DeathType     = BURNED ;;-;; detonates mines.
		DamageSpeed     = 300 ;;-;;
 	End
	MetaImpactNugget
 		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
	;FireLogicNugget						; Increase the fuel where it hits

	;	LogicType		= INCREASE_FUEL
	;	Radius			= 150
	;	Damage			= 25
	;	MinMaxBurnRate	= 10
	;	MaxResistance	= 5
	;End
	;FireLogicNugget						; Light everything on fire
	;	LogicType		= INCREASE_BURN_RATE
	;	Radius			= 150
	;	Damage			= 100
	;End
End
;------------------------------------------------------------------------------
Weapon ArrowVolleyPhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_ArrowVolleyPhaseInitialWeapon // lol this is empty
End

;------------------------------------------------------------------------------
Weapon ArrowVolleyOneWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_ArrowVolleyPhaseOne // lol this is empty
;	LuaEventNugget                        ; Sends a lua script event out
;		LuaEvent		= BeUncontrollablyAfraid
;		Radius			= 100

;		SendToEnemies	= Yes
;		SendToAllies	= No
;		SendToNeutral	= Yes
;	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ARROW_VOLLEY_ARROW_SINGLE_DAMAGE
   		;;-;; DamageScalar  = 75% ANY +INFANTRY -ARCHER -HERO -PIKE -BANNER -ORC -DwarvenGuardian ;;-;; 50% ;;-;; 
		;;.;; DamageScalar  = 100% ANY +ARCHER -CAVALRY -HERO -BANNER -ORC ;;-;; 75% ;;-;; 50% ;;-;; 
		DamageScalar  = 125% ANY +CAVALRY -BANNER -DwarvenBattleWagon -ElvenRivendellLancer  ;;.;; subtracted lancer ;;-;;
		DamageScalar  = 200% ANY +DwarvenBattleWagon ;;.;;
		DamageScalar  = 300% ANY +HERO ;;-;; 200% ANY +HERO ;;-;; 150% ;;-;;
		DamageScalar  = 200% ANY +MONSTER ;;-;; 150% ;;-;; 
		DamageScalar  = 175% ANY +PIKE -ElvenMithlondSentry ;;-;;
		DamageScalar  = 35% ANY +BANNER ;;-;; 15% ;;=;;
		Radius        = 100
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = CAVALRY_RANGED ; ;PIERCE
		DeathType     = NORMAL
	End
End

//------------------------------------------------------------------------------
// This weapon doesn't do any damage, it spawns an object which does delayed damage.

Weapon MenLongShotWeapon
	RadiusDamageAffects		= ENEMIES NEUTRALS
	FireFX					= FX_ArrowVolleyPhaseOne // lol this is empty

	// make our members fire a dummy weapon
	HordeAttackNugget
		LockWeaponSlot		= QUINARY
	End

	WeaponOCLNugget ;;-;; 2019
		WeaponOCLName		= OCL_LongShotAbility ;;-;;
	End
End

//------------------------------------------------------------------------------
Weapon MenLongShotWeaponReal
	RadiusDamageAffects		= ENEMIES NEUTRALS

	// A basic Nugget that just does damage
	DamageNugget		// Please make it same as ArrowVolleyOneWeapon
		Damage        				= GONDOR_RANGER_LONGSHOT_DAMAGE ;;-;;
   		;;-;; DamageScalar  = 75% ANY +INFANTRY -ARCHER -HERO -PIKE -BANNER -ORC -DwarvenGuardian ;;-;; 50% ;;-;; 
		;;.;; DamageScalar  = 100% ANY +ARCHER -CAVALRY -HERO -BANNER -ORC ;;-;; 75% ;;-;; 50% ;;-;; 
		DamageScalar  = 125% ANY +CAVALRY -BANNER -DwarvenBattleWagon -ElvenRivendellLancer  ;;.;; subtracted lancer ;;-;;
		DamageScalar  = 200% ANY +DwarvenBattleWagon ;;.;;
		DamageScalar  = 300% ANY +HERO ;;-;; 200% ANY +HERO ;;-;; 150% ;;-;;
		DamageScalar  = 200% ANY +MONSTER ;;-;; 150% ;;-;; 
		DamageScalar  = 175% ANY +PIKE -ElvenMithlondSentry ;;-;;
		DamageScalar  = 35% ANY +BANNER ;;-;; 15% ;;=;;
		Radius        				= GONDOR_RANGER_LONGSHOT_CURSOR_RADIUS
		DamageMaxHeightAboveTerrain = 1
		DelayTime     				= 0
		DamageType    				= CAVALRY_RANGED ;;-;; PIERCE
		DeathType     				= NORMAL
	End
End

//------------------------------------------------------------------------------
Weapon MenLongShotFakeWeapon
	RadiusDamageAffects		= ENEMIES NEUTRALS
	;FireFX 					= FX_IthilienRangerLongShot
	
	// don't play an anim during this phase, wait until OCL has 
	// spawned the tracer arrow before playing the shoot anim
	PreAttackDelay			= 2000 
	
	FiringDuration			= 2000
	AttackRange				=  GONDOR_RANGER_LONGSHOT_RANGE    ; ;99999999
End

//------------------------------------------------------------------------------
Weapon HaradrimBarbedArrowRangeFinder
	AttackRange				= 460 ; ; #SUBTRACT( MORDOR_HARADRIM_BOW_RANGE 125 )   ; ;100 
	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( MORDOR_HARADRIM_BOW_RANGE .01 )
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
  		SpecialObjectFilter = ALL -STRUCTURE ; ;
		LockWeaponSlot		= QUINARY
	End
End


//------------------------------------------------------------------------------
Weapon HaradrimBarbedArrow // BALANCE Archer Weapon ;orc archer
  AttackRange 			= 460 ; ; MORDOR_HARADRIM_BOW_RANGE    // Horde member so it needs to be bigger than the horde weapon attack range.
  LeechRangeWeapon      = Yes
  WeaponSpeed 			= 351 ; ;401			// dist/sec 
  MinWeaponSpeed 		= 121
  MaxWeaponSpeed 		= 501 ; ;601			// dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX 				= FX_HaradrimArcherBowBarbedWeapon				;FX_RohanArcherBowWeapon	;audio only
  ScaleWeaponSpeed	 	= Yes			// Used for lob weapons, scales speed proportional to range
  HitPercentage     	= 100			//When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius     	= 40.0			//When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots 	= MORDOR_HARADRIM_BOW_DELAYBETWEENSHOTS
  PreAttackDelay        = MORDOR_HARADRIM_BOW_BARBEDARROWS_PREATTACKDELAY
  PreAttackRandomAmount = 200 
  PreAttackType         = PER_SHOT		// Do the delay each time we attack a new target
  FiringDuration      	= MORDOR_HARADRIM_BOW_FIRINGDURATION      // Duration of the archer firing shot is 500ms.  

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName    = BarbedArrowProjectile
    WarheadTemplateName       = HaradrimBarbedArrowWarhead
  End
End

//-----------------------------------
Weapon HaradrimBarbedArrowWarhead
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 
	HitStoredTarget			= Yes	// Always hits initial target.
	

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage        = MORDOR_HARADRIM_BOW_DAMAGE
		Radius        = 0.0			// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = EVIL_ARROW_PIERCE
		DeathType     = NORMAL
	End

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage			= MORDOR_HARADRIM_BARBED_ARROW_DAMAGE
               ; ;  Damage        = 30% ANY +HERO
               ; ;  Damage        = 30% ANY +MONSTER
		DamageTaperOff	= #MULTIPLY( MORDOR_HARADRIM_BARBED_ARROW_DAMAGE  MORDOR_HARADRIM_BARBED_ARROW_DAMAGE_TAPEROFF )
		Radius        	= MORDOR_HARADRIM_BARBED_ARROW_DAMAGE_RADIUS
		DelayTime     	= 0
		DamageType    	= HERO_RANGED ; ;PIERCE
		DamageFXType  	= EVIL_ARROW_PIERCE
		DeathType     	= NORMAL
		AcceptDamageAdd	= Yes // Yes by default, im just reminding that a nugget of 20 dmg ends up being like 90 damage.
	End

	
	// A Nugget that throws things back with force
	MetaImpactNugget								
		HeroResist			= .87 ;
		ShockWaveAmount		= 10
		ShockWaveRadius		= 1.0
		ShockWaveArc		= 75				// Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End

End

;------------------------------------------------------------------------------ 
Weapon BombardPhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX				= FX_BarrageMeteorStart
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= SPELL_BARRAGE_FEAR_RADIUS
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------ 
Weapon BombardPhaseInitialWeapon_Dwarves09v2
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX				= FX_BarrageMeteorStart
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= SPELL_BARRAGE_FEAR_RADIUS
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon BombardProjectileWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
;	FireFX = FX_BombardPhaseOne
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = SPELL_BARRAGE_PROJECTILE_DAMAGE
		DamageScalar  = 20% ANY +COMMANDCENTER ; ;50
		DamageScalar  = 150% ANY +RohanGenericEnt +RohanTreeBerd ;;-;;
		DamageScalar  = 150% ANY +DwarvenBattleWagon ;;.;;
		Radius        = SPELL_BARRAGE_PROJECTILE_RADIUS
		DamageScalar  = 0% ANY +BANNER ;;.;; 15% ;;=;;
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	DamageNugget ;;.NewAntiBannerNugget.;;
		Damage        		= SPELL_BARRAGE_PROJECTILE_DAMAGE
		DamageTaperOff		= #MULTIPLY( SPELL_BARRAGE_PROJECTILE_DAMAGE 0.15 )
		Radius        		= SPELL_BARRAGE_PROJECTILE_RADIUS
		DelayTime     		= 0
		DamageType    		= SIEGE
		DeathType     		= NORMAL
		SpecialObjectFilter = ANY +BANNER ;;.;;
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .50
		ShockWaveAmount		= 75.0 ; ;50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= SPELL_BARRAGE_PROJECTILE_RADIUS
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .50
		ShockWaveAmount		= 100.0 ;;-;; 75.0 ; ;50.0
		ShockWaveTaperOff	= 0.50 ;;-;; 1.0
		ShockWaveRadius		= 35 ;;-;; SPELL_BARRAGE_PROJECTILE_RADIUS
		SpecialObjectFilter = ANY +RohanGenericEnt +RohanTreeBerd ;;-;;
	End
End

;------------------------------------------------------------------------------
Weapon BombardProjectileWeapon_Dwarves09v2
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
;	FireFX = FX_BombardPhaseOne
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = SPELL_BARRAGE_PROJECTILE_DAMAGE
		DamageScalar  = 20% ANY +COMMANDCENTER ; ;50
		DamageScalar  = 150% ANY +RohanGenericEnt +RohanTreeBerd ;;-;;
		DamageScalar  = 150% ANY +DwarvenBattleWagon ;;.;;
		Radius        = SPELL_BARRAGE_PROJECTILE_RADIUS
	;;-;;	DamageScalar  = 15% ANY +BANNER ;;=;;
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .50
		ShockWaveAmount		= 75.0 ; ;50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= SPELL_BARRAGE_PROJECTILE_RADIUS
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .50
		ShockWaveAmount		= 100.0 ;;-;; 75.0 ; ;50.0
		ShockWaveTaperOff	= 0.50 ;;-;; 1.0
		ShockWaveRadius		= 35 ;;-;; SPELL_BARRAGE_PROJECTILE_RADIUS
		SpecialObjectFilter = ANY +RohanGenericEnt +RohanTreeBerd ;;-;;
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseInitialWeapon
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseOneWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseOneWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 2000
		DamageTaperOff  = 1500
		DamageScalar  = 10% ALL -STRUCTURE
		DamageScalar  = 39% ANY +COMMANDCENTER ;;-;; 35%
		Radius        = 150
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .1 ; ;.99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseTwoWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseTwoWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 1500
		DamageTaperOff  = 1000
		DamageScalar  = 10% ALL -STRUCTURE
		DamageScalar  = 39% ANY +COMMANDCENTER ;;-;; 35%
		Radius        = 200
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 100
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseThreeWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseThreeWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 1000
		DamageTaperOff  = 500
		DamageScalar  = 10% ALL -STRUCTURE
		DamageScalar  = 39% ANY +COMMANDCENTER ;;-;; 35%
		Radius        =  250
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 150
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseFinalWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseFinalWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 500
		DamageTaperOff  = 333
		DamageScalar  = 10% ALL -STRUCTURE
		DamageScalar  = 39% ANY +COMMANDCENTER ;;-;; 35%
		Radius        = 300
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .50
		ShockWaveAmount		= 40.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 200
	End
End

;------------------------------------------------------------------------------
Weapon KeepBow_Easy       ; For early GOOD SPS missions
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = KeepBowWarhead_Easy
		ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
	End

  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = UpgradedGoodFactionArrow
    WarheadTemplateName     = KeepBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_BattleTowersToUseFireArrows
  End

End

;----------------------------
Weapon KeepBowWarhead_Easy
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 5
    DamageScalar  = 0% ANY +EntMoot +ElvenEntMoot
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon WatcherHittingArmWeaponVSMany
	AttackRange = 150
	AcceptableAimDelta = 25
	PreAttackDelay = 1000
	FiringDuration = 1000
	DelayBetweenShots = Min:3000 Max:5000
	DamageDealtAtSelfPosition = Yes
	;;FireFX              	= FX_watcherarmbtp ;;-;; added 1.09 v2

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WATCHER_ARM_VS_MANY_DAMAGE
		DamageScalar  = 135% ANY +HERO ;;=;; 
		DamageScalar  = 135% ANY +MONSTER ;;=;; 
		DamageScalar  = 15% ANY +BANNER ;;=;;
		DamageScalar  = 200% ANY +MACHINE ;;-;;
  		Radius        = 175
		DamageArc      = 25
		DamageType    = SIEGE
		DamageFXType  = CLUBBING
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount   = 75.0
		ShockWaveRadius   = 175
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 25
		ShockWaveZMult    = 1.20
;		HeroResist		  = 90
	End
End

;----------------------------
Weapon WatcherHittingArmWeaponVSOne
	AttackRange = 80
	AcceptableAimDelta = 25
	PreAttackDelay = 1000
	FiringDuration = 1000
	DelayBetweenShots = Min:3000 Max:5000
	;;FireFX              	= FX_watcherarmbtp ;;-;; added 1.09 v2

	DamageNugget                        ; A basic Nugget that just does damage
 		Damage        = WATCHER_ARM_VS_ONE_DAMAGE
		DamageScalar  = 135% ANY +HERO ;;=;; 
		DamageScalar  = 135% ANY +MONSTER ;;=;; 
		DamageScalar  = 15% ANY +BANNER ;;=;;
		DamageScalar  = 200% ANY +MACHINE ;;-;;
		Radius        = 25
		DamageType    = SIEGE
		DamageFXType  = CLUBBING

		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount   = 75.0
		ShockWaveRadius   = 25
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.20
;		HeroResist		  = 50
	End
End

;------------------------------------------------------------------------------
Weapon HeroCrush  ; Used when a hero runs someone over.  
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_HeroCrushImpactSound
  
  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = GENERIC_HERO_CRUSH_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DeathType     = CRUSHED
  End
End

; ;------------------------------------------------------------------------------
Weapon GlorfindelCrush 
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_HeroCrushImpactSound
  
  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = 200		; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DeathType     = CRUSHED
  End
End

;------------------------------------------------------------------------------
//SpellBookFloodHorse.Sides
Weapon FloodHorseRadiusWeapon ; Shot out every DelayBetweenShots
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	LeechRangeWeapon      = Yes
	AttackRange           = 9999999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0            ; time between shots, msec
	PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0 

	DamageNugget                  ; A basic Nugget that just does damage
		Damage        = SPELL_FLOOD_HORSE_DAMAGE
		DamageTaperOff = #MULTIPLY( SPELL_FLOOD_HORSE_DAMAGE SPELL_FLOOD_HORSE_DAMAGE_TAPEROFF )
		DamageScalar  = 83% ANY +FS_TECHNOLOGY ;;-;; 
		DamageScalar  = 83% ANY +FS_FACTORY -COMMANDCENTER ;;-;; 
		DamageScalar  = 21% ANY +COMMANDCENTER ;;-;; 25% ;;-;; 20% ;;=;; 12.5% ; ;35%
		DamageScalar  = 66% ANY +MONSTER -MordorBalrog ;;-;; 
		DamageScalar  = 66% ANY +INFANTRY ;;-;; 33% ;;-;; 
		DamageScalar  = 250% ANY +MordorBalrog ;;=;; 
		;;-;; Dont need this shit, Flood being changed to be only effective vs Structures. ;;-;; not enough to take 1/5 of health bar. let it be
		Radius        = SPELL_FLOOD_HORSE_DAMAGE_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLOOD_HORSE
		DeathType     = CRUSHED
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 75.0

		; ShockWaveArc	  = 75
		ShockWaveRadius   = 40.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End
//SpellBookFloodHorse.Central
Weapon FloodHorseRadiusWeaponCentral09v3 ;;.;;
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	LeechRangeWeapon      = Yes
	AttackRange           = 9999999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0
	PreAttackDelay        = 0
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0 

	DamageNugget
		Damage        = SPELL_FLOOD_HORSE_DAMAGE
		DamageTaperOff = #MULTIPLY( SPELL_FLOOD_HORSE_DAMAGE SPELL_FLOOD_HORSE_DAMAGE_TAPEROFF )
		DamageScalar  = 100% ANY +FS_TECHNOLOGY ;;.;; 83% ;;-;; 
		DamageScalar  = 100% ANY +FS_FACTORY -COMMANDCENTER ;;.;; 83% ;;-;; 
		DamageScalar  = 35% ANY +COMMANDCENTER ;;.;; 21% ;;-;; 25% ;;-;; 20% ;;=;; 12.5% ; ;35%
		DamageScalar  = 66% ANY +MONSTER -MordorBalrog ;;-;; 
		DamageScalar  = 83% ANY +INFANTRY ;;.;; 66% ;;-;; 33% ;;-;; 
		DamageScalar  = 250% ANY +MordorBalrog ;;=;; 
		;;-;; Dont need this shit, Flood being changed to be only effective vs Structures. ;;-;; not enough to take 1/5 of health bar. let it be
		Radius        = SPELL_FLOOD_HORSE_DAMAGE_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLOOD_HORSE
		DeathType     = CRUSHED
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
	
	MetaImpactNugget
		ShockWaveAmount   = 75.0
		ShockWaveRadius   = 40.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

;----------------------------ArwenFlood.Weapon----------------------------------------------
; ;
Weapon ArwenFloodHorseRadiusWeapon ; Shot out every DelayBetweenShots
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	LeechRangeWeapon      = Yes
	AttackRange           = 9999999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0            ; time between shots, msec
	PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0 

	DamageNugget                  ; A basic Nugget that just does damage
		Damage        	= ARWEN_FLOOD_HORSE_DAMAGE
		DamageScalar  	= 150% ANY +EvilMenBlackRider +MordorMouthOfSauron ;;.;; 300% ;;-;; 400%
		DamageScalar  	= 200% ANY +GoblinFighter ;; 
		DamageScalar  	= 200% ANY +MordorFighter ;; 
		DamageScalar  	= 50% ANY +ARCHER ;; 
		DamageScalar  	= 150% ANY +CAVALRY ;; 
		DamageScalar  	= 120% ANY +MordorBalrog ;;.;; 250% ;;=;;
		DamageScalar  	= 75% ANY +FS_FACTORY
		Radius        	= ARWEN_FLOOD_HORSE_RADIUS
		DelayTime     	= 0
		DamageType    	= SPECIALIST
		DamageFXType  	= FLOOD_HORSE
		DeathType     	= CRUSHED
		AcceptDamageAdd = No
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 75.0
		; ShockWaveArc	  = 75
		ShockWaveRadius   = ARWEN_FLOOD_HORSE_RADIUS
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

;;=============================================================================;;
// obsolete now
;;.;;	Weapon ArwenFloodHorseRadiusWeapon_Level10      ;;=;; Which is actually the original, or previus weapon.
;;.;;		RadiusDamageAffects = ENEMIES NOT_SIMILAR
;;.;;		LeechRangeWeapon      = Yes
;;.;;		AttackRange           = 9999999.0
;;.;;		MeleeWeapon           = No
;;.;;		DelayBetweenShots     = 0            ; time between shots, msec
;;.;;		PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
;;.;;		PreAttackType         = PER_SHOT 
;;.;;		FiringDuration        = 0 
;;.;;	
;;.;;		DamageNugget                  ; A basic Nugget that just does damage
;;.;;			Damage        = 80
;;.;;	  		SpecialObjectFilter = ANY +CAVALRY
;;.;;	 		Radius        = 45 ;;=;; 40.0
;;.;;			DelayTime     = 0
;;.;;			DamageType    = SPECIALIST
;;.;;			DamageFXType  = FLOOD_HORSE
;;.;;			DeathType     = CRUSHED
;;.;;		End
;;.;;		DamageNugget                  ; A basic Nugget that just does damage
;;.;;			Damage        = 40
;;.;;			AcceptDamageAdd		= No
;;.;;			DamageScalar  = 250% ANY +EvilMenBlackRider +MordorMouthOfSauron ;;-;; 400%
;;.;;			DamageScalar  = 250% ANY +MordorBalrog ;;=;;
;;.;;			;;.;; DamageScalar  = 10% ANY +STRUCTURE
;;.;;			Radius        = 45 ;;=;; 40.0
;;.;;			DelayTime     = 0
;;.;;			DamageType    = SPECIALIST
;;.;;			DamageFXType  = FLOOD_HORSE
;;.;;			DeathType     = CRUSHED
;;.;;		End
;;.;;	
;;.;;		FireLogicNugget
;;.;;			LogicType		= DECREASE_BURN_RATE
;;.;;			Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
;;.;;			Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
;;.;;			DelayTime		= 200  
;;.;;		End
;;.;;		
;;.;;		MetaImpactNugget                    ; A Nugget that throws things back with force
;;.;;	;		HeroResist			= .75
;;.;;			ShockWaveAmount   = 75.0
;;.;;			; ShockWaveArc	  = 75
;;.;;			ShockWaveRadius   = 40.0
;;.;;			ShockWaveTaperOff = 0.75
;;.;;			ShockWaveZMult    = 1.000
;;.;;			ShockWaveSpeed	  = 700.0 
;;.;;		End
;;.;;	End

;;=;;

//------------------------------------------------------------------------------
Weapon FloodGateHorseRadiusWeapon			// Shot out every DelayBetweenShots
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	LeechRangeWeapon		= Yes
	AttackRange				= 9999999.0
	MeleeWeapon				= No
	DelayBetweenShots		= 0				// time between shots, msec
	PreAttackDelay			= 0				// PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType			= PER_SHOT 
	FiringDuration			= 0 

	// A basic Nugget that just does damage
	DamageNugget							
		Damage        = ELVEN_FLOODGATE_EXPANSION_FLOOD_HORSE_DAMAGE	// A whole lot of damage.
		DamageTaperOff	= #MULTIPLY( ELVEN_FLOODGATE_EXPANSION_FLOOD_HORSE_DAMAGE ELVEN_FLOODGATE_EXPANSION_FLOOD_HORSE_DAMAGE_TAPEROFF )
		Radius        = ELVEN_FLOODGATE_EXPANSION_FLOOD_HORSE_RADIUS
		DamageScalar  = 250% ANY +MordorBalrog ;;=;;
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLOOD_HORSE
		DeathType     = CRUSHED
		DamageScalar  = 0% NONE ALLIES +STRUCTURE						// No damage to allied structures.
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
	
	// A Nugget that throws things back with force
	MetaImpactNugget                    
		HeroResist			= 100
		ShockWaveAmount		= 70.0
		// ShockWaveArc		= 75
		ShockWaveRadius		= 40.0
		ShockWaveTaperOff	= 0.75
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 700.0 
	End
End

;------------------------------------------------------------------------------
;Weapon TankGun       ; BALANCE Tank Weapon
;  AttackRange               = ROHAN_HORSEBOW_RANGE
;  WeaponSpeed               = 600         ; dist/sec 
;  MinWeaponSpeed            = 600
;  MaxWeaponSpeed            = 600      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
;;  FireFX                    = FX_TankFire
;  ScaleWeaponSpeed          = No ; Used for lob weapons, scales speed proportional to range
;  HitPercentage             = 100     ;When this weapon is used it will hit exactly 50% of the time.
;  ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
;  
;  PreAttackDelay            = 1
;  PreAttackType             = PER_SHOT  ; Do the delay each time we attack a new target
;  PreAttackRandomAmount     = 1 
;  FiringDuration            = 2000		; Duration of the archer firing shot is 1000ms.
;  RequireFollowThru			= Yes
;
;  ClipSize 					= 1
;  AutoReloadsClip 			= Yes
;  ClipReloadTime 			= 2000
;  AcceptableAimDelta		= 10                                       ; Can't ram sideways (but give a little slack)
;
;  RotatingTurret			= Yes
;  IsAimingWeapon            = Yes
;  AntiAirborneVehicle	    = No
;  AntiAirborneMonster	    = No
;
;  CanFireWhileMoving	    = Yes
;
;  ProjectileNugget
;    ProjectileTemplateName  = TankShell
;    WarheadTemplateName     = RohirrimBowWarhead
;  End
;End

;------------------------------------------------------------------------------
;Weapon TankMissile       ; BALANCE Tank Weapon
;  AttackRange               = ROHAN_HORSEBOW_RANGE
;  WeaponSpeed               = 100         ; dist/sec 
;  MinWeaponSpeed            = 100
;  MaxWeaponSpeed            = 100      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
;;  FireFX                    = FX_TankFire
;  ScaleWeaponSpeed          = No ; Used for lob weapons, scales speed proportional to range
;  HitPercentage             = 100     ;When this weapon is used it will hit exactly 50% of the time.
;  
;  PreAttackDelay            = 1
;  PreAttackType             = PER_SHOT  ; Do the delay each time we attack a new target
;  PreAttackRandomAmount     = 1 
;  FiringDuration            = 2000		; Duration of the archer firing shot is 1000ms.
;  RequireFollowThru			= Yes
;
;  ClipSize 					= 1
;  AutoReloadsClip 			= Yes
;  ClipReloadTime 			= 2000
;  AcceptableAimDelta		= 10                                       ; Can't ram sideways (but give a little slack)
;
;  IsAimingWeapon            = Yes
;  AntiAirborneVehicle	    = Yes
;  AntiAirborneMonster	    = Yes
;

;  CanFireWhileMoving	    = Yes
;
;  ProjectileNugget
;    ProjectileTemplateName  = Missile
;    WarheadTemplateName     = RohirrimBowWarhead
;  End
;End


Weapon DragonStrikeStrafeWeapon ;;.;;
	IdleAfterFiringDelay = 0
	AttackRange			= 60.0
	WeaponSpeed			= 401         ; dist/sec 
	RadiusDamageAffects	= ALLIES NEUTRALS ENEMIES NOT_SIMILAR 
	DelayBetweenShots		= 5000               ; time between shots, msec
	PreAttackDelay        = 800 ; ;1600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlast
	FireFX                = NONE ;FX_BalrogBreath ---- commented out for E3, now controled by particle spawning
	FiringDuration		= 2800 ; ; 1400
	AntiAirborneVehicle       = No ;;-;; Yes
	AntiAirborneMonster		= No ;;-;; Yes
	AntiAirborneInfantry   = No ;;-;; Yes
	DamageDealtAtSelfPosition = Yes
	
	;;.;;
	DamageNugget
		Damage			= DRAGON_STRIKE_STRAFE_DAMAGE
		DamageTaperOff	= DRAGON_STRIKE_STRAFE_DAMAGE_TAPEROFF
		DamageScalar 	= 40% ANY +STRUCTURE -FS_FACTORY NOT_WALLS_OBJECTFILTER ;;.;;
		DamageScalar	= 32% ANY +FS_FACTORY -COMMANDCENTER ;;.;;
		DamageScalar 	= 113% ANY +COMMANDCENTER ;;.;; 84% ;;.;; 105% ;;.;; 
		DamageScalar 	= 120% ANY WALLS_OBJECTFILTER ;;.;; 
		Radius			= 225
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
	End
	
	;;.;;
  	AttributeModifierNugget
		AttributeModifier		= DragonStrikeStun09v3
		Radius           		= DRAGONSTRIKE_DEBUFF_RANGE
		SpecialObjectFilter		= DRAGONSTRIKE_DEBUFF_RECIPIENT_OBJECT_FILTER
		AntiCategories			= LEADERSHIP BUFF
	End
	
	;;.;;	DamageNugget                        ; A basic Nugget that just does damage
	;;.;;		Damage			= 5000 ; ;6000 // lots of damage
	;;.;;		DamageScalar 	= 20% ANY +STRUCTURE -FS_FACTORY ;;.;; 10% ;;-;;
	;;.;;		DamageScalar	= 16% ANY +FS_FACTORY -COMMANDCENTER ;;.;; 8% ;;-;;
	;;.;;		DamageScalar 	= 16% ANY +COMMANDCENTER ;;.;; 8% ;;-;;
	;;.;;		Radius			= 45 ;;-;; 25.0 // Just a spot, the update module will spray it around as it goes
	;;.;;		;;-;; DelayTime		= 400 ;;-;; 500
	;;.;;		DamageType		= FLAME
	;;.;;		DamageFXType		= FLAME
	;;.;;		DeathType		= BURNED
	;;.;;		;;-;; DamageMaxHeight = 900 ;;-;; 400
	;;.;;		;;.;; DamageSpeed		= 320 ;;-;; 250 ;;-;; 400
	;;.;;	End
    ;;.;;	
    ;;.;;	
	;;.;;	DamageNugget                        ; A basic Nugget that just does damage
	;;.;;		Damage			= 2300 ; ;3000 // less damage
	;;.;;		DamageArc		= 90
	;;.;;		;;.;; DamageScalar	= 50% ALL -STRUCTURE -FS_FACTORY ;;-;;
	;;.;;		DamageScalar 	= 20% ANY +STRUCTURE -FS_FACTORY ;;-;; 12%
	;;.;;		DamageScalar	= 16% ANY +FS_FACTORY -COMMANDCENTER ;;.;; 8% ;;-;;
	;;.;;		DamageScalar 	= 16% ANY +COMMANDCENTER ;;.;; 8% ;;-;;
	;;.;;		Radius			= 225 ;;-;; 150 ; ; 65.0 // big spray, to make sure everyone gets some!
	;;.;;		;;-;; DelayTime		= 400 ;;-;; 500
	;;.;;		DamageType		= FLAME
	;;.;;		DamageFXType		= FLAME
	;;.;;		DeathType		= BURNED
	;;.;;		;;-;; DamageMaxHeight = 900 ;;-;; 400
	;;.;;		;;.;; DamageSpeed		= 250 ;;-;; 400
	;;.;;	End
    ;;.;;	
	;;.;;	;;;;;;;;;;;;This Below nugget is for the actual fire breathe to hit the fortress for a larger amount of time in its sweep. The 35 radius nugget only hits the fort for about 1 second, so scalars on it are pointless;;;;
	;;.;;	;;;;;;;;;;;;Have worked out exactly how the weapon and strafe area in dragonstrike.ini work together -Val;;;;;;;;;;
	;;.;;	;,.;; Scalars are pointless because FS_FACTORY includes COMMANDCENTER, which is dealing 8% right now. -Ecth
	;;.;;	
	;;.;;	DamageNugget  ;;-;;
	;;.;;		Damage			= 3250
	;;.;;		DamageScalar 	= 45% ANY +COMMANDCENTER ;;.;; 26
	;;.;;		SpecialObjectFilter = ANY +COMMANDCENTER
	;;.;;		Radius			= 175 
	;;.;;		;;-;;	DelayTime		= 400
	;;.;;		DamageType		= FLAME
	;;.;;		DamageFXType		= FLAME
	;;.;;		DeathType		= BURNED
	;;.;;		;;-;; DamageMaxHeight = 900 
	;;.;;		;;.;; DamageSpeed		= 250 ;;-;; 400
	;;.;;	End



	;;-;; Removing this OP shit for 1.09 V2.0
;;-;;
	;FireLogicNugget
		;LogicType		= INCREASE_FUEL
		;Radius			= 40
		;Damage			= 10 ;;=;; 40
		;MinMaxBurnRate	= 20
		;MaxResistance	= 5
	;End
;;-;;
	;FireLogicNugget
		;LogicType		= INCREASE_BURN_RATE
		;Radius			= 20
		;Damage			= 5 ;;=;; 20
	;End


End


;------------------------------------------------------------------------------
Weapon GoblinArcherBow       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= GOBLIN_ARCHER_RANGE    ;Horde member so it needs to be bigger than the horde weapon attack range.
   
   	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GOBLIN_ARCHER_RANGE .01 )
   
   
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 20.0     ;When this weapon misses it can randomly miss by as much as this distance.

	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GOBLIN_ARCHER_BOW_RELOADTIME_MAX  
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = GoblinArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_WildFireArrows
	End
	
	ProjectileNugget    ; Fire Arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName      = GoblinArcherBowFireWarhead
		RequiredUpgradeNames     = Upgrade_WildFireArrows
	End
End

Weapon GoblinArcherBowBombard       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= GOBLIN_ARCHER_BOMBARD_MAXRANGE 
	MinimumAttackRange	= #SUBTRACT( GOBLIN_ARCHER_BOMBARD_MINRANGE 75 )
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 0     ;Always scatter
	ScatterRadius       = ARCHER_BOMBARD_SCATTER_RADIUS      ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GOBLIN_ARCHER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	NoVictimNeeded			= Yes
	BombardType				= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrowBombard
		WarheadTemplateName     = GoblinArcherBowBombardWarhead
		ForbiddenUpgradeNames   = Upgrade_WildFireArrows
	End
	
	ProjectileNugget    ; Fire Arrow
		ProjectileTemplateName  = EvilFactionFireArrowBombard
		WarheadTemplateName      = GoblinArcherBowBombardFireWarhead
		RequiredUpgradeNames     = Upgrade_WildFireArrows
	End
End

;------------------------------------------------------------------------------
Weapon GoblinArcherPoisonArrowsRangeFinder       ; BALANCE Archer Weapon ;goblin archer
	AttackRange				= 400 ;330 ; ;#SUBTRACT( GOBLIN_ARCHER_RANGE 125 )   ; ;100 
	RangeBonusMinHeight		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= 1 ; ;#MULTIPLY( GOBLIN_ARCHER_RANGE .01 )
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
		LockWeaponSlot		= QUINARY
	End
End

;------------------------------------------------------------------------------
Weapon GoblinArcherPoisonArrows       ; BALANCE Archer Weapon ;goblin archer
	AttackRange					= 520 ;430 ; ; GOBLIN_ARCHER_RANGE	;Horde member so it needs to be bigger than the horde weapon attack range
	LeechRangeWeapon			= Yes
	WeaponSpeed					= 300					; dist/sec
	MinWeaponSpeed				= 121
	MaxWeaponSpeed				= 400
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes					; Used for lob weapons, scales speed proportional to range
	HitPercentage				= 100					;When this weapon is used it will hit exactly 50% of the time
	ScatterRadius				= 20.0					;When this weapon misses it can randomly miss by as much as this distance
	CanBeDodged					= Yes					; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	DelayBetweenShots			= 0
	PreAttackDelay				= GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType				= PER_POSITION
	PreAttackRandomAmount		= 200
	FiringDuration				= 0
	
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%


	ProjectileNugget
		ProjectileTemplateName	= PoisonArrowProjectile
		WarheadTemplateName		= GoblinArcherPoisonArrowsBowWarhead
	End
End



;-----------------------------------
Weapon GoblinArcherBowWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOBLIN_ARCHER_DAMAGE
	DamageScalar  = 115% ANY +MordorFighter ;;-;;
	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon GoblinArcherBowBombardWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOBLIN_ARCHER_DAMAGE
    Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
	DamageScalar  = 115% ANY +MordorFighter ;;-;;
	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;-----------------------------------
Weapon GoblinArcherPoisonArrowsBowWarhead
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	HitStoredTarget			= Yes
	DamageNugget
		Damage				= GOBLIN_ARCHER_DAMAGE_POISONED_ARROW
		DamageScalar  = 85% ANY +ARCHER +CAVALRY -HERO ;;=;; 
	DamageScalar  = 115% ANY +MordorFighter ;;-;;
	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= PIERCE
		DamageFXType		= EVIL_ARROW_PIERCE
		DeathType			= NORMAL
	End
	
	DOTNugget
		;;.;; 109v3PoisonNuggetRevision ;;.;; 
		AcceptDamageAdd		= No
		Damage					= GOBLIN_ARCHER_POISON_DAMAGE
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= POISON
		DamageFXType			= POISON
		DeathType				= NORMAL
		DamageInterval			= 1000	; every second ...
		DamageDuration			= 7500 ; ;15000	; ... for 15 seconds
		SpecialObjectFilter		= AFFECTED_BY_POISON_OBJECTFILTER
	End
End

;------------------------------------
Weapon GoblinArcherBowFireWarhead
	ProjectileCollidesWith		= ENEMIES
	RadiusDamageAffects			= ENEMIES NOT_SIMILAR 
	HitStoredTarget				= Yes	; Always hits initial target.

  DamageNugget                       
    Damage        = GOBLIN_ARCHER_DAMAGE_FIRE_FLAME
    Radius        = 0.0	
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = FLAME ;;-;; EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
	;;.;;109v3FireArrowDesign_Flame;;.;;
	DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
    DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
	DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
	DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	;;.;;
 ;;=;;   DamageScalar  = 125% ANY +MordorFellBeast ; ;
  End
;;-;;
	
 DamageNugget            ; A basic Nugget that just does damage
    Damage		 = GOBLIN_ARCHER_DAMAGE_FIRE_PIERCE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
	DamageScalar  = 115% ANY +MordorFighter ;;-;;
	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
     Radius		 = 0.0	; HitStoredTarget means we hurt the person we launched at.
    DelayTime	 = 0
    DamageType	 = PIERCE
    DamageFXType = FLAME ;;-;; EVIL_ARROW_PIERCE
    DeathType	 = NORMAL
  End
	
;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
;;.;;		Damage          = #MULTIPLY( GOBLIN_ARCHER_DAMAGE_FIRE_PIERCE .15 )
;;.;; 	DamageScalar  = 115% ANY +MordorFighter ;;-;;
;;.;;	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
;;.;;	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
;;.;;	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
;;.;;	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
;;.;; 		Radius          = 0.0
;;.;;		DelayTime       = 0
;;.;;		DamageType      = PIERCE
;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
;;.;;		DeathType       = NORMAL
;;.;;		AcceptDamageAdd = No
;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
;;.;;	End
End

Weapon GoblinArcherBowBombardFireWarhead
	ProjectileCollidesWith		= ENEMIES
	RadiusDamageAffects			= ENEMIES NOT_SIMILAR 

  DamageNugget                       
    Damage        = GOBLIN_ARCHER_DAMAGE_FIRE_FLAME
    Radius        = 0.0	
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
	;;.;;109v3FireArrowDesign_Flame;;.;;
	DamageScalar  = 100% ANY +STRUCTURE	 // Sure obvious, but funny when u compare it with Silver.
	DamageScalar  = 25% ALL -STRUCTURE -INFANTRY ;;.;; 
	DamageScalar  = 50% ANY +INFANTRY -PIKE ;;.;; 25%
	DamageScalar  = 37.5% ANY +PIKE ;;.;; 25%
	;;.;;
  End
;;-;;
	
 DamageNugget            ; A basic Nugget that just does damage
    Damage		 = GOBLIN_ARCHER_DAMAGE_FIRE_PIERCE
	DamageScalar  = 87% ANY +CAVALRY ;;-;;  ;;.;;NewFireArrowDesign_Pierce;;.;;
	DamageScalar  = 115% ANY +MordorFighter ;;-;;
	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
	Radius        = 2.5 ;;=BOMBARDTHINGY=;; 4.5 ;;=; 5 ;;=; 6 ;;=; 5 ;;=; 0.0
    DelayTime	 = 0
    DamageType	 = PIERCE
    DamageFXType = EVIL_ARROW_PIERCE
    DeathType	 = NORMAL
  End
	
;;.;;	DamageNugget 	;;=//NewFireArrowDesign//=;;
;;.;;		Damage          = #MULTIPLY( GOBLIN_ARCHER_DAMAGE_FIRE_PIERCE .15 )
;;.;; 	DamageScalar  = 115% ANY +MordorFighter ;;-;;
;;.;;	DamageScalar  = 115% ANY +DwarvenPhalanx ; ; ;;=dwarfgob=;; 
;;.;;	DamageScalar  = 115% ANY +DwarvenGuardian ; ; ;;=dwarfgob=;; 
;;.;;	DamageScalar  = 115% ANY +GoblinCaveTroll ; ; ;;=;;
;;.;;	DamageScalar  = 115% ANY +CaveTroll_Slaved ; ; ;;=;;
;;.;; 		Radius          = 0.0
;;.;;		DelayTime       = 0
;;.;;		DamageType      = PIERCE
;;.;;		DamageFXType    = EVIL_ARROW_PIERCE
;;.;;		DeathType       = NORMAL
;;.;;		AcceptDamageAdd = No
;;.;;		SpecialObjectFilter = ALL -CAVALRY ;;-;;
;;.;;	End
	
	FireLogicNugget
		LogicType	= INCREASE_BURN_RATE
		Radius		= 1.0
		Damage		= ARCHER_BOMBARD_FIREARROW_BURNRATEINCREASE
	End
End

;------------------------------------------------------------------------------
Weapon GoblinArcherBowMelee
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_RohanArcherBowWeaponFlaming;
  DelayBetweenShots     = 1700            ; time between shots, msec
  PreAttackDelay        = 666             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 1000    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOBLIN_ARCHER_DAMAGE_MELEE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon GoblinFighterSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = GOBLIN_FIGHTER_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = GOBLIN_FIGHTER_PREATTACKDELAY              ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = GOBLIN_FIGHTER_FIRINGDURATION     ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOBLIN_FIGHTER_DAMAGE
    DamageScalar  = 55% ANY +STRUCTURE -DwarvenMineShaft -ElvenMallornTree -IsengardFurnace ; ; ;;=;; 
	DamageScalar  = 59.95% ANY +DwarvenMineShaft ;;=;; ;;=dwarfgob=;;
	DamageScalar  = 37.125% ANY +IsengardFurnace ;;-;; 41.25% ;;=goblinisen=;; 
	DamageScalar  = 49.5% ANY +ElvenMallornTree ;;=goblinelf=;; 
	DamageScalar = 90% ANY +PORTER ;;=;;
	DamageScalar  = 80% ANY +IsengardBeserker ;;-;; //BerserkerEarlyGame//
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End
;------------------------------------------------------------------------------
Weapon GoblinFighterSwordPoisonedUpgraded
	LeechRangeWeapon			= Yes
	AttackRange					= 30.0
	MeleeWeapon					= Yes
	DelayBetweenShots			= GOBLIN_FIGHTER_DELAYBETWEENSHOTS
	PreAttackDelay				= GOBLIN_FIGHTER_PREATTACKDELAY
	PreAttackType				= PER_SHOT ; Do the delay each time we attack
	FireFX						= FX_GondorSwordHit
	FireFlankFX					= FX_Flanking
	FiringDuration				= GOBLIN_FIGHTER_FIRINGDURATION

	DamageNugget
		Damage					= GOBLIN_FIGHTER_FORGEDBLADES_UPGRADE	
    	DamageScalar  			= 200% ANY +INFANTRY -HERO -WildSpiderling -IsengardBeserker; ; ;;-;;
		DamageScalar			= 160% ANY +WildSpiderling ;;-;; //SpiderLingSLASH//
		DamageScalar			= 160% ANY +IsengardBeserker ;;-;; //BerserkerLateGame//
    	DamageScalar  			= 150% ANY +HERO ; ;
		DamageScalar  			= 67.5% ANY +IsengardFurnace ;;-;; 75% ;;=goblinisen=;; 
		DamageScalar 			= 90% ANY +ElvenMallornTree ;;=goblinelf=;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
	End

	DOTNugget
		;;.;; 109v3PoisonNuggetRevision ;;.;; 
		Damage					= GOBLIN_FIGHTER_POISON_DAMAGE
		AcceptDamageAdd			= No
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= POISON
		DamageFXType			= POISON
		DeathType				= NORMAL
		DamageInterval			= 1000
		DamageDuration			= 30000 ;;-;; Nice lame here; should be 15000 like standard sword
		SpecialObjectFilter		= AFFECTED_BY_POISON_OBJECTFILTER
	End
End


;------------------------------------------------------------------------------
Weapon GoblinFighterSwordPoisoned
	LeechRangeWeapon			= Yes
	AttackRange					  = 30.0
	MeleeWeapon					= Yes
	DelayBetweenShots			= GOBLIN_FIGHTER_DELAYBETWEENSHOTS
	PreAttackDelay				= GOBLIN_FIGHTER_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	FireFX						= FX_GondorSwordHit
	FireFlankFX					= FX_Flanking
	FiringDuration				= GOBLIN_FIGHTER_FIRINGDURATION

	DamageNugget
		Damage					= GOBLIN_FIGHTER_DAMAGE
		DamageScalar 			= 90% ANY +PORTER ;;=;;
		DamageScalar      		= 109% ANY +DwarvenMineShaft ;;=dwarfgob=;; 
		DamageScalar  = 67.5% ANY +IsengardFurnace ;;-;; 75% ;;=goblinisen=;; 
		DamageScalar 			= 90% ANY +ElvenMallornTree ;;=goblinelf=;;
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= GENERIC_MELEE_FLANKING_BONUS
	End

	DOTNugget
		;;.;; 109v3PoisonNuggetRevision ;;.;; 
		Damage					= GOBLIN_FIGHTER_POISON_DAMAGE
		AcceptDamageAdd			= No
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= POISON
		DamageFXType			= POISON
		DeathType				= NORMAL
		DamageInterval			= 1000
		DamageDuration			= 15000 ; ;30000
		SpecialObjectFilter		= AFFECTED_BY_POISON_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon GoblinFighterSwordUpgraded
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = GOBLIN_FIGHTER_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = GOBLIN_FIGHTER_PREATTACKDELAY              ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = GOBLIN_FIGHTER_FIRINGDURATION     ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOBLIN_FIGHTER_FORGEDBLADES_UPGRADE	
    DamageScalar  = 200% ANY +INFANTRY -HERO ; ;
    DamageScalar  = 150% ANY +HERO ; ;
	DamageScalar  = 67.5% ANY +IsengardFurnace ;;-;; 75% ;;=goblinisen=;; 
	DamageScalar  = 90% ANY +ElvenMallornTree ;;=goblinelf=;; 
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = GENERIC_MELEE_FLANKING_BONUS
  End
End

;------------------------------------------------------------------------------
Weapon CrebainBasicWeapon
	AttackRange			= 100
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots	= 1000               ; time between shots, msec
	;FireFX              = FX_GandalfBlast
	FiringDuration      = 1000
	CanFireWhileMoving	= Yes
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 1
		Radius			= 10.0
		DamageType		= SLASH
		DamageFXType		= MAGIC
		DeathType		= NORMAL
		;DamageSpeed		= 1400.0
	End
End

;------------------------------------------------------------------------------
Weapon RazorSpinesBasicWeapon ;;=BALANCE_RAZOR=;;


	RadiusDamageAffects			= ENEMIES NOT_SIMILAR NEUTRALS ; ; ALLIES
	DamageDealtAtSelfPosition	= Yes
	HitStoredTarget				= No	; Always hits initial target.
	LeechRangeWeapon			= Yes
	AttackRange					= 250.0
	MeleeWeapon					= Yes
	DelayBetweenShots			= 1000 ;;=;; 2000
	PreAttackDelay				= 0
	PreAttackType				= PER_SHOT 
	FiringDuration				= 0 
	ClipSize					= INFINITE_CLIP_SIZE
	AutoReloadsClip				= Yes
	AcceptableAimDelta			= 180	
	HitPercentage				= 100	
	CanFireWhileMoving		 	= Yes	


	DamageNugget 
		Damage			= 10 ;;=;; 30 ;;=;; 100 ;;=;; 60 ;;=;;(tested with 150		
        Radius			= 100 ;;=;; 1 ;;=;; 90 ;;=;; 100(works) ;;=;; 82.5 ;;=;; 165	; A basic Nugget that just does damage
		DamageType		= SPECIALIST
		DamageFXType	= SWORD_SLASH
		DeathType		= CRUSHED
		;DamageSpeed		= 1400.0
		DamageArc 		= 360
	End

End
;------------------------------------------------------------------------------
Weapon FireDrakeFlame
	AttackRange			= FIREDRAKE_FLAME_RANGE
	WeaponSpeed			= FIREDRAKE_FLAME_SPEED
	MinWeaponSpeed		= FIREDRAKE_FLAME_MINSPEED
	MaxWeaponSpeed		= FIREDRAKE_FLAME_MAXSPEED
	;FireFX				= FX_DrakeFireNormalAttack
	ScaleWeaponSpeed	= No
	HitPercentage		= 100
	ScatterRadius		= 0

	AcceptableAimDelta	= 30 ; ;0	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = FIREDRAKE_FLAME_DELAYBETWEENSHOTS
	PreAttackDelay      = FIREDRAKE_FLAME_PREATTACKDELAY
	PreAttackRandomAmount     = 0
	PreAttackType       = PER_POSITION
	FiringDuration      = FIREDRAKE_FLAME_FIRINGDURATION
    MeleeWeapon			= No ; ;Yes

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= FIREDRAKE_FLAME_RELOAD_TIME
	ContinuousFireOne	= 0
	ContinuousFireCoast	= FIREDRAKE_FLAME_RELOAD_TIME 

	AntiAirborneVehicle	= No
	AntiAirborneMonster	= No
	HitPassengerPercentage	= 20%
	CanBeDodged				= No ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
		
	ProjectileStreamName	= FlamethrowerProjectileStream
	
	ProjectileNugget
		ProjectileTemplateName	= FireDrakeProjectile
		WarheadTemplateName		= FireDrakeWarhead
	End
End

;----------------------------
Weapon FireDrakeWarhead
  	RadiusDamageAffects	= ENEMIES NEUTRALS ; ;
	HitStoredTarget		= Yes	; Always hits initial target.
  	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 ) FIREDRAKE_FLAME_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		Radius			= FIREDRAKE_FLAME_RADIUS	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime		= FIREDRAKE_FLAME_DELAY
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageSpeed		= 80 ;;-;;
	End
  	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 ) FIREDRAKE_FLAME_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		Radius			= FIREDRAKE_FLAME_RADIUS	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime		= FIREDRAKE_FLAME_DELAY
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageSpeed		= 110		;;-;;
	End
  	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 ) FIREDRAKE_FLAME_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		Radius			= FIREDRAKE_FLAME_RADIUS	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime		= FIREDRAKE_FLAME_DELAY
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageSpeed		= 140 ;;-;;
	End
  	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 ) FIREDRAKE_FLAME_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		Radius			= FIREDRAKE_FLAME_RADIUS	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime		= FIREDRAKE_FLAME_DELAY
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageSpeed		= 170 ;;-;;
	End
  	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 ) FIREDRAKE_FLAME_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		Radius			= FIREDRAKE_FLAME_RADIUS	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime		= FIREDRAKE_FLAME_DELAY
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageSpeed		= 210 ;;-;;
	End
  	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( FIREDRAKE_FLAME_DAMAGE 6 ) FIREDRAKE_FLAME_DAMAGE_TAPEROFF )
		DamageScalar	= 200% ANY +MACHINE -CAVALRY ;;=;;
		Radius			= FIREDRAKE_FLAME_RADIUS	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime		= FIREDRAKE_FLAME_DELAY
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageSpeed		= 250 ;;-;;
	End
	;FireLogicNugget
	;	LogicType		= INCREASE_FUEL
	;	Radius			= FIREDRAKE_FLAME_FUELINCREASE_RADIUS
	;	Damage			= FIREDRAKE_FLAME_FUELINCREASE_AMOUNT
	;	MinMaxBurnRate	= FIREDRAKE_FLAME_FUELINCREASE_MINMAXBURNRATE
	;	MaxResistance	= FIREDRAKE_FLAME_FUELINCREASE_RESISTANCE
	;End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= FIREDRAKE_FLAME_INCREASEBURNRATE_RADIUS
		Damage			= FIREDRAKE_FLAME_INCREASEBURNRATE_AMOUNT
	End
	
	DamageContainedNugget
		KillCount = 5
		KillKindof = INFANTRY
		KillKindofNot = HERO ;;-;; NONE
		DeathType = BURNED
	End
End

;----------------------------
Weapon FireDrakeInferno		; BALANCE
	IdleAfterFiringDelay = 0
	AttackRange = 60.0
	WeaponSpeed = 401         ; dist/sec 
	RadiusDamageAffects = ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlast
	;FireFX                = FX_FireDrakeInferno ;FX_BalrogBreath ---- commented out for E3, now controled by particle spawning
	FiringDuration      = 1400
	DamageDealtAtSelfPosition = Yes 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= FIREDRAKE_INFERNO_DAMAGE
		Radius			= FIREDRAKE_INFERNO_RADIUS
		DelayTime		= 0 ;;-;; 1000
		DamageType		= FLAME
		DamageFXType		= FLAME
		DeathType		= BURNED
		DamageArc		= 60 ; ;90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 200 ;;-;; 400
	End
	;FireLogicNugget
	;	LogicType		= INCREASE_FUEL
	;	Radius			= FIREDRAKE_INFERNO_FUELINCREASE_RADIUS
	;	Damage			= FIREDRAKE_INFERNO_FUELINCREASE_AMOUNT
	;	MinMaxBurnRate	= FIREDRAKE_INFERNO_FUELINCREASE_MINMAXBURNRATE
	;	MaxResistance	= FIREDRAKE_INFERNO_FUELINCREASE_RESISTANCE
	;End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= FIREDRAKE_INFERNO_INCREASEBURNRATE_RADIUS
		Damage			= FIREDRAKE_INFERNO_INCREASEBURNRATE_AMOUNT
		DamageArc		= 60 ; ;90
	End
End

;----------------------------
Weapon GoblinKingBlade     ; BALANCE Orc Warrior Weapon ;Orc Fighter
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = WILD_GOBLIN_KING_DELAYBETWEENSHOTS              ; time between shots, msec
  PreAttackDelay        = WILD_GOBLIN_KING_PREATTACKDELAY               ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FiringDuration        = WILD_GOBLIN_KING_FIRINGDURATION      ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_GOBLIN_KING_DAMAGE
	;;-;;DamageScalar   = 87% ANY +STRUCTURE -COMMANDCENTER ; ;
    DelayTime     = 0 ;;-;; 390 ; ;0
    Radius        = 0.0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon GoblinKingScorpionWeapon     ; BALANCE Orc Warrior Weapon ;Orc Fighter
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = WILD_GOBLIN_KING_DELAYBETWEENSHOTS              ; time between shots, msec
  PreAttackDelay        = WILD_GOBLIN_KING_PREATTACKDELAY               ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FiringDuration        = WILD_GOBLIN_KING_FIRINGDURATION      ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_GOBLIN_KING_DAMAGE
    DamageScalar   = 87% ANY +STRUCTURE ;;.;; -COMMANDCENTER ; ;
    DelayTime     = 0
    Radius        = 0.0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon WyrmAppearWeapon									; used in the OCL that makes a wyrm.

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange			= 4.0

	DamageNugget
		Damage				= WYRM_APPEAR_DAMAGE
		DamageTaperOff		= WYRM_APPEAR_DAMAGE_TAPEROFF ;;.;;
		DamageScalar		= 1500% ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
		Radius        = WYRM_APPEAR_RADIUS
		DelayTime     = 0
		DamageType    = CRUSH
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		DamageScalar  = 0% ANY +Wyrm
	End

	MetaImpactNugget
		ShockWaveAmount			= 75
		ShockWaveRadius			= WYRM_APPEAR_SH_RADIUS
		ShockWaveTaperOff		= 0.8 ;;.;; 0.9
		ShockWaveZMult			= 1.20
		DelayTime				= 0
		ShockWaveClearRadius	= Yes
		ShockWaveClearMult		= 0.75
		ShockWaveClearFlingHeight = 25
	End

End

;------------------------------------------------------------------------------
Weapon WyrmRepositionWeapon09v3

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange			= 4.0

	DamageNugget
		Damage				= WYRM_REPOSITION_DAMAGE ;;.;;
		DamageTaperOff		= WYRM_REPOSITION_DAMAGE_TAPEROFF ;;.;;
		DamageScalar		= 1500% ANY INSTANT_DEATH_ON_METAIMPACT_OBJFILTER ;;.;;
		Radius        = WYRM_REPOSITION_RADIUS
		DelayTime     = 0
		DamageType    = CRUSH
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		DamageScalar  = 0% ANY +Wyrm
	End

	MetaImpactNugget
		ShockWaveAmount			= 75
		ShockWaveRadius			= WYRM_REPOSITION_SH_RADIUS
		ShockWaveTaperOff		= 0.8 ;;.;; 0.9
		ShockWaveZMult			= 1.20
		DelayTime				= 0
		ShockWaveClearRadius	= Yes
		ShockWaveClearMult		= 0.75
		ShockWaveClearFlingHeight = 25
	End

End

;------------------------------------------------------------------------------
Weapon WyrmDisappearWeapon				;used when a wyrm goes underground.

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange           = 4.0

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount		= 25
		ShockWaveRadius		= 10.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
		DelayTime			= 333
	End
  
End

;------------------------------------------------------------------------------
Weapon WyrmDeathWeapon				;used in the OCL that makes a wyrm.

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange           = 4.0

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 10
		Radius        = 30.0
		DelayTime     = 0
		DamageType    = FORCE
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		DamageScalar  = 0% ANY +Wyrm
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount		= 25
		ShockWaveRadius		= 30.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
		DelayTime			= 0
	End
  
End

;------------------------------------------------------------------------------
Weapon WyrmFireBreath
	LockWhenUsing				= Yes ;;-;;
	IdleAfterFiringDelay		= 0
	AttackRange					= WYRM_FIRE_ATTACK_RANGE
	WeaponSpeed					= 400										; dist/sec
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= WYRM_FIRE_DELAYBETWEENSHOTS                ; time between shots, msec
	PreAttackDelay				= WYRM_FIRE_PREATTACKDELAY   ;commented out because it needs to match the animation
	PreAttackType				= PER_SHOT
	FiringDuration				= WYRM_FIRE_FIRINGDURATION  ;commented out because it needs to match the animation
	AcceptableAimDelta			= 10
	IdleAfterFiringDelay = 3000 ;;=;; 1000 //
	HoldAfterFiringDelay = 3000 ;;=;; 1250
	HitStoredTarget 			= Yes ;;.;; fixes not following alt paths.
 	//-----------------------------------------------------//
	DamageNugget
		//109WyrmDamageNugget//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 120 ;;-;; 400
		;DelayTime     = 200 ; ; 0
		DamageArc		= 110 ; ;45
	End
  	DamageNugget
		//109WyrmDamageNugget//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 150 ;;-;;
		DamageArc		= 110 ; ;45
 	End
  	DamageNugget
		//109WyrmDamageNugget//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 180 ;;-;;
		;DelayTime     = 200 ; ; 0
		DamageArc		= 110 ; ;45
	End
	//-----------------------------------------------------//
	;;To catch the units standing right on the point of the triangle.
	//-----------------------------------------------------//
	DamageNugget
		//109WyrmDamageNuggetNoArc//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
 		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 210 ;;-;;
		;DelayTime     = 200 ; ; 0
	End
 	DamageNugget
		//109WyrmDamageNuggetNoArc//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
 		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 240 ;;-;;
		;DelayTime     = 200 ; ; 0
	End
 	DamageNugget
		//109WyrmDamageNuggetNoArc//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
 		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 270 ;;-;;
		;DelayTime     = 200 ; ; 0
	End
	//-----------------------------------------------------//


	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 120 ; ;50
		DelayTime		= 1000
		Damage			= 100 ; ;10
		DamageArc		= 110 ;;-;; Awesome
	End

End
;------------------------------------------------------------------------------
Weapon WyrmFireBreathMeleeWeaponYes
	MeleeWeapon           		= Yes ;;-;;
	LockWhenUsing				= Yes ;;-;;
	IdleAfterFiringDelay		= 0
	AttackRange					= WYRM_FIRE_ATTACK_RANGE
	WeaponSpeed					= 400										; dist/sec
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= WYRM_FIRE_DELAYBETWEENSHOTS                ; time between shots, msec
	PreAttackDelay				= WYRM_FIRE_PREATTACKDELAY   ;commented out because it needs to match the animation
	PreAttackType				= PER_SHOT
	FiringDuration				= WYRM_FIRE_FIRINGDURATION  ;commented out because it needs to match the animation
	AcceptableAimDelta			= 10
	IdleAfterFiringDelay = 3000 ;;=;; 1000 //
	HoldAfterFiringDelay = 3000 ;;=;; 1250
 	//-----------------------------------------------------//
	DamageNugget
		//109WyrmDamageNugget//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 120 ;;-;; 400
		;DelayTime     = 200 ; ; 0
		DamageArc		= 110 ; ;45
	End
  	DamageNugget
		//109WyrmDamageNugget//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 150 ;;-;;
		DamageArc		= 110 ; ;45
 	End
  	DamageNugget
		//109WyrmDamageNugget//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 180 ;;-;;
		;DelayTime     = 200 ; ; 0
		DamageArc		= 110 ; ;45
	End
	//-----------------------------------------------------//
	;;To catch the units standing right on the point of the triangle.
	//-----------------------------------------------------//
	DamageNugget
		//109WyrmDamageNuggetNoArc//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
 		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 210 ;;-;;
		;DelayTime     = 200 ; ; 0
	End
 	DamageNugget
		//109WyrmDamageNuggetNoArc//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
 		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 240 ;;-;;
		;DelayTime     = 200 ; ; 0
	End
 	DamageNugget
		//109WyrmDamageNuggetNoArc//
		Damage			= #DIVIDE( WYRM_FIRE_DAMAGE 6 )
		DamageTaperOff	= #MULTIPLY( #DIVIDE( WYRM_FIRE_DAMAGE 6 ) WYRM_FIRE_DAMAGE_TAPEROFF )
		DamageScalar	= 33% ANY +CANNOT_RETALIATE
		DamageScalar	= 50% NONE ALLIES +STRUCTURE
		DamageScalar	= 50% ANY +MordorMumakil ;;.;;
		DamageScalar	= 200% ANY +MACHINE -CAVALRY -MordorGrond;;=;;
 		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 270 ;;-;;
		;DelayTime     = 200 ; ; 0
	End
	//-----------------------------------------------------//


	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 120 ; ;50
		DelayTime		= 1000
		Damage			= 100 ; ;10
		DamageArc		= 110 ;;-;; Awesome
	End

End

;------------------------------------------------------------------------------
Weapon PorterFireExtinguisher	
	AttackRange = 150

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= PORTER_FIRE_EXTINGUISHER_DECREASEBURNRATE_RADIUS
		Damage			= PORTER_FIRE_EXTINGUISHER_DECREASEBURNRATE_AMOUNT
	End

         
  ;MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .99
	;ShockWaveAmount		= 350 ; ; 30.0
   ; ShockWaveRadius		= 300 ; ; 10
    ;ShockWaveArc		= 180
    ;ShockWaveTaperOff = 1
  ;End

End


;==========================MAP SPECIFIC WEAPON==================================

Weapon GoblinArcherBow_GoodRivendell
  
	AttackRange			= GOBLIN_ARCHER_RANGE   ;Horde member so it needs to be bigger than the horde weapon attack range.
   
   	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GOBLIN_ARCHER_RANGE .01 )
   
   
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 20.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GOBLIN_ARCHER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = GoblinArcherBowWarhead_GoodRivendell
		ForbiddenUpgradeNames   = Upgrade_WildFireArrows
	End
	
	ProjectileNugget    ; Fire Arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName      = GoblinArcherBowFireWarhead
		RequiredUpgradeNames     = Upgrade_WildFireArrows
	End
End

Weapon GoblinArcherBowWarhead_GoodRivendell
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 5
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End
;==========================That is all for Evil Erebor modifications========================



// These are weapons used for debug purposes only
Weapon DebugWeapon1
	RadiusDamageAffects = SELF ALLIES
	MetaImpactNugget
;		HeroResist			= 0
		ShockWaveAmount		= 50
		ShockWaveRadius		= 10
		ShockWaveArc		= 180
		ShockWaveTaperOff	= 1
		ShockWaveSpeed		= 0
		ShockWaveZMult		= 1
	End
End
Weapon DebugWeapon2
	RadiusDamageAffects = SELF ALLIES
	DamageNugget
		Damage			= 100000
		Radius			= 2
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
	End
End
Weapon DebugWeapon3
	RadiusDamageAffects = SELF ALLIES
	DamageNugget
		Damage			= 100000
		Radius			= 2
		DamageType		= SLASH
		DamageFXType	= GOOD_ARROW_PIERCE
		DeathType		= NORMAL
		AcceptDamageAdd = No
	End
	MetaImpactNugget
		ShockWaveAmount		= 100
		ShockWaveRadius		= 10
		ShockWaveArc		= 180 
		ShockWaveTaperOff	= 1
		ShockWaveSpeed		= 0
		ShockWaveZMult		= 1
	End
End



//==========================================================================================
//////////////////////////// CREATE A HERO SPECIAL WEAPONS //////////////////////////////////
//==========================================================================================

Weapon CreateAHeroBasicMeleeWeapon
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	FireFX                = FX_GondorSwordHit
	DelayBetweenShots     = FARAMIR_DELAYBETWEENSHOTS 			// time between shots, msec
	PreAttackDelay        = FARAMIR_PREATTACKDELAY 	// 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration        = FARAMIR_FIRINGDURATION 	// Duration of the sword swing
	UseInnateAttributes	  = Yes

	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level2 Upgrade_CreateAHeroPoisonAttack_Level3 Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 15000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level3 Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 20000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level3
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 30000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level4
	End
End

Weapon CreateAHeroTrollMeleeWeapon
	LeechRangeWeapon      = Yes
	RadiusDamageAffects	= ENEMIES 
	AttackRange           = 20.00
	MeleeWeapon           = Yes
	FireFX                = FX_GondorSwordHit
	DelayBetweenShots     = FARAMIR_DELAYBETWEENSHOTS 			// time between shots, msec
	PreAttackDelay        = FARAMIR_PREATTACKDELAY 	// 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration        = FARAMIR_FIRINGDURATION 	// Duration of the sword swing
	UseInnateAttributes	  = Yes
	DamageDealtAtSelfPosition = Yes
	AcceptableAimDelta		= 15.0 
	
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_DAMAGE
		Radius        = 50.0
		DamageArc     = 45
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = CLUBBING
		DeathType     = NORMAL
	End
	
	MetaImpactNugget								; A Nugget that throws things back with force
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 50.0
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 90
		ShockWaveZMult    = 1.20
	;		HeroResist		  = 0.90					; 90% resistance to heroes
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level2 Upgrade_CreateAHeroPoisonAttack_Level3 Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 15000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level3 Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 20000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level3
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 30000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level4
	End
End


//------------------------------------------------------------------------------
Weapon CreateAHeroBasicRangedWeapon
    AttackRange			= 350				
    LeechRangeWeapon    = Yes
    WeaponSpeed			= 321         // dist/sec 
    MinWeaponSpeed		= 241
    MaxWeaponSpeed		= 481      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
    FireFX				= FX_RohanArcherBowWeapon
    ScaleWeaponSpeed	= Yes // Used for lob weapons, scales speed proportional to range
    HitPercentage		= 100     //When this weapon is used it will hit exactly 75% of the time.
    ScatterRadius		= 0.0     //When this weapon misses it can randomly miss by as much as this distance.
    UseInnateAttributes	= Yes
   
    DelayBetweenShots	= FARAMIR_BOW_DELAYBETWEENSHOTS        // time between shots, msec
    PreAttackDelay		= FARAMIR_BOW_PREATTACKDELAY             // 1467 is the prep time for archer.
    PreAttackType		= PER_POSITION
    FiringDuration		= FARAMIR_BOW_FIRINGDURATION   // Duration of the archer firing shot is 500ms.
 
    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:1000 Max:1500
    ContinuousFireOne	= 0
    ContinuousFireCoast	= FARAMIR_BOW_RELOADTIME_MAX
   	
    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes  
    
    CanFireWhileMoving		= Yes
   
    ProjectileNugget                    // Default arrow
       ProjectileTemplateName	= GoodFactionArrow
       WarheadTemplateName		= CreateAHeroBasicRangedWarhead
	   ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level4
    End
   
    ProjectileNugget                    // Default arrow
       ProjectileTemplateName	= MirkwoodArcherSilverthornProjectile
       WarheadTemplateName		= CreateAHeroBasicRangedWarhead
	   RequiredUpgradeNames		= Upgrade_CreateAHeroArrowBonus_Level4
    End
End


//----------------------------
Weapon CreateAHeroBasicRangedWarhead
	ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS // Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget = Yes	// Always hits initial target.
	UseInnateAttributes	= Yes

	//	No bonus
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = 50
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroToggleWeapon_Level2 Upgrade_CreateAHeroArrowBonus_Level1 Upgrade_CreateAHeroArrowBonus_Level2 Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End

	//	Corrupted Man Level 2 Toggle Weapon Bonus
	DamageNugget
		Damage					= 70
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO_RANGED
		DamageFXType			= GOOD_ARROW_PIERCE
		DeathType				= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroToggleWeapon_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level1 Upgrade_CreateAHeroArrowBonus_Level2 Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End

	//	Level 1 Archer bonus
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = 80
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level2 Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L1
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L1	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level2 Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End

	//	Level 2 Archer bonus
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = 50
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = FLAME
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L1
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L1	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = FLAME
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L2
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L2	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3 Upgrade_CreateAHeroArrowBonus_Level4
	End

	//	Level 3 Archer bonus
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = 50
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = MAGIC
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L1
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L1	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = SLASH
		DamageFXType  = MAGIC
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L2
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L2	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = MAGIC
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L3
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L3	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = MAGIC
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level3
	End

	//	Level 4 Archer Bonus
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_ARROW_BONUS_DAMAGE_L4
		Radius        = CREATE_A_HERO_ARROW_BONUS_RADIUS_L4	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageScalar  = 10% ANY +STRUCTURE 
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = MAGIC
		DeathType     = NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroArrowBonus_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level2 Upgrade_CreateAHeroPoisonAttack_Level3 Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 20000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level3 Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 250000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level3
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level4
	End

	DOTNugget                        // A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 30000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroPoisonAttack_Level4
	End
End


//------------------------------------------------------------------------------
Weapon CreateAHerBallLightningWeapon_L1
	AttackRange			   = CREATE_A_HERO_BALL_LIGHTNING_RANGE
	WeaponSpeed			   = 801		//	dist/sec 
	HitPercentage		   = 100		// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	   = 4500		// time between shots, msec
	PreAttackDelay		   = 200		// 1467 is	the	prep time for archer.  
	PreAttackType		   = PER_SHOT	//	Do the delay each time we attack a new target
	FiringDuration		   = 1			// Duration	of the archer firing shot is 500ms.
	
	FireFX				   = FX_CAHBallLightningFireFX // CASEY TODO New FX for this power
	FiringDuration		   = 50
	AntiAirborneVehicle	   = Yes
	AntiAirborneMonster	   = Yes


	RadiusDamageAffects	   = ENEMIES NOT_SIMILAR
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES	WALLS

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_BALL_LIGHTNING_DAMAGE_L1
		DamageType	 = FLAME
		DamageFXType = ELECTRIC
		DeathType	 = BURNED
		Radius		 = 15
		DelayTime	 = 200	
	End

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_BALL_LIGHTNING_DAMAGE_L1
		DamageType	 = MAGIC
		DamageFXType = ELECTRIC
		DeathType	 = BURNED
		Radius		 = 15
		DelayTime	 = 200	
	End

	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist		  =	0.75
		ShockWaveAmount	  =	90.0
		ShockWaveRadius	  =	17.6
		ShockWaveTaperOff =	0.2
		DelayTime		  =	200		  //The target is dying before the laser	appears	in the new laser tweak,	so try to kill when	the	laser turns	on
	End
	
	//BALANCE 09v3ElectrifyTheBalrog//
  	AttributeModifierNugget
		AttributeModifier        = HitLevel2ReactionModifier09v3
		Radius                   = #MULTIPLY( 15 0.33 )
 		SpecialObjectFilter      = ANY SPELLBOOK_SUMMONED_UNITS
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
End


//------------------------------------------------------------------------------
Weapon CreateAHerBallLightningWeapon_L2
	AttackRange			   = CREATE_A_HERO_BALL_LIGHTNING_RANGE
	WeaponSpeed			   = 801		//	dist/sec 
	HitPercentage		   = 100		// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	   = 4500		// time between shots, msec
	PreAttackDelay		   = 200		// 1467 is	the	prep time for archer.  
	PreAttackType		   = PER_SHOT	//	Do the delay each time we attack a new target
	FiringDuration		   = 1			// Duration	of the archer firing shot is 500ms.
	
	FireFX				   = FX_CAHBallLightningFireFX // CASEY TODO New FX for this power
	FiringDuration		   = 50
	AntiAirborneVehicle	   = Yes
	AntiAirborneMonster	   = Yes

	RadiusDamageAffects	   = ENEMIES NOT_SIMILAR
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES	WALLS

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_BALL_LIGHTNING_DAMAGE_L2
		DamageType	 = FLAME
		DamageFXType = ELECTRIC
		DeathType	 = BURNED
		Radius		 = 15
		DelayTime	 = 200	
	End
	
	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_BALL_LIGHTNING_DAMAGE_L2
		DamageType	 = MAGIC
		DamageFXType = ELECTRIC
		DeathType	 = BURNED
		Radius		 = 15
		DelayTime	 = 200	
	End

	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist		  =	0.75
		ShockWaveAmount	  =	90.0
		ShockWaveRadius	  =	17.6
		ShockWaveTaperOff =	0.2
		DelayTime		  =	200		  //The target is dying before the laser	appears	in the new laser tweak,	so try to kill when	the	laser turns	on
	End
	
	//BALANCE 09v3ElectrifyTheBalrog//
  	AttributeModifierNugget
		AttributeModifier        = HitLevel2ReactionModifier09v3
		Radius                   = #MULTIPLY( 15 0.33 )
 		SpecialObjectFilter      = ANY SPELLBOOK_SUMMONED_UNITS
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
	
End


//------------------------------------------------------------------------------
Weapon CreateAHerBallLightningWeapon_L3
	AttackRange			   = CREATE_A_HERO_BALL_LIGHTNING_RANGE
	WeaponSpeed			   = 801		//	dist/sec 
	HitPercentage		   = 100		// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	   = 4500		// time between shots, msec
	PreAttackDelay		   = 200		// 1467 is	the	prep time for archer.  
	PreAttackType		   = PER_SHOT	//	Do the delay each time we attack a new target
	FiringDuration		   = 1			// Duration	of the archer firing shot is 500ms.
	
	FireFX				   = FX_CAHBallLightningFireFX // CASEY TODO New FX for this power
	FiringDuration		   = 50
	AntiAirborneVehicle	   = Yes
	AntiAirborneMonster	   = Yes

	RadiusDamageAffects	   = ENEMIES NOT_SIMILAR
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES	WALLS

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_BALL_LIGHTNING_DAMAGE_L3
		DamageType	 = FLAME
		DamageFXType = ELECTRIC
		DeathType	 = BURNED
		Radius		 = 15
		DelayTime	 = 200	
	End
	
	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_BALL_LIGHTNING_DAMAGE_L3
		DamageType	 = MAGIC
		DamageFXType = ELECTRIC
		DeathType	 = BURNED
		Radius		 = 15
		DelayTime	 = 200	
	End

	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist		  =	0.75
		ShockWaveAmount	  =	90.0
		ShockWaveRadius	  =	17.6
		ShockWaveTaperOff =	0.2
		DelayTime		  =	200		  //The target is dying before the laser	appears	in the new laser tweak,	so try to kill when	the	laser turns	on
	End
	
	//BALANCE 09v3ElectrifyTheBalrog//
  	AttributeModifierNugget
		AttributeModifier        = HitLevel2ReactionModifier09v3
		Radius                   = #MULTIPLY( 15 0.33 )
 		SpecialObjectFilter      = ANY SPELLBOOK_SUMMONED_UNITS
	End
	ParalyzeNugget ;;.;;
		Duration				= 500
		SpecialObjectFilter	= ANY SPELLBOOK_SUMMONED_UNITS
	End
	
End

//------------------------------------------------------------------------------
Weapon CreateAHeroLightBlastWeapon_L1  // 
	AttackRange			= CREATE_A_HERO_PHASER_RANGE				//600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      // dist/sec 
	HitPercentage		= 100		// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		// time between shots, msec
	FireFX              = FX_CaHBeamWeapon // CASEY TODO New FX for this power
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_LIGHTBLAST_L1_DAMAGE	
		DamageScalar  = 200% ANY +MordorWitchKingOnFellBeast +GondorGwaihir	
		DamageScalar  = 180% ANY +MordorFellBeast
		Radius        = 17.6
		DelayTime     = 200           //The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = NORMAL
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist          =   0.75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 17.6
		ShockWaveTaperOff	= 0.5
		DelayTime			= 200		//The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End
End

Weapon CreateAHeroLightBlastWeapon_L2
	AttackRange			= CREATE_A_HERO_PHASER_RANGE				//600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      // dist/sec 
	HitPercentage		= 100		// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		// time between shots, msec
	FireFX              = FX_CaHBeamWeapon // CASEY TODO New FX for this power
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_LIGHTBLAST_L2_DAMAGE	
		DamageScalar  = 200% ANY +MordorWitchKingOnFellBeast +GondorGwaihir	
		DamageScalar  = 180% ANY +MordorFellBeast
		Radius        = 17.6
		DelayTime     = 200           //The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = NORMAL
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist          =   0.75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 17.6
		ShockWaveTaperOff	= 0.5
		DelayTime			= 200		//The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End
End

Weapon CreateAHeroLightBlastWeapon_L3
	AttackRange			= CREATE_A_HERO_PHASER_RANGE				//600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      // dist/sec 
	HitPercentage		= 100		// When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		// time between shots, msec
	FireFX              = FX_CaHBeamWeapon // CASEY TODO New FX for this power
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_LIGHTBLAST_L3_DAMAGE	
		DamageScalar  = 200% ANY +MordorWitchKingOnFellBeast +GondorGwaihir	
		DamageScalar  = 180% ANY +MordorFellBeast
		Radius        = 17.6
		DelayTime     = 200           //The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = NORMAL
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist          =   0.75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 17.6
		ShockWaveTaperOff	= 0.5
		DelayTime			= 200		//The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End
End

//------------------------------------------------------------------------------
Weapon ForcePush_Level1 // small microwave push
	IdleAfterFiringDelay	  =	0
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	CREATE_A_HERO_FORCE_PUSH_RANGE_L1
	WeaponSpeed				  =	401			// dist/sec 
	RadiusDamageAffects		  =	ENEMIES	NEUTRALS NOT_SIMILAR
	DelayBetweenShots		  =	5000			   // time between shots, msec
	PreAttackDelay			  =	100
	PreAttackType			  =	PER_ATTACK // Do	the	delay each time	we attack a	new	target
	FireFX					  =	FX_WizardTelekinesis	// CASEY TODO New FX for this power
	FiringDuration			  =	100
	DamageDealtAtSelfPosition =	Yes	
	IsAimingWeapon			  =	Yes
	AcceptableAimDelta		  =	15
	AntiAirborneVehicle		  =	No
	AntiAirborneMonster		  =	No

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_FORCE_PUSH_DAMAGE_L1
		DamageArc	 = 75
		Radius		 = 110.0
		DamageType	 = MAGIC
		DamageFXType = MAGIC
		DeathType	 = EXPLODED
		DamageSpeed	 = 700.0 // must	match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist		  =	.75
		ShockWaveAmount	  =	75.0
		ShockWaveArc	  =	75
		ShockWaveRadius	  =	110.0
		ShockWaveTaperOff =	0.75
		ShockWaveZMult	  =	1.000
		ShockWaveSpeed	  =	700.0 
	End
End

//------------------------------------------------------------------------------
Weapon ForcePush_Level2 // small microwave push
	IdleAfterFiringDelay	  =	0
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	CREATE_A_HERO_FORCE_PUSH_RANGE_L2
	WeaponSpeed				  =	401			// dist/sec 
	RadiusDamageAffects		  =	ENEMIES	NEUTRALS NOT_SIMILAR
	DelayBetweenShots		  =	5000			   // time between shots, msec
	PreAttackDelay			  =	100
	PreAttackType			  =	PER_ATTACK // Do	the	delay each time	we attack a	new	target
	FireFX					  =	FX_WizardTelekinesis	// CASEY TODO New FX for this power
	FiringDuration			  =	100
	DamageDealtAtSelfPosition =	Yes	
	IsAimingWeapon			  =	Yes
	AcceptableAimDelta		  =	15
	AntiAirborneVehicle		  =	No
	AntiAirborneMonster		  =	No

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_FORCE_PUSH_DAMAGE_L2
		DamageArc	 = 75
		Radius		 = 110.0
		DamageType	 = MAGIC
		DamageFXType = MAGIC
		DeathType	 = EXPLODED
		DamageSpeed	 = 700.0 // must	match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist		  =	.75
		ShockWaveAmount	  =	75.0
		ShockWaveArc	  =	75
		ShockWaveRadius	  =	110.0
		ShockWaveTaperOff =	0.75
		ShockWaveZMult	  =	1.000
		ShockWaveSpeed	  =	700.0 
	End
End

//------------------------------------------------------------------------------
Weapon ForcePush_Level3 // small microwave push
	IdleAfterFiringDelay	  =	0
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	CREATE_A_HERO_FORCE_PUSH_RANGE_L3
	WeaponSpeed				  =	401			// dist/sec 
	RadiusDamageAffects		  =	ENEMIES	NEUTRALS NOT_SIMILAR
	DelayBetweenShots		  =	5000			   // time between shots, msec
	PreAttackDelay			  =	100
	PreAttackType			  =	PER_ATTACK // Do	the	delay each time	we attack a	new	target
	FireFX					  =	FX_WizardTelekinesis	// CASEY TODO New FX for this power
	FiringDuration			  =	100
	DamageDealtAtSelfPosition =	Yes	
	IsAimingWeapon			  =	Yes
	AcceptableAimDelta		  =	15
	AntiAirborneVehicle		  =	No
	AntiAirborneMonster		  =	No

	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_FORCE_PUSH_DAMAGE_L3
		DamageArc	 = 75
		Radius		 = 110.0
		DamageType	 = MAGIC
		DamageFXType = MAGIC
		DeathType	 = EXPLODED
		DamageSpeed	 = 700.0 // must	match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist		  =	.75
		ShockWaveAmount	  =	75.0
		ShockWaveArc	  =	75
		ShockWaveRadius	  =	110.0
		ShockWaveTaperOff =	0.75
		ShockWaveZMult	  =	1.000
		ShockWaveSpeed	  =	700.0 
	End
End


//------------------------------------------------------------------------------
Weapon WordOfDoom 
	LeechRangeWeapon	  =	Yes
	AttackRange			  =	SARUMAN_FIREBALL_RANGE		// set this in his special power
	WeaponSpeed			  =	150			// dist/sec 
	MinWeaponSpeed		  =	100
	MaxWeaponSpeed		  =	200			// dist/sec	Upper limit	on scaling,	when attacking past	nominal	"max" range
	ScaleWeaponSpeed	  =	Yes			// Used	for	lob	weapons, scales	speed proportional to range
	HitPercentage		  =	100			//When this	weapon is used it will hit exactly 100%	of the time.
	ScatterRadius		  =	0.0			//When this weapon misses it	can	randomly miss by as	much as	this distance.
	DelayBetweenShots	  =	5000		// time	between	shots, msec
	PreAttackDelay		  =	1			//	1467 is	the	prep time for archer.
	PreAttackRandomAmount =	0			// amount	of additional preattack	variance for archer	type attacks only  
	PreAttackType		  =	PER_SHOT	// Do the delay	each time we attack	a new target
	FiringDuration		  =	1			//	Duration of	the	archer firing shot is 500ms.
	IsAimingWeapon		  =	Yes
	AcceptableAimDelta	  =	15
	AntiAirborneVehicle	  =	Yes
	AntiAirborneMonster	  =	Yes
	FireFX				  =	FX_SarumanFireball
	DamageType			  =	HERO_RANGED
  
	//ProjectileNugget					// Default arrow
	//	ProjectileTemplateName  = SarumanFireballProjectile
	//	WarheadTemplateName     = SarumanFireballWarhead
	//End
	DamageNugget                        // A basic Nugget that just does damage
		Damage		 = CREATE_A_HERO_FORCE_PUSH_DAMAGE_L3
		DamageArc	 = 75
		Radius		 = 110.0
		DamageType	 = MAGIC
		DamageFXType = UNDEFINED	//	MAGIC
		DeathType	 = NORMAL		//	EXPLODED
		DamageSpeed	 = 700.0 // must match the ShockWaveSpeed below
	End

End

//	TODO: fix this for archer create a heroes to work like lurtz cripple strike
//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRanged_Level1					 //	BALANCE	Archer Weapon // orc archer
	AttackRange				= CREATE_A_HERO_CRIPPLE_RANGED_RANGE //	LURTZ_BOW_STUN_RANGE //	350	// Horde member	so it needs	to be bigger than the horde	weapon attack range.
	WeaponSpeed				= 300								 //	dist/sec 
	MinWeaponSpeed			= 121
	MaxWeaponSpeed			= 400								 //	dist/sec Upper limit on	scaling, when attacking	past nominal "max" range
	FireFX					= FX_LurtzCripplingStrike 
	ScaleWeaponSpeed		= Yes								 //	Used for lob weapons, scales speed proportional	to range
	HitPercentage			= 100								 //	When this weapon is	used it	will hit exactly 50% of	the	time.
	ScatterRadius			= 0.0								 //	When this weapon misses	it can randomly	miss by	as much	as this	distance.
	DelayBetweenShots		= 1100
	PreAttackDelay			= 1
	PreAttackType			= PER_SHOT							 //	Do the delay each time we attack a new target
	FiringDuration			= 1000								 //	Duration of	the	archer firing shot is 500ms.
	IdleAfterFiringDelay	= 1000
	// HoldAfterFiringDelay	= 1000 // 

	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	ProjectileNugget			// Fire arrow available through fire upgrade
		ProjectileTemplateName  = LurtzArrowProjectile
		WarheadTemplateName     = CreateAHeroCrippleStrikeRangedWarhead_Level1
		SpecialObjectFilter		= ALL -MACHINE
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRangedWarhead_Level1
	ProjectileCollidesWith = ENEMIES NEUTRAL
	RadiusDamageAffects	   = ENEMIES NEUTRALS 
	HitStoredTarget		   = Yes   // Always	hits initial target.
	
	DamageNugget
		Damage				= CREATE_A_HERO_CRIPPLE_RANGED_DAMAGE_L1											   
		Radius				= 0.0  // HitStoredTarget means	we hurt	the	person we launched at.	And	nobody else.  So a miss	hurts nobody.
		DamageType			= HERO_RANGED
		DamageFXType		= EVIL_ARROW_PIERCE
		DeathType			= NORMAL
   		DamageScalar		= 200% ANY +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle +SpellBookDragonStrikeDragon
	End

	AttributeModifierNugget
		AttributeModifier	= AttributeModCrippleStrike_Level1
		DamageFXType		= EVIL_ARROW_PIERCE	
		SpecialObjectFilter	= CRIPPLE_STRIKE_OBJECT_FILTER
	End
End

//	TODO: fix this for archer create a heroes to work like lurtz cripple strike
//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRanged_Level2					 //	BALANCE	Archer Weapon // orc archer
	AttackRange				= CREATE_A_HERO_CRIPPLE_RANGED_RANGE //	LURTZ_BOW_STUN_RANGE //	350	// Horde member	so it needs	to be bigger than the horde	weapon attack range.
	WeaponSpeed				= 300								 //	dist/sec 
	MinWeaponSpeed			= 121
	MaxWeaponSpeed			= 400								 //	dist/sec Upper limit on	scaling, when attacking	past nominal "max" range
	FireFX					= FX_LurtzCripplingStrike 
	ScaleWeaponSpeed		= Yes								 //	Used for lob weapons, scales speed proportional	to range
	HitPercentage			= 100								 //	When this weapon is	used it	will hit exactly 50% of	the	time.
	ScatterRadius			= 0.0								 //	When this weapon misses	it can randomly	miss by	as much	as this	distance.
	DelayBetweenShots		= 1100
	PreAttackDelay			= 1
	PreAttackType			= PER_SHOT							 //	Do the delay each time we attack a new target
	FiringDuration			= 1000								 //	Duration of	the	archer firing shot is 500ms.
	IdleAfterFiringDelay	= 1000
	// HoldAfterFiringDelay	= 1000 // 

	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	ProjectileNugget			// Fire arrow available through fire upgrade
		ProjectileTemplateName  = LurtzArrowProjectile
		WarheadTemplateName     = CreateAHeroCrippleStrikeRangedWarhead_Level2
		SpecialObjectFilter		= ALL -MACHINE
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRangedWarhead_Level2
	ProjectileCollidesWith = ENEMIES NEUTRAL
	RadiusDamageAffects	   = ENEMIES NEUTRALS 
	HitStoredTarget		   = Yes   // Always hits initial target.

	DamageNugget
		Damage				= CREATE_A_HERO_CRIPPLE_RANGED_DAMAGE_L2
		Radius				= 0.0  // HitStoredTarget means	we hurt	the	person we launched at.	And	nobody else.  So a miss	hurts nobody.
		DamageType			= HERO_RANGED
		DamageFXType		= EVIL_ARROW_PIERCE
		DeathType			= NORMAL
   		DamageScalar		= 200% ANY +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle +SpellBookDragonStrikeDragon
	End

	AttributeModifierNugget
		AttributeModifier	= AttributeModCrippleStrike_Level2
		DamageFXType		= EVIL_ARROW_PIERCE	
		SpecialObjectFilter	= CRIPPLE_STRIKE_OBJECT_FILTER
	End            
End


//	TODO: fix this for archer create a heroes to work like lurtz cripple strike
//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRanged_Level3       // BALANCE Archer Weapon //orc archer
	AttackRange			= CREATE_A_HERO_CRIPPLE_RANGED_RANGE //	LURTZ_BOW_STUN_RANGE //	350	// Horde member	so it needs	to be bigger than the horde	weapon attack range.
	WeaponSpeed			= 300								 //	dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400								 //	dist/sec Upper limit on	scaling, when attacking	past nominal "max" range
	FireFX				= FX_LurtzCripplingStrike 
	ScaleWeaponSpeed	= Yes								 //	Used for lob weapons, scales speed proportional	to range
	HitPercentage		= 100								 //	When this weapon is	used it	will hit exactly 50% of	the	time.
	ScatterRadius		= 0.0								 //	When this weapon misses	it can randomly	miss by	as much	as this	distance.
	DelayBetweenShots	= 1100
	PreAttackDelay		= 1
	PreAttackType		= PER_SHOT							 //	Do the delay each time we attack a new target
	FiringDuration		= 1000								 //	Duration of	the	archer firing shot is 500ms.
	IdleAfterFiringDelay = 1000
															 //	HoldAfterFiringDelay = 1000	// 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget			// Fire arrow available through fire upgrade
		ProjectileTemplateName  = LurtzArrowProjectile
		WarheadTemplateName     = CreateAHeroCrippleStrikeRangedWarhead_Level3
		SpecialObjectFilter		= ALL -MACHINE
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRangedWarhead_Level3
	ProjectileCollidesWith = ENEMIES NEUTRAL
	RadiusDamageAffects = ENEMIES NEUTRALS 
	HitStoredTarget = Yes	// Always hits initial target.

	DamageNugget
		Damage				= CREATE_A_HERO_CRIPPLE_RANGED_DAMAGE_L3
		Radius				= 0.0  // HitStoredTarget means	we hurt	the	person we launched at.	And	nobody else.  So a miss	hurts nobody.
		DamageType			= HERO_RANGED
		DamageFXType		= EVIL_ARROW_PIERCE
		DeathType			= NORMAL
   		DamageScalar		= 200% ANY +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle +SpellBookDragonStrikeDragon
	End

	AttributeModifierNugget
		AttributeModifier        = AttributeModCrippleStrike_Level3
		DamageFXType             = EVIL_ARROW_PIERCE 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End
End


//	TODO: fix this for archer create a heroes to work like lurtz cripple strike
//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRanged_Level4       // BALANCE Archer Weapon //orc archer
	AttackRange			= CREATE_A_HERO_CRIPPLE_RANGED_RANGE //	LURTZ_BOW_STUN_RANGE //	350	// Horde member	so it needs	to be bigger than the horde	weapon attack range.
	WeaponSpeed			= 300								 //	dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400								 //	dist/sec Upper limit on	scaling, when attacking	past nominal "max" range
	FireFX				= FX_LurtzCripplingStrike 
	ScaleWeaponSpeed	= Yes								 //	Used for lob weapons, scales speed proportional	to range
	HitPercentage		= 100								 //	When this weapon is	used it	will hit exactly 50% of	the	time.
	ScatterRadius		= 0.0								 //	When this weapon misses	it can randomly	miss by	as much	as this	distance.
	DelayBetweenShots	= 1100
	PreAttackDelay		= 1
	PreAttackType		= PER_SHOT							 //	Do the delay each time we attack a new target
	FiringDuration		= 1000								 //	Duration of	the	archer firing shot is 500ms.
	IdleAfterFiringDelay = 1000
															 //	HoldAfterFiringDelay = 1000	// 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	ProjectileNugget			// Fire arrow available through fire upgrade
		ProjectileTemplateName  = LurtzArrowProjectile
		WarheadTemplateName     = CreateAHeroCrippleStrikeRangedWarhead_Level4
		SpecialObjectFilter		= ALL -MACHINE
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeRangedWarhead_Level4
	ProjectileCollidesWith = ENEMIES NEUTRAL
	RadiusDamageAffects = ENEMIES NEUTRALS 
	HitStoredTarget = Yes	// Always hits initial target.
	
	DamageNugget
		Damage				= CREATE_A_HERO_CRIPPLE_RANGED_DAMAGE_L4
		Radius				= 0.0  // HitStoredTarget means	we hurt	the	person we launched at.	And	nobody else.  So a miss	hurts nobody.
		DamageType			= HERO_RANGED
		DamageFXType		= EVIL_ARROW_PIERCE
		DeathType			= NORMAL
   		DamageScalar		= 200% ANY +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth +GondorGwaihir_Summoned +ElvenFortressEagle +SpellBookDragonStrikeDragon
	End

	AttributeModifierNugget
		AttributeModifier        = AttributeModCrippleStrike_Level4
		DamageFXType             = EVIL_ARROW_PIERCE 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeMelee_Level1       // BALANCE Archer Weapon //orc archer
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	30.0
	MeleeWeapon				  =	Yes
	//FireFX					  =	FX_LurtzCripplingStrike	//FX_GondorSwordHit
	DelayBetweenShots		  =	GLOIN_DELAYBETWEENSHOTS	// time between shots, msec
	PreAttackDelay			  =	GLOIN_PREATTACKDELAY	// 433 is natural time of the stabbing animation.
	PreAttackType			  =	PER_SHOT				// Do the delay	each time we attack	a new target
	FiringDuration			  =	GLOIN_FIRINGDURATION	// min 600 for anim

	// Hero damage.
	DamageNugget										// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_CRIPPLE_MELEE_DAMAGE_L1
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End
	// Cripple.
	AttributeModifierNugget
		AttributeModifier        = AttributeModCrippleStrike_Level1
		DamageFXType             = SWORD_SLASH 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End            

End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeMelee_Level2       // BALANCE Archer Weapon //orc archer
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	30.0
	MeleeWeapon				  =	Yes
	//FireFX					  =	FX_LurtzCripplingStrike	//FX_GondorSwordHit
	DelayBetweenShots		  =	GLOIN_DELAYBETWEENSHOTS	// time between shots, msec
	PreAttackDelay			  =	GLOIN_PREATTACKDELAY	// 433 is natural time of the stabbing animation.
	PreAttackType			  =	PER_SHOT				// Do the delay	each time we attack	a new target
	FiringDuration			  =	GLOIN_FIRINGDURATION	// min 600 for anim

	// Hero damage.
	DamageNugget										// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_CRIPPLE_MELEE_DAMAGE_L2
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End
	// Cripple.
	AttributeModifierNugget
		AttributeModifier        = AttributeModCrippleStrike_Level2
		DamageFXType             = SWORD_SLASH 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End            

End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeMelee_Level3      // BALANCE Archer Weapon //orc archer
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	30.0
	MeleeWeapon				  =	Yes
	//FireFX					  =	FX_LurtzCripplingStrike	//FX_GondorSwordHit
	DelayBetweenShots		  =	GLOIN_DELAYBETWEENSHOTS	// time between shots, msec
	PreAttackDelay			  =	GLOIN_PREATTACKDELAY	// 433 is natural time of the stabbing animation.
	PreAttackType			  =	PER_SHOT				// Do the delay	each time we attack	a new target
	FiringDuration			  =	GLOIN_FIRINGDURATION	// min 600 for anim

	// Hero damage.
	DamageNugget										// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_CRIPPLE_MELEE_DAMAGE_L3
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End
	// Cripple.
	AttributeModifierNugget
		AttributeModifier        = AttributeModCrippleStrike_Level3
		DamageFXType             = SWORD_SLASH 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End            

End

//------------------------------------------------------------------------------
Weapon CreateAHeroCrippleStrikeMelee_Level4       // BALANCE Archer Weapon //orc archer
	LeechRangeWeapon		  =	Yes
	AttackRange				  =	30.0
	MeleeWeapon				  =	Yes
	//FireFX					  =	FX_LurtzCripplingStrike	//FX_GondorSwordHit
	DelayBetweenShots		  =	GLOIN_DELAYBETWEENSHOTS	// time between shots, msec
	PreAttackDelay			  =	GLOIN_PREATTACKDELAY	// 433 is natural time of the stabbing animation.
	PreAttackType			  =	PER_SHOT				// Do the delay	each time we attack	a new target
	FiringDuration			  =	GLOIN_FIRINGDURATION	// min 600 for anim

	// Hero damage.
	DamageNugget										// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_CRIPPLE_MELEE_DAMAGE_L4
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End
	// Cripple.
	AttributeModifierNugget
		AttributeModifier        = AttributeModCrippleStrike_Level4
		DamageFXType             = SWORD_SLASH 
		SpecialObjectFilter      = CRIPPLE_STRIKE_OBJECT_FILTER
	End            

End

//------------------------------------------------------------------------------
Weapon CreateAHero_AttachSpy_Level1

	LeechRangeWeapon			= Yes
	AttackRange					= CREATE_A_HERO_SPY_RANGE_L1		// set this in his special power
	WeaponSpeed					= 300       // dist/sec 
	MinWeaponSpeed				= 300
	MaxWeaponSpeed				= 300		// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed			= Yes		// Used for lob weapons, scales speed proportional to range
	HitPercentage				= 100		// When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius				= 0.0		// When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots			= 5000		// time between shots, msec
	PreAttackDelay				= 1
	PreAttackRandomAmount		= 0			// amount of additional preattack variance for archer type attacks only  
	PreAttackType				= PER_SHOT	// Do the delay each time we attack a new target
	FiringDuration				= 1			// Duration of the archer firing shot is 500ms.
	AcceptableAimDelta			= 15
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	DamageType					= MAGIC		// No damage so doesn't really matter.

	ProjectileNugget
		ProjectileTemplateName  = CreateAHero_AttachSpy_Projectile
		WarheadTemplateName     = CreateAHero_AttachSpyWarhead_Level1
	End
End

//----------------------------
Weapon CreateAHero_AttachSpyWarhead_Level1

	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS
	HitStoredTarget			= No										// otherwise we cast it on ourselves...

	WeaponOCLNugget
		WeaponOCLName = OCL_CreateAHeroSpawnSpy_Level1
	End

End

//------------------------------------------------------------------------------
Weapon CreateAHero_AttachSpy_Level2

	LeechRangeWeapon			= Yes
	AttackRange					= CREATE_A_HERO_SPY_RANGE_L2		// set this in his special power
	WeaponSpeed					= 300       // dist/sec 
	MinWeaponSpeed				= 300
	MaxWeaponSpeed				= 300		// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed			= Yes		// Used for lob weapons, scales speed proportional to range
	HitPercentage				= 100		// When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius				= 0.0		// When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots			= 5000		// time between shots, msec
	PreAttackDelay				= 1
	PreAttackRandomAmount		= 0			// amount of additional preattack variance for archer type attacks only  
	PreAttackType				= PER_SHOT	// Do the delay each time we attack a new target
	FiringDuration				= 1			// Duration of the archer firing shot is 500ms.
	AcceptableAimDelta			= 15
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	DamageType					= MAGIC		// No damage so doesn't really matter.

	ProjectileNugget
		ProjectileTemplateName  = CreateAHero_AttachSpy_Projectile
		WarheadTemplateName     = CreateAHero_AttachSpyWarhead_Level2
	End
End

//----------------------------
Weapon CreateAHero_AttachSpyWarhead_Level2

	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS
	HitStoredTarget			= No										// otherwise we cast it on ourselves...

	WeaponOCLNugget
		WeaponOCLName = OCL_CreateAHeroSpawnSpy_Level2
	End

End

//------------------------------------------------------------------------------
Weapon CreateAHeroSpear
	AttackRange 			= 300.0
	LeechRangeWeapon		= Yes
	WeaponSpeed				= 261				// dist/sec 
	MinWeaponSpeed			= 161
	MaxWeaponSpeed 			= 301				// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 					= FX_EomerSpearThrow
	ScaleWeaponSpeed 		= Yes				// Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100
	ScatterRadius     		= 0.0				//When this weapon misses it can randomly miss by as much as this distance.
	AntiAirborneVehicle     = Yes
	AntiAirborneMonster		= Yes

	PreAttackDelay			= 1
	PreAttackType			= PER_SHOT			// Do the delay each time we attack a new target
	FiringDuration			= 2000			// Duration of the archer firing shot is 500ms.
	HoldAfterFiringDelay	= 2000

	ProjectileNugget						// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RohanEomerSpearProjectile
		WarheadTemplateName		= CreateAHeroSpearWarhead
	End

	ProjectileNugget						// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RohanEomerSpearProjectile
		WarheadTemplateName		= CreateAHeroSpearWarhead
	End

	ProjectileNugget						// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RohanEomerSpearProjectile
		WarheadTemplateName		= CreateAHeroSpearWarhead
	End
End

//----------------------------

Weapon CreateAHeroSpearWarhead
	RadiusDamageAffects	= ENEMIES NEUTRALS NOT_SIMILAR 
	FireFX			= FX_GondorSwordHit
	HitStoredTarget		= Yes
	DamageNugget       				                 ; A basic Nugget that just does damage
		;Eomer ONLY
		Damage		= CAH_SPEAR_DAMAGE	
		DamageScalar	= 5% ANY +STRUCTURE	
		DamageScalar	= 450% ANY +MordorMumakil ;;=;; tested with 300% and its too low
		DamageScalar	= 115% ANY +GoblinCaveTroll ;=;;
		DamageScalar	= 115% ANY +CaveTroll_Slaved ;=;;
		Radius			= 15 ; ;10
		
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroThrowSpear_Level1 Upgrade_CreateAHeroThrowSpear_Level2 Upgrade_CreateAHeroThrowSpear_Level3
	End
	DamageNugget       				                 ; A basic Nugget that just does damage
		;Create a hero level 1 power!
		Damage		= CAH_SPEAR_DAMAGE_LVL1	
		DamageScalar	= 5% ANY +STRUCTURE			
		Radius		= 10
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroThrowSpear_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroThrowSpear_Level2 Upgrade_CreateAHeroThrowSpear_Level3
	End
	DamageNugget       				                 ; A basic Nugget that just does damage
		;Create a hero level 2 power!
		Damage		= CAH_SPEAR_DAMAGE_LVL2	
		DamageScalar	= 5% ANY +STRUCTURE			
		Radius		= 10
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroThrowSpear_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroThrowSpear_Level3
	End
	DamageNugget       				                 ; A basic Nugget that just does damage
		;Create a hero level 3 power!
		Damage		= CAH_SPEAR_DAMAGE_LVL3	
		DamageScalar	= 5% ANY +STRUCTURE			
		Radius		= 10
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroThrowSpear_Level3
	
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroWordOfPower // Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         // dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes // Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               // time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK // Do the delay each time we attack a new target
	PreAttackFX           = FX_CreateAHeroPreAttackBlast
	FireFX                = FX_GandalfBlast
	FiringDuration      = 1400
	DamageNugget                        // A basic Nugget that just does damage
		Damage			= GANDALF_WORD_OF_POWER_DAMAGE
		Radius			= 250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 // must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveRadius   = 500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
Weapon EregionForgeLevel3Weapon
	AttackRange         = GONDOR_STRUCTURE_ARCHER_RANGE ; ; ELVEN_MIRKWOOD_ARCHER_RANGE	// increased range
	WeaponSpeed			 = 321         // dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes // Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     //When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     //When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 360	// prevent twitchy reaiming in horde on horde
; ;	DelayBetweenShots   = 0
	DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX

; ;	PreAttackDelay      = ROHAN_YEOMAN_PREATTACKDELAY  
	PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_SHOT ; BTP231 ;PER_POSITION
; ;	FiringDuration      = 0   
	FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX

; ;
;	ClipSize			= 1
;	AutoReloadsClip		= Yes
;	AutoReloadWhenIdle	= 1	
;	ClipReloadTime		= Min:ROHAN_YEOMAN_BOW_RELOADTIME_MIN Max:ROHAN_YEOMAN_BOW_RELOADTIME_MAX
;	ContinuousFireOne	= 0
;	ContinuousFireCoast	= ROHAN_YEOMAN_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes // Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	// Default arrow
		ProjectileTemplateName  = MirkwoodArcherSilverthornProjectile
		WarheadTemplateName     = SilverthornBowWarheadStructural ; ;  MirkwoodArcherSilverthornBowWarhead
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroSpillOil_Level1
	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= CREATE_A_HERO_SPILL_OIL_RADIUS_L1
		Damage			= CREATE_A_HERO_SPILL_OIL_AMOUNT_L1
		MinMaxBurnRate	= CREATE_A_HERO_SPILL_OIL_MINMAXBURNRATE_L1
		MaxResistance	= CREATE_A_HERO_SPILL_OIL_MAX_RESISTANCE_L1
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroSpillOil_Level2
	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= CREATE_A_HERO_SPILL_OIL_RADIUS_L2
		Damage			= CREATE_A_HERO_SPILL_OIL_AMOUNT_L2
		MinMaxBurnRate	= CREATE_A_HERO_SPILL_OIL_MINMAXBURNRATE_L2
		MaxResistance	= CREATE_A_HERO_SPILL_OIL_MAX_RESISTANCE_L2
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroSpillOil_Level3
	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= CREATE_A_HERO_SPILL_OIL_RADIUS_L3
		Damage			= CREATE_A_HERO_SPILL_OIL_AMOUNT_L3
		MinMaxBurnRate	= CREATE_A_HERO_SPILL_OIL_MINMAXBURNRATE_L3
		MaxResistance	= CREATE_A_HERO_SPILL_OIL_MAX_RESISTANCE_L3
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroIgniteOil_Level1
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= CREATE_A_HERO_IGNITE_OIL_RADIUS_L1
		Damage			= CREATE_A_HERO_IGNITE_OIL_AMOUNT_L1
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroIgniteOil_Level2
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= CREATE_A_HERO_IGNITE_OIL_RADIUS_L2
		Damage			= CREATE_A_HERO_IGNITE_OIL_AMOUNT_L2
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroIgniteOil_Level3
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= CREATE_A_HERO_IGNITE_OIL_RADIUS_L3
		Damage			= CREATE_A_HERO_IGNITE_OIL_AMOUNT_L3
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroTriggerIgniteOil
  	DamageNugget
  		SpecialObjectFilter = ANY +CreateAHeroBreadCrumb_Level1 +CreateAHeroBreadCrumb_Level2 +CreateAHeroBreadCrumb_Level3
	    Damage        = 1000000
		Radius        = 1000000.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = FIRE1
	    DeathType     = BURNED
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBomb_Level1
	AttackRange			= CREATE_A_HERO_FIRE_BOMB_ATTACK_RANGE_L1
	WeaponSpeed			= 100										// dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	HitPercentage		= CREATE_A_HERO_FIRE_BOMB_HIT_PERCENTAGE	// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= CREATE_A_HERO_FIRE_BOMB_SCATTER_RADIUS	// When this weapon misses it can randomly miss by as much as this distance.
	//NoVictimNeeded		= Yes

	AcceptableAimDelta		= 20									// prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= CREATE_A_HERO_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	PreAttackRandomAmount	= CREATE_A_HERO_FIRE_BOMB_RANDOM_PREATTACK
	FiringDuration			= 0

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CreateAHeroFireBombWarhead_Level1
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBombWarhead_Level1
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= CREATE_A_HERO_FIRE_BOMB_DAMAGE_L1
		Radius			= CREATE_A_HERO_FIRE_BOMB_RADIUS_L1
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 200% ANY +STRUCTURE
;;-;;
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 5
		Damage			= 20
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 25
		Damage			= 1200
		MinMaxBurnRate	= 20
		MinDecay		= 1
		MaxResistance	= 0
	End	
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBomb_Level2
	AttackRange			= CREATE_A_HERO_FIRE_BOMB_ATTACK_RANGE_L2
	WeaponSpeed			= 100										// dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	HitPercentage		= CREATE_A_HERO_FIRE_BOMB_HIT_PERCENTAGE	// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= CREATE_A_HERO_FIRE_BOMB_SCATTER_RADIUS	// When this weapon misses it can randomly miss by as much as this distance.
	//NoVictimNeeded		= Yes

	AcceptableAimDelta		= 20									// prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= CREATE_A_HERO_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	PreAttackRandomAmount	= CREATE_A_HERO_FIRE_BOMB_RANDOM_PREATTACK
	FiringDuration			= 0

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CreateAHeroFireBombWarhead_Level2
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBombWarhead_Level2
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= CREATE_A_HERO_FIRE_BOMB_DAMAGE_L2
		Radius			= CREATE_A_HERO_FIRE_BOMB_RADIUS_L2
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 200% ANY +STRUCTURE
;;-;;
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 5
		Damage			= 20
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 25
		Damage			= 1200
		MinMaxBurnRate	= 20
		MinDecay		= 1
		MaxResistance	= 0
	End	
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBomb_Level3
	AttackRange			= CREATE_A_HERO_FIRE_BOMB_ATTACK_RANGE_L3
	WeaponSpeed			= 100										// dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	HitPercentage		= CREATE_A_HERO_FIRE_BOMB_HIT_PERCENTAGE	// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= CREATE_A_HERO_FIRE_BOMB_SCATTER_RADIUS	// When this weapon misses it can randomly miss by as much as this distance.
	//NoVictimNeeded		= Yes

	AcceptableAimDelta		= 20									// prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= CREATE_A_HERO_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	PreAttackRandomAmount	= CREATE_A_HERO_FIRE_BOMB_RANDOM_PREATTACK
	FiringDuration			= 0

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CreateAHeroFireBombWarhead_Level3
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBombWarhead_Level3
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= CREATE_A_HERO_FIRE_BOMB_DAMAGE_L3
		Radius			= CREATE_A_HERO_FIRE_BOMB_RADIUS_L3
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 200% ANY +STRUCTURE
;;-;;
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 5
		Damage			= 20
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 25
		Damage			= 1200
		MinMaxBurnRate	= 20
		MinDecay		= 1
		MaxResistance	= 0
	End	
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBomb_Level4
	AttackRange			= CREATE_A_HERO_FIRE_BOMB_ATTACK_RANGE_L4
	WeaponSpeed			= 100										// dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	HitPercentage		= CREATE_A_HERO_FIRE_BOMB_HIT_PERCENTAGE	// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= CREATE_A_HERO_FIRE_BOMB_SCATTER_RADIUS	// When this weapon misses it can randomly miss by as much as this distance.
	//NoVictimNeeded		= Yes

	AcceptableAimDelta		= 20									// prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= CREATE_A_HERO_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	PreAttackRandomAmount	= CREATE_A_HERO_FIRE_BOMB_RANDOM_PREATTACK
	FiringDuration			= 0

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CreateAHeroFireBombWarhead_Level4
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroFireBombWarhead_Level4
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= CREATE_A_HERO_FIRE_BOMB_DAMAGE_L4
		Radius			= CREATE_A_HERO_FIRE_BOMB_RADIUS_L4
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 200% ANY +STRUCTURE
;;-;;
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 5
		Damage			= 20
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 25
		Damage			= 1200
		MinMaxBurnRate	= 20
		MinDecay		= 1
		MaxResistance	= 0
	End	
End

//------------------------------------------------------------------------------
Weapon CreateAHeroStealMoney
	LeechRangeWeapon			= Yes
	AttackRange					= CREATE_A_HERO_STEAL_MONEY_RANGE
	MeleeWeapon					= Yes
	FireFX						= FX_CaHStealMoney		//Per Amir,  we are using the treasure pickup FX
	DelayBetweenShots			= CREATE_A_HERO_STEAL_MONEY_DELAYBETWEENSHOTS
	PreAttackDelay				= CREATE_A_HERO_STEAL_MONEY_PREATTACKDELAY   // 1467 is the prep time for archer.
	PreAttackType				= PER_SHOT // Do the delay each time we attack a new target
	FiringDuration				= CREATE_A_HERO_STEAL_MONEY_FIRINGDURATION    // Duration of the archer firing shot is 500ms.

	StealMoneyNugget
		//Level 1
		AmountStolenPerAttack	= CREATE_A_HERO_STEAL_MONEY_AMOUNT_L1
		SpecialObjectFilter		= CREATE_A_HERO_STEAL_MONEY_OBJECT_FILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroStealMoney_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroStealMoney_Level2 Upgrade_CreateAHeroStealMoney_Level3
	End
	StealMoneyNugget
		//Level 2
		AmountStolenPerAttack	= CREATE_A_HERO_STEAL_MONEY_AMOUNT_L2
		SpecialObjectFilter		= CREATE_A_HERO_STEAL_MONEY_OBJECT_FILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroStealMoney_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroStealMoney_Level3
	End
	StealMoneyNugget
		//Level 3
		AmountStolenPerAttack	= CREATE_A_HERO_STEAL_MONEY_AMOUNT_L3
		SpecialObjectFilter		= CREATE_A_HERO_STEAL_MONEY_OBJECT_FILTER
		RequiredUpgradeNames	= Upgrade_CreateAHeroStealMoney_Level3
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroAssassinWeapon
	LeechRangeWeapon      = Yes
	AttackRange           = CREATE_A_HERO_ASSASSIN_RANGE
	MeleeWeapon           = Yes
	FireFX                = FX_CAHAssassin
	DelayBetweenShots     = CREATE_A_HERO_ASSASSIN_DELAYBETWEENSHOTS 			// time between shots, msec
	PreAttackDelay        = CREATE_A_HERO_ASSASSIN_PREATTACKDELAY 	// 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration        = CREATE_A_HERO_ASSASSIN_FIRINGDURATION 	// Duration of the sword swing

	DamageNugget                // A basic Nugget that just does damage
		Damage					= CREATE_A_HERO_ASSASSIN_DAMAGE_L1
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroAssassin_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroAssassin_Level2 Upgrade_CreateAHeroAssassin_Level3 Upgrade_CreateAHeroAssassin_Level4
		SpecialObjectFilter      = CREATE_A_HERO_ASSASSIN_OBJECT_FILTER
	End

	DamageNugget                // A basic Nugget that just does damage
		Damage					= CREATE_A_HERO_ASSASSIN_DAMAGE_L2
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroAssassin_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroAssassin_Level3 Upgrade_CreateAHeroAssassin_Level4
		SpecialObjectFilter      = CREATE_A_HERO_ASSASSIN_OBJECT_FILTER
	End

	DamageNugget                // A basic Nugget that just does damage
		Damage					= CREATE_A_HERO_ASSASSIN_DAMAGE_L3
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroAssassin_Level3
		ForbiddenUpgradeNames   = Upgrade_CreateAHeroAssassin_Level4
		SpecialObjectFilter      = CREATE_A_HERO_ASSASSIN_OBJECT_FILTER
	End

	DamageNugget                // A basic Nugget that just does damage
		Damage					= CREATE_A_HERO_ASSASSIN_DAMAGE_L4
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		RequiredUpgradeNames	= Upgrade_CreateAHeroAssassin_Level4
		SpecialObjectFilter      = CREATE_A_HERO_ASSASSIN_OBJECT_FILTER
	End
End

//------------------------------------------------------------------------------------------------------------------------------
Weapon CreateAHeroRainOfArrows_Level1
	AttackRange = CREATE_A_HERO_RAIN_OF_ARROWS_RANGE	//LEGOLAS_ARROWSTORM_RANGE
	WeaponSpeed = 561         // dist/sec 
	MinWeaponSpeed = 481
	MaxWeaponSpeed = 641      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX = FX_RohanArcherBowWeapon
	HitPercentage     = 100     //When this weapon is used it will hit exactly all of the time.

	ProjectileNugget                    // Default arrow
		ProjectileTemplateName = LegolasBowArrowStormProjectile
		WarheadTemplateName = CreateAHeroRainOfArrowsWarhead_Level1
	End
End

//------------------------------
Weapon CreateAHeroRainOfArrowsWarhead_Level1
	ProjectileCollidesWith =   STRUCTURES WALLS  
	RadiusDamageAffects =   ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget = Yes	// Always hits initial target.
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_RAIN_OF_ARROWS_DAMAGE_L1		//LEGOLAS_ARROWSTORM_DAMAGE
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		AcceptDamageAdd = No
	End
End

//------------------------------------------------------------------------------------------------------------------------------
Weapon CreateAHeroRainOfArrows_Level2
	AttackRange = CREATE_A_HERO_RAIN_OF_ARROWS_RANGE	//LEGOLAS_ARROWSTORM_RANGE
	WeaponSpeed = 561         // dist/sec 
	MinWeaponSpeed = 481
	MaxWeaponSpeed = 641      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX = FX_RohanArcherBowWeapon
	HitPercentage     = 100     //When this weapon is used it will hit exactly all of the time.

	ProjectileNugget                    // Default arrow
		ProjectileTemplateName = LegolasBowArrowStormProjectile
		WarheadTemplateName = CreateAHeroRainOfArrowsWarhead_Level2
	End
End

//------------------------------
Weapon CreateAHeroRainOfArrowsWarhead_Level2
	ProjectileCollidesWith =   STRUCTURES WALLS  
	RadiusDamageAffects =   ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget = Yes	// Always hits initial target.
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_RAIN_OF_ARROWS_DAMAGE_L2		//LEGOLAS_ARROWSTORM_DAMAGE
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		AcceptDamageAdd = No
	End
End

//------------------------------------------------------------------------------------------------------------------------------
Weapon CreateAHeroRainOfArrows_Level3
	AttackRange = CREATE_A_HERO_RAIN_OF_ARROWS_RANGE	//LEGOLAS_ARROWSTORM_RANGE
	WeaponSpeed = 561         // dist/sec 
	MinWeaponSpeed = 481
	MaxWeaponSpeed = 641      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX = FX_RohanArcherBowWeapon
	HitPercentage     = 100     //When this weapon is used it will hit exactly all of the time.

	ProjectileNugget                    // Default arrow
		ProjectileTemplateName = LegolasBowArrowStormProjectile
		WarheadTemplateName = CreateAHeroRainOfArrowsWarhead_Level3
	End
End

//------------------------------
Weapon CreateAHeroRainOfArrowsWarhead_Level3
	ProjectileCollidesWith =   STRUCTURES WALLS  
	RadiusDamageAffects =   ENEMIES NEUTRALS NOT_SIMILAR
	HitStoredTarget = Yes	// Always hits initial target.
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = CREATE_A_HERO_RAIN_OF_ARROWS_DAMAGE_L3		//LEGOLAS_ARROWSTORM_DAMAGE
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		AcceptDamageAdd = No
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroAxeThrow
	AttackRange         = CREATE_A_HERO_AXE_THROW_RANGE
	WeaponSpeed = 161         // dist/sec 
	MinWeaponSpeed = 201
	MaxWeaponSpeed = 241      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX = FX_GimliAxeThrow
	ScaleWeaponSpeed = Yes // Used for lob weapons, scales speed proportional to range
	HitPercentage = 100
	ScatterRadius     = 0.0      //When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots = 0        // time between shots, msec
  	
    AntiAirborneVehicle	= Yes // added so he can attack fellbeast and birds
    AntiAirborneMonster	= Yes // added so he can attack fellbeast and birds
  	
  	ClipSize			= 1			// how many shots in a Clip (0 == infinite)
	ClipReloadTime		= 10000     // how long to reload a Clip, msec
	AutoReloadsClip		= Yes
	//IdleAfterFiringDelay = 2500//
	//HoldAfterFiringDelay = 2500 // So I don't move while the weapon needs to complete
    InstantLoadClipOnActivate = Yes

	PreAttackDelay        = 1500// 1467             // 1467 is the prep time for archer.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration      = 1600// 1567    // Duration of the archer firing shot is 500ms.

	ProjectileNugget
		ProjectileTemplateName = GimliAxeProjectile
		WarheadTemplateName = CreateAHeroAxeThrowWarhead
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroAxeThrowWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	FireFX                = FX_GondorSwordHit
	HitStoredTarget = Yes	// Always hits initial target.

	DamageNugget
		Damage        = CREATE_A_HERO_AXE_THROW_DAMAGE_L1
		DamageScalar  = 10% ANY +STRUCTURE 
		DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		RequiredUpgradeNames = Upgrade_CreateAHeroAxeThrow_Level1
		ForbiddenUpgradeNames = Upgrade_CreateAHeroAxeThrow_Level2 Upgrade_CreateAHeroAxeThrow_Level3
	End

	DamageNugget
		Damage        = CREATE_A_HERO_AXE_THROW_DAMAGE_L2
		DamageScalar  = 10% ANY +STRUCTURE 
		DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		RequiredUpgradeNames = Upgrade_CreateAHeroAxeThrow_Level2
		ForbiddenUpgradeNames = Upgrade_CreateAHeroAxeThrow_Level3
	End

	DamageNugget
		Damage        = CREATE_A_HERO_AXE_THROW_DAMAGE_L3
		DamageScalar  = 10% ANY +STRUCTURE 
		DamageScalar  = 10% ANY +MACHINE -DwarvenBattleWagon -MordorGrond ; ;
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		RequiredUpgradeNames = Upgrade_CreateAHeroAxeThrow_Level3
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroEarthShaker_Level1 // Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               // time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK // Do the delay each time we attack a new target
	PreAttackFX           = FX_GloinShatterPre
	FireFX                = FX_GloinShatterhammer
	FiringDuration      = 1400
	DamageNugget                        // A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_EARTH_SHAKER_DAMAGE_L1
		Radius			= CREATE_A_HERO_EARTH_SHAKER_RADIUS_L1	//250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 // must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount   = CREATE_A_HERO_EARTH_SHAKER_META_AMOUNT_L1	//70.0
		ShockWaveRadius   = CREATE_A_HERO_EARTH_SHAKER_META_RADIUS_L1	//500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroEarthShaker_Level2 // Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               // time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK // Do the delay each time we attack a new target
	PreAttackFX           = FX_GloinShatterPre
	FireFX                = FX_GloinShatterhammer
	FiringDuration      = 1400
	DamageNugget                        // A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_EARTH_SHAKER_DAMAGE_L2
		Radius			= CREATE_A_HERO_EARTH_SHAKER_RADIUS_L2	//250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 // must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount   = CREATE_A_HERO_EARTH_SHAKER_META_AMOUNT_L2	//70.0
		ShockWaveRadius   = CREATE_A_HERO_EARTH_SHAKER_META_RADIUS_L2	//500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroEarthShaker_Level3 // Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               // time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK // Do the delay each time we attack a new target
	PreAttackFX           = FX_GloinShatterPre
	FireFX                = FX_GloinShatterhammer
	FiringDuration      = 1400
	DamageNugget                        // A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_EARTH_SHAKER_DAMAGE_L3
		Radius			= CREATE_A_HERO_EARTH_SHAKER_RADIUS_L3	//250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 // must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    // A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount   = CREATE_A_HERO_EARTH_SHAKER_META_AMOUNT_L3	//70.0
		ShockWaveRadius   = CREATE_A_HERO_EARTH_SHAKER_META_RADIUS_L3	//500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroLeap  // BALANCE RohanGimliLeap
  IdleAfterFiringDelay = 0
  AttackRange           = 100.0
  MinimumAttackRange    = 8.0
  WeaponSpeed           = 100.0        // dist/sec (huge value == effectively instant)
  ProjectileSelf		= Yes // We don't make the projectile throw ourself
  ClipSize              = 1               // how many shots in a Clip (0 == infinite)
  ClipReloadTime        = 2200   //1467 min for animation           // how long to reload a Clip, msec
  AutoReloadsClip		= Yes	
  PreAttackDelay        = 600
  FiringDuration		= 1500            
  PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
  HitPercentage       = 0 // Never auto hits, always shoots at a ground position
  ScatterRadius       = 0.0     //When this weapon misses it can randomly miss by as much as this distance.
  FireFX				= FX_GimliLeap
  ProjectileNugget                    // A Nugget that creates an Object and sends it to the target with a Warhead
    WarheadTemplateName = CreateAHeroLeapWarhead
  End
End

//-----------------------------------
Weapon CreateAHeroLeapWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES
  
  FireFX				= FX_GimliLeap
  DamageNugget                        // A basic Nugget that just does damage
    Damage        = CREATE_A_HERO_LEAP_DAMAGE_L1
    Radius        = 30.0
    DelayTime     = 0
    DamageType            = HERO
    DamageFXType          = GIMLI_LEAP
    DeathType             = NORMAL
	RequiredUpgradeNames	= Upgrade_CreateAHeroLeap_Level1
	ForbiddenUpgradeNames	= Upgrade_CreateAHeroLeap_Level2
  End
  DamageNugget                        // A basic Nugget that just does damage
    Damage        = CREATE_A_HERO_LEAP_DAMAGE_L2
    Radius        = 50.0
    DelayTime     = 0
    DamageType            = HERO
    DamageFXType          = GIMLI_LEAP
    DeathType             = NORMAL
	RequiredUpgradeNames	= Upgrade_CreateAHeroLeap_Level2
  End
  MetaImpactNugget                    // A Nugget that throws things back with force
//	HeroResist			= .75
    ShockWaveAmount   = 70.0
    ShockWaveRadius   = 40.0
    ShockWaveTaperOff = 0.5
    ShockWaveZMult    = 1.20
  End
End

//-----------------------------------
Weapon CreateAHeroSapper_Level1
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= CREATE_A_HERO_SAPPER_RANGE	//30.0
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        // dist/sec (huge value == effectively instant)
	FireFX				= FX_DwarvenSapper
	DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	// time between shots, msec
	PreAttackDelay        = GLOIN_PREATTACKDELAY 	// 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration        = GLOIN_FIRINGDURATION 		// min 600 for anim
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;;.;;

	// Crush damage.
	DamageNugget								// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_SAPPER_DAMAGE_L1
		DamageTaperOff	= #MULTIPLY( CREATE_A_HERO_SAPPER_DAMAGE_L1 CREATE_A_HERO_SAPPER_DAMAGE_TAPEROFF )
		Radius			= CREATE_A_HERO_SAPPER_RADIUS_L1
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	// Structural damage.
	DamageNugget								// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_SAPPER_DAMAGE_STRUCTURAL_L1
		DamageTaperOff	= #MULTIPLY( CREATE_A_HERO_SAPPER_DAMAGE_STRUCTURAL_L1 CREATE_A_HERO_SAPPER_DAMAGE_TAPEROFF )
		Radius			= CREATE_A_HERO_SAPPER_RADIUS_L1
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	// Push back
	MetaImpactNugget							// A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount		= 60
		ShockWaveRadius		= 80
		ShockWaveArc		= 75				// Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End
End

//-----------------------------------
Weapon CreateAHeroSapper_Level2
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= CREATE_A_HERO_SAPPER_RANGE	//30.0
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        // dist/sec (huge value == effectively instant)
	FireFX				= FX_DwarvenSapper
	DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	// time between shots, msec
	PreAttackDelay        = GLOIN_PREATTACKDELAY 	// 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration        = GLOIN_FIRINGDURATION 		// min 600 for anim
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;;.;;

	// Crush damage.
	DamageNugget								// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_SAPPER_DAMAGE_L2
		DamageTaperOff	= #MULTIPLY( CREATE_A_HERO_SAPPER_DAMAGE_L2 CREATE_A_HERO_SAPPER_DAMAGE_TAPEROFF )
		Radius			= CREATE_A_HERO_SAPPER_RADIUS_L2
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	// Structural damage.
	DamageNugget								// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_SAPPER_DAMAGE_STRUCTURAL_L2
		DamageTaperOff	= #MULTIPLY( CREATE_A_HERO_SAPPER_DAMAGE_STRUCTURAL_L2 CREATE_A_HERO_SAPPER_DAMAGE_TAPEROFF )
		Radius			= CREATE_A_HERO_SAPPER_RADIUS_L2
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	// Push back
	MetaImpactNugget							// A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount		= 60
		ShockWaveRadius		= 80
		ShockWaveArc		= 75				// Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End
End

//-----------------------------------
Weapon CreateAHeroSapper_Level3
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= CREATE_A_HERO_SAPPER_RANGE	//30.0
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        // dist/sec (huge value == effectively instant)
	FireFX				= FX_DwarvenSapper
	DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	// time between shots, msec
	PreAttackDelay        = GLOIN_PREATTACKDELAY 	// 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT // Do the delay each time we attack a new target
	FiringDuration        = GLOIN_FIRINGDURATION 		// min 600 for anim
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;;.;;

	// Crush damage.
	DamageNugget								// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_SAPPER_DAMAGE_L3
		DamageTaperOff	= #MULTIPLY( CREATE_A_HERO_SAPPER_DAMAGE_L3 CREATE_A_HERO_SAPPER_DAMAGE_TAPEROFF )
		Radius			= CREATE_A_HERO_SAPPER_RADIUS_L3
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	// Structural damage.
	DamageNugget								// A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_SAPPER_DAMAGE_STRUCTURAL_L3
		DamageTaperOff	= #MULTIPLY( CREATE_A_HERO_SAPPER_DAMAGE_STRUCTURAL_L3 CREATE_A_HERO_SAPPER_DAMAGE_TAPEROFF )
		Radius			= CREATE_A_HERO_SAPPER_RADIUS_L3
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	// Push back
	MetaImpactNugget							// A Nugget that throws things back with force
//		HeroResist			= .75
		ShockWaveAmount		= 60
		ShockWaveRadius		= 80
		ShockWaveArc		= 75				// Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroClearGarrisonWeapon
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= 30.0
	AntiStructure         = Yes                                      ; ShakeFoundation ONLY affects structures -- buildings, walls, gates
	AntiGround            = No                                       ; ditto
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
	FireFX				= FX_GloinShake
	DelayBetweenShots     = GLOIN_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = GLOIN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = GLOIN_FIRINGDURATION 		; min 600 for anim

	; Structural damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= CREATE_A_HERO_CLEAR_GARRISON_DAMAGE	//GLOIN_SHAKEFOUNDATION_DAMAGE
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= MAGIC
		DeathType		= NORMAL
	End

	; Temporarily disable the target building
	ParalyzeNugget
		Radius			= 0.0
		Duration		= 30000
		ParalyzeFX			= FX_ParalyzeStructure
	End

	; Force open any gate hit by this (which will also be paralyzed, so it will be stuck open for the duration)
	OpenGateNugget
		Radius			= 0.0
	End
End

//------------------------------------------------------------------------------
Weapon CreateaHeroBlinkDestination
  RadiusDamageAffects   = ENEMIES
  FireFX = FX_Blink 
  
  MetaImpactNugget                    // A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 55.0
    ShockWaveTaperOff = 0.75
    ShockWaveZMult    = 1.20
//    HeroResist		  = 0
  End
End

//------------------------------------------------------------------------------
Weapon CreateAHeroBombardWeapon
	AttackRange			= 300
	WeaponSpeed			= 801		; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 2000		; time between shots, msec
	PreAttackDelay      = 400
	PreAttackType       = PER_SHOT; Do the delay each time we attack a new target
	
	FiringDuration      = 1100
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	WeaponOCLNugget
		WeaponOCLName = OCL_CreateAHeroBombardSeed_Level1
		RequiredUpgradeNames	= Upgrade_CreateAHeroBombard_Level1
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroBombard_Level2 Upgrade_CreateAHeroBombard_Level3
	End

	WeaponOCLNugget
		WeaponOCLName = OCL_CreateAHeroBombardSeed_Level2
		RequiredUpgradeNames	= Upgrade_CreateAHeroBombard_Level2
		ForbiddenUpgradeNames	= Upgrade_CreateAHeroBombard_Level3
	End

	WeaponOCLNugget
		WeaponOCLName = OCL_CreateAHeroBombardSeed_Level3
		RequiredUpgradeNames	= Upgrade_CreateAHeroBombard_Level3
	End
End

//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
Weapon WizardFireballL1 //BALANCE Wizard
  LeechRangeWeapon			= Yes
  AttackRange               = SARUMAN_FIREBALL_RANGE		// set this in his special power
  WeaponSpeed               = 150         // dist/sec 
  MinWeaponSpeed            = 100
  MaxWeaponSpeed            = 200      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
  ScaleWeaponSpeed          = Yes      // Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      //When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 0.0     //When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 5000     // time between shots, msec
  PreAttackDelay            = 1     // 1467 is the prep time for archer.
  PreAttackRandomAmount     = 0      // amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_SHOT // Do the delay each time we attack a new target
  FiringDuration            = 1     // Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AcceptableAimDelta		= 15
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes
  FireFX					= FX_SarumanFireball
  DamageType				= FLAME
  
  ProjectileNugget          // Default arrow
    ProjectileTemplateName  = WizardFireballProjectileL1
    WarheadTemplateName     = WizardFireballWarheadL1
  End
End

//----------------------------
Weapon WizardFireballWarheadL1
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES // ALLIES
	
	FireLogicNugget //@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
	End	

	DamageNugget                        // A basic Nugget that just does damage
         Damage        = CREATE_A_HERO_FIREBALL_DMG_LVL_1
         Radius        = CREATE_A_HERO_FIREBALL_RADIUS_LVL_1
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
;;-;;
	End

	MetaImpactNugget                         // A Nugget that throws things back with force
//		HeroResist        =  0.75
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = SARUMAN_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
Weapon WizardFireballL2 //BALANCE Wizard
  LeechRangeWeapon			= Yes
  AttackRange               = SARUMAN_FIREBALL_RANGE		// set this in his special power
  WeaponSpeed               = 150         // dist/sec 
  MinWeaponSpeed            = 100
  MaxWeaponSpeed            = 200      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
  ScaleWeaponSpeed          = Yes      // Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      //When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 0.0     //When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 5000     // time between shots, msec
  PreAttackDelay            = 1     // 1467 is the prep time for archer.
  PreAttackRandomAmount     = 0      // amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_SHOT // Do the delay each time we attack a new target
  FiringDuration            = 1     // Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AcceptableAimDelta		= 15
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes
  FireFX					= FX_SarumanFireball
  DamageType				= FLAME
  
  ProjectileNugget          // Default arrow
    ProjectileTemplateName  = WizardFireballProjectileL2
    WarheadTemplateName     = WizardFireballWarheadL2
  End
End

//----------------------------
Weapon WizardFireballWarheadL2
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES // ALLIES
	
	FireLogicNugget //@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
	End	

	DamageNugget                        // A basic Nugget that just does damage
         Damage        = CREATE_A_HERO_FIREBALL_DMG_LVL_2
         Radius        = CREATE_A_HERO_FIREBALL_RADIUS_LVL_2
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
;;-;;
	End

	MetaImpactNugget                         // A Nugget that throws things back with force
//		HeroResist        =  0.75
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = SARUMAN_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
Weapon WizardFireballL3 //BALANCE Wizard
  LeechRangeWeapon			= Yes
  AttackRange               = SARUMAN_FIREBALL_RANGE		// set this in his special power
  WeaponSpeed               = 150         // dist/sec 
  MinWeaponSpeed            = 100
  MaxWeaponSpeed            = 200      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
  ScaleWeaponSpeed          = Yes      // Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      //When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 0.0     //When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 5000     // time between shots, msec
  PreAttackDelay            = 1     // 1467 is the prep time for archer.
  PreAttackRandomAmount     = 0      // amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_SHOT // Do the delay each time we attack a new target
  FiringDuration            = 1     // Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AcceptableAimDelta		= 15
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes
  FireFX					= FX_SarumanFireball
  DamageType				= FLAME
  
  ProjectileNugget          // Default arrow
    ProjectileTemplateName  = WizardFireballProjectileL3
    WarheadTemplateName     = WizardFireballWarheadL3
  End
End

//----------------------------
Weapon WizardFireballWarheadL3
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES // ALLIES
	
	FireLogicNugget //@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
	End	

	DamageNugget                        // A basic Nugget that just does damage
         Damage        = CREATE_A_HERO_FIREBALL_DMG_LVL_3
         Radius        = CREATE_A_HERO_FIREBALL_RADIUS_LVL_3
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
;;-;;
	End

	MetaImpactNugget                         // A Nugget that throws things back with force
//		HeroResist        =  0.75
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = SARUMAN_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

//------------------------------------------------------------------------------

//===========================================================================================
//////////////////////////// END OF CREATE A HERO SPECIAL WEAPONS ////////////////////////////
//==========================================================================================

Weapon DevastationEntWeapon
  	RadiusDamageAffects = ENEMIES NEUTRALS

	DamageNugget
		SpecialObjectFilter	= ANY +RohanGenericEnt +RohanTreeBerd ENEMIES
		Damage				= SPECIALPOWER_DEVASTATION_ENT_DAMAGE
		DamageTaperOff		= SPECIALPOWER_DEVASTATION_ENT_DAMAGE_TAPEROFF
		Radius				= SPECIALPOWER_DEVASTATION_RADIUS	
		DamageType			= SLASH
		DamageFXType		= BIG_ROCK
		DeathType			= NORMAL
		DamageArc 			= 360
	End

	ParalyzeNugget ; ;
		Radius				= SPECIALPOWER_DEVASTATION_RADIUS
		Duration			= SPECIALPOWER_DEVASTATION_STUN_DURATION
		SpecialObjectFilter	= DEVASTATION_PARALYZE_OBJECT_FILTER
		;ParalyzeFX			= FX_DevastationStunEffect
	End
  	AttributeModifierNugget
		AttributeModifier        = IsengardDevastationModelConditionModifier09v2
		Radius                   = SPECIALPOWER_DEVASTATION_RADIUS
 		SpecialObjectFilter      = DEVASTATION_PARALYZE_OBJECT_FILTER
	End     	

End

;------------------------------------------------------------------------------
Weapon TaintKiller09v2 ;;-;;
    RadiusDamageAffects    = ENEMIES NEUTRALS ;;-;;  ALLIES            ; Self for when this warhead is attached to an already grabbed unit being thrown as projectile instead of a rock
    ;;-;; DamageNugget	// I still need to think.
    ;;-;;     DamageType    = SLASH
    ;;-;;     DeathType    = CRUSHED
    ;;-;;     Radius         = 450 ;;-;; 275
    ;;-;;     SpecialObjectFilter        = ANY +ElvenWoodPing09v2 ENEMIES ;;-;;
    ;;-;;     ForceKillObjectFilter    = ANY +ElvenWoodPing09v2 ENEMIES ;;-;;
    ;;-;; End
End

;------------------------------------------------------------------------------
Weapon WeatherKiller ; ;
    RadiusDamageAffects    = ENEMIES NEUTRALS ALLIES            ; Self for when this warhead is attached to an already grabbed unit being thrown as projectile instead of a rock
    DamageNugget
        DamageType    = SLASH
        DeathType    = CRUSHED
        SpecialObjectFilter        = ANY +DarknessCaster +FreezingRainCaster +CloudBreak_BT2DC_Behaviors; +DarknessCloudsObject +FreezingRainObject
        Radius         = 999999            ; Second damage nugget does instant death for only the direct target (which will be the unit thrown)
        ForceKillObjectFilter    = ANY +DarknessCaster +FreezingRainCaster +CloudBreak_BT2DC_Behaviors; +DarknessCloudsObject +FreezingRainObject
    End
End

;------------------------------------------------------------------------------
Weapon CloudBreakTrollStunWeapon ; ;
	RadiusDamageAffects		= ENEMIES NEUTRALS	

	//Turn the troll effectively to stone
	AttributeModifierNugget
		AttributeModifier        = SunFlareTrollToStone
		Radius					 = 999999		
		SpecialObjectFilter      = ANY TROLL_UNITS
	End       

	EmotionWeaponNugget
		EmotionType			= UNCONTROLLABLE_FEAR
		Radius				= 999999
		Duration			= 10 ;;=;; 15 not possible actually. this would actually be some kind of crlip size, since the emotion duration is always 10. so we can make it 10, 20 , 30 40 etc. but not 15. unless emotion duration was 5 seconds or 7.5 seconds, but that requires edit boromir horn. which trully works by scripts.
		SpecialObjectFilter	= ANY +INFANTRY +CAVALRY +MONSTER -HERO NOT_TROLL_UNITS ENEMIES
	End
	;LuaEventNugget                        ; Sends a lua script event out
	;	LuaEvent		= BeUncontrollablyAfraid
	;	Radius			= 200
	;	SendToEnemies	= Yes
	;	SendToAllies	= No
	;	SendToNeutral	= Yes
	;End
End

;------------------------------------------------------------------------------
Weapon MakeDarknessCaster ; ;
    AttackRange             = 999999

    WeaponOCLNugget
        WeaponOCLName = OCL_DarknessCaster
    End
End

;------------------------------------------------------------------------------
Weapon MakeFreezingRainCaster ; ;
    AttackRange             = 999999

    WeaponOCLNugget
        WeaponOCLName = OCL_FreezingRainCaster
    End
End

;------------------------------------------------------------------------------
Weapon ConstantDarkness ; ;
    RadiusDamageAffects = ALLIES
    LeechRangeWeapon = Yes
    AttackRange = 999999
    MeleeWeapon = No
    DelayBetweenShots = 2000
    PreAttackDelay = 0
    PreAttackType = PER_SHOT
    FiringDuration = 0
	;;FireFX                = FX_Darkness

    AttributeModifierNugget
        AttributeModifier = SpellBookDarkness
        Radius             = 999999
        SpecialObjectFilter = DARKNESS_BUFF_RECIPIENT_OBJECT_FILTER ALLIES
        ;AffectHordeMembers      = Yes
        DamageFXType = SWORD_SLASH
    End
;;=;;
    AttributeModifierNugget
        AttributeModifier = SpellBookDarkness_Monsters
        Radius             = 999999
        SpecialObjectFilter = ANY +MONSTER -HERO -SUMMONED  +WildSpiderling_Summoned -CANNOT_RETALIATE ALLIES
        DamageFXType = SWORD_SLASH
    End
; ; -WildMountainGiant -MordorAttackTroll-MordorBalrog -SummonedDragon -Wyrm -SUMMONED
End

;------------------------------------------------------------------------------
Weapon ConstantFreezingRain ; ;
    RadiusDamageAffects = ENEMIES
    LeechRangeWeapon = Yes
    AttackRange = 999999
    MeleeWeapon = No
    DelayBetweenShots = 2000
    PreAttackDelay = 0
    PreAttackType = PER_SHOT
    FiringDuration = 0

    AttributeModifierNugget
        AttributeModifier = StandardDebuff
        AntiCategories        = LEADERSHIP BUFF SPELL
        Radius             = 999999
        SpecialObjectFilter = FREEZING_RAIN_DEBUFF_RECIPIENT_OBJECT_FILTER ;;=;; GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
        ;AffectHordeMembers      = Yes
        DamageFXType = SWORD_SLASH
    End

    FireLogicNugget
        LogicType        = DECREASE_BURN_RATE
        Radius            = 999999
        Damage            = 100
    End
End

;;############################################1.08############################################;

Weapon FireCrackerSam
	AttackRange			= CREATE_A_HERO_FIRE_BOMB_ATTACK_RANGE_L4
	WeaponSpeed			= 100										// dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	HitPercentage		= CREATE_A_HERO_FIRE_BOMB_HIT_PERCENTAGE	// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= CREATE_A_HERO_FIRE_BOMB_SCATTER_RADIUS	// When this weapon misses it can randomly miss by as much as this distance.
	//NoVictimNeeded		= Yes

	AcceptableAimDelta		= 20									// prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= CREATE_A_HERO_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	PreAttackRandomAmount	= CREATE_A_HERO_FIRE_BOMB_RANDOM_PREATTACK
	FiringDuration			= 0

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = FireCrackerProjectile
		WarheadTemplateName     = FireCrackerSamWarhead
	End
End

Weapon FireCrackerSamWarhead
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 
                
	DamageNugget
		Damage			= MERRYSAM_FIRECRACKER_DAMAGE
		DamageTaperOff	= MERRYSAM_FIRECRACKER_DAMAGE_TAPEROFF
		Radius			= MERRYSAM_FIRECRACKER_DAMAGE_RADIUS
		DamageType		= FLAME
		DamageScalar    = 12% ANY +RohanGenericEnt +RohanTreeBerd
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 50% ANY +HERO -WildShelob
		DamageScalar	= 10% ANY +MordorMumakil ;;=;; 75%
		DamageScalar	= 40% ANY +STRUCTURE ; ; 200% ANY +STRUCTURE		// more damage to buildings.
		DamageScalar	= 550% ANY +WildShelob ;;-;; 700%
	End
	
End


; ; ---------------------------------------------------------------------------------

//------------------------------------------------------------------------------
Weapon FireCracker
	AttackRange			= CREATE_A_HERO_FIRE_BOMB_ATTACK_RANGE_L4
	WeaponSpeed			= 100										// dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	HitPercentage		= CREATE_A_HERO_FIRE_BOMB_HIT_PERCENTAGE	// When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= CREATE_A_HERO_FIRE_BOMB_SCATTER_RADIUS	// When this weapon misses it can randomly miss by as much as this distance.
	//NoVictimNeeded		= Yes

	AcceptableAimDelta		= 20									// prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= CREATE_A_HERO_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	PreAttackRandomAmount	= CREATE_A_HERO_FIRE_BOMB_RANDOM_PREATTACK
	FiringDuration			= 0

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = FireCrackerProjectile
		WarheadTemplateName     = FireCrackerWarhead
	End
End

//------------------------------------------------------------------------------
Weapon FireCrackerWarhead ;;=;; Merry
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= MERRYSAM_FIRECRACKER_DAMAGE
		DamageTaperOff	= MERRYSAM_FIRECRACKER_DAMAGE_TAPEROFF
		Radius			= MERRYSAM_FIRECRACKER_DAMAGE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 50% ANY +HERO
		DamageScalar	= 75% ANY +MordorMumakil
		DamageScalar	= 150% ANY +STRUCTURE ; ; 200% ANY +STRUCTURE		// more damage to buildings.
		DamageScalar    = 12% ANY +RohanGenericEnt +RohanTreeBerd
	End
	
End



;------------------------------------------------------------------------------
Weapon FireWorksExplosionWeapon   ; BALANCE Mine Weapon
	AttackRange           = 4.0
	; DelayBetweenShots     = 2000            ; time between shots, msec
	FireFX                = FX_FireworksDetonate 
	RadiusDamageAffects =   ENEMIES NEUTRALS  ; SELF so mine affects siegeworks that made it 
 	IdleAfterFiringDelay 	= 0
	; AttackRange 		= GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange 		= 0.8
	WeaponSpeed 		= 50         ; dist/sec 
	MinWeaponSpeed 		= 40
	MaxWeaponSpeed 		= 60      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed 		= Yes ; Used for lob weapons, scales speed proportional to range
	; RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR  
	DelayBetweenShots 		= 5000               ; time between shots, msec
	PreAttackDelay        	= 26000
	PreAttackType         	= PER_ATTACK ; Do the delay each time we attack a new target
 	FiringDuration      	= 1400
 
	; The highly destructive exposion that destroys everything. Consentrated to a small radius
	; so that it doesn't destroy objects with awkward bounding boxes, like walls.
	DamageNugget
		Damage        = MERRY_FIREWORKS_DAMAGE
		Radius        = MERRY_FIREWORKS_DAMAGE_RADIUS
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = BURNED   
		DamageScalar  = 0% ANY +RohanMerry +RohanPippin           
	End

	ProjectileNugget					
		ProjectileTemplateName			=    FireWorksProjectile
		WarheadTemplateName				= FireworksProjectileWarHead 
		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
		AlwaysAttackHereOffset			= X:-100 Y:0 Z:0			//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
	End

	ProjectileNugget					
 		ProjectileTemplateName			=    FireWorksProjectile
 		WarheadTemplateName				= FireworksProjectileWarHead
 		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
 		AlwaysAttackHereOffset			= X:100 Y:0 Z:0			//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
 	End
 	ProjectileNugget                    
 		ProjectileTemplateName			=  FireWorksProjectile
 		WarheadTemplateName				= FireworksProjectileWarHead
 		WeaponLaunchBoneSlotOverride	= PRIMARY  ; SECONDARY
 		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
 		AlwaysAttackHereOffset			= X:0 Y:-100 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
 	End
 	ProjectileNugget                    
 		ProjectileTemplateName			=  FireWorksProjectile
 		WarheadTemplateName				= FireworksProjectileWarHead
		WeaponLaunchBoneSlotOverride	= PRIMARY ; TERTIARY
 		UseAlwaysAttackOffset			= Yes					//Causes project to always target an offset from the attacker
 		AlwaysAttackHereOffset			= X:0 Y:100 Z:0		//Used with UseAlwaysAttackOffset, this specifies the offset from the attacker to strike
 	End
      

	MetaImpactNugget                    ; A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount   = MERRY_FIREWORKS_CENTRAL_SHOCKWAVE_AMOUNT
		ShockWaveRadius   = MERRY_FIREWORKS_CENTRAL_SHOCKWAVE_RADIUS
		ShockWaveTaperOff = 0.66
		SpecialObjectFilter	= ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
	End
End



;//-----------------------------------
Weapon FireworksProjectileWarHead
	ProjectileCollidesWith	= MONSTERS	STRUCTURES	// Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES   NOT_SIMILAR  ;  ALLIES

	;// The highly destructive exposion that destroys everything. Consentrated to a small radius
	;// so that it doesn't destroy objects with awkward bounding boxes, like walls.
	DamageNugget
		Damage        = MERRY_FIREWORKS_DAMAGE
		Radius        = MERRY_FIREWORKS_DAMAGE_RADIUS
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = FLAME
		DeathType     = BURNED		
		DamageScalar  = 0% ANY +RohanMerry +RohanPippin
	End

     

	MetaImpactNugget                    // A Nugget that throws things back with force 
;		HeroResist			= .75
		ShockWaveAmount		= MERRY_FIREWORKS_PROJECTILES_SHOCKWAVE_AMOUNT
		ShockWaveRadius		= MERRY_FIREWORKS_PROJECTILES_SHOCKWAVE_RADIUS
		ShockWaveTaperOff	= 0.75
		SpecialObjectFilter	= ALL -GoblinCaveTroll -CaveTroll_Slaved ;;-;;
	End
End




//------------------------------------------------------------------------------
Weapon CreateAHeroTriggerIgniteOil_Merry

  	; FireFX				= FX_FearBlast

DamageNugget
  		SpecialObjectFilter = ANY ALLIES +MerryFireWorks   
	    Damage        = 1000000
		Radius        = 1000000.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DamageFXType  = FIRE1
	    DeathType     = DETONATED
	End
End




;;############################################1.09############################################;


;;;------------------------------------------------------------------------
Weapon BunitoAxeStorm
	AttackRange         = GIMLI_THROW_RANGE ;;=;; GIMLI_AXE_STORM_RADIUS ;;=;; GIMLI_THROW_RANGE
;;50% faster
	WeaponSpeed = 241 ;;=;; 322 ;;=;; 161         ; dist/sec 
	MinWeaponSpeed = 301 ;;=;; 402 ;;=;; 201
	MaxWeaponSpeed = 361 ;;=;; 482 ;;=;; 241
	ScaleWeaponSpeed    = NO ;;=;; let's see.
	FireFX = FX_GimliAxeThrow
	HitPercentage = 75 ;;=;; 50 ;;=;;0  NOT SURE IF 0 OR 100. SO LETS GO 50. :D
  	ScatterRadius			= 10.0 ; ;
	ScatterIndependently	= Yes ; ;

    AntiAirborneVehicle	= NO ; ;
    AntiAirborneMonster	= NO ; ; !! TOO OP 
;	LeechRangeWeapon      = Yes
;	IsAimingWeapon				= Yes
	AcceptableAimDelta	= 150 ;;=;; 120	; prevent twitchy reaiming in horde on horde
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	NoVictimNeeded		= Yes
	BombardType			= Yes
	PreferredTargetBone = B_LLLID ; Likes to shoot things in their left eye.

;	DelayBetweenShots = 0 ;;=;; 500 ;;==;; 250 ;;=;; 10        ; time between shots, msec
;;	PreAttackDelay        = 1500; 1467             ; 1467 is the prep time for archer.
;;	PreAttackType         = PER_POSITION ; Do the delay each time we attack a new target
;;	FiringDuration      = 800 ;;=;; 1600; 1567    ; Duration of the archer firing shot is 500ms.

  ProjectileNugget
    ProjectileTemplateName = GimliAxeProjectileBTP
    WarheadTemplateName = BunitoAxeStormWarhead
  End

End

;------------------------------
Weapon BunitoAxeStormWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL ;; STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
;	FireFX                = FX_GondorSwordHit ; ; FX_SarumanFireBallExplode ; ; 
  HitStoredTarget = No ; ; Yes	; Always hits initial target.   no, it would follow builders when run. 

  DamageNugget
    Damage        = GIMLI_THROW_DAMAGE
    DamageScalar  = 600% ANY +CAVALRY -DwarvenBattleWagon ; ;
    DamageScalar  = 400% ANY +HERO 
    DamageScalar  = 300% ANY +DwarvenBattleWagon
	DamageScalar  = 50% ANY +RohanGenericEnt +RohanTreeBerd +WildMountainGiant
    Radius        = 20
    DelayTime     = 0
    DamageType    = HERO
	DamageFXType  = REFLECTED
    DeathType     = EXPLODED
	AcceptDamageAdd = No
  End


	MetaImpactNugget
		SpecialObjectFilter		= ANY +INFANTRY ; ; 
		ShockWaveAmount			= 50.0
		ShockWaveRadius			= 5.0
		ShockWaveArc			= 90
		ShockWaveTaperOff		= 1.0
		ShockWaveSpeed			= 0.0
		ShockWaveZMult			= 1.0
		OnlyWhenJustDied		= Yes
	End
End

Weapon TreebeardMadnessOfFangorn
	AttackRange			= 250
	HitPercentage       = 100											//When this weapon is used it will hit exactly 50% of the time.    
	PreAttackDelay      =  1000	//prep time for the unit/structure to fire.
	PreAttackType       = PER_SHOT										//Do the delay each time we attack a new target
	FiringDuration      = MORDOR_GATEWATCHEREXPANSION_FIRINGDURATION	//Duration of the archer firing shot is 500ms.  
	AcceptableAimDelta	= 180.0											//We want to be able to shoot all round, as we cant move.
	DelayBetweenShots   =  5000
	 FireFX				=   FX_FearBlast_TREEBEARD
	
	EmotionWeaponNugget
		EmotionType			= TERROR
		Radius				= 300 
		Duration			= 3.0 ; ; MORDOR_GATEWATCHEREXPANSION_FEAR_DURATION		
		SpecialObjectFilter	= ALL -HERO -MONSTER ENEMIES  ; 
	End
 End
 
Weapon WitchKingScreechWeapon ;;-;;
	AttackRange			= 280 ;;-;;
	HitPercentage       = 100
	PreAttackDelay      = 1;;=;; 1000
	FiringDuration      = MORDOR_GATEWATCHEREXPANSION_FIRINGDURATION
	AcceptableAimDelta	= 180.0
	DelayBetweenShots   = 5000
	FireFX				=   FX_FearBlastRiderWKonfoot ;;-;;
	;;FireFX				=   FX_FearBlast_TREEBEARD
	
	EmotionWeaponNugget // 
		EmotionType			= TERROR ;;; 
		Radius				= 365
		Duration			= 10 ;; this can be set to watever we want. But 10 is best for archers at least. We could separate for infantry if we wanted to.
		SpecialObjectFilter	= ALL ENEMIES
	End
 End

//-------------------1.09v2 map.ini Place holder-------------;;
;;-NewPlaceHolders-;;

;------------------------------
Weapon RangedWeapon01
	  ProjectileNugget
		ProjectileTemplateName = ProjectileForRangedWeapon01
		WarheadTemplateName = RangedWeapon01Warhead
	  End
End
Weapon RangedWeapon01Warhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
 	  DamageNugget
		Damage        = 1
		Radius        = 0.0
		DelayTime     = 0
  		AcceptDamageAdd = No
	  End
End
;------------------------------
Weapon RangedWeapon02
	  ProjectileNugget
		ProjectileTemplateName = ProjectileForRangedWeapon02
		WarheadTemplateName = RangedWeapon02Warhead
	  End
End
Weapon RangedWeapon02Warhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
 	  DamageNugget
		Damage        = 1
		Radius        = 0.0
		DelayTime     = 0
 		AcceptDamageAdd = No
	  End
End
;------------------------------
Weapon RangedWeapon03
	  ProjectileNugget
		ProjectileTemplateName = ProjectileForRangedWeapon03
		WarheadTemplateName = RangedWeapon03Warhead
	  End
End
Weapon RangedWeapon03Warhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
 	  DamageNugget
		Damage        = 1
		Radius        = 0.0
		DelayTime     = 0
 		AcceptDamageAdd = No
	  End
End
;------------------------------
Weapon RangedWeapon04
	  ProjectileNugget
		ProjectileTemplateName = ProjectileForRangedWeapon04
		WarheadTemplateName = RangedWeapon04Warhead
	  End
End
Weapon RangedWeapon04Warhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
 	  DamageNugget
		Damage        = 1
		Radius        = 0.0
		DelayTime     = 0
 		AcceptDamageAdd = No
	  End
End
;------------------------------
Weapon RangedWeapon05
	  ProjectileNugget
		ProjectileTemplateName = ProjectileForRangedWeapon05
		WarheadTemplateName = RangedWeapon05Warhead
	  End
End
Weapon RangedWeapon05Warhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
 	  DamageNugget
		Damage        = 1
		Radius        = 0.0
		DelayTime     = 0
 		AcceptDamageAdd = No
	  End
End
;------------------------------
Weapon PlaceHolderWeaponFiringOCL_01
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder01
    End
End
Weapon PlaceHolderWeaponFiringOCL_02
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder02
    End
End
Weapon PlaceHolderWeaponFiringOCL_03
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder03
    End
End
Weapon PlaceHolderWeaponFiringOCL_04
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder04
	End
End
Weapon PlaceHolderWeaponFiringOCL_05
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder05
	End
End
Weapon PlaceHolderWeaponFiringOCL_06
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder06
	End
End
Weapon PlaceHolderWeaponFiringOCL_07
	WeaponOCLNugget
        WeaponOCLName = OCL_SpawnAPlaceHolder07
	End
End

//------------------------------------END-----------------------------------;;




















