;----------------------------------------------***Please do not steal my code.***
;----------------INI BY JOKUC----------------***Contact me on Revora forums if you wish to use something ...OR I WILL HUNT YOU DOWN***
;----------------------------------------------***...AND I WILL THROW CAKE. Thank you.***
;#INDEX
;SBSpecialPowers_______________0022-0043
;SBCommandSets_________________0043-0061
;SBObjects_____________________0061-0146
;PlayerTemplates_______________0146-0224
;Armors________________________0231-0486
;SpecialPowers_________________0486-0552
;ExperienceLevels______________0552-0674
;ModifierLists_________________0674-0706
;Projectiles___________________0706-0727
;Weapons_______________________0727-1097
;Upgrades______________________1097-1164
;ChildObjects__________________1164-1233
;CommandButtons________________1232-1636
;CommandSets___________________1636-1983
;ObjectCreationLists___________1989-2004
;Objects_______________________2005-4000

;//////////////////////SPELLBOOK SPECIALPOWER//////////////////
SpecialPower SpellBookRallyingCall
	Enum				= SPECIAL_SPELL_BOOK_RALLYING_CALL
	ReloadTime			= 85000 ; ; SPELL_RECHARGE_TIME_TIER_1 ; in milliseconds
	RadiusCursorRadius		= 125
	Flags					= WATER_OK RESPECT_RECHARGE_TIME_DISCOUNT
	RequiredSciences			= SCIENCE_RallyingCall SCIENCE_RallyingCallMP
	InitiateAtLocationSound 	= SpellRallyingCallMS
End

SpecialPower SpellBookCloudBreak
	InitiateSound    = SpellElvenSummon
End

SpecialPower SpellBookElvenWoodMP
	ReloadTime      		= 0
	ViewObjectDuration 		= 15000
	ViewObjectRange 		= SPELLBOOK_TAINT_RADIUS
	Flags					= WATER_OK RESPECT_RECHARGE_TIME_DISCOUNT ;NO_FORBIDDEN_OBJECTS
End

;/////////////////SPELLBOOK COMMANDSETS///////////////
CommandSet GlobalSpellBookCommandSet
	1 = Command_SpellBookRallyingCall
	2 = Command_SpellBookWarChant
	3 = Command_SpellBookFarsight
	4 = Command_SpellBookArrowVolleyEvil
	5 = Command_SpellBookArrowVolleyGood
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookCloudBreak
	10 = Command_SpellBookFreezingRain
End

CommandSet GlobalSpellStoreCommandSet
	1 = Command_PurchaseSpellRallyingCallMP
	2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellWarChant
End

;//////////////////////SPELLBOOK//////////////////////
Object GlobalSpellBook

	AddModule
		Behavior				 = OCLSpecialPower ModuleTag_Farsight
			SpecialPowerTemplate = SpellBookFarsight
			AttributeModifier	= Farsight ; ;
			AttributeModifierRange	= 100 ; ;
			AttributeModifierAffects = ANY +CAVALRY +MACHINE +HERO +ARCHER +HORDE +STRUCTURE -BASE_FOUNDATION ; ;
			OCL                  = OCL_SpecialPowerFarSeeing
			CreateLocation       = CREATE_AT_LOCATION
			AvailableAtStart	 = No
			RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
			RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
		End
	End

	AddModule
		Behavior = SpecialPowerModule ModuleTag_RallyingCall
			SpecialPowerTemplate		= SpellBookRallyingCall
			AttributeModifier			= SpellBookRallyingCallModifier
			AttributeModifierRange		= 150
			AttributeModifierAffects	= ANY +HORDE +INFANTRY -HERO
			TriggerFX					= FX_SpellRallyingCall
			UpdateModuleStartsAttack	= No
			AvailableAtStart			= No
			RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
			RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
		End
	End
	

	AddModule
		Behavior = FreezingRainSpecialPower ModuleTag_FreezingRain
			SpecialPowerTemplate			= SpellBookFreezingRain
			AttributeModifier				= RainDebuff ; ;
			AttributeModifierAffects		= ALL ENEMIES
			AntiCategory					= LEADERSHIP BUFF ; ;
			AttributeModifierWeatherBased	= Yes
			WeatherDuration					= 160000 ;SPELL_FREEZINGRAIN_DURATION
			ChangeWeather					= RAINY
			AvailableAtStart				= No
			BurnRateModifier				= -100
			BurnDecayModifier				= 20
			RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
			RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
		End
	End
	
	AddModule
		Behavior   = DarknessSpecialPower ModuleTag_Darkness
			SpecialPowerTemplate			= SpellBookDarkness
			AttributeModifier				= SpellBookDarkness
			AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
			AttributeModifierWeatherBased	= Yes			
			WeatherDuration					= 300000 ;SPELL_DARKNESS_DURATION
			ChangeWeather					= CLOUDY
			AvailableAtStart				= No
			RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
			RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
		End
	End
	
	AddModule
		Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
			SpecialPowerTemplate			= SpellBookCloudBreak
			SunbeamObject					= CloudBreakSunbeam
			ObjectSpacing					= 300
			AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
			ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
			AttributeModifierWeatherBased	= Yes			
			WeatherDuration					= SPELL_CLOUDBREAK_DURATION
			ChangeWeather					= SUNNY
			AvailableAtStart				= No
			RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
			RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
		End
	End
	

	CommandSet          = GlobalSpellBookCommandSet
	RadarPriority       = NOT_ON_RADAR
	KindOf              = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

;/////////////////////PLAYER TEMPLATE//////////////////
PlayerTemplate FactionElves
	SpellBookMp = GlobalSpellBook
	BuildableHeroesMP			= ElvenThranduil
	
	StartingUnit0 = None
	StartingUnit1 = None
End

PlayerTemplate FactionDwarves
	SpellBookMp = GlobalSpellBook
	
	StartingUnit0 = None
	StartingUnit1 = None
	StartingUnit4 = None 
	StartingUnit5 = None   
	StartingUnit6 = None	 
	StartingUnit7 = None
	StartingUnit8 = None	
End

PlayerTemplate FactionMen
	SpellBookMp = GlobalSpellBook
	BuildableHeroesMP			= GondorFaramir

	StartingUnit0 = None
	StartingUnit1 = None
	StartingUnit2 = None
	StartingUnit3 = None
	StartingUnit4 = None 
	StartingUnit5 = None   
	StartingUnit6 = None	 
	StartingUnit7 = None  
	StartingUnit8 = None	  
End

PlayerTemplate FactionMordor
	SpellBookMp = GlobalSpellBook
	BuildableHeroesMP 		= ElvenElrond
	
	StartingUnit0 = None
	StartingUnit1 = None
	StartingUnit5 = None   
	StartingUnit6 = None	 
	StartingUnit8 = None	
End

PlayerTemplate FactionIsengard
	SpellBookMp = GlobalSpellBook
	BuildableHeroesMP 		= ElvenElrond
	
	StartingUnit0 = None
	StartingUnit1 = None
	StartingUnit4 = None 
	StartingUnit5 = None   
	StartingUnit6 = None	 
	StartingUnit7 = None  
End

PlayerTemplate FactionWild
	SpellBookMp = GlobalSpellBook
	BuildableHeroesMP 		= ElvenElrond
	
	StartingUnit0 = None
	StartingUnit1 = None
	StartingUnit4 = None 
	StartingUnit5 = None   
	StartingUnit6 = None	 
	StartingUnit7 = None  
	StartingUnit8 = None	
End

PlayerTemplate FactionCivilian
	SpellBookMp = GlobalSpellBook
	StartingUnitOffset1 = X:50 Y:175 Z:0
	PurchaseScienceCommandSetMP	= GlobalSpellStoreCommandSet
End

;////////////////////SCIENCE/////////////////////////

;/////////////////////SOUND//////////////////////////
;Fix grond's loud volume



;/////////////////////ARMOR//////////////////////////
;---ELVES---

;------------------------------------------------------------------------------
Armor EntArmor_NEW
	Armor = DEFAULT        50%    ;this sets the level for all nonspecified damage types
	Armor = CRUSH           1%    ;horseman damage
	Armor = SLASH          50%    ;1%	 ;soldier damage
	Armor = PIERCE          1%    ;archer damage
	Armor = FLAME         100%    ;fire damage
	Armor = SIEGE         100%    ;siege damage
	Armor = STRUCTURAL    10%    ;Structural damage (Ent rocks)
	Armor = SPECIALIST    100%    ;
	Armor = CHOP          500%    ;axe damage
	Armor = HERO          50%    ;hero damage
	Armor = HERO_RANGED     5%    ;Hero bow damage
	Armor = MAGIC         50%    ;hero damage & silverthorns
End

;---MEN---
Armor TowerGuardArmor_NEW
	Armor = DEFAULT         100%   ; 100%
	Armor = SLASH           200%   ;
	Armor = PIERCE          70%   ;  50%
	Armor = SPECIALIST      100%   ;
	Armor = CAVALRY	   20%   ;
	Armor = CRUSH            10%   ;  50%
	Armor = SIEGE           100%   ;
	Armor = FLAME           85%   ;  30%
	Armor = MAGIC           80%   ;
	Armor = HERO            120%   ;; ; 200
	Armor = HERO_RANGED     150%   ;; ; 200
	Armor = STRUCTURAL	  90%	
	Armor = CAVALRY_RANGED   20% ; ;
	Armor = URUK   125% ; ;
	Armor = POISON   50% ; ;
	FlankedPenalty 	 = 50%         ; ; 75
End


;---DWARVES---
Armor DwarvenAxeThrowerArmor_NEW
	Armor = DEFAULT			100%
	Armor = SLASH			100%
	Armor = PIERCE			55%
	Armor = SPECIALIST		100%
	Armor = CRUSH			200%
	Armor = SIEGE			100%
	Armor = FLAME			85%
	Armor = MAGIC			85%
	Armor = HERO			200%
	Armor = HERO_RANGED		200%
	Armor = CAVALRY			200%  
	Armor = STRUCTURAL		80%	
	FlankedPenalty = 50%   
End

;------------------------------------------------------------------------------
Armor DwarvenAxeThrowerHeavyArmor_NEW
	Armor = DEFAULT			50%
	Armor = SLASH			50%
	Armor = PIERCE			25%
	Armor = SPECIALIST		50%
	Armor = CRUSH			100%
	Armor = SIEGE			40%
	Armor = FLAME			35%
	Armor = MAGIC			35%
	Armor = HERO			100%
	Armor = HERO_RANGED		100%
	Armor = CAVALRY			100%
	Armor = STRUCTURAL		20%	
	FlankedPenalty = 50%  
End

;------------------------------------------------------------------------------
Armor DwarvenGuardianArmor_NEW
	Armor = DEFAULT			100%   
	Armor = SLASH			100%   
	Armor = PIERCE			45% 
	Armor = SPECIALIST		40% 
	Armor = CRUSH			100% 
	Armor = SIEGE			100%
	Armor = FLAME			85%
	Armor = MAGIC			85% 
	Armor = HERO			200%
	Armor = CAVALRY			150%
	Armor = HERO_RANGED		200%
	Armor = STRUCTURAL		85%	
	FlankedPenalty = 50%
End

;------------------------------------------------------------------------------
Armor DwarvenGuardianHeavyArmor_NEW
	Armor = DEFAULT			50%
	Armor = SLASH			50%
	Armor = PIERCE			20%
	Armor = SPECIALIST		20%
	Armor = CRUSH			50%
	Armor = SIEGE			40%
	Armor = FLAME			30%
	Armor = MAGIC			30%
	Armor = HERO			100%
	Armor = HERO_RANGED		100% 
	Armor = CAVALRY			75% 
	Armor = STRUCTURAL		20%	
	FlankedPenalty = 50%      
End
;------------------------------------------------------------------------------
Armor DwarvenPikemenArmor_NEW
	Armor = DEFAULT			100%
	Armor = SLASH			200%
	Armor = PIERCE			70%
	Armor = SPECIALIST		100%
	Armor = CRUSH			10%
	Armor = SIEGE			90%
	Armor = FLAME			80%
	Armor = MAGIC			80%
	Armor = HERO			200%
	Armor = HERO_RANGED		200%
	Armor = STRUCTURAL		90%
	Armor = CAVALRY			20%
	FlankedPenalty = 100%         
End

;------------------------------------------------------------------------------
Armor DwarvenPikemenHeavyArmor_NEW
	Armor = DEFAULT			50%
	Armor = SLASH			100%
	Armor = PIERCE			30%
	Armor = SPECIALIST		50%
	Armor = CRUSH			5%
	Armor = SIEGE			45%
	Armor = FLAME			35%
	Armor = MAGIC			35%
	Armor = HERO			100%
	Armor = HERO_RANGED		100% 
	Armor = STRUCTURAL		20%	
	Armor = CAVALRY			10%
	FlankedPenalty = 75%     
End

;------------------------------------------------------------------------------
Armor DwarvenMenOfDaleHeavyArmor_NEW
	Armor = DEFAULT			50%
	Armor = SLASH			50%
	Armor = PIERCE			40%
	Armor = SPECIALIST		50%
	Armor = CAVALRY			100%
	Armor = CRUSH			100%
	Armor = SIEGE			50%
	Armor = FLAME			50%
	Armor = MAGIC			50%
	Armor = HERO			100%
	Armor = HERO_RANGED		100%
	Armor = STRUCTURAL		20%
	FlankedPenalty = 50%
End

;---GOBLINS---
Armor WildSpiderlingArmor_NEW
	Armor = DEFAULT			100%
	Armor = SLASH			50%
	Armor = PIERCE			100%
	Armor = SPECIALIST		200%
	Armor = CRUSH			1%
	Armor = SIEGE			100%
	Armor = FLAME			200% ; 100%
	Armor = MAGIC			100%
	Armor = HERO			200%
	Armor = HERO_RANGED		200%
	Armor = CAVALRY			100% 
	Armor = STRUCTURAL		100%	
	FlankedPenalty = 50%     
End

;---MORDOR---
Armor RhunHeavyArmor_NEW
	Armor = DEFAULT			100%
	Armor = SLASH			200%
	Armor = PIERCE			60%
	Armor = SPECIALIST		100%
	Armor = CRUSH			10%
	Armor = CAVALRY			20%
	Armor = SIEGE			100%
	Armor = FLAME			50%
	Armor = MAGIC			100%
	Armor = HERO			200%
	Armor = HERO_RANGED		200%
	Armor = STRUCTURAL		100%
	FlankedPenalty = 75%
End
;------------------------------------------------------------------------------
Armor MumakilArmor_NEW
	Armor = DEFAULT        50%
	Armor = CRUSH           1%
	Armor = SLASH         15%
	Armor = URUK            1%
	Armor = PIERCE         85%
	Armor = SIEGE         150%
	Armor = STRUCTURAL	 20%
	Armor = HERO		75%
	Armor = MAGIC		180% ;225
	Armor = HERO_RANGED   200%
	Armor = FLAME         200% ;275
	Armor = SPECIALIST    30%
	Armor = STRUCTURAL     20%
	Armor = CAVALRY	 50% 
End
;------------------------------------------------------------------------------

Armor BalrogArmor_NEW
  Armor = DEFAULT	  1%	; Likes to have things think they can attack him
  Armor = SLASH		5%
  Armor = SIEGE		 25%	; siege weapons can hurt him
  Armor = STRUCTURAL	 10%	;Structural damage (Ent rocks)
  Armor = MAGIC		70%	; Gandalf can really hurt him.; ; 100
  Armor = HERO		 150%	; Other heroes can hurt him too.  Watch out for heroes Mr. Balrog!
  Armor = HERO_RANGED     30%    ; Hero bow damage
End

;---ISENGARD---
;------------------------------------------------------------------------------
Armor UrukHaiArmor_NEW
	Armor = DEFAULT			100%
	Armor = SLASH           100%
	Armor = PIERCE			90% ; 150%
	Armor = SPECIALIST      40%
	Armor = CAVALRY			150%
	Armor = CRUSH           100%
	Armor = SIEGE           100%
	Armor = FLAME           90%
	Armor = MAGIC           100%
	Armor = HERO            200%
	Armor = HERO_RANGED     200%
	Armor = STRUCTURAL		100%	
	FlankedPenalty = 50%  
End

;------------------------------------------------------------------------------
Armor UrukHaiHeavyArmor_NEW
	Armor = DEFAULT			50%
	Armor = SLASH			50%
	Armor = PIERCE			40% ; 75%
	Armor = SPECIALIST		20%
	Armor = CAVALRY			75%
	Armor = CRUSH			50%
	Armor = SIEGE			50%
	Armor = FLAME			40%
	Armor = MAGIC			50%
	Armor = HERO			100%
	Armor = HERO_RANGED		100%
	Armor = STRUCTURAL		20%	
	FlankedPenalty = 50%  
End

;//////////////////////SPECIAL POWER//////////////////

SpecialPower SpecialAbilityCreateAHeroBattleRage_Level4
	Enum									  =	SPECIAL_GENERAL_TARGETLESS
	ReloadTime								  =	680000 //  in	milliseconds
	PublicTimer								  =	No
End

;SpecialPower SpecialAbilityCreateAHeroBattleRage_Level3
;	Enum									  =	SPECIAL_GENERAL_TARGETLESS
;	ReloadTime								  =	200000 //  in	milliseconds
;	PublicTimer								  =	No
;End

SpecialPower SpecialAbilityFaramirSummonDunedain
	Enum									  =	SPECIAL_SPELL_BOOK_DUNEDAIN_ALLIES ;SPECIAL_SUMMON_ALLIES
	ReloadTime								  =	450000	 //	   in milliseconds
	PublicTimer								  =	No
	RadiusCursorRadius						  =	60.0 ;100.0  
	InitiateAtLocationSound					  = SpellSummonDunedainAllies
	Flags						   = LIMIT_DISTANCE NO_FORBIDDEN_OBJECTS
	MaxCastRange				   = 200
	ForbiddenObjectFilter		   = NO_SUMMON_ALLIES_NEAR_THESE
	ForbiddenObjectRange		   = 100.0
End

SpecialPower SpecialAbilityThranduilDeadeye
	Enum					   = SPECIAL_HERO_MODE
	ReloadTime				   = 200000 ;120000
End

;---MordorHero
SpecialPower SpecialAbilityCrazyOrcWarChant
	Enum			= SPECIAL_SPELL_BOOK_WAR_CHANT
	Flags			= WATER_OK LIMIT_DISTANCE ;;RESPECT_RECHARGE_TIME_DISCOUNT
	ReloadTime      	= 300000 ;kan nu användas ca varannan nivå
	;InitiateSound   	= RohirrimSpeechCheer ;;;CAN THIS BE USED SO ALL PLAYERS HEAR????
	PublicTimer 				=	No
	RadiusCursorRadius	= 75.0	
	MaxCastRange				   = 300
	InitiateAtLocationSound = SpellWarChant
End

SpecialPower SpecialAbilityAnnoyOpponents
	Enum			= SPECIAL_GENERAL_TARGETLESS
	ReloadTime      	= 6000 ;6 sek
	InitiateSound   	= MELorie_MouthOfSauron015 ;;;CAN THIS BE USED SO ALL PLAYERS HEAR??? --- YES!
	PublicTimer 				=	No
End

SpecialPower SpecialAbilityAnnoyOpponents2
	Enum			= SPECIAL_GENERAL_TARGETLESS
	ReloadTime      	= 3000 ;3 sek
	;InitiateSound   	= ArwenVoiceDie ;;;IS THIS OVERDOING IT? TOO MUCH? 
	;///NAH... I LIKE ME SOME IMMATURE HUMOR SOMETIMES.
	;///Why turn it off here?? Cause ArwenVoiceDie is a 3D sound, 
	;///need to play it as 2D in WB scripts instead!
	PublicTimer 				=	No
End

SpecialPower SpecialAbilityCrazyOrcBerserkerRage
	Enum					   = SPECIAL_HERO_MODE
	ReloadTime				   = 520000
End
;--MordorHeroEnd

;/////////////////////EXPERIENCELEVEL//////////////////////////
;---Faramir---
ExperienceLevel FaramirLevel1
	Upgrades	=	Upgrade_FaramirCaptainOfGondor
End 
ExperienceLevel FaramirLevel2
    Upgrades	=	None
End   
ExperienceLevel FaramirLevel3
    Upgrades	=	Upgrade_FaramirWoundingArrow  
End
ExperienceLevel FaramirLevel4
    Upgrades	=	Upgrade_BoromirForGondorSpeech ;Boromir Leadership
End
ExperienceLevel FaramirLevel5
    Upgrades	=	None
End  
ExperienceLevel FaramirLevel6
    Upgrades	=	None
End
ExperienceLevel FaramirLevel7
	Upgrades	=	None
End
ExperienceLevel FaramirLevel8
	Upgrades	=	Upgrade_CreateAHeroHotWSummonAllies_Level4
End	
ExperienceLevel FaramirLevel10
	Upgrades	=	Upgrade_CreateAHeroBattleRage_Level4
End	
;---
;---Thranduil---
ExperienceLevel	ThranduilLevel1
	Upgrades	=	None
End	
ExperienceLevel	ThranduilLevel2
	Upgrades	=	None
END	
ExperienceLevel	ThranduilLevel3
	Upgrades	=	None
END	
ExperienceLevel	ThranduilLevel4
	Upgrades	=	Upgrade_ThranduilDeadeye
END	
ExperienceLevel	ThranduilLevel5
	Upgrades	=	None ;Upgrade_CreateAHeroBattleRage_Level3
END	
ExperienceLevel	ThranduilLevel6
	Upgrades	=	None
END	
ExperienceLevel	ThranduilLevel7
	Upgrades	=	Upgrade_HaldirLeadership
END	
ExperienceLevel	ThranduilLevel8
	Upgrades	=	None
END	
ExperienceLevel	ThranduilLevel9
	Upgrades	=	None
END	
ExperienceLevel	ThranduilLevel10
	Upgrades	=	Upgrade_ThranduilThornofVengeance
END	
;---
;---Mordor Hero---
ExperienceLevel	ElrondLevel1
	Upgrades = Upgrade_WildFireArrows Upgrade_GandalfWhite
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel2
	Upgrades = Upgrade_CreateAHeroHowlOfRage_Level2
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End	
ExperienceLevel	ElrondLevel3
	Upgrades = None
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel4
	Upgrades = 	Upgrades = Upgrade_CreateAHeroHowlOfRage_Level3
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel5
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel6
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel7
	Upgrades = None
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel8
	Upgrades = Upgrade_CreateAHeroHowlOfRage_Level1
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End	
ExperienceLevel	ElrondLevel9
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
ExperienceLevel	ElrondLevel10
	Upgrades = Upgrade_ThranduilDeadeye ;Upgrade_CrazyOrcBerserkerRage
	SelectionDecal
		Texture				=	decal_hero_evil
	End	
End
;---

;/////////////////////ATTRIBUTEMODIFIERS//////////////////////////

ModifierList MordorStatueDebuff
  	Category					= DEBUFF
  	Modifier					= ARMOR	-50%
  	FX							= FX_GenericDebuff
	Duration					= 3000
	ReplaceInCategoryIfLongest	= Yes  	
End

ModifierList GenericDamageStackLeadershipNEW
	Category					= LEADERSHIP
	Modifier					= EXPERIENCE 125%
	Modifier					= DAMAGE_MULT 125%
	Duration					= 3000
	FX							= FX_GenericLeadership
End

ModifierList CreateAHeroBattleRageBonus_Level4NEW
	Category	 = SPELL
	Modifier	 = DAMAGE_MULT	400%
	Modifier 	= SPEED 150%
	Duration	 = 90000
	FX			 = FX_CAHBattleRage90
End

ModifierList BerserkerRageNEWYO
	Category	 = SPELL
	Modifier 	= SPEED 140%
	Duration	 = 40000
	FX			 = FX_CAHBerserkerRage40
End
;////////////////////PROJECTILES//////////////////////
Object PoisonArrowProjectile
	ReplaceModule ModuleTag_Draw
		Draw = W3DScriptedModelDraw ModuleTag_Draw_Override
			DefaultModelConditionState     
				Model = IULurtz_AROW ;EXPoison_AROW
				ParticleSysBone = MESH01 PoisonArrowTrail Followbone:YES
			End
		End
	End
	ReplaceModule ModuleTag_Draw2
		Draw = W3DStreakDraw ModuleTag_Draw2_Override
			Length		= 50
			Width		= 1
			NumSegments	= 3				; number of segements in the streak, increase for smoother line
			Color		= R:255 G:0 B:0
			Texture		= EXLightStreaks2.tga
		End
	End
END

;/////////////////////WEAPONS//////////////////////////

;---Uruks---
Weapon IsengardArcherBow         ; BALANCE Archer Weapon
	WeaponSpeed				= 321         ; dist/sec 
	MinWeaponSpeed			= 321
	MaxWeaponSpeed			= 321      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range    

	DamageNugget
		Damage			= 15
		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth
		DamageScalar  = 115% ANY +Drogoth
		DamageScalar  = 87% ANY +GoblinCaveTroll -CaveTroll_Slaved +MordorAttackTroll
		Radius			= 0
	    DamageType    = PIERCE
	    DamageFXType  = EVIL_ARROW_PIERCE
		DeathType		= NORMAL
		DamageSpeed		= 321.1
	End
End

;------------------------------------------------------------------------------
Weapon IsengardArcherBowFireArrow       ; BALANCE Archer Weapon

	WeaponSpeed               = 321         ; dist/sec 
	MinWeaponSpeed            = 321
	MaxWeaponSpeed            = 321      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	
	DamageNugget
		Damage			= 20
		DamageScalar  = 125% ANY +CANNOT_RETALIATE -Drogoth
		DamageScalar  = 115% ANY +Drogoth
		DamageScalar  = 87% ANY +GoblinCaveTroll -CaveTroll_Slaved +MordorAttackTroll
		Radius			= 0
	    DamageType    = PIERCE
	    DamageFXType  = EVIL_ARROW_PIERCE
		DeathType		= NORMAL
		DamageSpeed		= 321.1
	End
End

;---Thranduil---
Weapon ElvenThranduilBowDeadeye
	AttackRange					= THRANDUIL_BOW_RANGE_DEADEYE
	WeaponSpeed					= 500
	MinWeaponSpeed				= 500
	MaxWeaponSpeed				= 500
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	HitStoredTarget				= Yes
	DelayBetweenShots			= 0
	PreAttackDelay				= ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY
	PreAttackType				= PER_POSITION
	FiringDuration				= 0
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= Min:500 Max:500
	ContinuousFireOne			= 0
	ContinuousFireCoast			= 1500
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	CanBeDodged					= Yes
	RadiusDamageAffects			= ENEMIES NOT_SIMILAR
	DamageNugget
		Damage			= 15
		Radius			= 8
		DamageType		= HERO_RANGED
		DamageFXType	= GOOD_ARROW_PIERCE
		DeathType		= NORMAL
		DamageSpeed		= 500.1
	End
	DamageNugget
		Damage			= 8.2
		Radius			= 12
		DamageType		= HERO_RANGED
		DamageFXType	= GOOD_ARROW_PIERCE
		DeathType		= NORMAL
		DamageSpeed		= 500.1
	End
	MetaImpactNugget
		ShockWaveAmount			= 45
		ShockWaveRadius			= 12
		ShockWaveTaperOff		= 1.0
		ShockWaveZMult			= 1.0
		ShockWaveSpeed			= 500.1
	End
	ProjectileNugget
		ProjectileTemplateName	= GoodFactionArrowDeadeye
		WarheadTemplateName		= ElvenThranduilBowWarheadDeadeye
		ForbiddenUpgradeNames	= Upgrade_RohanFireArrows
	End
End

;//////////Thorn of vegneance////////////

Weapon ThranduilThornofVengeance
	AttackRange				= 800
	LeechRangeWeapon		= Yes
	WeaponSpeed				= 600
	MinWeaponSpeed			= 600
	MaxWeaponSpeed			= 600
	FireFX					= FX_ThranduilThornOfVengeance
	ScaleWeaponSpeed		= Yes
	HitStoredTarget			= Yes
	HitPercentage			= 100
	ScatterRadius			= 0.0
	DelayBetweenShots		= 15000
	PreAttackDelay			= 1
	PreAttackType			= PER_POSITION
	FiringDuration			= 1
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:THRANDUIL_THORN_RELOADTIME_MIN Max:THRANDUIL_THORN_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID
	RadiusDamageAffects	 = ENEMIES NOT_SIMILAR
	DamageNugget
		Damage        = 3000
		Radius        = 0
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = FIRE3
		DeathType     = EXPLODED
		DamageSpeed   = 600.1
	End
	DamageNugget
		Damage        = 650
		Radius        = 10
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = FIRE3
		DeathType     = EXPLODED
		DamageSpeed   = 600.1
	End
	DamageNugget
		Damage        = 30
		Radius        = 20
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = FIRE3
		DeathType     = EXPLODED
		DamageSpeed   = 600.1
	End
	DamageNugget                      
		Damage        	= 15
		DamageScalar	= 200% NONE +MONSTER +BIG_MONSTER +INFANTRY
		Radius        	= 45
		DamageType    	= MAGIC
		DamageFXType  	= FIRE3
		DeathType     	= EXPLODED
		DelayTime		= 0
		DamageSpeed   	= 600.1
	End
	MetaImpactNugget
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 45
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.20
		ShockWaveSpeed    = 600.1
	End
	ProjectileNugget
		ProjectileTemplateName	= ThranSpecialArrow
		WarheadTemplateName	= ThranduilThornofVengeanceWarhead
	End
End

;---

;--------Dwarven Men of Dale----------
Weapon DwarvenArcherBow
	AttackRange         = 400 ;DWARVEN_MENOFDALE_RANGE
End

;----Dwarven Axethrower-------
Weapon DwarvenGuardianThrowingAxe
	AttackRange         = 330 ;DWARVEN_AXETHROWER_RANGE

	WeaponSpeed			= 150 ; ;120 ;321         ; dist/sec 
	MinWeaponSpeed      = 150 ; ;120
	MaxWeaponSpeed      = 150 ; ;300      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range

	DamageNugget
	    Damage        			= 70 ;DWARVEN_AXETHROWER_DAMAGE
		Radius        			= 0.0
	    DelayTime     			= 0
		DamageSpeed				= 150.1
	    DamageType    			= SLASH ; PIERCE
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
		DamageScalar			= 85% ANY +STRUCTURE -COMMANDCENTER -FS_BASE_DEFENSE ;;=;; 
		DamageScalar			= 50% ANY +COMMANDCENTER +FS_BASE_DEFENSE ;;=;; 
		DamageScalar			= 135% ANY +CAVALRY ;;=;; 150% ; 
		DamageScalar			= 150% ANY +GoblinCaveTroll ;;=CAVETROLLBALANCE=;;
		DamageScalar			= 80% ANY +PORTER +GondorArcher +ElvenMithlondSentry ;;=elfdwarf=;; ;;=mendwarf=;; GA to be like 1.06-2.06 it should be 75%.
		DamageScalar		= 120% ANY +CANNOT_RETALIATE ; ; 
		DamageScalar			= 135% ANY +Crebain +WildCaveBats ;;=;;
	    ForbiddenUpgradeNames	= Upgrade_DwarvenForgedBlades
	End

	DamageNugget
	    Damage        			= 70 ;DWARVEN_AXETHROWER_DAMAGE_FORGEDBLADES
		Radius        			= 0.0
	    DelayTime     			= 0
		DamageSpeed				= 150.1
	    DamageType    			= SLASH ; ;PIERCE
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
		DamageScalar			= 50% NONE +COMMANDCENTER +FS_BASE_DEFENSE ;;=;; 
		DamageScalar			= 120% NONE +CAVALRY ;;=;; 130% ; ;
		DamageScalar			= 135% ANY +GoblinCaveTroll ;;=CAVETROLLBALANCE=;;
	    RequiredUpgradeNames	= Upgrade_DwarvenForgedBlades
	End

End

;---------------------------------

Weapon MordorStatueWeapon
	AttackRange			= 250 ;MORDOR_GATEWATCHEREXPANSION_RANGE    
	HitPercentage       = 100											//When this weapon is used it will hit exactly 50% of the time.    
	PreAttackDelay      = 0	//prep time for the unit/structure to fire.
	PreAttackType       = PER_SHOT										//Do the delay each time we attack a new target
	FiringDuration      = MORDOR_GATEWATCHEREXPANSION_FIRINGDURATION	//Duration of the archer firing shot is 500ms.  
	AcceptableAimDelta	= 360										//We want to be able to shoot all round, as we cant move.
	DelayBetweenShots   = 2000 ;*********CHANGE TO 500?**********
;	FireFX				= FX_FearBlast
	RadiusDamageAffects = ENEMIES

	AttributeModifierNugget
		AttributeModifier        = MordorStatueDebuff ;StandardDebuff
		DamageFXType             = SWORD_SLASH
		SpecialObjectFilter      = ALL -HERO -MONSTER
		Radius = 100
	End

End

;---------Mordor Hero Weapon----------
Weapon GoblinArcherBow       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= GOBLIN_ARCHER_RANGE    ;Horde member so it needs to be bigger than the horde weapon attack range.
   
   	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GOBLIN_ARCHER_RANGE .01 )
   
   
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 320         ; dist/sec 
	MinWeaponSpeed		= 320
	MaxWeaponSpeed		= 320      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.

	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GOBLIN_ARCHER_BOW_RELOADTIME_MAX  
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes
	
	DamageNugget
		Damage			= 80
		DamageType		= HERO_RANGED
		DamageFXType  	= POISON
		Radius			= 0
		DeathType		= POISONED
		DamageSpeed		= 320.1
	End
	DOTNugget
		Damage        = 25
		AcceptDamageAdd = No
		Radius        = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = POISONED
		DamageInterval = 500
		DamageDuration = 800000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
		DamageSpeed		= 320.1
	End

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = GoblinArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_WildFireArrows
	End
	
	ProjectileNugget    ; Fire Arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName      = GoblinArcherBowFireWarhead
		RequiredUpgradeNames     = Upgrade_WildFireArrows
	End
END
;-------------------------
;---Mordor Archer Hero Weapon 2---
Weapon GoblinArcherPoisonArrows       ; BALANCE Archer Weapon ;goblin archer
	AttackRange					= 520 ;430 ; ; GOBLIN_ARCHER_RANGE	;Horde member so it needs to be bigger than the horde weapon attack range
	LeechRangeWeapon			= No
	WeaponSpeed					= 500.1				; dist/sec
	MinWeaponSpeed				= 500.1
	MaxWeaponSpeed				= 500.1
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes					; Used for lob weapons, scales speed proportional to range
	HitPercentage				= 100					;When this weapon is used it will hit exactly 50% of the time
	HitStoredTarget				= Yes
	ScatterRadius				= 20.0					;When this weapon misses it can randomly miss by as much as this distance
	CanBeDodged					= Yes					; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	DelayBetweenShots			= 0
	PreAttackDelay				= GOBLIN_ARCHER_PREATTACKDELAY ;1
	PreAttackType				= PER_POSITION
	PreAttackRandomAmount		= 200
	FiringDuration				= 1
	
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne			= 0
	ContinuousFireCoast			= 1500
	
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	RadiusDamageAffects			= ENEMIES NOT_SIMILAR


	ProjectileNugget
		ProjectileTemplateName	= PoisonArrowProjectile
		WarheadTemplateName		= GoblinArcherPoisonArrowsBowWarhead
	End
	
	DamageNugget
		Damage			= 15
		Radius			= 8
		DamageType		= HERO_RANGED
		DamageFXType	= GOOD_ARROW_PIERCE
		DeathType		= NORMAL
		DamageSpeed		= 500.1
	End
	MetaImpactNugget
		ShockWaveAmount			= 10
		ShockWaveRadius			= 12
		ShockWaveTaperOff		= 1.0
		ShockWaveZMult			= 1.0
		ShockWaveSpeed			= 500.1
	End

End
;----------------------

;/////////////////////UPGRADES//////////////////////////

Upgrade Upgrade_BuyMordorCrazyOrc
	DisplayName       = UPGRADE:MordorBasicTraining
	Type              = OBJECT
	BuildCost		= 888
	BuildTime		= 150
	;ResearchCompleteEvaEvent  = UpgradeBannerCarrierTechnologyReady-Mordor
End

Upgrade Upgrade_CrazyOrcBerserkerRage
	Type = OBJECT
End

Upgrade Upgrade_TechnologyElvenSilverthornArrowsNEW
	DisplayName		= UPGRADE:ElvenSilverthornArrows
	Type			= PLAYER
	Tooltip			= TOOLTIP:ElvenSilverthornArrows
	BuildCost		= 1200 ;ELVEN_TECH_SILVERTHORN_ARROWS_BUILDCOST
	BuildTime		= 100 ;ELVEN_TECH_SILVERTHORN_ARROWS_BUILDTIME
	ResearchCompleteEvaEvent	= UpgradeSilverThorneArrowsReady
	SkirmishAIHeuristic = AI_UPGRADEHEURISTIC_IMPORTANT
End

Upgrade Upgrade_TechnologyElvenBasicTrainingNEW
	DisplayName       = UPGRADE:ElvenBasicTraining
	Type              = PLAYER
	BuildCost		= 40 ;ELVEN_TECH_BASIC_TRAINING_BUILDCOST
	BuildTime		= ELVEN_TECH_BASIC_TRAINING_BUILDTIME
	ResearchCompleteEvaEvent	= UpgradeBannerCarrierTechnologyReady-Elf
End

Upgrade Upgrade_TechnologyGondorFireStonesNEW
	DisplayName       = UPGRADE:GondorFireStones
	Type              = PLAYER
	BuildCost		= 200 ;GONDOR_TECH_FIRE_STONES_BUILDCOST
	BuildTime		= GONDOR_TECH_FIRE_STONES_BUILDTIME
	ResearchCompleteEvaEvent	= UpgradeFlamingShotsReady
End

Upgrade Upgrade_ElvenBasicTrainingNEW
	DisplayName       = UPGRADE:ElvenBasicTraining
	Type              = OBJECT
	Tooltip		= UPGRADE:ElvenBasicTraining
	BuildCost		= 15 ;ELVEN_PERSONAL_BASIC_TRAINING_BUILDCOST
	BuildTime		= 5 ;ELVEN_PERSONAL_BASIC_TRAINING_BUILDTIME
	ResearchCompleteEvaEvent	= UpgradeBannerCarrierReady
	;RequiredObjectFilter = NONE +EregionForge ;;=;; +ElvenGreenPasture 
	StrategicIcon	= AptStrategicUnitUpgradeBannerCarrier
End

Upgrade Upgrade_ElvenBarracksLevel2NEW
   Type            = OBJECT
    BuildCost      = 350 ;ELVEN_BARRACKS_LEVEL2_UPGRADE_COST
    BuildTime      = 15 ;ELVEN_BARRACKS_LEVEL2_UPGRADE_BUILDTIME
    DisplayName	= UPGRADE:ElvenBarracksLevel2
	SkirmishAIHeuristic = AI_UPGRADEHEURISTIC_FACTORY_UNITUNLOCK
End
 
Upgrade Upgrade_ElvenBarracksLevel3NEW
    	Type           = OBJECT
    	BuildCost      = 500 ;ELVEN_BARRACKS_LEVEL3_UPGRADE_COST
    	BuildTime      = 20 ;ELVEN_BARRACKS_LEVEL3_UPGRADE_BUILDTIME
    	DisplayName	= UPGRADE:ElvenBarracksLevel3
	SkirmishAIHeuristic = AI_UPGRADEHEURISTIC_FACTORY_UNITUNLOCK
End

;/////////////////////CHILD OBJECTS//////////////////////////
;Minas Morgul Statue 1
ChildObject FearsomeStatue ElvenStatue

	SelectPortrait = BPMFortress_GateWatcher
	PlacementViewAngle  = -90
	DisplayName			= OBJECT:MordorGateWatcherExpansion
	Description			= IntimidatesNearbyEnemies,GivingThem-50%Armor ;OBJECT:HeroicStatueDescription
	Side				= Mordor
	BuildCost			= 750 ;GONDOR_STATUE_BUILDCOST
	BuildTime			= GONDOR_STATUE_BUILDTIME
	CommandPointBonus	= 0
	
	VoiceSelect						= MordorGateWatcherExpansionSelect
	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction

	ReplaceModule ModuleTag_Draw
		Draw = W3DScriptedModelDraw ModuleTag_Draw123
			OkToChangeModelColor		= Yes
			StaticModelLODMode = yes
			UseStandardModelNames		= Yes

			DefaultModelConditionState
				Model					= MBMMStatue1
			End
			
			;-- building being placed
			ModelConditionState				= BUILD_PLACEMENT_CURSOR
				Shadow						= SHADOW_ALPHA_DECAL
				ShadowTexture				= decal_hero_evil
				ShadowSizeX					= GONDOR_STATUE_AOE_RADIUS_DECAL
				ShadowSizeY					= GONDOR_STATUE_AOE_RADIUS_DECAL
				ShadowOverrideLODVisibility = Yes
			End
		End
	End
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End

	KindOf = +CAN_ATTACK +FS_BASE_DEFENSE

	RemoveModule ModuleTag_FeelGoodHero

	WeaponSet
		Conditions	= NONE
		Weapon		= PRIMARY  MordorStatueWeapon
	End 

	AddModule
		Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
			AutoAcquireEnemiesWhenIdle	= Yes
			MoodAttackCheckRate			= 250
			//AILuaEventsList				= GateWatchersFunctions
		End
	End
	
	Geometry			= BOX
	GeometryMajorRadius	= 22.0
	GeometryMinorRadius	= 16.0
	GeometryHeight		= 52.0

End

;/////////////////////COMMANDBUTTON//////////////////////////

CommandButton Command_PurchaseTechnologyElvenBasicTraining
	Command				= PLAYER_UPGRADE
	Options				= NEED_UPGRADE CANCELABLE
	Upgrade				= Upgrade_TechnologyElvenBasicTrainingNEW
	TextLabel			= CONTROLBAR:PurchaseTechnologyElvenBasicTraining
	ButtonImage			= BEEregionForge_BannerCarrier
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyElvenBasicTraining
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackLevel2BlackSmithBanner
End

CommandButton Command_PurchaseUpgradeElvenBasicTraining
	Command				= OBJECT_UPGRADE
	Options				= NEED_UPGRADE OK_FOR_MULTI_SELECT CANCELABLE
	Upgrade				= Upgrade_ElvenBasicTrainingNEW
	NeededUpgrade		= Upgrade_TechnologyElvenBasicTrainingNEW
	TextLabel			= CONTROLBAR:PurchaseUpgradeElderRacesBasicTraining
	ButtonImage			= BEEregionForge_BannerCarrier
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseUpgradeElderRacesBasicTraining
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackElderRacesBasicTraining
End

CommandButton Command_PurchaseUpgradeElvenBasicTrainingForMirkwoodArcherHorde
	Command				= OBJECT_UPGRADE
	Options				= NEED_UPGRADE OK_FOR_MULTI_SELECT CANCELABLE
	Upgrade				= Upgrade_ElvenBasicTrainingNEW
	NeededUpgrade		= Upgrade_TechnologyElvenBasicTrainingNEW
	TextLabel			= CONTROLBAR:PurchaseUpgradeElderRacesBasicTrainingForMirkwoodArcherHorde
	ButtonImage			= BEEregionForge_BannerCarrier
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseUpgradeElderRacesBasicTraining
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackElderRacesBasicTraining
End

CommandButton Command_PurchaseUpgradeIsengardFireArrows
	Command				= OBJECT_UPGRADE
	Options				= NEED_UPGRADE OK_FOR_MULTI_SELECT CANCELABLE
	Upgrade				= Upgrade_IsengardFireArrows 
	NeededUpgrade		= Upgrade_TechnologyIsengardFireArrows
	TextLabel			= CONTROLBAR:FireArrowUpgrade
	ButtonImage			= BIArmory_FlamingArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseUpgradeMordorFireArrows
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackIsengardFireArrows
End

;//----------Purchased at Building------
CommandButton Command_PurchaseTechnologyElvenSilverthornArrows
	Command				= PLAYER_UPGRADE
	Options				= CANCELABLE NEED_UPGRADE 
	Upgrade				= Upgrade_TechnologyElvenSilverthornArrowsNEW
	NeededUpgrade		= Upgrade_EregionForgeLevel3
	TextLabel			= CONTROLBAR:PurchaseTechnologyElvenSilverthornArrows
	ButtonImage			= BEEregionForge_SilverthornArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyElvenSilverthornArrows
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackSilverthornTechnology
End

CommandButton Command_PurchaseTechnologyGondorFireStones
	Command				= PLAYER_UPGRADE
	Options				= NEED_UPGRADE CANCELABLE
	Upgrade				= Upgrade_TechnologyGondorFireStonesNEW 
	NeededUpgrade		= Upgrade_GondorWorkshopLevel2
	TextLabel			= CONTROLBAR:PurchaseTechnologyGondorFireStones
	ButtonImage			= BGWorkshop_FireStone
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyGondorFireStones
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackLevel2Workshop
End

CommandButton Command_ConstructMordorCatapult
	Command				= UNIT_BUILD
	Object				= MordorCatapult
	Options				= CANCELABLE ;NEED_UPGRADE
	;NeededUpgrade		= Upgrade_StructureLevel1 ;Upgrade_MordorSiegeWorksLevel2
	TextLabel			= CONTROLBAR:ConstructMordorCatapult
	ButtonImage			= BMGreatSiegeWorks_Catapult
	ButtonBorderType	= BUILD 
	DescriptLabel		= CONTROLBAR:ToolTipBuildMordorCatapultNEW
	Radial				= Yes
	InPalantir	   		= Yes
	ShowProductionCount	= Yes
;    UnitSpecificSound   = GondorArcherVoiceBuy      
End

CommandButton Command_ConstructIsengardBallista
	Command				= UNIT_BUILD
	Object				= IsengardBallista
	Options				= CANCELABLE
	TextLabel			= CONTROLBAR:ConstructIsengardSiegeBallista
	ButtonImage			= BISiegeWorks_SeigeBallista
	ButtonBorderType	= BUILD 
	DescriptLabel		= CONTROLBAR:ToolTipBuildIsengardSiegeBallistaNEW
	Radial				= Yes
	InPalantir	   		= Yes
	ShowProductionCount	= Yes
End

CommandButton Command_ConstructMordorHaradrimArcherHorde
	Command				= UNIT_BUILD
	Object				= MordorHaradrimArcherHorde
	Options				= CANCELABLE
	TextLabel			= CONTROLBAR:ConstructMordorHaradrimArcherHorde
	ButtonImage			= BMHaradrimPalace_Haradrim
	ButtonBorderType		= BUILD 
	DescriptLabel			= CONTROLBAR:ToolTipBuildMordorHaradrimArcherHorde
	Radial				= Yes
	InPalantir	   		= Yes
	ShowProductionCount		= Yes
	;NeededUpgrade			= Upgrade_MordorHaradrimPalaceLevel2
;   	UnitSpecificSound  		= GondorArcherVoiceBuy      
End

;---Barracks upgrade
CommandButton Command_PurchaseUpgradeElvenBarracksLevel2
   Command           = OBJECT_UPGRADE
   Upgrade           = Upgrade_ElvenBarracksLevel2NEW
   Options           = CANCELABLE
   TextLabel         = CONTROLBAR:PurchaseUpgradeElvenBarracksLevel2
   ButtonImage       = UCCommon_UpgradeStructureNew
   ButtonBorderType	= BUILD
   DescriptLabel     = CONTROLBAR:ToolTipUpgradeDwarvenBarracksLevel2
   Radial            = Yes
   InPalantir        = Yes
End

CommandButton Command_PurchaseUpgradeElvenBarracksLevel3
   Command           = OBJECT_UPGRADE
   Upgrade           = Upgrade_ElvenBarracksLevel3NEW
   Options           = CANCELABLE
   TextLabel         = CONTROLBAR:PurchaseUpgradeElvenBarracksLevel3
   ButtonImage       = UCCommon_UpgradeStructureNew
   ButtonBorderType	= BUILD
   DescriptLabel     = CONTROLBAR:ToolTipBuildElvenBarracksLevel3
   Radial            = Yes
   InPalantir        = Yes
End

;---Statue---
CommandButton Command_PorterConstructMenStatue
	Command				= DOZER_CONSTRUCT
	Object				= GondorStatue
	TextLabel			= CONTROLBAR:ConstructMenStatue
	ButtonImage			= BGHeroicStatue
	ButtonBorderType	= BUILD 
	DescriptLabel		= OBJECT:ElvenHeroicStatueDescription
	Radial				= Yes  
	;InPalantir			= Yes
End

;--------------DWARVES--------------------
CommandButton Command_ConstructDwarvenCatapult
    Command                = UNIT_BUILD
    Object                = DwarvenCatapult
    Options                = CANCELABLE
    TextLabel            = CONTROLBAR:ConstructDwarvenCatapult
    ButtonImage            = BDForgeWorks_Catapult
    ButtonBorderType    = BUILD 
    DescriptLabel        = CONTROLBAR:ToolTipBuildDwarvenCatapultNEW
    Radial                = Yes
    InPalantir               = Yes

    ShowProductionCount    = Yes
    LacksPrerequisiteLabel        = TOOLTIP:LackLevel2ForgeWorks
End

CommandButton Command_ConstructDwarvenStatue
	Command          = DOZER_CONSTRUCT
	Object           = DwarvenStatue
	TextLabel        = CONTROLBAR:ConstructDwarvenStatue
	ButtonImage      = BDHeroicStatue
	ButtonBorderType = BUILD 
	DescriptLabel    = OBJECT:ElvenHeroicStatueDescription ;OBJECT:DwarvenHeroicStatueDescription
	Radial           = Yes  
End

CommandButton Command_ConstructDwarvenAxeThrowerHorde
	Command				= UNIT_BUILD
	Object				= DwarvenAxeThrowerHorde
	Options				= CANCELABLE
	TextLabel			= CONTROLBAR:ConstructDwarvenAxeThrowerHorde
	ButtonImage			= BDHallofWarriors_DwarvenAxeThrower
	ButtonBorderType    = BUILD 
	DescriptLabel       = CONTROLBAR:ToolTipBuildDwarvenAxeThrowerHordeNEW
	Radial				= Yes
	InPalantir			= Yes
	ShowProductionCount	= Yes    
End

;----------MORDOR----------------------

;;;;;;;;;;THIS IS NOW MINAS MORGUL STATUE!!!;;;;;;;;;;;;;;;;;;;;;;

CommandButton Command_ConstructMordorGateWatchersExpansion
	Command          = DOZER_CONSTRUCT ;FOUNDATION_CONSTRUCT
    ;Options			 = CANCELABLE
	Object           = FearsomeStatue
	TextLabel        = CONTROLBAR:BuildMordorStatue
	ButtonImage      = BMFortress_GateWatchers
	ButtonBorderType = BUILD 
	DescriptLabel    = CONTROLBAR:ToolTipBuildMordorStatue
	Radial           = Yes   
End

;////////////////////////////HEROES///////////////////////////////
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;//////////////////////////

;---Faramir Start---
CommandButton Command_SpecialAbilityCaptainOfGondor
  Command                 = SPECIAL_POWER
  SpecialPower            = SpecialAbilityCaptainOfGondor ;;=;; SpecialAbilityKingsFavor
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:CaptainofGondor
  ButtonImage             = HSFaramirCaptainOfGongor
  CursorName              = Bombard
  RadiusCursorType        = CaptainOfGondorRadiusCursor
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipCaptainofGondorNEW
  AutoAbility		  = No
  InPalantir              = Yes
End

CommandButton Command_SpecialAbilityWoundArrow
  Command                 = SPECIAL_POWER
  WeaponSlot              = SECONDARY
  SpecialPower            = SpecialAbilityWoundArrow
  Options                 = NEED_TARGET_ENEMY_OBJECT UNMOUNTED_ONLY
  TextLabel               = CONTROLBAR:WoundingArrow
  ButtonImage             = HSFaramirWoundingArrow
  CursorName              = Bombard
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipWoundingArrowNEW
  InPalantir			  = Yes
  AutoAbility			  = Yes
  DisableOnModelCondition = WEAPONSET_TOGGLE_1
End

CommandButton Command_SpecialAbilityTrainArchers ;BattleRage
  Command                 = SPECIAL_POWER
  Options                 = None
  SpecialPower            = SpecialAbilityCreateAHeroBattleRage_Level4
  TextLabel               = CONTROLBAR:ShieldMaidenNEW
  ButtonImage             = HSLegolasTrainArchers
  RadiusCursorType        = TrainingRadiusCursor
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipFaramirBattleRage
  InPalantir			  = Yes
  AutoAbility			  = Yes
  PresetRange			  = 50.0
  UnitSpecificSound	      = GenericSpell
End

CommandButton Command_SpellBookDunedainAllies
	Command			   = SPECIAL_POWER
	SpecialPower	   = SpecialAbilityFaramirSummonDunedain ;SpecialAbilityCreateAHeroHotWSummonAllies_Level4
	TextLabel		   = CONTROLBAR:SummonDunedainAllies
	ButtonImage		   = SBGood_SummonDunedain
	Options			   = NEED_TARGET_POS CONTEXTMODE_COMMAND
	RadiusCursorType   = DunedainAlliesRadiusCursor ;SummonOathBreakersRadiusCursor
	CursorName		   = AttackObj ;Bombard
	InvalidCursorName  = GenericInvalid	 
	ButtonBorderType   = ACTION	
	DescriptLabel	   = CONTROLBAR:ToolTipSummonDunedainAlliesNEW
	InPalantir		   = Yes
	;UnitSpecificSound  = AragornVoiceSummonOathbreakers
End

CommandButton Command_SpecialAbilityBoromirForGondor
  Command                 = SPECIAL_POWER
  SpecialPower            = SpecialAbilityFakeLeadership
  Options				  = NONPRESSABLE
  TextLabel               = CONTROLBAR:Leadership
  ButtonImage             = menld ; ; HSFaramirLeadership
  RadiusCursorType        = TrainingRadiusCursor
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:FaramirLeadership
  InPalantir		  = Yes
End
;---Faramir End---

;---Thranduil Start---

;//////////////////////////////////////////////////////////////////////////////////////////

CommandButton Command_HaldirFakeLeadershipButton
  	Command                 = SPECIAL_POWER
  	SpecialPower            = SpecialAbilityFakeLeadership
  	Options					= NONPRESSABLE
  	TextLabel               = CONTROLBAR:Leadership
  	ButtonImage             = HSFaramirLeadership
  	RadiusCursorType        = TrainingRadiusCursor  	
  	ButtonBorderType        = ACTION
  	DescriptLabel           = CONTROLBAR:ToolTipHaldirLeadershipNEW
  	InPalantir				= Yes
End

CommandButton Command_SpecialAbilityDeadEye
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityThranduilDeadeye
  TextLabel               = CONTROLBAR:DeadEye
  ButtonImage             = HSThranduilDeadeye
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipDeadEyeNEW
  InPalantir			  = Yes
  AutoAbility			  = Yes
  AutoDelay				  = 20.0 ; this should sync with the Thranduil's hero mode effect time
  ;UnitSpecificSound       = AragornVoiceDeadEye
End
;---Thranduil End---

;---Crazy Orc---
CommandButton Command_GoblinArcherPoisonArrows
	Command				= SPECIAL_POWER
	SpecialPower		= SpecialAbilityPoisonArrows
	Options				= NONPRESSABLE
	ButtonImage			= BWTreasureTrove_PoisonArrows
	TextLabel			= CONTROLBAR:PoisonArrows
	DescriptLabel		= CONTROLBAR:ToolTipPoisonArrowsNEW
	InPalantir			= Yes
	ButtonBorderType    = ACTION
End

CommandButton Command_MouthOfSauronEvilEye
	Command				= SPECIAL_POWER
    SpecialPower		= SpecialAbilityAnnoyOpponents
	Options				= None
	TextLabel			= CONTROLBAR:AnnoyOpponents
	ButtonBorderType	= ACTION 
	DescriptLabel		= CONTROLBAR:ToolTipAnnoyOpponents
    ButtonImage         = HSMouthSauronEvilEye
	InPalantir			= Yes
End

CommandButton Command_MountHorseArwen
	Command				= SPECIAL_POWER
    SpecialPower		= SpecialAbilityAnnoyOpponents2
	Options				= None
	TextLabel			= CONTROLBAR:MountArwen
	ButtonBorderType	= ACTION 
	DescriptLabel		= CONTROLBAR:ToolTipMountArwen
    ButtonImage         = HSTheodenMountDismount
	InPalantir			= Yes
End

CommandButton Command_SpellBookWarChant
	Command				= SPECIAL_POWER
    SpecialPower		= SpecialAbilityCrazyOrcWarChant
	Options				= NEED_TARGET_POS
	TextLabel			= CONTROLBAR:WarChant
	ButtonBorderType	= ACTION 
	DescriptLabel		= CONTROLBAR:ToolTipWarChantNEW
    ButtonImage			= SBEvil_WarChant
	RadiusCursorType    = WarChantRadiusCursor
	InvalidCursorName	= GenericInvalid
	InPalantir		   = Yes
End

CommandButton Command_CreateAHero_BerserkerRage_Level1
	Command                 = SPECIAL_POWER 
	SpecialPower            = SpecialAbilityCrazyOrcBerserkerRage
	TextLabel               = CONTROLBAR:CAH_BerserkerRage_L1
	ButtonImage             = CAHBerserkerRage
	ButtonBorderType        = ACTION 
	DescriptLabel           = CONTROLBAR:ToolTipBerserkerRageCrazyOrc
	InPalantir			  = Yes
	AutoAbility				= Yes ;No?
	AutoDelay = 10.0
End

;=====Buy crazy orc====
CommandButton Command_CreateAHero_A_SpecialAbilityStealth_Level1
	Command				= PLAYER_UPGRADE
	Options				= NEED_UPGRADE CANCELABLE
	NeededUpgrade		= Upgrade_MordorOrcPitLevel3
	Upgrade				= Upgrade_BuyMordorCrazyOrc
	TextLabel			= CONTROLBAR:CrazyOrc
	ButtonImage			= HSStealth
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipRecruitCrazyOrc
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackLevel3OrcPit
End
;===========
;---Crazy Orc End---


;/////////////////////COMMANDSETS//////////////////////////
;---ELVES---
CommandSet ElvenPorterCommandSetNEW
	1 = Command_Stop
	2 = Command_PorterExtinguishFire   
	3 = Command_ConstructElvenBarracks
	4 = Command_ConstructElvenEntMoot
	5 = Command_ConstructElvenStatue
	6 = Command_ConstructElvenWatchTower
	7 = Command_ConstructEregionForge
End

CommandSet ElvenThranduilCommandSetNEW	
	1	= Command_ToggleStance
    2  	= Command_SpecialAbilityDeadEye
	3  	= Command_HaldirFakeLeadershipButton
	4  	= Command_SpecialAbilityThornofVengeance
    12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End

CommandSet ElvenLorienArcherHordeCommandSetNEW
	1 = Command_ToggleStance	
	2 = Command_ArcherBombard
	3 = Command_PurchaseUpgradeElvenSilverthornArrows_LorienArcher ;Command_PurchaseUpgradeElvenSilverthornArrows
	12 = Command_CaptureBuilding
	13 = Command_AttackMove
	14 = Command_Stop
End

CommandSet ElvenMirkwoodArcherHordeCommandSetNEW
	1	= Command_ToggleStance
	2	= Command_ArcherBombard
	3	= Command_PurchaseUpgradeElvenSilverthornArrows
	12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End

;-------------Elven Barracks---------------------
CommandSet ElvenBarracksCommandSetNEW
	1 = Command_ConstructElvenLorienArcherHorde
	2 = Command_ConstructElvenMirkwoodArcherHorde
	3 = Command_ConstructElvenPorter
	4 = Command_GenericReviveSlot1
	5 = Command_GenericReviveSlot2
	6 = Command_PurchaseUpgradeElvenBarracksLevel2
	7 = Command_Sell
End

CommandSet ElvenBarracksCommandSetLevel2NEW
	1 = Command_ConstructElvenLorienArcherHorde
	2 = Command_ConstructElvenMirkwoodArcherHorde
	3 = Command_ConstructElvenPorter
	4 = Command_GenericReviveSlot1
	5 = Command_GenericReviveSlot2
	6 = Command_PurchaseUpgradeElvenBarracksLevel3
	7 = Command_Sell
End

CommandSet ElvenBarracksCommandSetLevel3NEW
	1 = Command_ConstructElvenLorienArcherHorde
	2 = Command_ConstructElvenMirkwoodArcherHorde
	3 = Command_ConstructElvenPorter
	4 = Command_GenericReviveSlot1
	5 = Command_GenericReviveSlot2
	6 = Command_Sell
End
;------

;-------------Eregion Forge---------------------
CommandSet EregionForgeCommandSetNEW
	1 = Command_PurchaseTechnologyElvenSilverthornArrows
	2 = Command_PurchaseUpgradeEregionForgeLevel2
	6 = Command_Sell
End

CommandSet EregionForgeCommandSetLevel2NEW
	1 = Command_PurchaseTechnologyElvenSilverthornArrows
	2 = Command_PurchaseUpgradeEregionForgeLevel3
	6 = Command_Sell
End

CommandSet EregionForgeCommandSetLevel3NEW
	1 = Command_PurchaseTechnologyElvenSilverthornArrows
	6 = Command_Sell
End

;---Men---
CommandSet MenPorterCommandSetNEW
	1 = Command_Stop
	2 = Command_PorterExtinguishFire   
	3  = Command_PorterConstructMenArcheryRange
	4  = Command_PorterConstructMenWorkshop
	5  = Command_PorterConstructMenStatue
	6 = Command_PorterConstructMenSentryTower
End

CommandSet GondorFaramirCommandSetNEW
	1	= Command_ToggleStance
	2	= Command_SpecialAbilityCaptainOfGondor
	3	= Command_SpecialAbilityWoundArrow
	4	= Command_SpecialAbilityBoromirForGondor
	5	= Command_SpellBookDunedainAllies
	6	= Command_SpecialAbilityTrainArchers
	12	= Command_CaptureBuilding
	13	= Command_AttackMove
	14	= Command_Stop
End

;-------------Gondor Barracks---------------------
CommandSet GondorArcheryCommandSetNEW
	1 = Command_ConstructGondorArcherHorde
	2 = Command_ConstructGondorRangerHorde
	3 = Command_ConstructMenPorter
	4 = Command_GenericReviveSlot1
	5 = Command_GenericReviveSlot2
	6 = Command_PurchaseTechnologyGondorFireArrows
	7 = Command_PurchaseUpgradeGondorArcheryRangeLevel2
	8 = Command_Sell
End

CommandSet GondorArcheryCommandSetLevel2NEW
	1 = Command_ConstructGondorArcherHorde
	2 = Command_ConstructGondorRangerHorde
	3 = Command_ConstructMenPorter
	4 = Command_GenericReviveSlot1
	5 = Command_GenericReviveSlot2
	6 = Command_PurchaseTechnologyGondorFireArrows
	7 = Command_PurchaseUpgradeGondorArcheryRangeLevel3
	8 = Command_Sell
End

CommandSet GondorArcheryCommandSetLevel3NEW
	1 = Command_ConstructGondorArcherHorde
	2 = Command_ConstructGondorRangerHorde
	3 = Command_ConstructMenPorter
	4 = Command_GenericReviveSlot1
	5 = Command_GenericReviveSlot2
	6 = Command_PurchaseTechnologyGondorFireArrows
	7 = Command_Sell
End

;-------------Dwarves-----------------

CommandSet DwarvenPorterCommandSetNEW
	1  = Command_Stop
	2  = Command_PorterExtinguishFire
	3  = Command_ConstructDwarvenArcheryRange
	4  = Command_ConstructDwarvenForgeWorks
	5  = Command_ConstructDwarvenSentryTower
	6  = Command_ConstructDwarvenStatue
End

CommandSet DwarvenAxeThrowerHordeCommandSetNEW
	1 	= Command_ToggleStance
	2	= Command_ArcherBombard
	3	= Command_PurchaseUpgradeDwarvenForgedBlades
	4	= Command_PurchaseUpgradeDwarvenBasicTraining
	12	= Command_CaptureBuilding
	13	= Command_AttackMove
	14	= Command_Stop
End

CommandSet DwarvenMenOfDaleHordeCommandSetNEW
	1 	= Command_ToggleStance
	2	= Command_ArcherBombard
	3 	= Command_BlackArrows
	4 	= Command_PurchaseUpgradeDwarvenFireArrows
	5 	= Command_PurchaseUpgradeDwarvenBasicTraining
	12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End

CommandSet DwarvenForgeWorksCommandSetNEW
	1 = Command_ConstructDwarvenPorter
 	2 = Command_ConstructDwarvenCatapult
 	3 = Command_UpgradeDwarvenForgeWorksLevel2
 	4 = Command_PurchaseTechnologyDwarvenForgedBlades
 	5 = Command_PurchaseTechnologyDwarvenFlamingShot
 	6 = Command_Sell
End

CommandSet DwarvenForgeWorksCommandSetLevel2NEW
	1 = Command_ConstructDwarvenPorter
 	2 = Command_ConstructDwarvenCatapult
 	3 = Command_UpgradeDwarvenForgeWorksLevel3
 	4 = Command_PurchaseTechnologyDwarvenForgedBlades
 	5 = Command_PurchaseTechnologyDwarvenFlamingShot
 	6 = Command_Sell
End

CommandSet DwarvenForgeWorksCommandSetLevel3NEW
	1 = Command_ConstructDwarvenPorter
 	2 = Command_ConstructDwarvenCatapult
 	3 = Command_PurchaseTechnologyDwarvenForgedBlades
 	4 = Command_PurchaseTechnologyDwarvenFlamingShot
 	6 = Command_Sell
End

;-------------Mordor/Evil--------------
CommandSet MordorPorterCommandSetNEW
	1  = Command_Stop
	2  = Command_PorterExtinguishFire
	3  = Command_PorterConstructMordorSlaughterHouse
	4  = Command_PorterConstructMordorOrcPit
	5  = Command_PorterConstructMordorHaradrimPalace
	6  = Command_PorterConstructMordorSiegeWorks
	7  = Command_ConstructMordorTavern
	8 = Command_PorterconstructMordorBattleTower
	9 = Command_PorterConstructIsengardBattleTower
	10 = Command_PorterConstructWildSentryTower
	11 = Command_ConstructMordorGateWatchersExpansion
End

CommandSet IsengardUrukCrossbowHordeCommandSetNEW
	1	= Command_ToggleStance	
	2	= Command_ArcherBombard		
	3 	= Command_PurchaseUpgradeIsengardFireArrows
	12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End



;---Mordor Hero---
CommandSet MordorCrazyArcherCommandSet
	1 = Command_ToggleStance
	2 = Command_GoblinArcherPoisonArrows
	3 = Command_MouthOfSauronEvilEye
	4 = Command_MountHorseArwen
	5 = Command_SpellBookWarChant ;Command_CreateAHero_HowlOfRage_Level1
	6 = Command_CreateAHero_BerserkerRage_Level1 ;NewBerserkerRage!
End

;---Orc pit---
CommandSet MordorOrcPitCommandSetLevel1NEW
  1	= Command_ConstructMordorOrcArcherHorde
  2	= Command_ConstructIsengardUrukCrossbowHorde
  3 = Command_CreateAHero_A_SpecialAbilityStealth_Level1
  4	= Command_ConstructMordorPorter
  5 = Command_UpgradeMordorOrcPitLevel2
  6	= Command_Sell
End

CommandSet MordorOrcPitCommandSetLevel2NEW
  1	= Command_ConstructMordorOrcArcherHorde
  2	= Command_ConstructIsengardUrukCrossbowHorde
  3 = Command_CreateAHero_A_SpecialAbilityStealth_Level1
  4	= Command_ConstructMordorPorter
  5 = Command_UpgradeMordorOrcPitLevel3
  6	= Command_Sell
End

CommandSet MordorOrcPitCommandSetLevel3NEW
  1	= Command_ConstructMordorOrcArcherHorde
  2	= Command_ConstructIsengardUrukCrossbowHorde
  3 = Command_CreateAHero_A_SpecialAbilityStealth_Level1
  4	= Command_ConstructMordorPorter
  6	= Command_Sell
End

CommandSet MordorOrcPitCommandSetLevel3HeroBought
  1	= Command_ConstructMordorOrcArcherHorde
  2	= Command_ConstructIsengardUrukCrossbowHorde
  3	= Command_ConstructMordorPorter
  6	= Command_Sell
End

;---Haradrim palace---
CommandSet MordorHaradrimPalaceCommandSetLevel1NEW
  1	= Command_ConstructMordorHaradrimLancerHordeInn
  2	= Command_ConstructMordorHaradrimArcherHorde
  3 = Command_UpgradeMordorHaradrimPalaceLevel2
  6	= Command_Sell
End

CommandSet MordorHaradrimPalaceCommandSetLevel2NEW
  1	= Command_ConstructMordorHaradrimLancerHordeInn
  2	= Command_ConstructMordorHaradrimArcherHorde
  3 = Command_UpgradeMordorHaradrimPalaceLevel3
  6	= Command_Sell
End

CommandSet MordorHaradrimPalaceCommandSetLevel3NEW
  1	= Command_ConstructMordorHaradrimLancerHordeInn
  2	= Command_ConstructMordorHaradrimArcherHorde
  6	= Command_Sell
End

;---Tavern---
CommandSet MordorTavernCommandSetLevel1NEW
	1	= Command_ConstructMordorCorsairsOfUmbarHorde
	2	= Command_PurchaseTechnologyMordorFireArrows ; ;4
	3	= Command_UpgradeMordorTavernLevel2	; ;5
	6	= Command_Sell ; ;6
End

CommandSet MordorTavernCommandSetLevel2NEW
	1	= Command_ConstructMordorCorsairsOfUmbarHorde
	2	= Command_PurchaseTechnologyMordorFireArrows ; ;4
	3	= Command_UpgradeMordorTavernLevel3; ;5
	6	= Command_Sell ; ;6
End

CommandSet MordorTavernCommandSetLevel3NEW
	1	= Command_ConstructMordorCorsairsOfUmbarHorde
	2	= Command_PurchaseTechnologyMordorFireArrows ; ;4
	6 	= Command_Sell ; ;5
End

;---SiegeWorks---
CommandSet MordorSiegeWorksCommandSetLevel1NEW
  1	= Command_ConstructMordorCatapult
  2	= Command_ConstructIsengardBallista
  3	= Command_UpgradeMordorSiegeWorksLevel2
  6	= Command_Sell
End

CommandSet MordorSiegeWorksCommandSetLevel2NEW
  1	= Command_ConstructMordorCatapult
  2	= Command_ConstructIsengardBallista
  3	= Command_UpgradeMordorSiegeWorksLevel3
  6	= Command_Sell
End

CommandSet MordorSiegeWorksCommandSetLevel3NEW
  1	= Command_ConstructMordorCatapult
  2	= Command_ConstructIsengardBallista
  6	= Command_Sell
End

;-----Mordor Battle tower-----
CommandSet MordorBattleTowerCommandSetNEW
	1	= Command_PurchaseSentryTowerFireArrowsUpgrade
	6	= Command_Sell
End

CommandSet IsengardBattleTowerCommandSet
	1 = Command_ExitGarrison
	2 = Command_PurchaseSentryTowerFireArrowsUpgrade
	6 = Command_Sell
	12 = Command_Evacuate ; ;
End

;/////////////////////UPGRADED COMMANDBUTTONS//////////////////////////
;---Upgraded buttons come after the standard ones since they have the same name
;---and simply replace the old ones by being placed below them in the ini.
;UNUSED
;/////////////////////UPGRADED COMMANDSETS//////////////////////////
;UNUSED
;/////////////////////OBJECTCREATIONLIST//////////////////////////

ObjectCreationList OCL_SpawnDunedainRangersNEW
	CreateObject
		ObjectNames = GondorRangerInnHorde
		Count = 1 ;3 ; ;4
		FadeIn = Yes
		FadeTime = 8000
		IgnoreCommandPointLimit = Yes
		Disposition = LIKE_EXISTING ;SPAWN_AROUND
		DispositionAngle = 90	;SpawnAround uses this as the arc between guys
		DispositionIntensity = 300 ; and this for distance from center
	End
End

;/////////////////////OBJECTS//////////////////////////
;-------------Units--------------
;---NEUTRAL---
Object TomBombadil ;object\Goodfaction\Generic\tombombadil.ini

	HealthBoxScale		= 10.0
	HealthBoxHeightOffset	= 20
	
	;Body = ActiveBody ModuleTag_02
	;	CheerRadius 	  = EMOTION_CHEER_RADIUS
	;	MaxHealth         = TOM_BOMBADIL_HEALTH		
	;	;RecoveryTime     = TOM_BOMBADIL_HEALTH_RECOVERY_TIME
	;End
End

;---ELVES---
ChildObject ElvenThranduil ElvenThranduil
CommandSet = ElvenThranduilCommandSetNEW
AutoResolveLeadership = AutoResolve_HaldirBonus
	
	;Leadership
 		Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
			StartsActive						= No
			BonusName							= GenericDamageLeadership ; ;GenericHeroLeadership
			TriggeredBy							= Upgrade_HaldirLeadership
			RefreshDelay						= 2000
			Range								= 275 ;;=;; 200
			; ;AntiCategory						= BUFF
			ObjectFilter						= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
 		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_HaldirLeadership
			SpecialPowerTemplate				= SpecialAbilityFakeLeadership
			TriggeredBy							= Upgrade_HaldirLeadership
		End
 		Behavior = SpecialPowerModule ModuleTag_HaldirLeadershipUpdate
			SpecialPowerTemplate				= SpecialAbilityFakeLeadership
			UpdateModuleStartsAttack			= No
			StartsPaused						= Yes
		End
 		Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadeyeUpdate
			SpecialPowerTemplate    = SpecialAbilityThranduilDeadeye
			HeroEffectDuration		= 36000 ;25000	
			HeroAttributeModifier	= DeadEye
			UnpackTime              = 1
			TriggerSound			= CaH_Invulnerability
			PackTime				= 2500
			UnpackingVariation		= 1
		End
END

Object ElvenLorienArcher
	CommandPoints = 3
END

Object ElvenLorienArcherHorde
	BuildCost = 410
	BuildTime = 40
	CommandPoints = 45
	CommandSet = ElvenLorienArcherHordeCommandSetNEW
	
	ReplaceModule ModuleTag_BasicTraining
		Behavior = LevelUpUpgrade ModuleTag_BasicTraining_Override
			TriggeredBy = Upgrade_ElvenBasicTrainingNEW
			LevelsToGain = 1
			LevelCap = 2
		End
	End
END

Object ElvenMirkwoodArcher
	CommandPoints = 4
End

Object ElvenMirkwoodArcherHorde
	BuildCost = 940
	BuildTime = 58
	CommandPoints = 60
	CommandSet = ElvenMirkwoodArcherHordeCommandSetNEW
	
	ReplaceModule ModuleTag_BasicTraining
		Behavior = LevelUpUpgrade ModuleTag_BasicTraining_Override
			TriggeredBy = Upgrade_ElvenBasicTrainingNEW
			LevelsToGain = 1
			LevelCap = 2
		End
	End
END

Object ElvenLorienWarrior
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			CheerRadius 	  = EMOTION_CHEER_RADIUS
			MaxHealth         = 220 ;ELVEN_LORIENWARRIOR_HEALTH
			MaxHealthDamaged  = 90 ;ELVEN_LORIENWARRIOR_HEALTH_DAMAGED		
			BurningDeathBehavior = Yes
			BurningDeathFX       = FX_InfantryBurningFlame
		End
	End
	
	;ArmorSet
	;	Conditions      = None
	;	Armor           = SoldierArmor
	;	DamageFX        = NormalDamageFX
	;End
	;ArmorSet
	;	Conditions      = PLAYER_UPGRADE
	;	Armor           = SoldierHeavyArmor
	;	DamageFX        = NormalDamageFX
	;End
END

Object RohanEntBase
	ArmorSet
		Conditions      = None
		Armor           = EntArmor_NEW
		DamageFX        = EntDamageFX
	End
End

Object RohanGenericEnt ;Randomized ent
	BuildCost = 300
	CommandPoints = 10
End

Object RohanTreeBerd ;Yes, EA named him Treeberd lol
	BuildCost = 500
	CommandPoints = 10
End

Object ElvenPorter
	BuildCost = 350
	CommandSet = ElvenPorterCommandSetNEW
End

Object ElvenLegolas
	ReplaceModule ModuleTag_RespawnBody
		Body = RespawnBody ModuleTag_RespawnBody_Override
			CheerRadius 			= EMOTION_CHEER_RADIUS
			MaxHealth         		= 4000 ;LEGOLAS_HEALTH ;2500
			PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
			DodgePercent      		= HERO_DODGE_PERCENT
		End
	End
END

Object ElvenHaldir
	ReplaceModule ModuleTag_RespawnBody
		Body = RespawnBody ModuleTag_RespawnBody_Override
			CheerRadius							= EMOTION_CHEER_RADIUS
			MaxHealth							= 4000 ;HALDIR_HEALTH ;2000
			PermanentlyKilledByFilter			= NONE
			DodgePercent						= HERO_DODGE_PERCENT
		End
	End
END

Object ElvenGaladriel

	HealthBoxScale		= 5.0
	HealthBoxHeightOffset	= 10
	
	ReplaceModule ModuleTag_Body
		Body = ActiveBody ModuleTag_Body_Override
			MaxHealth         			= 8000 ;5000 ;GALADRIEL_HEALTH
		End
	End
End

Object ElvenCeleborn
End

;---Men---

;---Egg Objects---
Object DunedainAlliesSummonEgg
	ReplaceModule ModuleTag_HatchProcess
		Behavior = SlowDeathBehavior ModuleTag_HatchProcess_Override
			DestructionDelay = 2000
			OCL = FINAL OCL_SpawnDunedainRangersNEW
		End
	End
End
;---

Object MenPorter
	BuildCost = 250
	CommandSet = MenPorterCommandSetNEW
End

Object GondorTrebuchet
	BuildCost = 180
	CommandPoints = 10
End

Object GondorTowerShieldGuard
	ArmorSet
		Conditions      = None
		Armor           = TowerGuardArmor_NEW
		DamageFX        = NormalDamageFX
	End
End

Object GondorArcher
	CommandPoints = 2
End

Object GondorArcherHorde
	BuildCost = 290
	BuildTime = 35
	CommandPoints = 30
End

Object GondorRanger
	CommandPoints = 4
End

Object GondorRangerHorde
	BuildCost = 850
	BuildTime = 45
	CommandPoints = 40
End

;/////////Dunedain Rangers/////////////////
ChildObject GondorRanger_Summoned GondorRangerInn
	CommandPoints = 0
End


ChildObject GondorRangerInnHorde GondorRangerHorde
	BuildCost = INN_UNIT_BUILDCOST_MEN
	EquivalentTo = GondorRangerHorde_Summoned
	ReplaceModule ModuleTag_HordeContain
		Behavior = HordeContain ModuleTag_HordeContain_Override
			FrontAngle = 270
			FlankedDelay = 2000
			ObjectStatusOfContained = 
			InitialPayload = GondorRanger_Summoned GOOD_MEN_HORDE_SIZE
			Slots = 10
			PassengerFilter = NONE +INFANTRY
			ShowPips = No
			ThisFormationIsTheMainFormation = Yes	//Used to determine which armorset to use (and anything else we want!)
			RandomOffset=X:4 Y:4
			MeleeBehavior = Amoeba
			End
			
			// Banner Carrier info		
			BannerCarriersAllowed	= GondorInfantryBanner										// types of units that are allowed as banner carriers
			BannerCarrierPosition	= UnitType:GondorRanger_Summoned		Pos:X:-20.0 Y:0.0		// (DEFAULT) position of banner carrier
			
			// Positions for 5
			RankInfo = RankNumber:1 UnitType:GondorRanger_Summoned Position:X:20 Y:0	Position:X:15 Y:20	Position:X:15 Y:-20	Position:X:0 Y:40	Position:X:0 Y:-40 
			RankInfo = RankNumber:2 UnitType:GondorRanger_Summoned Position:X:-55 Y:0	Position:X:-50 Y:20	Position:X:-50 Y:-20	Position:X:-30 Y:40	Position:X:-30 Y:-40 

			RanksToReleaseWhenAttacking = 1 2 
					
			MeleeAttackLeashDistance = 1   //How far the hordes	can	move from the center of	the	horde when melee attacking.				  
			BackUpMinDelayTime		 = 1	//The minimum amount of	time to	delay before backing up
			BackUpMaxDelayTime		 = 3000	//The maximum amount of	time to	delay before backing up
			BackUpMinDistance		 = 1	//The minimum number of	cells to backup
			BackUpMaxDistance		 = 3	//The maximum number of	cells to backup
			BackupPercentage		 = 80%	//The amount of	chance that	a unit will	back up.
		End
	End
End

Object GondorGandalf

	HealthBoxScale		= 5.0
	HealthBoxHeightOffset	= 10
	
	ReplaceModule ModuleTag_RespawnBody
		Body = RespawnBody ModuleTag_RespawnBody_Override
			CheerRadius 			= EMOTION_CHEER_RADIUS
			MaxHealth         		= 7500 ;GANDALF_THE_WHITE_HEALTH
			PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
			DodgePercent      		= HERO_DODGE_PERCENT
		End
	End
End

Object RohanFrodo
	ReplaceModule ModuleTag_ActiveBody
		Body = ActiveBody ModuleTag_ActiveBody_Override
			MaxHealth         = 1300
		End
	End
End

Object RohanMerry
	ReplaceModule ModuleTag_ActiveBody
		Body = ActiveBody ModuleTag_ActiveBody_Override
			MaxHealth         = 900
		End
	End
End

Object RohanPippin
	ReplaceModule ModuleTag_ActiveBody
		Body = ActiveBody ModuleTag_ActiveBody_Override
			MaxHealth         = 900
		End
	End
End

Object RohanSam
	ReplaceModule ModuleTag_ActiveBody
		Body = ActiveBody ModuleTag_ActiveBody_Override
			MaxHealth         = 1100
		End
	End
End

Object GondorIsildur

	HealthBoxScale		= 5.0
	HealthBoxHeightOffset	= 10

	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			MaxHealth         = 20000 ;ISILDUR_HEALTH
			MaxHealthDamaged  = 7500
			RecoveryTime      = 5000
		End
	End
	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
End

Object GondorFaramir
	;BuildCost = 2000
	;CommandPoints = 10
	CommandSet = GondorFaramirCommandSetNEW
	
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroBattleRageEnabler_Level4
			SpecialPowerTemplate = SpecialAbilityCreateAHeroBattleRage_Level4
			TriggeredBy			 = Upgrade_CreateAHeroBattleRage_Level4
		End
	End
	
	AddModule
		Behavior = SpecialPowerModule ModuleTag_CreateAHeroBattleRagePower_Level4
			SpecialPowerTemplate		 = SpecialAbilityCreateAHeroBattleRage_Level4
			UpdateModuleStartsAttack	 = No
			StartsPaused				 = Yes
			AttributeModifier			 = CreateAHeroBattleRageBonus_Level4NEW
			AttributeModifierRange		 = 1
			AttributeModifierAffectsSelf = Yes
			AttributeModifierAffects	 = ANY +CAVALRY	+INFANTRY
		End
	End
	
	AddModule
		Behavior = SpecialAbilityUpdate ModuleTag_CreateAHeroBattleRagePowerUpdate_Level4
			SpecialPowerTemplate    = SpecialAbilityCreateAHeroBattleRage_Level4
			UnpackTime             = 1  ;// (changing this will scale anim speed)
			PreparationTime        = 1 ;// time to complete hack once prepared (changing this will scale anim speed)
			PackTime               = 3000  ;// (changing this will scale anim speed)
			UnpackingVariation	   = 6
		End
	End
	
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroHotWSummonAllies_Level4
			SpecialPowerTemplate = SpecialAbilityFaramirSummonDunedain ;SpecialAbilityCreateAHeroHotWSummonAllies_Level4
			TriggeredBy			 = Upgrade_CreateAHeroHotWSummonAllies_Level4
		End
	End

	AddModule
		Behavior = OCLSpecialPower ModuleTag_OCLSpecialPowerHotWSummonAllies_Level4
			SpecialPowerTemplate	= SpecialAbilityFaramirSummonDunedain ;SpecialAbilityCreateAHeroHotWSummonAllies_Level4
			OCL						= OCL_SpawnDunedainRangersEgg ;OCL_CreateAHeroHotWSpawnAllies_Level4
			TriggerFX				= FX_DunedainSummon
			CreateLocation			= CREATE_AT_LOCATION
			StartsPaused			= Yes
			SetModelCondition		= ModelConditionState:USER_1
			SetModelConditionTime	= 8.1
		End
	End
	
	;--------------------- Start Leadership bonus ---------------
	AddModule
		Behavior = AttributeModifierAuraUpdate ModuleTag_BoromirLeadership
			StartsActive	= No ;If no, requires upgrade to turn on.
			BonusName		= GenericDamageLeadership ; ;GenericHeroLeadership
			TriggeredBy		= Upgrade_BoromirForGondorSpeech
			RefreshDelay	= 2000
			Range			= 275 ;;=;; 200
			;AntiCategory	= BUFF
			ObjectFilter	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
	End
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseLeadership
			SpecialPowerTemplate = SpecialAbilityFakeLeadership
			TriggeredBy = Upgrade_BoromirForGondorSpeech
		End
	End
	AddModule
		Behavior = SpecialPowerModule ModuleTag_BoromirLeadershipUpdate   
			SpecialPowerTemplate      = SpecialAbilityFakeLeadership
			UpdateModuleStartsAttack  = No
			StartsPaused = Yes
		End
	End
	;--------------------- End Leadership bonus ---------------
	
	AutoResolveLeadership = AutoResolve_BoromirBonus
	
	ReplaceModule ModuleTag_UnpauseWoundArrow
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseWoundArrow_Override
			SpecialPowerTemplate		= SpecialAbilityWoundArrow
			TriggeredBy					= Upgrade_FaramirWoundingArrow
		End
	End
	
	RemoveModule ModuleTag_FaramirLeadership
	RemoveModule ModuleTag_TheodenLeadership

End

;---Dwarves---
Object DwarvenPorter
	CommandSet = DwarvenPorterCommandSetNEW
	BuildCost = 20
	BuildTime = 15
End

Object DwarvenAxeThrower
	CommandPoints = 4
	
	ArmorSet
		Conditions      = None
		Armor           = DwarvenAxeThrowerArmor_NEW
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = DwarvenAxeThrowerHeavyArmor_NEW
		DamageFX        = NormalDamageFX
	End
	
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			CheerRadius 	  = EMOTION_CHEER_RADIUS
			MaxHealth         = 320 ;DWARVEN_AXETHROWER_HEALTH ;240(1.06)
			MaxHealthDamaged  = DWARVEN_AXETHROWER_HEALTH_DAMAGED
			BurningDeathBehavior = Yes
			BurningDeathFX       = FX_InfantryBurningFlame
		End
	End
END

Object DwarvenAxeThrowerHorde
	BuildCost = 200
	BuildTime = 60
	CommandPoints = 60
	CommandSet = DwarvenAxeThrowerHordeCommandSetNEW
End

Object DwarvenGuardian
	ArmorSet
		Conditions      = None
		Armor           = DwarvenGuardianArmor_NEW
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = DwarvenGuardianHeavyArmor_NEW
		;DamageFX       = NormalDamageFX
	End
	
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			CheerRadius 		= EMOTION_CHEER_RADIUS
			MaxHealth			= 420 ;DWARVEN_GUARDIAN_HEALTH ;400(1.06)
			MaxHealthDamaged	= DWARVEN_GUARDIAN_HEALTH_DAMAGED
			BurningDeathBehavior = Yes
			BurningDeathFX       = FX_InfantryBurningFlame
		End
	End	
END

Object DwarvenPhalanx
	ArmorSet
		Conditions      = None
		Armor           = DwarvenPikemenArmor_NEW
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = DwarvenPikemenHeavyArmor_NEW
		DamageFX        = NormalDamageFX	
	End

	ReplaceModule ModuleTag_porcupineFormation
		Body = PorcupineFormationBodyModule ModuleTag_porcupineFormation_Override
			CheerRadius 				=	EMOTION_CHEER_RADIUS
			MaxHealth					=	420 ;DWARVEN_PHALANX_HEALTH ;500(1.06)				
			MaxHealthDamaged			=	DWARVEN_PHALANX_HEALTH_DAMAGED		
			;//RecoveryTime				=	DWARVEN_PHALANX_HEALTH_RECOVERY_TIME	
			DamageWeaponTemplate		=	PikemenPorcupineDamage
			CrushDamageWeaponTemplate	=	PikemenPorcupineCrushDamage
			CrusherLevelResisted		=	1	;//What crusher level can I resist?: 1 = infantry, 2 = trees, 3 = vehicles
			BurningDeathBehavior 		=	Yes
			BurningDeathFX       		=	FX_InfantryBurningFlame
		End
	End
End

Object DwarvenMenOfDale
	CommandPoints = 4
	
	ArmorSet
		Conditions		= PLAYER_UPGRADE
		Armor			= DwarvenMenOfDaleHeavyArmor_NEW
		DamageFX		= NormalDamageFX
	End
End

Object DwarvenMenOfDaleHorde
	BuildCost = 300
	BuildTime = 40
	CommandPoints = 40
	CommandSet = DwarvenMenOfDaleHordeCommandSetNEW
End

Object DwarvenCatapult
	BuildCost = 300
	CommandPoints = 10
End

;---Mordor---
Object MordorPorter
	BuildCost = 200
	CommandSet = MordorPorterCommandSetNEW
End

Object MordorArcher
	CommandPoints = 2
End

Object MordorArcherHorde
	BuildCost = 120
	BuildTime = 20
	CommandPoints = 30
End

Object MordorHaradrimArcher
	CommandPoints = 5
End

Object MordorHaradrimArcherHorde
	BuildCost = 420
	CommandPoints = 50
End

Object MordorHaradrimLancer
	CommandPoints = 3
End

Object MordorHaradrimLancerHorde
	BuildCost = 170
	CommandPoints = 30
End

Object MordorEasterling
	ArmorSet
		Conditions					=	PLAYER_UPGRADE
		Armor						=	RhunHeavyArmor_NEW
		DamageFX					=	NormalDamageFX
	End
End

Object MordorMumakil
	ArmorSet
		Conditions      = None
		Armor           = MumakilArmor_NEW
		DamageFX        = MumakilDamageFX
	End
	
	ReplaceModule ModuleTag_02
		Body = DelayedDeathBody ModuleTag_02_Override
			CheerRadius 				= EMOTION_CHEER_RADIUS
			MaxHealth				= 7500 ;MORDOR_MUMAKIL_HEALTH			; BALANCE Mumakil Health
			DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
			DelayedDeathTime			= 5000
			CanRespawn				= No			; Unit can't get revived.
			ImmortalUntilDeathTime		= No			; Not immune to damage during rampage.  So you can keep him from running stuff over.
			BurningDeathBehavior		= Yes
			BurningDeathFX				= FX_CavalryBurningFlame
		End
	End
END

Object MordorAttackTroll
	ReplaceModule ModuleTag_02
		Body = DelayedDeathBody ModuleTag_02_Override
			CheerRadius					= EMOTION_CHEER_RADIUS
			MaxHealth					= 5000 ;MORDOR_ATTACKTROLL_HEALTH
			MaxHealthDamaged				= MORDOR_ATTACKTROLL_HEALTH_DAMAGED
			MaxHealthReallyDamaged				= MORDOR_ATTACKTROLL_HEALTH_RAMPAGE_DAMAGED
			DoHealthCheck					= No
			DelayedDeathTime				= 5000
			CanRespawn					= No
		End
	End
END

Object MordorWitchKing

	HealthBoxScale		= 5.0
	HealthBoxHeightOffset	= 10
	
	ReplaceModule ModuleTag_02
		Body = RespawnBody ModuleTag_02_Override
			CheerRadius 				= EMOTION_CHEER_RADIUS
			MaxHealth         			= 23000 ;WITCHKING_ON_FELLBEAST_HEALTH ;8000
			PermanentlyKilledByFilter	= NONE
			BurningDeathBehavior		= Yes
			BurningDeathFX				= FX_InfantryBurningFlame
		End
	End
END

Object MordorBalrog
	
	ArmorSet
		Conditions      = None
		Armor           = BalrogArmor_NEW
		DamageFX        = NormalDamageFX
	End
	RemoveModule ModuleTag_LifetimeUpdate
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			MaxHealth = 16000 ;BALROG_HEALTH
		End	
	End
END

Object MordorSauron_RingHero
	HealthBoxScale		= 8.0
	HealthBoxHeightOffset	= 15
END

Object MordorGrond
	ReplaceModule ModuleTag_04
		Body                  = ActiveBody ModuleTag_04_Override
			CheerRadius 	  = EMOTION_CHEER_RADIUS
			MaxHealth         = 11000 ;MORDOR_GROND_HEALTH 8000              
			MaxHealthDamaged  = 5000 ;MORDOR_GROND_HEALTH_DAMAGED
		End
	End
END

;///////////////////////MORDOR CRAZY ORC START////////////////////////////

Object ElvenElrond ;====MORDOR CRAZY ARCHER

	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT HEAVY_MELEE_HITTER
	PathfindDiameter = 40.0
	
	Scale = 1.2
	; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = WOR_OrcArcher
	SelectPortrait         = UPMordor_OrcArcher
	UpgradeCameo1           = Upgrade_FireArrows
	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Faramir
	
	
		; ***DESIGN parameters ***
	Side = Mordor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = CHARACTER_UNIT
	EmotionRange = 240
	BuildCost = 888
	CommandPoints = 20
	DisplayName = OBJECT:MordorArcher
	Hotkey		= CONTROLBAR:GondorDamrodHotkey
	CommandSet = MordorCrazyArcherCommandSet ;MordorArcherCommandSet
	
	RadarPriority = UNIT
	ShroudClearingRange = SHROUD_CLEAR_FLIER
	VisionRange			= VISION_FLIER	
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 1.0%
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG	
	TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
	
	
	;///////////////////CHANGE TEXTURE//////////////////////////
	AddModule
		Behavior = GrantUpgradeCreate ModuleTag_1
			UpgradeToGrant = Upgrade_GandalfWhite
		End
		Behavior = SubObjectsUpgrade Costume_3
			TriggeredBy		= Upgrade_GandalfWhite
			UpgradeTexture	= muorcarchr_l.tga 0 mushelobblack.tga ;guporter_coals.tga ; 
			UpgradeTexture	= muorcarchr.tga 0 mushelobblack.tga ;guporter_coals.tga ; 
			RecolorHouse	= No
		End
	End
	;///////////////////////
	
	AddModule
		Behavior = GrantUpgradeCreate ModuleTag_1232
			UpgradeToGrant = Upgrade_MordorFireArrows
		End
	End

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GoblinArcherBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY	GoblinArcherPoisonArrows
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = HeroLightArmor
		DamageFX        = NormalDamageFX
	End
	
	AddModule
		Behavior = WeaponSetUpgrade ModuleTag_Fire
			TriggeredBy = Upgrade_MordorFireArrows
		End

		Behavior = SubObjectsUpgrade FireArrows_Upgrade
			TriggeredBy		= Upgrade_MordorFireArrows
			ShowSubObjects	= ARROWFIRE
			HideSubObjects	= arrrow			; yes, it's a typo.
		End
	End

	;=====================ANIMATIONS AND MODEL CONDITIONS=================
	ReplaceModule ModuleTag_DRAW
		Draw = W3DScriptedModelDraw ModuleTag_DRAW_Override

			OkToChangeModelColor = Yes
			StaticModelLODMode = Yes
			ParticlesAttachedToAnimatedBones = yes
			ExtraPublicBone = arrow

		;========= WITH BOW

			DefaultModelConditionState
				Model						= MUOrcArchr_SKN
				Skeleton					= MUOrcArchr_SKL
				WeaponLaunchBone			= PRIMARY ARRROW
				WeaponLaunchBone			= TERTIARY ARRROW
			End
			
		;========= WITH BOW UPGRADE

			ModelConditionState			WEAPONSET_PLAYER_UPGRADE
				Model						= MUOrcArchr_SKN
				Skeleton					= MUOrcArchr_SKL
				WeaponLaunchBone			= PRIMARY ARRROW
				WeaponLaunchBone			= TERTIARY ARRROW
				;ParticleSysBone				= arrowFire arrowFire FollowBone:Yes
			End

		;========= DEFAULT IDLE ANIMATIONS

			IdleAnimationState
				StateName = STATE_Idle
					Animation = IDLA
					AnimationName		= MUOrcArchr_IDLA
					AnimationMode		= ONCE
					AnimationPriority	= 6
					AnimationSpeedFactorRange = 0.8 1.2
					AnimationBlendTime  = 15
				End
				;*** Repeat IDLA because animation priorities will not choose same animation twice so it can alternate between first two mostly.
				StateName = STATE_Idle
					Animation = IDLA
					AnimationName		= MUOrcArchr_IDLA
					AnimationMode		= ONCE
					AnimationPriority	= 6
					AnimationSpeedFactorRange = 0.8 1.2
					AnimationBlendTime  = 15
				End
				Animation = IDLC
					AnimationName		= MUOrcArchr_IDLC
					AnimationMode		= ONCE
					AnimationPriority	= 1
					AnimationSpeedFactorRange = 0.8 1.2
					AnimationBlendTime  = 15
				End
				Animation = IDLD
					AnimationName		= MUOrcArchr_IDLD
					AnimationMode		= ONCE
					AnimationPriority	= 1
					AnimationSpeedFactorRange = 0.8 1.2

					AnimationBlendTime  = 15
				End
				
				BeginScript
					CurDrawableShowSubObject("arrownock") ;Circumvents blend issues when the arrow is being shown...

					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Selected"	then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
				EndScript
			End
			
		;========== DYING
			
			AnimationState = DYING
				Animation = Dying1
					AnimationName = MUOrcArchr_DIEA
					AnimationMode = ONCE
					AnimationPriority = 20
				End
				Animation = Dying2
					AnimationName = MUOrcArchr_DIEB
					AnimationMode = ONCE
					AnimationPriority = 1
				End
				Animation = Dying3
					AnimationName = MUOrcArchr_DIEC
					AnimationMode = ONCE
					AnimationPriority = 5
				End
				Animation = Dying4
					AnimationName = MUOrcArchr_DIED
					AnimationMode = ONCE
					AnimationPriority = 15
				End
			End


		;========= BACKING UP

			AnimationState = MOVING BACKING_UP
				ShareAnimation = Yes
				Animation = Backing_Up_3
					AnimationName = MUOrcArchr_BAKC
					AnimationMode = LOOP
				End
			End    
			   
		;========= MOVING

			AnimationState					=	MOVING WANDER
				ShareAnimation = Yes
				Animation					=	Wander1
					AnimationName			=	MUOrcArchr_WLKA 
				End
				Animation					=	Wander2
					AnimationName			=	MUOrcArchr_WLKB ;20
				End
				Flags						=	RANDOMSTART
			End

			AnimationState = MOVING
				ShareAnimation = Yes
				Animation = Moving
					AnimationName = MUOrcArchr_RUNB
					AnimationMode = LOOP
					AnimationSpeedFactorRange = 0.8 0.8
				End
				Animation = Moving
					AnimationName = MUOrcArchr_RUNC
					AnimationMode = LOOP
					AnimationSpeedFactorRange = 0.8 0.8
				End
				Animation = Moving
					AnimationName = MUOrcArchr_RUND
					AnimationMode = LOOP
					AnimationSpeedFactorRange = 0.8 0.8
				End
				ParticleSysBone = None InfantryDustTrails
				BeginScript
					CurDrawableShowSubObject("arrownock") ;Circumvents blend issues when the arrow is being shown...
				EndScript
			End
			
			
			AnimationState					=	FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
				Animation					=	BowPunchWhenClose
					AnimationName			=	MUOrcArchr_ATKD 
					AnimationMode			=	ONCE
					UseWeaponTiming			=	Yes
				End
				BeginScript
					CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
				EndScript
			End
			

		;========= NEW STYLE ARCHERY 

			AnimationState					=	PREATTACK_A 
				StateName					=	STATE_PreFiring
				Animation					=	ReadyToDrawn
					AnimationName			=	MUOrcArchr_ATA1
					AnimationMode			=	ONCE
		;				UseWeaponTiming			=	NoNONONOO!!!	; UseWeaponTiming plus random weapon field equals desync.  Leaving as warning
					AnimationBlendTime		=	10
				End
			End

			AnimationState					=	FIRING_OR_RELOADING_A 
				StateName					=	STATE_Firing
				Animation					=	OneFrameOfShooting
					AnimationName			=	MUOrcArchr_ATA2
					AnimationMode			=	ONCE
					AnimationSpeedFactorRange = 1.1 1.1			; Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
					AnimationBlendTime		=	0				; Blend time needs to be zero or else the arrow subobject lingers length of blend.
				End
			End

			AnimationState					=	PREATTACK_C 
				StateName					=	STATE_PreFiring
				Animation					=	ReadyToDrawn
					AnimationName			=	MUOrcArchr_ATA1
					AnimationMode			=	ONCE
					AnimationBlendTime		=	10
				End
			End

			AnimationState					=	FIRING_OR_RELOADING_C
				StateName					=	STATE_Firing
				Animation					=	OneFrameOfShooting
					AnimationName			=	MUOrcArchr_ATA2
					AnimationMode			=	ONCE
					AnimationSpeedFactorRange = 1.1 1.1			; Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
					AnimationBlendTime		=	0				; Blend time needs to be zero or else the arrow subobject lingers length of blend.
				End
			End

		;========= PERSISTANT FIRING (KEEP BOW DRAWN )

			AnimationState					= CONTINUOUS_FIRE_MEAN
				StateName					=	STATE_Coasting
				Animation					=	HangFrameWhileCoasting
					AnimationName			=	MUOrcArchr_ATA2
					AnimationMode			=	MANUAL

				End
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Firing" then CurDrawableAllowToContinue() return end
				EndScript
			End
			
			AnimationState					= CONTINUOUS_FIRE_SLOW
				StateName					= STATE_Idle
				Animation					= PutAwayArrow
					AnimationName			= MUOrcArchr_ATA3
					AnimationMode			= ONCE
				End
			End

		;========= HIT REACTION

			AnimationState = HIT_REACTION
				Animation = Hit_Level_1_a
					AnimationName = MUOrcArchr_HITA
					AnimationMode = ONCE
				End
			End
			
		;========= WAR CHANT 

			AnimationState = WAR_CHANT
				Animation					= TauntingA
					AnimationName			= MUOrcArchr_TNTA
					AnimationMode			= ONCE
				End
				Animation					= TauntingB
					AnimationName			= MUOrcArchr_TNTB
					AnimationMode			= ONCE
				End
				Animation					= TauntingC
					AnimationName			= MUOrcArchr_TNTC
					AnimationMode			= ONCE
				End
				Animation					= TauntingD
					AnimationName			= MUOrcArchr_TNTD
					AnimationMode			= ONCE
				End	
				Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			End

		;========= EMOTIONS ===================================

		;;======= TAUNTING

			AnimationState							= EMOTION_TAUNTING
				Animation							= TNTA
					AnimationName					= MUOrcArchr_TNTA
					AnimationMode					= ONCE
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Animation							= TNTB
					AnimationName					= MUOrcArchr_TNTB
					AnimationMode					= ONCE
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Animation							= TNTC
					AnimationName					= MUOrcArchr_TNTC
					AnimationMode					= ONCE
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Animation							= TNTD
					AnimationName					= MUOrcArchr_TNTD
					AnimationMode					= ONCE
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Flags								= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			End
			
		;;======= POINTING

			AnimationState							= EMOTION_POINTING
				Animation							= Pointing1
					AnimationName					= MUOrcArchr_PNTA
					AnimationMode					= LOOP
				End
			End

		;;======= CELEBRATING
			AnimationState							= EMOTION_CELEBRATING
				Animation							= CHRA1
					AnimationName					= MUOrcArchr_CHRA
					AnimationMode					= Once
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Animation							= CHRA2
					AnimationName					= MUOrcArchr_CHRB
					AnimationMode					= Once
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Animation							= CHRA3
					AnimationName					= MUOrcArchr_CHRC
					AnimationMode					= Once
					AnimationSpeedFactorRange		= 0.8 1.2
				End
				Flags								= RESTART_ANIM_WHEN_COMPLETE
			End
		
		;;======= ALERT

			AnimationState							= EMOTION_ALERT
				Animation							= ALERT
					AnimationName					= MUOrcArchr_IDLB
					AnimationMode					= LOOP
				End
				Flags								= RANDOMSTART
			End

		;;======= SELECTED

			AnimationState = SELECTED
				StateName			= STATE_Selected
				Animation			= Selected
					AnimationName	= MUOrcArchr_ATNB
					AnimationMode	= LOOP
				End
				BeginScript
					Prev = CurDrawablePrevAnimationState()
					if Prev == "STATE_Idle"	then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
				EndScript
			End

		;;======= TRANSITIONS

			TransitionState = TRANS_Idle_to_Selected
				Animation			= Salute
					AnimationName	= MUOrcArchr_ATNA
					AnimationMode	= ONCE
				End		
			End
			
			TransitionState = TRANS_Selected_to_Idle
				Animation			= ATNC
					AnimationName	= MUOrcArchr_ATNC
					AnimationMode	= ONCE
				End		
			End		
		End
	END
	;================END OF ANIMATIONS=================

	; *** AUDIO Parameters ***;

	VoiceAttack 							= OrcArcherVoiceAttackMS
	VoiceAttackAir							= OrcArcherVoiceAttackMS
	VoiceAttackStructure					= OrcArcherVoiceAttackBuilding
	VoiceAttackCharge						= OrcArcherVoiceAttackCharge
	VoiceCreated							= EVA:OrcArchersCreated
	VoiceFullyCreated 						= EVA:OrcArchersCreated
	VoiceGuard								= OrcArcherVoiceMove
	VoiceMove 								= OrcArcherVoiceMoveMS
	VoiceMoveWhileAttacking					= OrcArcherVoiceDisengage
	VoicePriority							= 46
	VoiceRetreatToCastle					= OrcArcherVoiceRetreat
	VoiceSelect 							= OrcArcherVoiceSelectMS
	VoiceSelectBattle						= OrcArcherVoiceSelectBattle

	VoiceEnterStateAttack 					= OrcArcherVoiceEnterStateAttack		
	VoiceEnterStateAttackStructure			= OrcArcherVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackCharge				= OrcArcherVoiceEnterStateAttackCharge
	VoiceEnterStateMove 					= OrcArcherVoiceEnterStateMove		
	VoiceEnterStateMoveWhileAttacking		= OrcArcherVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle			= OrcArcherVoiceEnterStateRetreat
	
	SoundImpact 							= ImpactHorse					;UrukDie

	UnitSpecificSounds
		VoiceGarrison						= OrcArcherVoiceGarrison
		VoiceEnterUnitSlaughterHouse		= OrcArcherVoiceGarrisonSlaughterHouse
		VoiceEnterUnitMordorMumakil			= OrcArcherVoiceEnterMumakil
		VoiceEnterUnitEvilMenTransportShip	= OrcArcherVoiceEnterShip
		VoiceEnterUnitTransportShip			= OrcArcherVoiceEnterShip
		VoiceInitiateCaptureBuilding		= OrcHordeVoiceCaptureBuilding		;OrcArcherVoiceMoveMS
	End

	AddModule
		ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
			MaxUpdateRangeCap = 800
			AnimationSound = Sound:BodyFallOrc			Animation:MUOrcArchr_SKL.MUOrcArchr_DIEA	Frames:20
			AnimationSound = Sound:BodyFallOrc			Animation:MUOrcArchr_SKL.MUOrcArchr_DIEB	Frames:22
			AnimationSound = Sound:BodyFallGeneric2		Animation:MUOrcArchr_SKL.MUOrcArchr_DIEB	Frames:80
			AnimationSound = Sound:BodyFallOrc			Animation:MUOrcArchr_SKL.MUOrcArchr_DIEC	Frames:48
			AnimationSound = Sound:BodyFallOrc			Animation:MUOrcArchr_SKL.MUOrcArchr_DIED	Frames:33
		End
	End

	LocomotorSet
		Locomotor   = HumanLocomotor
		Condition   = SET_NORMAL
		Speed       = 60 ; ; NORMAL_MORDOR_INFANTRY_MEMBER_SPEED
	End
  	
	ReplaceModule ModuleTag_04
		Behavior = PhysicsBehavior ModuleTag_04_Override
			GravityMult = 1.0
			ShockStandingTime = 1200	;msec
		End
	End
	
	;ReplaceModule ModuleTag_StancesBehavior
	;	Behavior = StancesBehavior ModuleTag_StancesBehavior_Override
	;		StanceTemplate = Hero
	;	End
	;End
	
	;RemoveModule ModuleTag_02
	RemoveModule ModuleTag_RespawnBody
	AddModule
		Body = ActiveBody ModuleTag_RespawnBody_Override
			CheerRadius 			= EMOTION_CHEER_RADIUS
			MaxHealth         		= FARAMIR_HEALTH	;BALANCE Faramir Health
			;PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
			DodgePercent      		= HERO_DODGE_PERCENT
		End
	End
	RemoveModule ModuleTag_RespawnUpdate
	;	Behavior = RespawnUpdate ModuleTag_RespawnUpdate_Override
	;		DeathAnim				= DYING				;Model condition to play when killed-to-respawn
	;		DeathFX				= FX_FaramirDieToRespawn	;FXList to play when killed-to-respawn
	;		DeathAnimationTime		= 5000				;How long DeathAnim will take.
	;		InitialSpawnFX			= FX_FaramirInitialSpawn
	;		RespawnAnim				= LEVELED				;Animation to play when respawning.
	;		RespawnFX				= FX_FaramirRespawn		;FXList to play when respawning.
	;		RespawnAnimationTime		= 2000				;Time it takes for respawn to play.
	;		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
	;		ButtonImage				= HIFaramir_res
	;		
	;		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
	;		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
	;		RespawnRules =	AutoSpawn:No		Cost:888		Time:50000		Health:100%		;DEFAULT VALUES
	;		RespawnEntry =	Level:2				Cost:1000		Time:50000						; ;50% cost, 1x buildtime ;For other levels, only override what is different.
	;		RespawnEntry =	Level:3				Cost:1000 		Time:50000
	;		RespawnEntry =	Level:4				Cost:1000 		Time:50000
	;		RespawnEntry =	Level:5				Cost:1300		Time:100000						; ;65% cost, 2x buildtime
	;		RespawnEntry =	Level:6				Cost:1300		Time:100000
	;		RespawnEntry =	Level:7				Cost:1300		Time:100000
	;		RespawnEntry =	Level:8				Cost:1600		Time:150000 					; ;80% cost, 3x buildtime
	;		RespawnEntry =	Level:9				Cost:1600		Time:150000 
	;		RespawnEntry =	Level:10			Cost:1600		Time:150000 
	;	End
	;End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 21;
    ShadowSizeY = 21;
    ShadowTexture = ShadowI;
	
	;=========================POWERS=======================
	;==================WAR CHANT / HOWL OF RAGE
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroHowlOfRageEnabler_Level1
			SpecialPowerTemplate = SpecialAbilityCrazyOrcWarChant
			TriggeredBy			 = Upgrade_CreateAHeroHowlOfRage_Level1
		End 

		Behavior = SpecialPowerModule ModuleTag_CreateAHeroHowlOfRageStarter_Level1
			SpecialPowerTemplate	 = SpecialAbilityCrazyOrcWarChant
			AttributeModifier		 = SpellBookWarChant
			AttributeModifierRange	 = 100
			AttributeModifierAffects = GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
			TriggerFX				 = FX_SpellWarChant
			UpdateModuleStartsAttack = No
			StartsPaused			 = Yes
			TargetEnemy					= No
		End
	End
	;=====================ANNOY OPPONENTS1
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroHowlOfRageEnabler_Level2
			SpecialPowerTemplate = SpecialAbilityAnnoyOpponents
			TriggeredBy			 = Upgrade_CreateAHeroHowlOfRage_Level2
		End 

		Behavior = SpecialPowerModule ModuleTag_CreateAHeroHowlOfRageStarter_Level2
			SpecialPowerTemplate	 = SpecialAbilityAnnoyOpponents
			TriggerFX				 = FX_HowlofRage1
			UpdateModuleStartsAttack = No
			StartsPaused			 = Yes
			;TargetEnemy				 = No
		End
	End
	;========================ANNOY OPPONENTS2
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CreateAHeroHowlOfRageEnabler_Level3
			SpecialPowerTemplate = SpecialAbilityAnnoyOpponents2
			TriggeredBy			 = Upgrade_CreateAHeroHowlOfRage_Level3
		End 

		Behavior = SpecialPowerModule ModuleTag_CreateAHeroHowlOfRageStarter_Level3
			SpecialPowerTemplate	 = SpecialAbilityAnnoyOpponents2
			TriggerFX				 = FX_HowlofRage1
			UpdateModuleStartsAttack = No
			StartsPaused			 = Yes
			;TargetEnemy				 = No
		End
	End
	;=======================SPECIAL HERO MODE; CrazyOrcBerserkerRage
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DeadeyeEnabler
			SpecialPowerTemplate = SpecialAbilityCrazyOrcBerserkerRage
			TriggeredBy = Upgrade_ThranduilDeadeye ;Upgrade_CrazyOrcBerserkerRage
		End
		Behavior = SpecialPowerModule ModuleTag_DeadeyeStarter					; SpecialAbility is a SpecialPower, SpecialPower is anyting special
			SpecialPowerTemplate    = SpecialAbilityCrazyOrcBerserkerRage
			StartsPaused			= Yes
			UpdateModuleStartsAttack = No ; ;Yes
			SetModelCondition		= ModelConditionState:USER_1 ;;=;;
			SetModelConditionTime		= 1.0 ;;=;;
			DisableDuringAnimDuration	= Yes ;;=;;
		End
		Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadeyeUpdate			; So the difference in SpecialAbility is that it takes timing from this Update, instead of simply firing.
			SpecialPowerTemplate    = SpecialAbilityCrazyOrcBerserkerRage
			HeroEffectDuration		= 40000 ; ; 20000	
			UnpackTime              = 1											; insant unpack
			;TriggerSound			= CaH_Invulnerability ; ; AragornBladeMaster
			HeroAttributeModifier	= BerserkerRageNEWYO
			PackTime				= 2500
			UnpackingVariation		= 1
		End
	End
	;=========remove modules
	RemoveModule ModuleTag_ElrondElvenGrace
	RemoveModule ModuleTag_ElrondElvenGraceUpdate
	RemoveModule ModuleTag_ElrondElvenGraceAutoAbility
	RemoveModule ModuleTag_TheodenLeadership
	RemoveModule ModuleTag_TheodenLeadershipUpdate
	RemoveModule ModuleTag_Leadership
	RemoveModule ModuleTag_FarsightUnpause
	RemoveModule ModuleTag_FarsightOCL
	RemoveModule ModuleTag_RestorationUnpause
	RemoveModule ModuleTag_RestorationRefresh
	RemoveModule ModuleTag_RestorationHeal
	RemoveModule ModuleTag_ElrondHealing
	RemoveModule ModulTag_ElrondTornadoEnabler
	RemoveModule ModuleTag_OCLSpawnTornado
	RemoveModule ModuleTag_ElvenGiftBonus
	RemoveModule AthelasAI
	RemoveModule FarsightAI
	RemoveModule WhirlwindAI
	RemoveModule RestorationAI
END
;//////////////////////MORDOR HERO END////////////////////////////

;---Isengard---
Object IsengardUrukCrossbow
	CommandPoints = 3
End

Object IsengardUrukCrossbowHorde
	BuildCost = 350
	BuildTime = 30
	CommandPoints = 45
	CommandSet = IsengardUrukCrossbowHordeCommandSetNEW
End

Object IsengardFighter
	ArmorSet
		Conditions      = None
		Armor           = UrukHaiArmor_NEW
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions		= PLAYER_UPGRADE
		Armor			= UrukHaiHeavyArmor_NEW
		DamageFX		= NormalDamageFX
	End
End

Object IsengardBeserker
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			MaxHealth         = 1800 ;ISENGARD_BERSERKER_HEALTH; 800
			MaxHealthDamaged  = ISENGARD_BERSERKER_HEALTH_DAMAGED
			BurningDeathBehavior	= Yes
			BurningDeathFX			= FX_InfantryBurningFlame
			CheerRadius				= EMOTION_CHEER_RADIUS
			DodgePercent      = 80%		
		End
	End
END

Object IsengardLurtz
	ReplaceModule ModuleTag_RespawnBody
		Body = RespawnBody ModuleTag_RespawnBody_Override
			CheerRadius 			= EMOTION_CHEER_RADIUS
			MaxHealth         		= 3000 ;LURTZ_HEALTH ;2400
			PermanentlyKilledByFilter	= NONE
			DodgePercent     		= HERO_DODGE_PERCENT
		End
	End
END

Object IsengardSaruman

	HealthBoxScale		= 5.0
	HealthBoxHeightOffset	= 10

	ReplaceModule ModuleTag_RespawnBody
		Body = RespawnBody ModuleTag_RespawnBody_Override
			CheerRadius 			= EMOTION_CHEER_RADIUS
			MaxHealth        		= 9000 ;SARUMAN_HEALTH ;3000
			PermanentlyKilledByFilter	= NONE
				DodgePercent      		= HERO_DODGE_PERCENT
			BurningDeathBehavior	= Yes
			BurningDeathFX			= FX_InfantryBurningFlame
			CheerRadius				= EMOTION_CHEER_RADIUS
		End
	End
END

;---Goblins---
Object GoblinArcher
	CommandPoints = 1
End

Object GoblinArcherHorde
	BuildCost = 50
	BuildTime = 30
	CommandPoints = 15
End

Object WildMarauder
	ReplaceModule ModuleTag_porcupineFormation
		Body							= PorcupineFormationBodyModule ModuleTag_porcupineFormation_Override
			CheerRadius 				= EMOTION_CHEER_RADIUS
			MaxHealth					= 800 ;WILD_MARAUDER_HEALTH
			MaxHealthDamaged			= 400 ;WILD_MARAUDER_HEALTH_DAMAGED		
			;RecoveryTime				= WILD_MARAUDER_HEALTH_RECOVERY_TIME	
			DamageWeaponTemplate		= PikemenPorcupineDamage
			CrushDamageWeaponTemplate	= PikemenPorcupineCrushDamage
			CrusherLevelResisted		= 2
			BurningDeathBehavior 		= Yes
			BurningDeathFX       		= FX_InfantryBurningFlame
		End
	End
End

Object WildSpiderling
	ArmorSet
		Conditions      = None
		Armor           = WildSpiderlingArmor_NEW
		DamageFX        = NormalDamageFX
	End
End

Object WildShelob
	Scale = 1.2
	ReplaceModule ModuleTag_RespawnBody
		Body = RespawnBody ModuleTag_RespawnBody_Override
			MaxHealth         = 18000 ;WILD_SHELOB_HEALTH                ;BALANCE Shelob Health
			PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
		End
	End
END

;-------------Structures--------------

;---ELVEN BARRACKS---
Object ElvenBarracks
	BuildCost = 500
	BuildTime = 40
	CommandSet = ElvenBarracksCommandSetNEW
	
	ReplaceModule ModueTag_ElvenBarracksLevel2CommandSet
		Behavior = CommandSetUpgrade ModueTag_ElvenBarracksLevel2CommandSet_Override
			TriggeredBy      = Upgrade_ElvenBarracksLevel2NEW
			ConflictsWith    = Upgrade_ElvenBarracksLevel3NEW
			CommandSet       = ElvenBarracksCommandSetLevel2NEW
		End
	End
	
	ReplaceModule ModueTag_ElvenBarracksLevel3CommandSet
		Behavior = CommandSetUpgrade ModueTag_ElvenBarracksLevel3CommandSet_Override
			TriggeredBy      = Upgrade_ElvenBarracksLevel3NEW
			CommandSet       = ElvenBarracksCommandSetLevel3NEW
		End
	End
	
	ReplaceModule ModuleTag_ShowWallsAndFlag
		Behavior = SubObjectsUpgrade ModuleTag_ShowWallsAndFlag_Override
			TriggeredBy		= Upgrade_ElvenBarracksLevel2NEW
			ShowSubObjects	= V1 V1a
			HideSubObjects	= V2 
		End
	End

	ReplaceModule ModuleTag_ShowTowersAndHideFlag
		Behavior = SubObjectsUpgrade ModuleTag_ShowTowersAndHideFlag_Override
			TriggeredBy		= Upgrade_ElvenBarracksLevel3NEW
			ShowSubObjects	= V1 V1a V2
		End
	End
	
	ReplaceModule ModuleTag_ThirdLevelBuildingArrows
		Behavior = WeaponSetUpgrade ModuleTag_ThirdLevelBuildingArrows_Override
				TriggeredBy		= Upgrade_ElvenBarracksLevel3NEW
		End
	End

	ReplaceModule ModuleTag_ElvenBarracksLevel2
		Behavior = LevelUpUpgrade ModuleTag_ElvenBarracksLevel2_Override
			TriggeredBy    = Upgrade_ElvenBarracksLevel2NEW
			LevelsToGain   = 1
			LevelCap       = 3
		End
	End

	ReplaceModule ModuleTag_ElvenBarracksLevel3
		Behavior = LevelUpUpgrade ModuleTag_ElvenBarracksLevel3_Override
			TriggeredBy    = Upgrade_ElvenBarracksLevel3NEW
			LevelsToGain   = 1
			LevelCap       = 3
		End
	End
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth         = 99999
			MaxHealthDamaged        = 55555 ; ;1000
			MaxHealthReallyDamaged  = 22222 ; ;500
			
			DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
			
			DamageCreationList = OCL_RBBarracks_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
			DamageCreationList = OCL_RBBarracks_Chunk2 CATAPULT_ROCK BACK_DESTROYED
			DamageCreationList = OCL_RBBarracks_Chunk3 CATAPULT_ROCK RIGHT_DESTROYED
			DamageCreationList = OCL_RBBarracks_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
		End
	End
END
;---End of elven barrakcs---

Object ElvenBattleTower
	BuildCost = 290
	BuildTime = 30
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth               = 99999 ; ;1500
			MaxHealthDamaged        = 55555 ; ;1000
			MaxHealthReallyDamaged  = 22222 ; ;500
			DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
			
			DamageCreationList = OCL_GBBtlTwrSD2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
			DamageCreationList = OCL_GBBtlTwrSD2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
			DamageCreationList = OCL_GBBtlTwrSD2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
			DamageCreationList = OCL_GBBtlTwrSD2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
		End
	End
End

Object ElvenStatue
	BuildCost = 1000
	CommandPointBonus = 0
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object ElvenEntMoot
	BuildCost = 250
	BuildTime = 30
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object EregionForge
	CommandSet = EregionForgeCommandSetNEW
	;BuildCost = 10 ;1000
	;BuildTime = 10
	
	ReplaceModule ModueTag_CaveLevel2CommandSet
		Behavior = CommandSetUpgrade ModueTag_CaveLevel2CommandSetNEW
			TriggeredBy      = Upgrade_EregionForgeLevel2
			ConflictsWith    = Upgrade_EregionForgeLevel3
			CommandSet       = EregionForgeCommandSetLevel2NEW
		End
	End
	
	ReplaceModule ModueTag_CaveLevel3CommandSet
		Behavior = CommandSetUpgrade ModueTag_CaveLevel3CommandSetNEW
			TriggeredBy      = Upgrade_EregionForgeLevel3
			CommandSet       = EregionForgeCommandSetLevel3NEW
		End
	End
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
END

;---Men---
Object GondorArcherRange
	BuildCost = 600
	BuildTime = 30
	CommandSet = GondorArcheryCommandSetNEW
	
	ReplaceModule ModueTag_ArcheryRangeLevel2CommandSet
		Behavior = CommandSetUpgrade ModueTag_ArcheryRangeLevel2CommandSet_Override
			TriggeredBy			= Upgrade_GondorArcheryRangeLevel2
			ConflictsWith		= Upgrade_GondorArcheryRangeLevel3
			CommandSet			= GondorArcheryCommandSetLevel2NEW
		End
	End

	ReplaceModule ModueTag_ArcheryRangeLevel3CommandSet
		Behavior = CommandSetUpgrade ModueTag_ArcheryRangeLevel3CommandSet_Override
			TriggeredBy			= Upgrade_GondorArcheryRangeLevel3		
			CommandSet			= GondorArcheryCommandSetLevel3NEW
		End
	End

	ReplaceModule ModuleTag_05
		Body = ActiveBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object GondorStatue
	BuildCost = 1000
	DisplayName = HeroicStatue
	Description = AlliesNearTheStatueGain+25%Damage
	CommandPointBonus = 0
	
	ReplaceModule ModuleTag_FeelGoodHero
		Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero_Override
			EffectRadius			= GONDOR_STATUE_AOE_RADIUS
			PingDelay				= 2000
			ModifierName			= GenericDamageStackLeadershipNEW ;GenericArmorStackLeadership
			; ;AntiCategories			= BUFF
			AllowFilter				= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
	End
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object GondorBattleTower
	BuildCost = 320
	BuildTime = 25
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object GondorWorkshop
	BuildCost = 350
End

Object GondorKeep
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End


;-----------------------------------
Object DwarfBarracks
	CommandSet = EmptyCommandSet ;Prevents players from accidentally killing themselves

	ReplaceModule ModuleTag_05
		Body = ActiveBody ModuleTag_DwarfBarracksHealth
			MaxHealth = 10000
		End
	End
END

Object DwarvenSiegeWorks
	CommandSet          = DwarvenForgeWorksCommandSetNEW
	BuildCost           = GONDOR_WORKSHOP_BUILDCOST

	ReplaceModule ModuleTag_DwarvenForgeWorksLevel2CommandSet
		Behavior = CommandSetUpgrade ModuleTag_DwarvenForgeWorksLevel2CommandSet_Override
			TriggeredBy		= Upgrade_DwarvenForgeWorksLevel2
			ConflictsWith	= Upgrade_DwarvenForgeWorksLevel3
			CommandSet		= DwarvenForgeWorksCommandSetLevel2NEW
		End
	End
	
	ReplaceModule ModuleTag_DwarvenForgeWorksLevel3CommandSet
		Behavior = CommandSetUpgrade ModuleTag_DwarvenForgeWorksLevel3CommandSet_Override
			TriggeredBy		= Upgrade_DwarvenForgeWorksLevel3
			CommandSet		= DwarvenForgeWorksCommandSetLevel3NEW
		End
	End
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object DwarvenStatue
	BuildCost = 500
	DisplayName = HeroicStatue
	Description = AlliesNearTheStatueGain+25%Damage
	CommandPointBonus = 0
	
	ReplaceModule ModuleTag_FeelGoodHero
		Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero_Override
			EffectRadius			= GONDOR_STATUE_AOE_RADIUS
			PingDelay				= 2000
			ModifierName			= GenericDamageStackLeadershipNEW ;GenericArmorStackLeadership
			; ;AntiCategories			= BUFF
			AllowFilter				= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
	End
	
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object DwarvenArcheryRange
	ReplaceModule ModuleTag_05
		Body = ActiveBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

;---------------------------------------------------


;---Mordor/Evil---

Object MordorCatapultHumanHeadsProjectile
	;RemoveModule ModuleTag_05
	ReplaceModule ModuleTag_05
		Behavior = BezierProjectileBehavior ModuleTag_05_Override
			DetonateCallsKill = Yes
			
			FirstHeight = 53;40  ; Height of Bezier control points above highest intervening terrain
			SecondHeight = 53
			FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
			SecondPercentIndent = 80%
			FlightPathAdjustDistPerSecond   = 0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
			PreLandingStateTime = 1000
			;PreLandingEmotion = TERROR
			;PreLandingEmotionRadius = 85.0
			;;DoesntWorkOn09v2Game.dat;;;PreLandingEmotionAffectsAllies = No
			InvisibleFrames = 100;
			FadeInTime = 100;		
		End
	End
End

Object MordorCatapult
	BuildCost = 420
	CommandPoints = 10
End

Object IsengardBallista
	BuildCost = 370
	CommandPoints = 10
End


Object MordorOrcPit
	BuildCost = 300
	BuildTime = 60
	CommandSet = MordorOrcPitCommandSetLevel1NEW
	
	ReplaceModule ModuleTag_MordorOrcPitLevel2
		Behavior = CommandSetUpgrade ModuleTag_MordorOrcPitLevel2_Override
			TriggeredBy		= Upgrade_MordorOrcPitLevel2
			ConflictsWith	= Upgrade_MordorOrcPitLevel3
			CommandSet		= MordorOrcPitCommandSetLevel2NEW
		End
	End
	ReplaceModule ModuleTag_MordorOrcPitLevel3
		Behavior = CommandSetUpgrade ModuleTag_MordorOrcPitLevel3_Override
			TriggeredBy		= Upgrade_MordorOrcPitLevel3
			ConflictsWith	= Upgrade_BuyMordorCrazyOrc
			CommandSet		= MordorOrcPitCommandSetLevel3NEW
		End
	End
	AddModule ModuleTag_MordorOrcPitLevel3HeroBought
		Behavior = CommandSetUpgrade ModuleTag_MordorOrcPitLevel3HeroBought
			TriggeredBy		= Upgrade_BuyMordorCrazyOrc
			CommandSet		= MordorOrcPitCommandSetLevel3HeroBought
		End
	End
	ReplaceModule ModuleTag_05
		Body = ActiveBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
END

Object MordorTavern
	BuildCost = 1000
	BuildTime = 80
	CommandSet = MordorTavernCommandSetLevel1NEW
	
	ReplaceModule ModuleTag_MordorTavernLevel2
		Behavior = CommandSetUpgrade ModuleTag_MordorTavernLevel2_Override
			TriggeredBy		= Upgrade_MordorTavernLevel2
			ConflictsWith	= Upgrade_MordorTavernLevel3
			CommandSet		= MordorTavernCommandSetLevel2NEW
		End
	End
	ReplaceModule ModuleTag_MordorTavernLevel3
		Behavior = CommandSetUpgrade ModuleTag_MordorTavernLevel3_Override
			TriggeredBy		= Upgrade_MordorTavernLevel3
			CommandSet		= MordorTavernCommandSetLevel3NEW
		End
	End
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object MordorHaradrimPalace
	BuildCost = 800
	BuildTime = 30
	CommandSet = MordorHaradrimPalaceCommandSetLevel1NEW
	
	ReplaceModule ModuleTag_MordorHaradrimPalaceLevel2
		Behavior = CommandSetUpgrade ModuleTag_MordorHaradrimPalaceLevel2_Override
			TriggeredBy		= Upgrade_MordorHaradrimPalaceLevel2
			ConflictsWith	= Upgrade_MordorHaradrimPalaceLevel3
			CommandSet		= MordorHaradrimPalaceCommandSetLevel2NEW
		End
	End
	ReplaceModule ModuleTag_MordorHaradrimPalaceLevel3
		Behavior = CommandSetUpgrade ModuleTag_MordorHaradrimPalaceLevel3_Override
			TriggeredBy		= Upgrade_MordorHaradrimPalaceLevel3
			CommandSet		= MordorHaradrimPalaceCommandSetLevel3NEW
		End
	End
	ReplaceModule ModuleTag_05
		Body = ActiveBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object MordorSiegeWorks
	BuildCost = 480
	CommandSet = MordorSiegeWorksCommandSetLevel1NEW
	
	ReplaceModule ModuleTag_MordorSiegeWorksLevel2
		Behavior = CommandSetUpgrade ModuleTag_MordorSiegeWorksLevel2_Override
			TriggeredBy		= Upgrade_MordorSiegeWorksLevel2
			ConflictsWith	= Upgrade_MordorSiegeWorksLevel3
			CommandSet		= MordorSiegeWorksCommandSetLevel2NEW
		End
	End
	ReplaceModule ModuleTag_MordorSiegeWorksLevel3
		Behavior = CommandSetUpgrade ModuleTag_MordorSiegeWorksLevel3_Override
			TriggeredBy		= Upgrade_MordorSiegeWorksLevel3
			CommandSet		= MordorSiegeWorksCommandSetLevel3NEW
		End
	End
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object MordorBattleTower
	BuildCost = 50
	BuildTime = 50
	CommandSet = MordorBattleTowerCommandSetNEW
	RemoveModule ModuleTag_hordeGarrison
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object IsengardBattleTower
	BuildCost = 250
	BuildTime = 40
	CommandSet = IsengardBattleTowerCommandSet
	
	ReplaceModule ModuleTag_HordeGarrison
		Behavior = HordeGarrisonContain ModuleTag_HordeGarrison_Override
			ObjectStatusOfContained			= UNSELECTABLE CAN_ATTACK ENCLOSED
			ContainMax              		= 1 ;2
			DamagePercentToUnits    		= 0%
			PassengerFilter					= GENERIC_FACTION_GARRISONABLE
			AllowEnemiesInside				= No
			AllowAlliesInside				= No
			AllowNeutralInside				= No
			AllowOwnPlayerInsideOverride	= Yes
			NumberOfExitPaths       		= 1											; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
			PassengerBonePrefix     		= PassengerBone:ARROWBONE KindOf:INFANTRY
			EntryPosition					= X:0.0 Y:0.0 Z:0.0
			EntryOffset						= X:-50.0 Y:0.0 Z:0.0
			ExitOffset						= X:-50.0 Y:0.0 Z:0.0
			EnterSound						= RuinedTowerEnterSound
			ShowPips						= No
		End
	End
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

Object WildSentryTower
	BuildCost = 300
	BuildTime = 30
	ReplaceModule ModuleTag_05
		Body = StructureBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged		= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

ChildObject MordorSlaughterHouse SlaughterHouse   ;;;Finns i civilianbuildings.ini
	BuildCost           		= 600 ;MORDOR_SLAUGHTERHOUSE_BUILDCOST 
	BuildTime           		= MORDOR_SLAUGHTERHOUSE_BUILDTIME
	CommandPointBonus = 0

	Behavior = TerrainResourceBehavior ModuleTag_NewMoney
		Radius = MORDOR_SLAUGHTERHOUSE_MONEY_RANGE		; How far we try to claim ground
		MaxIncome = 30 ;MORDOR_SLAUGHTERHOUSE_MONEY_AMOUNT	; If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
		IncomeInterval = 10000 ;6000 ;MORDOR_SLAUGHTERHOUSE_MONEY_TIME 	; How often (in msec) we give that much money
	End
	
	ClientBehavior = TerrainResourceClientBehavior ModuleTag_NewMoneyClient
	End
	ReplaceModule ModuleTag_05
		Body = ActiveBody ModuleTag_05_Override
			MaxHealth				= 99999
			MaxHealthDamaged	  	= 55555
			MaxHealthReallyDamaged	= 22222
		End
	End
End

;------------------------------


;//////////////////FIX SPELLBOOKS///////////////////////
Object WOR_GondorCastleBaseKeep
	SelectPortrait = None
	CommandSet = EmptyCommandSet
	KindOf = STRUCTURE IMMOBILE CASTLE_KEEP COMMANDCENTER ;FS_FACTORY DONT_HIDE_IF_FOGGED DOZER_FACTORY
	KeepSelectableWhenDead	= No
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_02_Override
			MaxHealth			= 99999
		End
	End
	RemoveModule ModuleTag_CommandSetMen
	RemoveModule ModuleTag_CommandSetElven
	RemoveModule ModuleTag_CommandSetDwarven
	RemoveModule ModuleTag_CommandSetMordor
	RemoveModule ModuleTag_CommandSetIsengard
	RemoveModule ModuleTag_CommandSetWild
	RemoveModule ProductionUpdateModuleTag
	RemoveModule ModuleTag_QueuePEU
	RemoveModule ModuleTag_IWantRubble ;IMPORTANT DELETION!!
	RemoveModule AutoDepositModuleTag
	RemoveModule ModuleTag_NewMoneyDeadSpot
	RemoveModule ModuleTag_SlaughterMe
End



